<!DOCTYPE html>
<html lang="ka">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>·Éó·Éî·É†·Éê·Éû·Éò·É£·Éö·Éò ·Éê·É°·Éò·É°·É¢·Éî·Éú·É¢·Éò - ·Éõ·Éù·É¢·Éò·Éï·Éê·É™·Éò·Éî·Éë·Éò·Éó</title>
    
    <!-- PWA Meta Tags -->
    <link rel="manifest" href="manifest.json">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="·Éó·Éî·É†·Éê·Éû·Éò·Éê">
    <meta name="theme-color" content="#6366a3">
    <link rel="apple-touch-icon" href="icon-192.png">
    
    <style>
        /* 
         * ===== ·É´·Éò·É†·Éò·Éó·Éê·Éì·Éò ·É§·Éî·É†·Éò =====
         * PRIMARY_COLOR (·É¶·Éò·Éö·Éê·Éô·Éî·Éë·Éò·É°·Éó·Éï·Éò·É° - ·É§·Éò·É†·É£·Éñ·Éò·É°·É§·Éî·É†·Éò-·Éò·Éê·É°·Éê·Éõ·Éú·Éò·É°·É§·Éî·É†·Éò):
         * background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%);
         * 
         * ·Éî·É° ·É§·Éî·É†·Éò ·Éí·Éê·Éõ·Éù·Éò·Éß·Éî·Éú·Éî·Éë·Éê ·≤ß·≤ï·≤î·≤ö·≤ê ·É¶·Éò·Éö·Éê·Éô·Éò·É°·Éó·Éï·Éò·É°!
         */
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        html {
            height: 100%;
            overflow: hidden; /* Prevent scroll on html */
        }
        
        /* iOS Safe Area Support */
        :root {
            --safe-area-top: env(safe-area-inset-top, 0px);
            --safe-area-bottom: env(safe-area-inset-bottom, 0px);
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #6366a3; /* Solid color for safe areas */
            height: 100%;
            overflow: hidden; /* Prevent scroll on body */
            position: fixed; /* Lock body position */
            width: 100%;
            margin: 0;
            padding: 0;
            padding-top: calc(44px + var(--safe-area-top)); /* Just status bar height */
        }
        
        /* Fixed Status Bar Area */
        .fixed-status-bar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: calc(44px + var(--safe-area-top));
            background: #6366a3;
            z-index: 1000;
            display: flex;
            align-items: flex-end;
            padding: 0 15px 8px 15px;
            padding-top: var(--safe-area-top);
        }
        
        /* ·É£·Éô·Éê·Éú ·É¶·Éò·Éö·Éê·Éô·Éò */
        .back-button {
            color: white;
            font-size: 24px; /* Bigger arrow */
            font-weight: 400;
            cursor: pointer;
            display: none; /* Hidden by default */
            align-items: center;
            padding: 5px;
            transition: opacity 0.2s;
        }
        
        .back-button.visible {
            display: flex;
        }
        
        .back-button:active {
            opacity: 0.6;
            transform: scale(0.95);
        }
        .container {
            width: 100%;
            max-width: 100%;
            margin: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            height: calc(100vh - 44px - var(--safe-area-top) - 80px - var(--safe-area-bottom));
            overflow-y: auto; /* Allow scroll for other pages */
            overflow-x: hidden;
            padding: 10px 20px 20px 20px; /* Slightly more top: 10px */
            -webkit-overflow-scrolling: touch;
        }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 8px 30px; /* Reduced from 15px */
            text-align: center;
            position: relative;
        }
        .logout-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(255,255,255,0.2);
            color: white;
            border: 1px solid rgba(255,255,255,0.4);
            padding: 8px 15px;
            border-radius: 8px;
            font-size: 13px;
            cursor: pointer;
            font-weight: 600;
        }
        .logout-btn:hover {
            background: rgba(255,255,255,0.3);
        }
        .header h1 { 
            font-size: 18px; 
            margin-bottom: 3px;
            font-weight: 600;
        }
        .header p {
            font-size: 12px;
            opacity: 0.85;
        }
        .content { 
            padding: 8px 12px; /* Reduced top padding */
            padding-bottom: calc(80px + var(--safe-area-bottom)); /* Space for bottom nav */
        }
        
        /* Bottom Navigation */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: calc(80px + var(--safe-area-bottom)); /* Taller for spacing */
            background: #6366a3;
            display: none; /* Hidden by default */
            justify-content: space-around;
            align-items: flex-start; /* Align to top */
            padding-top: 3px; /* Less space at top - icons closer to border */
            padding-bottom: var(--safe-area-bottom);
            z-index: 999;
            border-top: 1px solid rgba(255, 255, 255, 0.15);
        }
        
        .bottom-nav.visible {
            display: flex;
        }
        
        .bottom-nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start; /* Start from top */
            flex: 1;
            padding: 2px 5px 12px 5px; /* Less top, more bottom */
            cursor: pointer;
            transition: all 0.3s;
            border: none;
            background: none;
            color: rgba(255, 255, 255, 0.7);
            max-width: 80px;
        }
        
        .bottom-nav-item:active {
            transform: scale(0.9);
        }
        
        .bottom-nav-item.active {
            color: white;
        }
        
        .bottom-nav-item.active .bottom-nav-icon {
            transform: scale(1.1);
        }
        
        .bottom-nav-icon {
            font-size: 26px;
            margin-bottom: 2px; /* Reduced from 4px */
            transition: transform 0.2s;
        }
        
        .bottom-nav-label {
            font-size: 10px;
            font-weight: 600;
            text-align: center;
            line-height: 1.2;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 100%;
        }
        
        .section { display: none; }
        .section.active { display: block; }
        
        /* Dashboard - no scroll, fixed height */
        #dashboardSection {
            overflow: hidden !important;
            height: calc(100vh - 44px - var(--safe-area-top) - 80px - var(--safe-area-bottom));
            position: relative;
            overscroll-behavior: none;
            touch-action: none; /* Disable all touch gestures */
        }
        
        #dashboardSection .content {
            overflow: hidden !important;
            height: 100%;
            touch-action: none;
        }
        .section.active { display: block; }
        .form-group { margin-bottom: 20px; }
        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 500;
        }
        .form-group input,
        .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 16px;
        }
        .btn {
            width: 100%;
            padding: 12px;
            border: none;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 10px;
        }
        .btn-primary {
            background: #7880c5;
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.25);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.25), inset 0 -3px 6px rgba(0, 0, 0, 0.2), inset 0 3px 6px rgba(255, 255, 255, 0.15);
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(139, 92, 246, 0.4);
        }
        .btn-teal {
            background: #14b8a6;
            color: white;
        }
        .btn-teal:hover {
            background: #0d9488;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(20, 184, 166, 0.4);
        }
        .btn-secondary {
            background: #e5e7eb;
            color: #666;
            border: 2px solid #d1d5db;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15), inset 0 -2px 4px rgba(0, 0, 0, 0.1), inset 0 2px 4px rgba(255, 255, 255, 0.5);
        }
        .btn-yes { background: #7880c5 !important; color: white; border: 2px solid rgba(255, 255, 255, 0.25) !important; box-shadow: 0 6px 12px rgba(0, 0, 0, 0.25), inset 0 -3px 6px rgba(0, 0, 0, 0.2), inset 0 3px 6px rgba(255, 255, 255, 0.15) !important; }
        .btn-no { background: #7880c5 !important; color: white; border: 2px solid rgba(255, 255, 255, 0.25) !important; box-shadow: 0 6px 12px rgba(0, 0, 0, 0.25), inset 0 -3px 6px rgba(0, 0, 0, 0.2), inset 0 3px 6px rgba(255, 255, 255, 0.15) !important; }
        .btn-logout { background: #ef4444; color: white; }
        .message {
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 15px;
            display: none;
        }
        .error { background: #fee; color: #c33; }
        .success { background: #e3f2fd; color: #1976d2; border: 1px solid #90caf9; }
        .streak-display {
            text-align: center;
            padding: 30px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 15px;
            color: white;
            margin-bottom: 30px;
        }
        .streak-number { font-size: 64px; font-weight: bold; }
        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 30px;
        }
        .stat-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
        }
        .stat-value {
            font-size: 32px;
            font-weight: bold;
            color: #667eea;
        }
        .check-in-section {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 30px;
        }
        .check-in-buttons {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        .btn-yes, .btn-no { flex: 1; }
        .milestone {
            padding: 12px;
            background: #f8f9fa;
            border-radius: 10px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }
        .milestone.achieved {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
        }
        .milestone-icon {
            font-size: 32px;
            margin-right: 15px;
        }
        .profile-section {
            margin-top: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 15px;
        }
        .profile-info { margin-bottom: 15px; }
        .congrats {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 20px;
            display: none;
        }
        .congrats.show { display: block; }
        .calendar { margin: 30px 0; }
        .calendar h3 {
            text-align: center;
            margin-bottom: 15px;
            color: #333;
        }
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
            max-width: 800px;
            margin: 0 auto;
        }
        .day-dot {
            aspect-ratio: 1;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            font-weight: 600;
            min-width: 35px;
        }
        .day-dot.sober { background: #10b981; color: white; }
        .day-dot.relapse { background: #ef4444; color: white; }
        .day-dot.empty { background: #e5e7eb; color: #9ca3af; }
        .day-dot.today { box-shadow: 0 0 0 3px #667eea; }
        
        /* Motivations styles */
        .step-indicator {
            text-align: center;
            margin-bottom: 20px;
            color: #666;
            font-size: 14px;
            font-weight: 600;
        }
        .motivation-item {
            padding: 12px;
            background: #f8f9fa;
            border-radius: 10px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
            -webkit-tap-highlight-color: transparent;
            user-select: none;
        }
        .motivation-item:hover { background: #e9ecef; }
        .motivation-item:active { background: #dee2e6; }
        .motivation-item.selected {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: #667eea;
        }
        .motivation-item label {
            cursor: pointer;
            display: flex;
            align-items: flex-start;
            margin: 0;
            width: 100%;
            pointer-events: none;
        }
        .motivation-item input[type="checkbox"] {
            margin-right: 10px;
            margin-top: 3px;
            width: 20px;
            height: 20px;
            flex-shrink: 0;
            pointer-events: auto;
        }
        .custom-motivation-box {
            margin-top: 20px;
            padding: 12px;
            background: #fff3cd;
            border-radius: 10px;
            border-left: 4px solid #ffc107;
        }
        .custom-motivation-box h4 {
            margin-bottom: 10px;
            font-size: 14px;
            color: #856404;
        }
        .recovery-motivation-item {
            padding: 12px;
            background: #e7f3ff;
            border-radius: 8px;
            margin-bottom: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-left: 3px solid #667eea;
        }
        .delete-btn {
            background: #ef4444;
            color: white;
            border: none;
            padding: 5px 12px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 12px;
            font-weight: 600;
        }
        .motivation-card {
            background: #f8f9fa;
            padding: 12px;
            border-radius: 10px;
            margin-bottom: 15px;
            border-left: 4px solid #667eea;
        }
        .motivation-card-header {
            font-weight: 600;
            color: #333;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .motivation-detail {
            margin-top: 10px;
            padding: 10px;
            background: white;
            border-radius: 6px;
        }
        .motivation-detail-label {
            font-size: 12px;
            font-weight: 600;
            margin-bottom: 5px;
        }
        .motivation-detail-negative { color: #ef4444; }
        .motivation-detail-positive { color: #10b981; }
        @media (max-width: 800px) {
            .stats-grid { grid-template-columns: 1fr; }
        }
        .recovery-checkbox.checked {
            background: #e7f3ff !important;
            border-color: #10b981 !important;
        }
        .recovery-checkbox:hover {
            background: #e9ecef !important;
        }
        
        /* New Dashboard Styles */
        .results-button {
            background: #7880c5;
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.25);
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 12px;
            box-shadow: 
                0 6px 12px rgba(0, 0, 0, 0.25),
                inset 0 -3px 6px rgba(0, 0, 0, 0.2),
                inset 0 3px 6px rgba(255, 255, 255, 0.15);
            cursor: pointer;
            width: 100%;
            transition: all 0.3s;
            text-align: left;
            font-family: inherit;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: relative;
        }
        .results-button:hover {
            transform: translateY(-1px);
            box-shadow: 
                0 8px 16px rgba(0, 0, 0, 0.3),
                inset 0 -3px 6px rgba(0, 0, 0, 0.2),
                inset 0 3px 6px rgba(255, 255, 255, 0.2);
        }
        .results-button:active {
            transform: translateY(1px);
            box-shadow: 
                0 3px 8px rgba(0, 0, 0, 0.2),
                inset 0 -2px 4px rgba(0, 0, 0, 0.15),
                inset 0 2px 4px rgba(255, 255, 255, 0.1);
        }
        .results-content {
            flex: 1;
            text-align: center;
        }
        .results-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 5px;
            text-align: center;
        }
        .results-days {
            font-size: 32px;
            font-weight: bold;
            text-align: center;
        }
        .results-arrow {
            font-size: 24px;
            opacity: 0.8;
        }
        .sos-button {
            background: #7880c5;
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.25);
            border-radius: 16px;
            padding: 20px;
            font-size: 20px;
            font-weight: bold;
            cursor: pointer;
            width: 100%;
            margin-bottom: 12px;
            box-shadow: 
                0 6px 12px rgba(0, 0, 0, 0.25),
                inset 0 -3px 6px rgba(0, 0, 0, 0.2),
                inset 0 3px 6px rgba(255, 255, 255, 0.15);
            transition: all 0.3s;
            text-align: center;
            position: relative;
        }
        .sos-button:hover {
            transform: translateY(-1px);
            box-shadow: 
                0 8px 16px rgba(0, 0, 0, 0.3),
                inset 0 -3px 6px rgba(0, 0, 0, 0.2),
                inset 0 3px 6px rgba(255, 255, 255, 0.2);
        }
        .sos-button:active {
            transform: translateY(1px);
            box-shadow: 
                0 3px 8px rgba(0, 0, 0, 0.2),
                inset 0 -2px 4px rgba(0, 0, 0, 0.15),
                inset 0 2px 4px rgba(255, 255, 255, 0.1);
        }
        
        /* Motivation buttons - same style as SOS */
        .motivation-btn {
            background: #7880c5;
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.25);
            border-radius: 16px;
            padding: 20px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            width: 100%;
            margin-bottom: 12px;
            box-shadow: 
                0 6px 12px rgba(0, 0, 0, 0.25),
                inset 0 -3px 6px rgba(0, 0, 0, 0.2),
                inset 0 3px 6px rgba(255, 255, 255, 0.15);
            transition: all 0.3s;
            text-align: center;
            font-family: inherit;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .motivation-btn:hover:not(:disabled) {
            transform: translateY(-1px);
            box-shadow: 
                0 8px 16px rgba(0, 0, 0, 0.3),
                inset 0 -3px 6px rgba(0, 0, 0, 0.2),
                inset 0 3px 6px rgba(255, 255, 255, 0.2);
        }
        .motivation-btn:active {
            transform: translateY(1px);
            box-shadow: 
                0 3px 8px rgba(0, 0, 0, 0.2),
                inset 0 -2px 4px rgba(0, 0, 0, 0.15),
                inset 0 2px 4px rgba(255, 255, 255, 0.1);
        }
        
        .grid-section {
            background: white;
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            max-width: 800px;
            margin: 0 auto;
        }
        .grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        .grid-item {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 16px;
            padding: 18px 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
            border: none;
            font-family: inherit;
            height: 115px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }
        .grid-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }
        .grid-icon {
            font-size: 28px;
            margin-bottom: 6px;
        }
        .grid-title {
            font-size: 13px;
            font-weight: bold;
            line-height: 1.1;
        }
        .grid-item.disabled {
            background: #e0e0e0;
            color: #999;
            cursor: not-allowed;
        }
        .grid-item.disabled:hover {
            transform: none;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        .coming-soon {
            font-size: 9px;
            opacity: 0.7;
            position: absolute;
            bottom: 6px;
            left: 0;
            right: 0;
        }
        .tab-button {
            padding: 10px 24px 10px 16px;
            border: 2px solid #a78bfa;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 20px;
            font-size: 14px;
            cursor: pointer;
            white-space: nowrap;
            transition: all 0.3s;
            min-width: 160px;
            text-align: left;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2), inset 0 -2px 4px rgba(0, 0, 0, 0.15), inset 0 2px 4px rgba(255, 255, 255, 0.2);
        }
        .tab-button.active {
            background: linear-gradient(135deg, #FCD34D 0%, #F59E0B 100%);
            color: #78350F;
            border-color: #F59E0B;
            font-weight: 600;
            box-shadow: 0 4px 8px rgba(245, 158, 11, 0.3), inset 0 -2px 4px rgba(0, 0, 0, 0.1), inset 0 2px 4px rgba(255, 255, 255, 0.4);
        }
        .tab-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.25), inset 0 -2px 4px rgba(0, 0, 0, 0.15), inset 0 2px 4px rgba(255, 255, 255, 0.2);
        }
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 20px;
        }
        .modal-overlay.active {
            display: flex;
        }
        .modal-content {
            background: white;
            border-radius: 20px;
            padding: 25px;
            max-width: 800px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
        }
        .modal-title {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 20px;
            color: #333;
        }
        .modal-btn {
            padding: 12px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            font-family: inherit;
            width: 100%;
        }
        .modal-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 20px;
        }
        .btn-close {
            background: #667eea;
            color: white;
            margin-top: 20px;
        }
        .congrats-box {
            background: #10b981;
            color: white;
            padding: 25px;
            border-radius: 16px;
            margin: 20px 0;
            font-size: 18px;
            line-height: 1.6;
        }
        .relapse-box {
            background: #667eea;
            color: white;
            padding: 25px;
            border-radius: 16px;
            margin: 20px 0;
            font-size: 18px;
            line-height: 1.6;
        }
        .streak-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            border-radius: 16px;
            margin-bottom: 20px;
            text-align: center;
        }
        .streak-big {
            font-size: 72px;
            font-weight: bold;
        }
        .streak-label {
            font-size: 18px;
            margin-top: 10px;
        }
        .calendar-section {
            margin-top: 20px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 12px;
        }
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
            max-width: 800px;
            margin: 0 auto;
        }
        .calendar-day {
            aspect-ratio: 1;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            font-weight: 600;
            min-width: 35px;
            background: #e5e7eb;
            color: #9ca3af;
        }
        .calendar-day.success {
            background: #10b981;
            color: white;
        }
        .calendar-day.today {
            box-shadow: 0 0 0 3px #667eea;
        }
        .milestone {
            background: #f8f9fa;
            padding: 15px 20px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        .milestone-icon {
            font-size: 28px;
        }
        .milestone-label {
            font-size: 16px;
            font-weight: 600;
            color: #333;
        }
        .milestone.achieved {
            background: #10b981;
            color: white;
        }
        .milestone.achieved .milestone-label {
            color: white;
        }
        .milestone.next {
            background: #f8f9fa;
            border: 2px dashed #999;
        }
        .milestone.next .milestone-label {
            color: #666;
        }
        
        /* === COPING MECHANISMS STYLES === */
        
        /* Main menu buttons */
        .menu-card {
            background: #7880c5;
            color: white;
            padding: 20px;
            border: 2px solid rgba(255, 255, 255, 0.25);
            border-radius: 12px;
            margin-bottom: 20px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 
                0 6px 12px rgba(0, 0, 0, 0.25),
                inset 0 -3px 6px rgba(0, 0, 0, 0.2),
                inset 0 3px 6px rgba(255, 255, 255, 0.15);
        }
        .menu-card:hover {
            transform: translateY(-1px);
            box-shadow: 
                0 8px 16px rgba(0, 0, 0, 0.3),
                inset 0 -3px 6px rgba(0, 0, 0, 0.2),
                inset 0 3px 6px rgba(255, 255, 255, 0.2);
        }
        .menu-card:active {
            transform: translateY(1px);
            box-shadow: 
                0 3px 8px rgba(0, 0, 0, 0.2),
                inset 0 -2px 4px rgba(0, 0, 0, 0.15),
                inset 0 2px 4px rgba(255, 255, 255, 0.1);
        }
        .menu-card-title {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 8px;
        }
        .menu-card-desc {
            font-size: 14px;
            opacity: 0.9;
        }
        
        /* Wave section */
        .wave-title {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 12px 12px 0 0;
            text-align: center;
            font-size: 22px;
            font-weight: bold;
        }
        .wave-text {
            background: #e3f2fd;
            padding: 25px;
            border-radius: 0 0 12px 12px;
            line-height: 1.8;
            color: #333;
            margin-bottom: 30px;
        }
        .wave-text p {
            margin-bottom: 15px;
        }
        .wave-text p:last-child {
            margin-bottom: 0;
        }
        
        /* SOS Modal Standard Size */
        .sos-modal-container {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            max-width: 800px;
            width: calc(100% - 40px);
            height: 75vh;
            max-height: 75vh;
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        
        @media (max-width: 600px) {
            .sos-modal-container {
                height: 80vh;
                max-height: 80vh;
            }
        }
        
        .divider {
            height: 2px;
            background: linear-gradient(90deg, transparent, #667eea, transparent);
            margin: 30px 0;
        }
        
        /* Mechanisms */
        .mechanism-item {
            background: #f8f9fa;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 12px;
            border-left: 4px solid #667eea;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .mechanism-item:hover {
            background: #e8ecff;
        }
        .mechanism-item.selected {
            background: #e8f5e9;
            border-left-color: #10b981;
        }
        .mechanism-checkbox {
            width: 24px;
            height: 24px;
            border: 2px solid #667eea;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            flex-shrink: 0;
        }
        .mechanism-item.selected .mechanism-checkbox {
            background: #10b981;
            border-color: #10b981;
            color: white;
        }
        .mechanism-icon {
            font-size: 24px;
            flex-shrink: 0;
        }
        .mechanism-text {
            flex: 1;
            color: #333;
            line-height: 1.6;
        }
        
        /* Thoughts */
        .thought-card {
            background: #f8f9fa;
            padding: 12px;
            border-radius: 8px;
            border-left: 4px solid #667eea;
            margin-bottom: 15px;
            cursor: pointer;
            transition: all 0.2s;
        }
        .thought-card:hover { background: #e8ecff; }
        .thought-card-header {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .status-icon { font-size: 20px; }
        .thought-text { 
            flex: 1;
            font-weight: 600;
            color: #333;
        }
        .status-text {
            font-size: 12px;
            margin-top: 4px;
        }
        .filled { color: #10b981; }
        .empty { color: #999; }
        .arrow { color: #667eea; }
    </style>
</head>
<body>
    <!-- Fixed Status Bar -->
    <div class="fixed-status-bar">
        <div class="back-button" id="backButton" onclick="goBack()">
            &lt;
        </div>
    </div>
    
    <div class="container">
        <div class="header">
            <h1>üåü ·Éó·Éî·É†·Éê·Éû·Éò·É£·Éö·Éò ·Éê·É°·Éò·É°·É¢·Éî·Éú·É¢·Éò</h1>
            <p>·É®·Éî·Éú·Éò ·Éí·Éñ·Éê ·ÉØ·Éê·Éú·É°·Éê·É¶·Éò ·É™·ÉÆ·Éù·Éï·É†·Éî·Éë·Éò·É°·Éô·Éî·Éú</p>
        </div>

        <div class="content">
            <!-- Login -->
            <div id="loginSection" class="section active">
                <h2 style="margin-bottom: 20px;">·É®·Éî·É°·Éï·Éö·Éê</h2>
                <div id="loginError" class="message error"></div>
                <div class="form-group">
                    <label>·Éî·Éö. ·É§·Éù·É°·É¢·Éê</label>
                    <input type="email" id="loginEmail">
                </div>
                <div class="form-group">
                    <label>·Éû·Éê·É†·Éù·Éö·Éò</label>
                    <input type="password" id="loginPassword">
                </div>
                <button class="btn btn-primary" onclick="handleLogin()">·É®·Éî·É°·Éï·Éö·Éê</button>
                <button class="btn btn-secondary" onclick="showSection('register')">·É†·Éî·Éí·Éò·É°·É¢·É†·Éê·É™·Éò·Éê</button>
            </div>

            <!-- Register -->
            <div id="registerSection" class="section">
                <h2 style="margin-bottom: 20px;">·É†·Éî·Éí·Éò·É°·É¢·É†·Éê·É™·Éò·Éê</h2>
                <div id="registerError" class="message error"></div>
                <div id="registerSuccess" class="message success"></div>
                <div class="form-group">
                    <label>·É°·Éê·ÉÆ·Éî·Éö·Éò</label>
                    <input type="text" id="registerName">
                </div>
                <div class="form-group">
                    <label>·Éî·Éö. ·É§·Éù·É°·É¢·Éê</label>
                    <input type="email" id="registerEmail">
                </div>
                <div class="form-group">
                    <label>·Éû·Éê·É†·Éù·Éö·Éò</label>
                    <input type="password" id="registerPassword">
                </div>
                <button class="btn btn-primary" onclick="handleRegister()">·É†·Éî·Éí·Éò·É°·É¢·É†·Éê·É™·Éò·Éê</button>
                <button class="btn btn-secondary" onclick="showSection('login')">·É®·Éî·É°·Éï·Éö·Éê</button>
            </div>

            <!-- Setup -->
            <div id="setupSection" class="section">
                <h2 style="margin-bottom: 20px;">·Éû·É†·Éù·É§·Éò·Éö·Éò·É° ·É®·Éî·Éï·É°·Éî·Éë·Éê</h2>
                <p style="margin-bottom: 20px; color: #666;">·Éì·Éê·Éõ·Éù·Éô·Éò·Éì·Éî·Éë·É£·Éö·Éî·Éë·Éò·É° ·Éõ·Éù·Éì·É£·Éö·Éò·É°·Éó·Éï·Éò·É°</p>
                
                <div class="form-group">
                    <label>·Éì·Éê·Éõ·Éù·Éô·Éò·Éì·Éî·Éë·É£·Éö·Éî·Éë·Éò·É° ·É¢·Éò·Éû·Éò</label>
                    <select id="addictionType">
                        <option value="">·Éê·Éò·É†·É©·Éò·Éî·Éó...</option>
                        <option value="·Éê·Éö·Éô·Éù·É∞·Éù·Éö·Éò">·Éê·Éö·Éô·Éù·É∞·Éù·Éö·Éò</option>
                        <option value="·Éú·Éê·É†·Éô·Éù·É¢·Éò·Éô·Éî·Éë·Éò">·Éú·Éê·É†·Éô·Éù·É¢·Éò·Éô·Éî·Éë·Éò</option>
                        <option value="·É°·ÉÆ·Éï·Éê">·É°·ÉÆ·Éï·Éê</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>·Éë·Éù·Éö·Éù ·Éõ·Éù·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê</label>
                    <input type="date" id="lastUseDate">
                </div>
                <button class="btn btn-primary" onclick="finishSimpleSetup()">·Éì·Éê·É°·É†·É£·Éö·Éî·Éë·Éê ‚úì</button>
                <!-- <button class="btn btn-secondary" onclick="skipSetup()">·Éí·Éê·Éõ·Éù·É¢·Éù·Éï·Éî·Éë·Éê</button> -->
            </div>

            <!-- Dashboard -->
            <div id="dashboardSection" class="section">
                <!-- Results Button -->
                <button class="results-button" onclick="showFullResultsDirect()">
                    <div class="results-content">
                        <div class="results-title">·É©·Éî·Éõ·Éò ·É®·Éî·Éì·Éî·Éí·Éî·Éë·Éò</div>
                        <div class="results-days" id="dashboardStreakDisplay">üî• 0 ·Éì·É¶·Éî</div>
                    </div>
                </button>
                
                <!-- SOS Button -->
                <button class="sos-button" onclick="showSOS()">
                    üÜò ·Éí·É≠·Éò·É†·Éì·Éî·Éë·Éê ·Éì·Éê·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê?
                </button>
                
                <!-- Grid Section -->
                <div class="grid-section">
                    <div class="grid">
                        <button class="grid-item" onclick="showMotivations()">
                            <div class="grid-icon">üí≠</div>
                            <div class="grid-title">·É©·Éî·Éõ·Éò<br>·Éõ·Éù·É¢·Éò·Éï·Éê·É™·Éò·Éî·Éë·Éò</div>
                        </button>
                        
                        <button class="grid-item" onclick="showCoping()">
                            <div class="grid-icon">üß†</div>
                            <div class="grid-title">·Éí·Éê·Éõ·Éô·Éö·Éê·Éï·Éî·Éë·Éò·É°<br>·Éõ·Éî·É•·Éê·Éú·Éò·Éñ·Éõ·Éî·Éë·Éò</div>
                        </button>
                        
                        <button class="grid-item" onclick="showContact()">
                            <div class="grid-icon">üìù</div>
                            <div class="grid-title">·Éô·Éù·Éú·É¢·Éê·É•·É¢·Éò</div>
                            <span id="contactBadge" style="display: none; position: absolute; top: 8px; right: 8px; background: #ef4444; color: white; border-radius: 50%; width: 20px; height: 20px; font-size: 12px; font-weight: bold; display: flex; align-items: center; justify-content: center;">!</span>
                        </button>
                        
                        <button class="grid-item" onclick="showMyGoals()">
                            <div class="grid-icon">üéØ</div>
                            <div class="grid-title">·É©·Éî·Éõ·Éò<br>·Éõ·Éò·Éñ·Éú·Éî·Éë·Éò</div>
                        </button>
                        
                        <button class="grid-item" onclick="showMySpace()">
                            <div class="grid-icon">‚ú®</div>
                            <div class="grid-title">·É©·Éî·Éõ·Éò<br>·É°·Éò·Éï·É†·É™·Éî</div>
                        </button>
                        
                        <button class="grid-item" onclick="showPsychoEducation()">
                            <div class="grid-icon">üéì</div>
                            <div class="grid-title">·É§·É°·Éò·É•·Éù·Éí·Éê·Éú·Éê·Éó·Éö·Éî·Éë·Éê</div>
                            <div style="font-size: 11px; color: rgba(255,255,255,0.7); margin-top: 4px;">·Éõ·Éê·Éö·Éî</div>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Message Modal (Success) -->
            <div id="messageModal" class="modal-overlay">
                <div class="modal-content">
                    <div class="congrats-box">
                        üéâ ·Éí·Éò·Éö·Éù·É™·Éê·Éï! ·Éô·Éò·Éì·Éî·Éï ·Éî·É†·Éó·Éò ·É¨·Éê·É†·Éõ·Éê·É¢·Éî·Éë·É£·Éö·Éò ·Éú·Éê·Éë·Éò·ÉØ·Éò ·Éê·Éõ ·É¶·Éò·É†·É°·Éî·É£·Éö ·Éí·Éñ·Éê·Éñ·Éî! üî•
                    </div>
                    
                    <button class="modal-btn btn-close" onclick="showFullResults(true)">·Éì·Éê·ÉÆ·É£·É†·Éï·Éê</button>
                </div>
            </div>

            <!-- Message Modal (Relapse) -->
            <div id="relapseMessageModal" class="modal-overlay">
                <div class="modal-content">
                    <div class="relapse-box">
                        üí™ ·É©·Éê·Éï·Éê·É†·Éì·Éú·Éê ·Éê·É† ·Éú·Éò·É®·Éú·Éê·Éï·É° ·É†·Éî·É™·Éò·Éì·Éò·Éï·É°. ·Éí·Éê·Éõ·Éê·Éí·É†·Éì·Éò! ·Éí·É≠·Éò·É†·Éì·Éî·Éë·Éê ·É°·Éê·Éô·É£·Éó·Éê·É†·Éò ·Éó·Éê·Éï·Éò·É° ·Éí·Éê·É´·Éö·Éò·Éî·É†·Éî·Éë·Éê!
                    </div>
                    
                    <button class="modal-btn btn-close" onclick="showFullResults(false)">·Éì·Éê·ÉÆ·É£·É†·Éï·Éê</button>
                </div>
            </div>

            <!-- Full Results Modal -->
            <div id="fullResultsModal" class="modal-overlay">
                <div class="modal-content" style="padding: 0; overflow: hidden; max-width: 95%; width: 95%; max-height: 82vh; height: 82vh; margin: 7.5vh auto 10.5vh auto; border-radius: 20px; position: relative;">
                    <!-- Close button -->
                    <button onclick="closeFullResults()" style="position: absolute; top: 8px; right: 8px; z-index: 10; background: rgba(0,0,0,0.5); border: 2px solid white; color: white; width: 40px; height: 40px; border-radius: 50%; font-size: 30px; font-weight: bold; cursor: pointer; display: flex; align-items: center; justify-content: center; box-shadow: 0 3px 10px rgba(0,0,0,0.5);">√ó</button>
                    
                    <!-- Swipeable container -->
                    <div id="resultsSwipeContainer" style="display: flex; transition: transform 0.3s ease; width: 600%; touch-action: pan-y; height: calc(100% - 60px);">
                        
                        <!-- Page 1: Streak -->
                        <div class="results-page" style="width: 16.666%; flex-shrink: 0; padding: 40px 20px; display: flex; flex-direction: column; align-items: center; justify-content: center;">
                            <div style="font-size: 100px; margin-bottom: 20px;">üî•</div>
                            <div class="streak-big" id="fullResultsStreakDisplay" style="font-size: 96px; font-weight: bold; color: #667eea; margin-bottom: 10px;">0</div>
                            <div style="font-size: 32px; color: #666; font-weight: 500;">·Éì·É¶·Éî</div>
                        </div>
                        
                        <!-- Page 2: Milestones -->
                        <div class="results-page" style="width: 16.666%; flex-shrink: 0; padding: 40px 20px; display: flex; flex-direction: column;">
                            <h3 style="color: #333; margin-bottom: 25px; font-size: 28px; text-align: center;">üèÜ ·Éõ·Éò·É¶·É¨·Éî·Éï·Éî·Éë·Éò</h3>
                            <div id="milestonesContainer" style="display: flex; flex-direction: column; gap: 15px; overflow-y: auto; padding: 10px; flex: 1;">
                                <!-- Milestones will be generated by JS -->
                            </div>
                        </div>
                        
                        <!-- Page 3: Calendar -->
                        <div class="results-page" style="width: 16.666%; flex-shrink: 0; padding: 40px 20px; display: flex; flex-direction: column; align-items: center; justify-content: center;">
                            <div style="text-align: center; margin-bottom: 20px;">
                                <h3 style="margin: 0 0 15px 0; color: #333; font-size: 28px;">üìÖ ·Éë·Éù·Éö·Éù 28 ·Éì·É¶·Éî</h3>
                                <div class="calendar-grid" id="calendarFull" style="display: grid; grid-template-columns: repeat(7, 1fr); gap: 10px; max-width: 420px; width: 100%;">
                                    <!-- Calendar will be generated by JS -->
                                </div>
                            </div>
                        </div>
                        
                        <!-- Page 4: Badges -->
                        <div class="results-page" style="width: 16.666%; flex-shrink: 0; padding: 40px 20px; display: flex; flex-direction: column;">
                            <div id="badgesPageContent">
                                <!-- Will be filled by JS -->
                            </div>
                        </div>
                        
                        <!-- Page 5: Savings -->
                        <div class="results-page" style="width: 16.666%; flex-shrink: 0; padding: 20px; display: flex; flex-direction: column;">
                            <h3 style="color: #333; margin-bottom: 25px; font-size: 28px; text-align: center;">üí∞ ·Éì·Éê·Éú·Éê·Éñ·Éù·Éí·Éò</h3>
                            <div id="resultsSavingsContent" style="flex: 1; overflow-y: auto;">
                                <!-- Will be filled by JS -->
                            </div>
                        </div>
                        
                        <!-- Page 6: Willpower -->
                        <div class="results-page" style="width: 16.666%; flex-shrink: 0; padding: 20px; display: flex; flex-direction: column; overflow-y: auto;">
                            <h3 style="color: #333; margin-bottom: 25px; font-size: 28px; text-align: center;">üí™ ·Éú·Éî·Éë·Éò·É° ·É´·Éê·Éö·Éê</h3>
                            <div id="resultsWillpowerContent" style="flex: 1; overflow-y: auto;">
                                <!-- Will be filled by JS -->
                            </div>
                        </div>
                        
                    </div>
                    
                    <!-- Page indicators -->
                    <div style="display: flex; justify-content: center; gap: 12px; padding: 20px; background: white; height: 60px; align-items: center;">
                        <div class="page-dot" data-page="0" style="width: 12px; height: 12px; border-radius: 50%; background: #667eea; cursor: pointer; transition: all 0.3s;"></div>
                        <div class="page-dot" data-page="1" style="width: 12px; height: 12px; border-radius: 50%; background: #d1d5db; cursor: pointer; transition: all 0.3s;"></div>
                        <div class="page-dot" data-page="2" style="width: 12px; height: 12px; border-radius: 50%; background: #d1d5db; cursor: pointer; transition: all 0.3s;"></div>
                        <div class="page-dot" data-page="3" style="width: 12px; height: 12px; border-radius: 50%; background: #d1d5db; cursor: pointer; transition: all 0.3s;"></div>
                        <div class="page-dot" data-page="4" style="width: 12px; height: 12px; border-radius: 50%; background: #d1d5db; cursor: pointer; transition: all 0.3s;"></div>
                        <div class="page-dot" data-page="5" style="width: 12px; height: 12px; border-radius: 50%; background: #d1d5db; cursor: pointer; transition: all 0.3s;"></div>
                    </div>
                </div>
            </div>

            <!-- SOS Section -->
            <div id="sosSection" class="section" style="display: none;">
            </div>
            
            <!-- SOS New Thought Modal -->
            <div id="sosNewThoughtModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; overflow-y: auto;">
                <div style="background: white; max-width: 800px; margin: 30px auto; border-radius: 12px; padding: 40px 20px; min-height: 650px; display: flex; flex-direction: column;">
                    <h2 style="color: #10b981; margin-bottom: 25px; text-align: center; font-size: 22px;">‚ûï ·Éê·ÉÆ·Éê·Éö·Éò ·Éê·Éñ·É†·Éò·É° ·Éì·Éê·Éõ·Éê·É¢·Éî·Éë·Éê</h2>
                    
                    <div style="margin-bottom: 25px;">
                        <label style="display: block; margin-bottom: 10px; color: #333; font-size: 15px; font-weight: 600;">·É†·Éê ·Éê·Éñ·É†·Éò ·Éí·Éò·É©·Éú·Éì·Éî·Éë·Éê?</label>
                        <textarea id="sosNewThoughtText" placeholder="·Éõ·Éê·Éí: ·Éõ·Éî ·É®·Éî·Éõ·Éò·É´·Éö·Éò·Éê ·Éõ·Éù·Éï·Éò·ÉÆ·Éõ·Éê·É†·Éù..." style="width: 100%; min-height: 100px; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px; font-family: inherit; resize: vertical; box-sizing: border-box;"></textarea>
                    </div>
                    
                    <div style="display: flex; gap: 15px; margin-top: auto;">
                        <button class="btn btn-primary" onclick="sosCreateNewThought()" style="flex: 1;">·É®·Éî·Éõ·Éì·Éî·Éí·Éò ‚Üí</button>
                        <button class="btn btn-secondary" onclick="sosCancelNewThought()" style="flex: 1;">·Éí·Éê·É£·É•·Éõ·Éî·Éë·Éê</button>
                    </div>
                </div>
            </div>
            
            <!-- SOS Question Modal -->
            <div id="sosQuestionModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; overflow-y: auto;">
                <div style="background: white; max-width: 800px; margin: 30px auto; border-radius: 12px; padding: 40px 20px; min-height: 650px; display: flex; flex-direction: column;">
                    <h2 style="color: #333; margin-bottom: 25px; text-align: center; font-size: 24px;">üÜò ·É†·Éê ·Éê·Éñ·É†·Éò ·Éí·Éò·É©·Éú·Éì·Éî·Éë·Éê ·Éê·ÉÆ·Éö·Éê?</h2>
                    
                    <!-- Dropdown Container -->
                    <div id="sosDropdownContainer">
                        <!-- Dropdown for filled thoughts only -->
                        <div style="margin-bottom: 20px;">
                            <select id="sosThoughtSelect" style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 16px; background: white;">
                                <option value="">·Éê·Éò·É†·É©·Éò·Éî ·Éê·Éñ·É†·Éò...</option>
                            </select>
                        </div>
                        
                        
                        <!-- Show Other Thoughts Button -->
                        <button id="sosShowOtherThoughtsBtn" class="btn btn-secondary" onclick="sosToggleAllThoughts()" style="width: 100%; margin-bottom: 15px; padding: 12px; display: none;">
                            <span id="sosShowOtherThoughtsBtnText">üëÅÔ∏è ·Éí·Éê·Éõ·Éù·Éê·É©·Éò·Éú·Éî ·Éì·Éê·Éú·Éê·É†·É©·Éî·Éú·Éò ·Éê·Éñ·É†·Éî·Éë·Éò·É™</span>
                        </button>
                        <!-- Add New Button -->
                        <button id="sosAddNewBtn" class="btn btn-primary" onclick="sosAddNewThought()" style="width: 100%; margin-bottom: 15px; padding: 12px;">
                            ‚ûï ·Éê·ÉÆ·Éê·Éö·Éò ·Éê·Éñ·É†·Éò·É° ·Éì·Éê·Éõ·Éê·É¢·Éî·Éë·Éê
                        </button>
                    </div>
                    
                    <!-- Skip Button - Outside container to use margin-top: auto -->
                    <button id="sosSkipBtn" onclick="sosSkipThoughts()" style="width: 100%; padding: 15px; margin-top: auto; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 16px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">
                        ‚è≠Ô∏è ·Éí·Éê·Éõ·Éù·É¢·Éù·Éï·Éî·Éë·Éê
                    </button>
                    
                    <!-- Confirmation Box (hidden by default) -->
                    <div id="sosConfirmBox" style="display: none; margin-bottom: 20px; padding: 20px; background: #f8f9fa; border-radius: 8px;">
                        <h3 style="color: #667eea; margin-bottom: 15px; font-size: 18px;">·Éê·É†·É©·Éî·É£·Éö·Éò ·Éê·Éñ·É†·Éò:</h3>
                        <p id="sosConfirmText" style="color: #333; margin-bottom: 20px; line-height: 1.6; font-size: 16px;"></p>
                        
                        <div style="display: flex; gap: 15px; margin-top: auto;">
                            <button onclick="sosConfirmSelection()" style="flex: 1; padding: 12px; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 14px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">·Éê·É†·É©·Éî·Éï·Éê</button>
                            <button onclick="sosCancelSelection()" style="flex: 1; padding: 12px; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 14px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">‚Üê ·É£·Éô·Éê·Éú</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- SOS Step-by-Step Modal -->
            <div id="sosStepModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1001; overflow-y: auto;">
                <div style="background: white; max-width: 800px; margin: 30px auto; border-radius: 12px; padding: 40px 20px; min-height: 650px; display: flex; flex-direction: column;">
                    <h2 id="sosStepTitle" style="color: #667eea; margin-bottom: 25px; font-size: 20px; font-weight: 400;"></h2>
                    
                    <div style="margin-bottom: 20px;">
                        <label id="sosStepLabel" style="display: block; margin-bottom: 10px; color: #333; font-size: 16px; font-weight: 500;"></label>
                        <textarea id="sosStepTextarea" style="width: 100%; min-height: 180px; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 15px; font-family: inherit; resize: vertical; box-sizing: border-box;"></textarea>
                    </div>
                    
                    <div style="display: flex; gap: 15px; margin-top: auto;">
                        <button id="sosBackBtn" onclick="sosStepBack()" style="flex: 1; display: none; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; padding: 12px; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 14px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">‚Üê ·É£·Éô·Éê·Éú</button>
                        <button id="sosNextBtn" onclick="sosStepNext()" style="flex: 1; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; padding: 12px; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 14px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">·É®·Éî·Éõ·Éì·Éî·Éí·Éò ‚Üí</button>
                    </div>
                </div>
            </div>
            
            <!-- SOS Completion Modal -->
            <div id="sosCompletionModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1002; overflow-y: auto;">
                <div style="background: white; max-width: 800px; margin: 30px auto; border-radius: 12px; padding: 40px 20px; min-height: 650px; text-align: center;">
                    <div style="font-size: 60px; margin-bottom: 20px;">‚úÖ</div>
                    <h2 style="color: #10b981; margin-bottom: 20px;">·Éê·Éñ·É†·Éò ·Éì·Éê·Éõ·É£·É®·Éê·Éï·Éî·Éë·É£·Éö·Éò·Éê!</h2>
                    <p style="color: #666; margin-bottom: 30px; font-size: 16px;">·Éí·É°·É£·É†·Éó ·Éô·Éò·Éì·Éî·Éï ·Éî·É†·Éó·Éò ·Éê·Éñ·É†·Éò·É° ·Éì·Éê·Éõ·É£·É®·Éê·Éï·Éî·Éë·Éê ·Éó·É£ ·Éí·Éê·Éì·Éê·Éï·Éò·Éì·Éî·Éó ·É®·Éî·Éõ·Éì·Éî·Éí ·Éî·É¢·Éê·Éû·Éñ·Éî?</p>
                    
                    <div style="display: flex; gap: 15px; margin-top: auto;">
                        <button class="btn" onclick="sosProcessAnother()" style="flex: 1; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white;">üîÑ ·Éô·Éò·Éì·Éî·Éï ·Éî·É†·Éó·Éò ·Éê·Éñ·É†·Éò</button>
                        <button class="btn" onclick="sosNextStage()" style="flex: 1; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white;">‚Üí ·É®·Éî·Éõ·Éì·Éî·Éí·Éò ·Éî·É¢·Éê·Éû·Éò</button>
                    </div>
                </div>
            </div>
            
            <!-- SOS Motivation Question Modal -->
            <div id="sosMotivationModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; overflow-y: auto;">
                <div onclick="event.stopPropagation()" style="background: white; max-width: 800px; margin: 30px auto; border-radius: 12px; padding: 40px 20px; min-height: 650px; display: flex; flex-direction: column;">
                    <h2 style="color: #333; margin-bottom: 25px; text-align: center; font-size: 24px;">üéØ ·É†·Éê·É¢·Éù·Éõ ·Éí·Éò·Éú·Éì·Éê ·Éõ·Éù·Éò·ÉÆ·Éõ·Éê·É†·Éù?</h2>
                    
                    <!-- Dropdown Container -->
                    <div id="sosMotivationDropdownContainer">
                        <!-- Dropdown for motivations -->
                        <div style="margin-bottom: 20px;">
                            <select id="sosMotivationSelect" style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 16px; background: white;">
                                <option value="">·Éê·Éò·É†·É©·Éò·Éî ·Éõ·Éù·É¢·Éò·Éï·Éê·É™·Éò·Éê...</option>
                            </select>
                        </div>
                        
                        <!-- Show Other Motivations Button (hidden by default) -->
                        <button id="sosShowOtherMotivationsBtn" class="btn btn-secondary" onclick="sosToggleOtherMotivations()" style="width: 100%; margin-bottom: 15px; padding: 12px; display: none;">
                            <span id="sosShowOtherMotivationsBtnText">üëÅÔ∏è ·Éí·Éê·Éõ·Éù·Éê·É©·Éò·Éú·Éî ·Éì·Éê·Éú·Éê·É†·É©·Éî·Éú·Éò ·É°·É£·É†·Éï·Éò·Éö·Éî·Éë·Éò·É™</span>
                        </button>
                        
                        <!-- Add New Motivation Button -->
                        <button class="btn btn-primary" onclick="sosAddNewMotivation()" style="width: 100%; margin-bottom: 15px; padding: 12px;">
                            ‚ûï ·Éê·ÉÆ·Éê·Éö·Éò ·Éõ·Éù·É¢·Éò·Éï·Éê·É™·Éò·Éò·É° ·Éì·Éê·Éõ·Éê·É¢·Éî·Éë·Éê
                        </button>
                    </div>
                    
                    <!-- Skip Button - Outside container to use margin-top: auto -->
                    <button id="sosMotivationSkipBtn" onclick="sosSkipMotivations()" style="width: 100%; padding: 15px; margin-top: auto; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 16px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">
                        ‚è≠Ô∏è ·Éí·Éê·Éõ·Éù·É¢·Éù·Éï·Éî·Éë·Éê
                    </button>
                    
                    <!-- Confirmation Box (hidden by default) -->
                    <div id="sosMotivationConfirmBox" style="display: none; margin-bottom: 20px; padding: 20px; background: #f8f9fa; border-radius: 8px;">
                        <h3 style="color: #667eea; margin-bottom: 15px; font-size: 18px;">·Éê·É†·É©·Éî·É£·Éö·Éò ·Éõ·Éù·É¢·Éò·Éï·Éê·É™·Éò·Éê:</h3>
                        <p id="sosMotivationConfirmText" style="color: #333; margin-bottom: 20px; line-height: 1.6; font-size: 16px;"></p>
                        
                        <div style="display: flex; gap: 15px; margin-top: auto;">
                            <button onclick="sosConfirmMotivationSelection()" style="flex: 1; padding: 12px; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 14px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">·Éê·É†·É©·Éî·Éï·Éê</button>
                            <button onclick="sosCancelMotivationSelection()" style="flex: 1; padding: 12px; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 14px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">‚Üê ·É£·Éô·Éê·Éú</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- SOS Motivation Step Modal -->
            <div id="sosMotivationStepModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1001; overflow-y: auto;">
                <div style="background: white; max-width: 800px; margin: 30px auto; border-radius: 12px; padding: 40px 20px; min-height: 650px; display: flex; flex-direction: column;">
                    <h2 id="sosMotivationStepTitle" style="color: #667eea; margin-bottom: 25px; font-size: 20px; font-weight: 400;"></h2>
                    
                    <div style="margin-bottom: 20px;">
                        <label id="sosMotivationStepLabel" style="display: block; margin-bottom: 10px; color: #333; font-size: 16px; font-weight: 500;"></label>
                        <textarea id="sosMotivationStepTextarea" style="width: 100%; min-height: 180px; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 15px; font-family: inherit; resize: vertical; box-sizing: border-box;"></textarea>
                    </div>
                    
                    <div style="display: flex; gap: 15px; margin-top: auto;">
                        <button id="sosMotivationBackBtn" onclick="sosMotivationStepBack()" style="flex: 1; display: none; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; padding: 12px; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 14px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">‚Üê ·É£·Éô·Éê·Éú</button>
                        <button id="sosMotivationNextBtn" onclick="sosMotivationStepNext()" style="flex: 1; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; padding: 12px; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 14px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">·É®·Éî·Éõ·Éì·Éî·Éí·Éò ‚Üí</button>
                    </div>
                </div>
            </div>
            
            <!-- SOS Motivation Completion Modal -->
            <div id="sosMotivationCompletionModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1002; overflow-y: auto;">
                <div style="background: white; max-width: 800px; margin: 30px auto; border-radius: 12px; padding: 40px 20px; min-height: 650px; text-align: center;">
                    <div style="font-size: 60px; margin-bottom: 20px;">‚úÖ</div>
                    <h2 style="color: #10b981; margin-bottom: 20px;">·Éõ·Éù·É¢·Éò·Éï·Éê·É™·Éò·Éê ·Éì·Éê·Éõ·É£·É®·Éê·Éï·Éî·Éë·É£·Éö·Éò·Éê!</h2>
                    <p style="color: #666; margin-bottom: 30px; font-size: 16px;">·Éí·É°·É£·É†·Éó ·É°·ÉÆ·Éï·Éê ·Éõ·Éù·É¢·Éò·Éï·Éê·É™·Éò·Éò·É° ·Éì·Éê·Éõ·É£·É®·Éê·Éï·Éî·Éë·Éê ·Éó·É£ ·Éí·Éê·Éì·Éê·Éï·Éò·Éì·Éî·Éó ·É®·Éî·Éõ·Éì·Éî·Éí ·Éî·É¢·Éê·Éû·Éñ·Éî?</p>
                    
                    <div style="display: flex; gap: 15px; margin-top: auto;">
                        <button class="btn" onclick="sosProcessAnotherMotivation()" style="flex: 1; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white;">üîÑ ·É°·ÉÆ·Éï·Éê ·Éõ·Éù·É¢·Éò·Éï·Éê·É™·Éò·Éê</button>
                        <button class="btn" onclick="sosMotivationNextStage()" style="flex: 1; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white;">‚Üí ·É®·Éî·Éõ·Éì·Éî·Éí·Éò ·Éî·É¢·Éê·Éû·Éò</button>
                    </div>
                </div>
            </div>
            
            <!-- SOS New Motivation Modal -->
            <div id="sosNewMotivationModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; overflow-y: auto;">
                <div style="background: white; max-width: 800px; margin: 30px auto; border-radius: 12px; padding: 40px 20px; min-height: 650px; display: flex; flex-direction: column;">
                    <h2 style="color: #667eea; margin-bottom: 25px; text-align: center; font-size: 22px;">‚ûï ·Éê·ÉÆ·Éê·Éö·Éò ·Éõ·Éù·É¢·Éò·Éï·Éê·É™·Éò·Éò·É° ·Éì·Éê·Éõ·Éê·É¢·Éî·Éë·Éê</h2>
                    
                    <div style="margin-bottom: 25px;">
                        <label style="display: block; margin-bottom: 10px; color: #667eea; font-size: 15px; font-weight: 600;">·É†·Éê·É¢·Éù·Éõ ·Éí·Éò·Éú·Éì·Éê ·Éõ·Éù·Éò·ÉÆ·Éõ·Éê·É†·Éù?</label>
                        <textarea id="sosNewMotivationText" placeholder="·Éõ·Éê·Éí: ·É†·Éù·Éõ ·Éí·Éê·Éï·Éë·Éî·Éì·Éù ·Éì·Éê..." style="width: 100%; min-height: 100px; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px; font-family: inherit; resize: vertical; box-sizing: border-box;"></textarea>
                    </div>
                    
                    <div style="display: flex; gap: 15px; margin-top: auto;">
                        <button class="btn btn-primary" onclick="sosCreateNewMotivation()" style="flex: 1;">·É®·Éî·Éõ·Éì·Éî·Éí·Éò ‚Üí</button>
                        <button class="btn btn-secondary" onclick="sosCancelNewMotivation()" style="flex: 1;">·Éí·Éê·É£·É•·Éõ·Éî·Éë·Éê</button>
                    </div>
                </div>
            </div>
            
            
            <!-- ============ WAVE SCREEN MODAL ============ -->
            
            <!-- SOS Wave Modal -->
            <div id="sosWaveModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; overflow-y: auto;">
                <div style="background: white; max-width: 800px; margin: 30px auto; border-radius: 12px; padding: 40px 20px; min-height: 550px; display: flex; flex-direction: column;">
                    <div style="font-size: 60px; margin-bottom: 20px; text-align: center;">üåä</div>
                    <h2 style="color: #667eea; margin-bottom: 25px; text-align: center; font-size: 24px; font-weight: 700;">·Éõ·Éù·Éê·Éó·Éï·Éò·Éú·Éò·Éî·É†·Éî ·É¢·Éê·Éö·É¶·Éê</h2>
                    
                    <p style="font-size: 17px; line-height: 1.8; color: #333; margin-bottom: 15px; text-align: center;">
                        <strong>·Éö·É¢·Éù·Éö·Éï·Éò·É° ·É°·Éê·É®·É£·Éê·Éö·Éù ·ÉÆ·Éê·Éú·Éí·É†·É´·Éö·Éò·Éï·Éù·Éë·Éê ·Éê·É†·Éò·É° 15-20 ·É¨·É£·Éó·Éò.</strong>
                    </p>
                    
                    <p style="font-size: 17px; line-height: 1.8; color: #333; margin-bottom: 15px; text-align: center;">
                        ·É¨·Éê·É†·Éõ·Éù·Éò·Éì·Éí·Éò·Éú·Éî ·Éö·É¢·Éù·Éö·Éï·Éê, ·É†·Éù·Éí·Éù·É†·É™ ·Éù·Éô·Éî·Éê·Éú·Éò·É° ·É¢·Éê·Éö·É¶·Éê - ·Éò·É° ·Éê·É¶·Éò·Éõ·Éê·É†·Éó·Éî·Éë·Éê, ·Éò·Éñ·É†·Éì·Éî·Éë·Éê, ·Éê·É¶·É¨·Éî·Éï·É° ·Éû·Éò·Éô·É° ·Éì·Éê ·Éî·É™·Éî·Éõ·Éê.
                    </p>
                    
                    <p style="font-size: 17px; line-height: 1.8; color: #333; margin-bottom: 15px; text-align: center;">
                        <strong>·Éú·É£ ·É®·Éî·Éî·Éë·É†·É´·Éù·Éö·Éî·Éë·Éò ·Éõ·Éê·É°. ·Éî·É° ·Éö·É¢·Éù·Éö·Éï·Éê·É° ·Éõ·ÉÆ·Éù·Éö·Éù·Éì ·Éê·É´·Éö·Éò·Éî·É†·Éî·Éë·É°. ·Éì·Éê ·Éú·É£·É†·É™ ·Éì·Éê·Éî·Éõ·Éù·É†·É©·Éò·Éö·Éî·Éë·Éò ·Éõ·Éê·É°. ·É£·Éë·É†·Éê·Éö·Éù·Éì ·Éõ·Éò·Éò·É¶·Éî, ·É†·Éù·Éõ ·Éò·É° ·Éê·É†·Éò·É°.</strong>
                    </p>
                    
                    <p style="font-size: 17px; line-height: 1.8; color: #333; margin-bottom: 30px; text-align: center;">
                        ·Éó·É£ ·É®·Éî·Éú ·É®·Éî·É´·Éö·Éî·Éë ·Éì·Éê·Éò·Éõ·Éù·É†·É©·Éò·Éö·Éù ·É¢·Éê·Éö·É¶·Éê, ·É®·Éî·Éú ·Éò·Éí·É†·É´·Éú·Éù·Éë ·Éö·É¢·Éù·Éö·Éï·Éò·É° ·É®·Éî·Éí·É†·É´·Éú·Éî·Éë·Éê ·Éú·Éî·Éö-·Éú·Éî·Éö·Éê ·É†·Éù·Éí·Éù·É† ·É°·É£·É°·É¢·Éì·Éî·Éë·Éê ·Éì·Éê ·Éõ·Éò·Éì·Éò·É°.
                    </p>
                    
                    <button onclick="sosWaveNext()" 
                            style="background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; padding: 15px; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 16px; box-shadow: 0 4px 12px rgba(20,184,166,0.4); width: 100%; margin-top: auto;">
                        ·É®·Éî·Éõ·Éì·Éî·Éí·Éò ‚Üí
                    </button>
                </div>
            </div>
            
            
            <!-- ============ MECHANISMS MODALS ============ -->
            
            <!-- Single Mechanism Modal -->
            <div id="sosMechanismModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; overflow-y: auto;">
                <div style="background: white; max-width: 800px; margin: 30px auto; border-radius: 12px; padding: 40px 20px; min-height: 650px; display: flex; flex-direction: column;">
                    <div id="sosMechanismIcon" style="font-size: 60px; margin-bottom: 20px; text-align: center;">üîß</div>
                    <div id="sosMechanismProgress" style="text-align: center; color: #667eea; font-weight: 600; margin-bottom: 15px; font-size: 16px;">1/5</div>
                    <p id="sosMechanismText" style="font-size: 17px; line-height: 1.8; color: #333; margin-bottom: 30px; text-align: center;">
                        ·Éõ·Éî·É•·Éê·Éú·Éò·Éñ·Éõ·Éò·É° ·É¢·Éî·É•·É°·É¢·Éò
                    </p>
                    
                    <div style="display: flex; gap: 15px; margin-top: auto;">
                        <button onclick="sosMechanismHelped()" 
                                style="flex: 1; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; padding: 12px 30px; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 16px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">
                            ‚úì ·Éõ·Éò·É®·Éï·Éî·Éö·Éê
                        </button>
                        <button onclick="sosMechanismNext()" 
                                style="flex: 1; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; padding: 12px 30px; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 16px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">
                            ·É®·Éî·Éõ·Éì·Éî·Éí·Éò ‚Üí
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Other Mechanisms Modal -->
            <div id="sosOtherMechanismsModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; overflow-y: auto;">
                <div style="background: white; max-width: 800px; margin: 30px auto; border-radius: 12px; padding: 40px 20px; height: 650px; display: flex; flex-direction: column;">
                    <h2 style="color: #667eea; margin-bottom: 25px; text-align: center; font-size: 24px; font-weight: 700;">·Éì·Éê·Éú·Éê·É†·É©·Éî·Éú·Éò ·Éõ·Éî·É•·Éê·Éú·Éò·Éñ·Éõ·Éî·Éë·Éò</h2>
                    
                    <div id="sosOtherMechanismsList" style="flex: 1; overflow-y: auto; margin-bottom: 20px;">
                        <!-- Mechanisms list will be populated here -->
                    </div>
                    
                    <button onclick="sosShowTechniques()" 
                            style="width: 100%; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; padding: 15px; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 16px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">
                        ·É®·Éî·Éõ·Éì·Éî·Éí·Éò ‚Üí
                    </button>
                </div>
            </div>
            
            <!-- ============ SOS TECHNIQUES MODAL ============ -->
            
            <!-- SOS Techniques Modal -->
            <div id="sosTechniquesModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000;">
                <div class="sos-modal-container">
                    
                    <!-- Scrollable Content -->
                    <div id="sosTechniqueContent" style="flex: 1; overflow-y: auto; padding: 30px 20px;">
                        <!-- Content will be dynamically loaded here -->
                    </div>
                    
                    <!-- Counter -->
                    <div id="sosTechniqueCounter" style="text-align: center; color: #667eea; font-weight: 600; padding: 12px; font-size: 15px; flex-shrink: 0;">
                        1/9
                    </div>
                    
                    <!-- Fixed Buttons -->
                    <div style="padding: 15px 20px; border-top: 1px solid #e0e0e0; background: white; display: flex; gap: 12px; flex-shrink: 0;">
                        <button id="sosTechniqueHelpedBtn" onclick="sosTechniqueHelped()" 
                                style="flex: 1; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; padding: 14px; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 15px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">
                            ‚úì ·Éõ·Éò·É®·Éï·Éî·Éö·Éê
                        </button>
                        <button id="sosTechniqueNextBtn" onclick="sosTechniqueNext()" 
                                style="flex: 1; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; padding: 14px; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 15px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">
                            ·É®·Éî·Éõ·Éì·Éî·Éí·Éò ‚Üí
                        </button>
                    </div>
                    
                </div>
            </div>
            
            <!-- Final Reminder Modal -->
            <div id="sosFinalReminderModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1001;">
                <div class="sos-modal-container">
                    
                    <!-- Content -->
                    <div style="flex: 1; overflow-y: auto; padding: 40px 20px; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center;">
                        <div style="font-size: 60px; margin-bottom: 20px;">üìñ</div>
                        <p style="font-size: 20px; font-weight: 700; color: #333; line-height: 1.6;">
                            ·É†·Éù·Éì·Éî·É°·Éê·É™ ·É´·Éê·Éö·Éò·Éê·Éú ·Éê·ÉÆ·Éö·Éù·É° ·ÉÆ·Éê·É† ·Éì·Éê·Éú·Éî·Éë·Éî·Éë·Éê·É°·Éó·Éê·Éú, ·Éí·Éê·Éò·ÉÆ·É°·Éî·Éú·Éî ·É†·Éê·É¢·Éù·Éõ ·Éò·É¨·Éß·Éî·Éë·Éì·Éò!
                        </p>
                    </div>
                    
                    <!-- Fixed Buttons -->
                    <div style="padding: 15px 20px; border-top: 1px solid #e0e0e0; background: white; display: flex; gap: 12px; flex-shrink: 0;">
                        <button onclick="sosGoToMotivations()" 
                                style="flex: 1; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; padding: 8px; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 13px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">
                            üí™ ·Éí·Éê·Éì·Éê·ÉÆ·Éî·Éì·Éî ·Éõ·Éù·É¢·Éò·Éï·Éê·É™·Éò·Éî·Éë·É°
                        </button>
                        <button onclick="sosFinish()" 
                                style="flex: 1; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; padding: 8px; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 13px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">
                            ‚úì ·Éì·Éê·É°·É†·É£·Éö·Éî·Éë·Éê
                        </button>
                    </div>
                    
                </div>
            </div>
            
            
            <!-- ============ COGNITIVE DISTORTIONS MODALS ============ -->
            
            <!-- SOS Distortions Selection Modal -->
            <div id="sosDistortionsModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; overflow-y: auto;">
                <div style="background: white; max-width: 800px; margin: 30px auto; border-radius: 12px; padding: 40px 20px; min-height: 650px; display: flex; flex-direction: column;">
                    <h2 style="color: #667eea; margin-bottom: 25px; text-align: center; font-size: 24px;">üß† ·Éê·Éñ·É†·Éù·Éï·Éú·Éî·Éë·Éò·É° ·É®·Éî·É™·Éì·Éù·Éõ·Éî·Éë·Éò</h2>
                    <p style="color: #666; margin-bottom: 25px; text-align: center;">·É†·Éê ·Éì·Éê·Éõ·Éê·ÉÆ·Éò·Éú·ÉØ·Éî·Éë·É£·Éö·Éò ·Éê·Éñ·É†·Éò ·Éí·Éò·É©·Éú·Éì·Éî·Éë·Éê?</p>
                    
                    <!-- Dropdown Container -->
                    <div id="sosDistortionsDropdownContainer">
                        <div style="margin-bottom: 20px;">
                            <select id="sosDistortionSelect" style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 16px; background: white;">
                                <option value="">·Éê·Éò·É†·É©·Éò·Éî ·Éê·Éñ·É†·Éò...</option>
                            </select>
                        </div>
                        
                        <!-- Show Other Distortions Button -->
                        <button id="sosShowOtherDistortionsBtn" class="btn btn-secondary" onclick="sosToggleAllDistortions()" style="width: 100%; margin-bottom: 15px; padding: 12px; display: none;">
                            <span id="sosShowOtherDistortionsBtnText">üëÅÔ∏è ·Éí·Éê·Éõ·Éù·Éê·É©·Éò·Éú·Éî ·Éì·Éê·Éú·Éê·É†·É©·Éî·Éú·Éò ·Éê·Éñ·É†·Éî·Éë·Éò·É™</span>
                        </button>
                    </div>
                    
                    <!-- Skip Button - Outside container to use margin-top: auto -->
                    <button onclick="sosSkipDistortions()" style="width: 100%; padding: 15px; margin-top: auto; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 16px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">
                        ‚è≠Ô∏è ·Éí·Éê·Éõ·Éù·É¢·Éù·Éï·Éî·Éë·Éê
                    </button>
                    
                    <!-- Confirmation Box -->
                    <div id="sosDistortionsConfirmBox" style="display: none; margin-bottom: 20px; padding: 20px; background: #f8f9fa; border-radius: 8px;">
                        <h3 style="color: #667eea; margin-bottom: 15px; font-size: 18px;">·Éê·É†·É©·Éî·É£·Éö·Éò ·Éê·Éñ·É†·Éò:</h3>
                        <p id="sosDistortionsConfirmText" style="color: #333; margin-bottom: 20px; line-height: 1.6; font-size: 16px;"></p>
                        
                        <div style="display: flex; gap: 15px; margin-top: auto;">
                            <button onclick="sosConfirmDistortion()" style="flex: 1; padding: 12px; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 14px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">·Éê·É†·É©·Éî·Éï·Éê</button>
                            <button onclick="sosCancelDistortion()" style="flex: 1; padding: 12px; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 14px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">‚Üê ·É£·Éô·Éê·Éú</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- SOS Distortions Step Modal -->
            <div id="sosDistortionsStepModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1001; overflow-y: auto;">
                <div style="background: white; max-width: 800px; margin: 30px auto; border-radius: 12px; padding: 40px 20px; min-height: 650px; display: flex; flex-direction: column;">
                    <h2 id="sosDistortionsStepTitle" style="color: #667eea; margin-bottom: 25px; text-align: center; font-size: 22px;"></h2>
                    
                    <div style="margin-bottom: 25px;">
                        <label id="sosDistortionsStepLabel" style="display: block; margin-bottom: 10px; color: #333; font-size: 16px; font-weight: 600;"></label>
                        <textarea id="sosDistortionsStepTextarea" style="width: 100%; min-height: 180px; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 15px; font-family: inherit; resize: vertical; box-sizing: border-box;"></textarea>
                    </div>
                    
                    <div style="display: flex; gap: 15px; margin-top: auto;">
                        <button id="sosDistortionsBackBtn" onclick="sosDistortionsStepBack()" style="flex: 1; display: none; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; padding: 12px; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 14px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">‚Üê ·É£·Éô·Éê·Éú</button>
                        <button id="sosDistortionsNextBtn" onclick="sosDistortionsStepNext()" style="flex: 1; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; padding: 12px; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 14px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">·É®·Éî·Éõ·Éì·Éî·Éí·Éò ‚Üí</button>
                    </div>
                </div>
            </div>
            
            <!-- SOS Distortions Completion Modal -->
            <div id="sosDistortionsCompletionModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1002; overflow-y: auto;">
                <div style="background: white; max-width: 800px; margin: 30px auto; border-radius: 12px; padding: 40px 20px; min-height: 650px; text-align: center;">
                    <div style="font-size: 60px; margin-bottom: 20px;">üéØ</div>
                    <h2 style="color: #10b981; margin-bottom: 20px;">·Éê·Éñ·É†·Éù·Éï·Éú·Éî·Éë·Éò·É° ·É®·Éî·É™·Éì·Éù·Éõ·Éê ·Éì·Éê·Éõ·É£·É®·Éê·Éï·Éî·Éë·É£·Éö·Éò·Éê!</h2>
                    <p style="color: #666; margin-bottom: 30px; font-size: 16px;">·Éí·É°·É£·É†·Éó ·É°·ÉÆ·Éï·Éê ·Éê·Éñ·É†·Éò·É° ·Éì·Éê·Éõ·É£·É®·Éê·Éï·Éî·Éë·Éê ·Éó·É£ ·Éì·Éê·É°·É†·É£·Éö·Éî·Éë·Éê?</p>
                    
                    <div style="display: flex; gap: 15px; margin-top: auto;">
                        <button class="btn" onclick="sosProcessAnotherDistortion()" style="flex: 1; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white;">üîÑ ·É°·ÉÆ·Éï·Éê ·Éê·Éñ·É†·Éò</button>
                        <button class="btn" onclick="sosFinishDistortions()" style="flex: 1; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white;">‚Üí ·É®·Éî·Éõ·Éì·Éî·Éí ·Éî·É¢·Éê·Éû·Éñ·Éî ·Éí·Éê·Éì·Éê·É°·Éï·Éö·Éê</button>
                    </div>
                </div>
            </div>
            
            <!-- Contact Section -->
            <div id="contactSection" class="section">
                <h2 style="margin-bottom: 20px;">üìù ·Éô·Éù·Éú·É¢·Éê·É•·É¢·Éò</h2>
                
                <!-- Morning Contact Card -->
                <div id="morningContactCard" style="display: none; background: linear-gradient(135deg, #FEF3C7 0%, #FCD34D 100%); border-radius: 15px; padding: 20px; margin-bottom: 15px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                    <div style="display: flex; align-items: center; justify-content: space-between;">
                        <div>
                            <div style="font-size: 24px; margin-bottom: 5px;">üåÖ</div>
                            <h3 style="color: #92400E; margin-bottom: 5px; font-size: 18px;">·Éì·Éò·Éö·Éò·É° ·Éô·Éù·Éú·É¢·Éê·É•·É¢·Éò</h3>
                            <p style="color: #78350F; font-size: 14px; margin: 0;">·Éì·É¶·Éî·É°</p>
                        </div>
                        <button onclick="showMorningContact()" style="background: #7880c5; color: white; border: 2px solid rgba(255, 255, 255, 0.25); border-radius: 10px; cursor: pointer; width: 120px !important; min-width: 120px !important; max-width: 120px !important; padding: 12px 16px; font-size: 16px; text-align: center; flex-shrink: 0; transition: all 0.3s; box-shadow: 0 6px 12px rgba(0, 0, 0, 0.25), inset 0 -3px 6px rgba(0, 0, 0, 0.2), inset 0 3px 6px rgba(255, 255, 255, 0.15);">·Éí·Éê·ÉÆ·É°·Éú·Éê</button>
                    </div>
                </div>
                
                <!-- Evening Contact Card -->
                <div id="eveningContactCard" style="display: none; background: linear-gradient(135deg, #DBEAFE 0%, #93C5FD 100%); border-radius: 15px; padding: 20px; margin-bottom: 15px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                    <div style="display: flex; align-items: center; justify-content: space-between;">
                        <div>
                            <div style="font-size: 24px; margin-bottom: 5px;">üåô</div>
                            <h3 style="color: #1E40AF; margin-bottom: 5px; font-size: 18px;">·É°·Éê·É¶·Éê·Éõ·Éù·É° ·Éô·Éù·Éú·É¢·Éê·É•·É¢·Éò</h3>
                            <p style="color: #1E3A8A; font-size: 14px; margin: 0;">·Éì·É¶·Éî·É°</p>
                        </div>
                        <button onclick="showEveningContact()" style="background: #7880c5; color: white; border: 2px solid rgba(255, 255, 255, 0.25); border-radius: 10px; cursor: pointer; width: 120px !important; min-width: 120px !important; max-width: 120px !important; padding: 12px 16px; font-size: 16px; text-align: center; flex-shrink: 0; transition: all 0.3s; box-shadow: 0 6px 12px rgba(0, 0, 0, 0.25), inset 0 -3px 6px rgba(0, 0, 0, 0.2), inset 0 3px 6px rgba(255, 255, 255, 0.15);">·Éí·Éê·ÉÆ·É°·Éú·Éê</button>
                    </div>
                </div>
                
                <!-- Yesterday Evening Card (if missed) -->
                <div id="yesterdayEveningCard" style="display: none; background: linear-gradient(135deg, #DBEAFE 0%, #93C5FD 100%); border-radius: 15px; padding: 20px; margin-bottom: 15px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                    <div style="display: flex; align-items: center; justify-content: space-between;">
                        <div>
                            <div style="font-size: 24px; margin-bottom: 5px;">üåô</div>
                            <h3 style="color: #1E40AF; margin-bottom: 5px; font-size: 18px;">·Éí·É£·É®·Éò·Éú·Éì·Éî·Éö·Éò ·É°·Éê·É¶·Éê·Éõ·Éù·É° ·Éô·Éù·Éú·É¢·Éê·É•·É¢·Éò</h3>
                            <p style="color: #1E3A8A; font-size: 14px; margin: 0;">·Éê·É† ·Éê·É†·Éò·É° ·É®·Éî·Éï·É°·Éî·Éë·É£·Éö·Éò</p>
                        </div>
                        <button onclick="showYesterdayEvening()" style="background: #7880c5; color: white; border: 2px solid rgba(255, 255, 255, 0.25); border-radius: 10px; cursor: pointer; width: 120px !important; min-width: 120px !important; max-width: 120px !important; padding: 12px 16px; font-size: 16px; text-align: center; flex-shrink: 0; transition: all 0.3s; box-shadow: 0 6px 12px rgba(0, 0, 0, 0.25), inset 0 -3px 6px rgba(0, 0, 0, 0.2), inset 0 3px 6px rgba(255, 255, 255, 0.15);">·Éí·Éê·ÉÆ·É°·Éú·Éê</button>
                    </div>
                </div>
                
                <!-- All Complete Message -->
                <div id="contactAllComplete" style="display: none; background: linear-gradient(135deg, #D1FAE5 0%, #6EE7B7 100%); border-radius: 15px; padding: 30px; text-align: center;">
                    <div style="font-size: 48px; margin-bottom: 15px;">‚úÖ</div>
                    <h3 style="color: #065F46; margin-bottom: 10px; font-size: 20px;">·Éß·Éï·Éî·Éö·Éê ·Éô·Éù·Éú·É¢·Éê·É•·É¢·Éò ·É®·Éî·Éï·É°·Éî·Éë·É£·Éö·Éò·Éê!</h3>
                    <p style="color: #047857; font-size: 16px; margin: 0;">·Éõ·Éê·Éì·Éö·Éù·Éë·Éê, ·É†·Éù·Éõ ·Éß·É£·É†·Éê·Éì·É¶·Éî·Éë·Éò·Éó ·ÉÆ·Éê·É† ·É©·Éê·É†·Éó·É£·Éö·Éò ·É°·Éê·Éô·É£·Éó·Éê·É†·Éò ·Éõ·Éì·Éí·Éù·Éõ·Éê·É†·Éî·Éù·Éë·Éò·É° ·Éõ·Éù·Éú·Éò·É¢·Éù·É†·Éò·Éú·Éí·É®·Éò üíö</p>
                </div>
                
                <!-- My Goals Card -->
                <div id="myGoalsContactCard" style="background: linear-gradient(135deg, #F3E8FF 0%, #C084FC 100%); border-radius: 15px; padding: 20px; margin-bottom: 15px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                    <div style="display: flex; align-items: center; justify-content: space-between;">
                        <div>
                            <div style="font-size: 24px; margin-bottom: 5px;">üéØ</div>
                            <h3 style="color: #6B21A8; margin-bottom: 5px; font-size: 18px;">·É©·Éî·Éõ·Éò ·É°·ÉÆ·Éï·Éê ·Éõ·Éò·Éñ·Éú·Éî·Éë·Éò</h3>
                            <p id="goalsContactStatus" style="color: #7C3AED; font-size: 14px; margin: 0;">·Éì·É¶·Éî·É°</p>
                        </div>
                        <button onclick="showMyGoalsContact()" style="background: #7880c5; color: white; border: 2px solid rgba(255, 255, 255, 0.25); border-radius: 10px; cursor: pointer; width: 120px !important; min-width: 120px !important; max-width: 120px !important; padding: 12px 16px; font-size: 16px; text-align: center; flex-shrink: 0; transition: all 0.3s; box-shadow: 0 6px 12px rgba(0, 0, 0, 0.25), inset 0 -3px 6px rgba(0, 0, 0, 0.2), inset 0 3px 6px rgba(255, 255, 255, 0.15);">·Éí·Éê·ÉÆ·É°·Éú·Éê</button>
                    </div>
                </div>
                
                <!-- My Achievements Card -->
                <div id="myAchievementsCard" style="background: white; border: 2px solid #e5e7eb; border-radius: 15px; padding: 20px; margin-bottom: 15px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                    <!-- Collapsed view -->
                    <div id="achievementCardCollapsed" style="cursor: pointer;" onclick="openAchievementMessage()">
                        <div style="display: flex; align-items: center; justify-content: space-between;">
                            <div>
                                <div style="font-size: 24px; margin-bottom: 5px;">üèÖ</div>
                                <h3 style="color: #374151; margin-bottom: 5px; font-size: 18px;" id="achievementCardTitle">·Éõ·Éò·Éõ·Éì·Éò·Éú·Éê·É†·Éî ·Éõ·Éò·Éñ·Éê·Éú·Éò</h3>
                                <p style="color: #6B7280; font-size: 14px; margin: 0;" id="achievementBadgeCount">·Éò·É¢·Éï·Éò·É†·Éó·Éî·Éë·Éê...</p>
                            </div>
                            <button onclick="event.stopPropagation(); openAchievementMessage()" style="background: #7880c5; color: white; border: 2px solid rgba(255, 255, 255, 0.25); border-radius: 10px; cursor: pointer; width: 120px !important; min-width: 120px !important; max-width: 120px !important; padding: 12px 16px; font-size: 16px; text-align: center; flex-shrink: 0; transition: all 0.3s; box-shadow: 0 6px 12px rgba(0, 0, 0, 0.25), inset 0 -3px 6px rgba(0, 0, 0, 0.2), inset 0 3px 6px rgba(255, 255, 255, 0.15);">·Éí·Éê·ÉÆ·É°·Éú·Éê</button>
                        </div>
                    </div>
                    
                    <!-- Motivational message (hidden by default) -->
                    <div id="achievementMotivationalMsg" style="display: none;">
                        <div style="font-size: 20px; text-align: center; margin-bottom: 15px;" id="achievementMsgEmoji"></div>
                        <p style="color: #374151; font-size: 16px; line-height: 1.6; text-align: center; margin-bottom: 20px;" id="achievementMsgText"></p>
                        <button onclick="closeAchievementMessage()" class="btn btn-secondary" style="width: 100%;">·Éì·Éê·ÉÆ·É£·É†·Éï·Éê</button>
                    </div>
                </div>
                
                
                <button class="btn" onclick="backToDashboard()" style="margin-top: 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">‚Üê Dashboard-·Éñ·Éî ·Éì·Éê·Éë·É†·É£·Éú·Éî·Éë·Éê</button>
            </div>
            
            <!-- My Goals Contact Section -->
            <div id="myGoalsContactSection" class="section">
                <h2 style="margin-bottom: 20px;">üéØ ·Éì·É¶·Éî·Éï·Éê·Éú·Éì·Éî·Éö·Éò ·Éõ·Éò·Éñ·Éú·Éî·Éë·Éò</h2>
                
                <div id="goalsContactContainer">
                    <p style="color: #999; text-align: center; padding: 40px 20px;">
                        ·ÉØ·Éî·É† ·Éê·É† ·Éí·Éê·É•·Éï·É° ·Éì·Éê·Éõ·Éê·É¢·Éî·Éë·É£·Éö·Éò ·Éõ·Éò·Éñ·Éú·Éî·Éë·Éò
                    </p>
                </div>
                
                <button id="saveGoalsContactBtn" onclick="saveGoalsContact()" class="btn" style="width: 100%; padding: 15px; margin-top: 20px; font-size: 16px; background: #7880c5; color: white; border: 2px solid rgba(255, 255, 255, 0.25); border-radius: 16px; box-shadow: 0 6px 12px rgba(0, 0, 0, 0.25), inset 0 -3px 6px rgba(0, 0, 0, 0.2), inset 0 3px 6px rgba(255, 255, 255, 0.15);">·É®·Éî·Éú·Éê·ÉÆ·Éï·Éê</button>
                <button id="finalizeGoalsContactBtn" onclick="finalizeGoalsContact()" class="btn" style="width: 100%; padding: 15px; margin-top: 15px; font-size: 16px; background: #7880c5; color: white; border: 2px solid rgba(255, 255, 255, 0.25); border-radius: 16px; box-shadow: 0 6px 12px rgba(0, 0, 0, 0.25), inset 0 -3px 6px rgba(0, 0, 0, 0.2), inset 0 3px 6px rgba(255, 255, 255, 0.15);">·Éì·É¶·Éò·É° ·É®·Éî·Éì·Éî·Éí·Éò·É° ·Éì·Éê·É§·Éò·É•·É°·Éò·É†·Éî·Éë·Éê</button>
                <button class="btn" onclick="showSection('contact')" style="width: 100%; margin-top: 15px; background: #7880c5; color: white; border: 2px solid rgba(255, 255, 255, 0.25); border-radius: 16px; padding: 15px; box-shadow: 0 6px 12px rgba(0, 0, 0, 0.25), inset 0 -3px 6px rgba(0, 0, 0, 0.2), inset 0 3px 6px rgba(255, 255, 255, 0.15);">‚Üê ·É£·Éô·Éê·Éú</button>
            </div>
            
            <!-- My Space Section -->
            <div id="mySpaceSection" class="section">
                <h2 style="margin-bottom: 20px; font-family: 'Georgia', 'Garamond', serif; font-style: italic; color: #5B21B6; font-size: 28px; letter-spacing: 2px;">‚ú® ·É©·Éî·Éõ·Éò ·É°·Éò·Éï·É†·É™·Éî</h2>
                
                <!-- Navigation tabs -->
                <div style="display: flex; gap: 10px; margin-bottom: 20px; overflow-x: auto;">
                    <button id="tabGratitude" class="tab-button active" onclick="showMySpaceTab('gratitude')">üôè ·Éõ·Éê·Éì·Éö·Éò·Éî·É†·Éî·Éë·Éê</button>
                    <button id="tabPositive" class="tab-button" onclick="showMySpaceTab('positive')">‚ú® ·Éû·Éù·Éñ·Éò·É¢·Éò·Éï·Éò</button>
                    <button id="tabSatisfaction" class="tab-button" onclick="showMySpaceTab('satisfaction')">·Éó·Éï·Éò·Éó·Éô·Éõ·Éê·Éß·Éù·É§·Éò·Éö·Éî·Éë·Éê</button>
                </div>
                
                <!-- Gratitude Tab -->
                <div id="gratitudeTab" class="myspace-tab" style="display: block;">
                    <div style="background: linear-gradient(135deg, #F3F4F6 0%, #E5E7EB 100%); border-radius: 15px; padding: 20px; margin-bottom: 20px;">
                        <h3 style="color: #374151; margin-bottom: 15px; font-size: 18px;">
                            <button onclick="showGratitudeInfo()" style="background: rgba(156, 163, 175, 0.2); border: 1px solid rgba(156, 163, 175, 0.3); border-radius: 8px; cursor: pointer; font-size: 20px; padding: 6px 10px; margin-right: 8px; transition: all 0.2s;" onmouseover="this.style.transform='scale(1.1)'; this.style.background='rgba(156, 163, 175, 0.3)'" onmouseout="this.style.transform='scale(1)'; this.style.background='rgba(156, 163, 175, 0.2)'" title="·Éò·Éú·É§·Éù·É†·Éõ·Éê·É™·Éò·Éê">üôè <span style="font-size: 12px; opacity: 0.6;">‚ìò</span></button>
                            ·Éõ·Éê·Éì·Éö·Éò·Éî·É†·Éî·Éë·Éê
                        </h3>
                        <p style="color: #4B5563; font-size: 14px; margin-bottom: 15px;">
                            ·Éß·Éù·Éï·Éî·Éö·Éì·É¶·Éî ·É©·Éê·É¨·Éî·É†·Éî 3 ·É†·Éê·Éõ, ·É†·Éò·É°·Éó·Éï·Éò·É°·Éê·É™ ·Éõ·Éê·Éì·Éö·Éò·Éî·É†·Éò ·ÉÆ·Éê·É†
                        </p>
                        <button class="btn btn-primary" onclick="addGratitudeEntry()" style="width: 100%;">+ ·Éì·É¶·Éî·Éï·Éê·Éú·Éì·Éî·Éö·Éò ·É©·Éê·Éú·Éê·É¨·Éî·É†·Éò</button>
                    </div>
                    
                    <button class="btn" onclick="backToDashboard()" style="margin-bottom: 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; width: 100%;">‚Üê Dashboard-·Éñ·Éî ·Éì·Éê·Éë·É†·É£·Éú·Éî·Éë·Éê</button>
                    
                    <!-- Gratitude entries list -->
                    <div id="gratitudeList"></div>
                </div>
                
                <!-- Positive Moments Tab -->
                <div id="positiveTab" class="myspace-tab" style="display: none;">
                    <div style="background: linear-gradient(135deg, #DBEAFE 0%, #93C5FD 100%); border-radius: 15px; padding: 20px; margin-bottom: 20px;">
                        <h3 style="color: #1E40AF; margin-bottom: 15px; font-size: 18px;">
                            <button onclick="showPositiveInfo()" style="background: rgba(59, 130, 246, 0.15); border: 1px solid rgba(59, 130, 246, 0.25); border-radius: 8px; cursor: pointer; font-size: 20px; padding: 6px 10px; margin-right: 8px; transition: all 0.2s;" onmouseover="this.style.transform='scale(1.1)'; this.style.background='rgba(59, 130, 246, 0.25)'" onmouseout="this.style.transform='scale(1)'; this.style.background='rgba(59, 130, 246, 0.15)'" title="·Éò·Éú·É§·Éù·É†·Éõ·Éê·É™·Éò·Éê">‚ú® <span style="font-size: 12px; opacity: 0.6;">‚ìò</span></button>
                            ·Éû·Éù·Éñ·Éò·É¢·Éò·É£·É†·Éò ·Éõ·Éù·Éõ·Éî·Éú·É¢·Éî·Éë·Éò
                        </h3>
                        <p style="color: #1E3A8A; font-size: 14px; margin-bottom: 15px;">
                            ·Éê·É¶·Éú·Éò·É®·Éú·Éî ·Éû·Éê·É¢·Éê·É†·Éê ·É°·Éò·Éê·Éõ·Éù·Éï·Éú·Éî·Éë·Éî·Éë·Éò ·Éì·Éê ·Éû·Éù·Éñ·Éò·É¢·Éò·É£·É†·Éò ·Éõ·Éù·Éõ·Éî·Éú·É¢·Éî·Éë·Éò, ·É†·Éù·Éõ·Éö·Éî·Éë·Éò·É™ ·É®·Éî·Éê·Éõ·É©·Éú·Éò·Éî
                        </p>
                        <button class="btn btn-primary" onclick="addPositiveMoment()" style="width: 100%;">+ ·Éõ·Éù·Éõ·Éî·Éú·É¢·Éò·É° ·Éì·Éê·Éõ·Éê·É¢·Éî·Éë·Éê</button>
                    </div>
                    
                    <button class="btn" onclick="backToDashboard()" style="margin-bottom: 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; width: 100%;">‚Üê Dashboard-·Éñ·Éî ·Éì·Éê·Éë·É†·É£·Éú·Éî·Éë·Éê</button>
                    
                    <!-- Positive moments list -->
                    <div id="positiveList"></div>
                </div>
                
                <!-- Self-Satisfaction Tab -->
                <div id="satisfactionTab" class="myspace-tab" style="display: none;">
                    <div style="background: linear-gradient(135deg, #F3F4F6 0%, #E5E7EB 100%); border-radius: 15px; padding: 20px; margin-bottom: 20px;">
                        <h3 style="color: #374151; margin-bottom: 15px; font-size: 18px;">
                            <button onclick="showSatisfactionInfo()" style="background: rgba(156, 163, 175, 0.2); border: 1px solid rgba(156, 163, 175, 0.3); border-radius: 8px; cursor: pointer; font-size: 20px; padding: 6px 10px; margin-right: 8px; transition: all 0.2s;" onmouseover="this.style.transform='scale(1.1)'; this.style.background='rgba(156, 163, 175, 0.3)'" onmouseout="this.style.transform='scale(1)'; this.style.background='rgba(156, 163, 175, 0.2)'" title="·Éò·Éú·É§·Éù·É†·Éõ·Éê·É™·Éò·Éê">üíé <span style="font-size: 12px; opacity: 0.6;">‚ìò</span></button>
                            ·Éó·Éï·Éò·Éó·Éô·Éõ·Éê·Éß·Éù·É§·Éò·Éö·Éî·Éë·Éê
                        </h3>
                        <p style="color: #4B5563; font-size: 14px; margin-bottom: 15px;">
                            ·É†·Éò·Éó·Éò ·ÉÆ·Éê·É† ·Éì·É¶·Éî·É° ·É°·Éê·Éô·É£·Éó·Éê·É†·Éò ·Éó·Éê·Éï·Éò·Éó ·Éô·Éõ·Éê·Éß·Éù·É§·Éò·Éö·Éò?<br>
                            ·É†·Éò·É°·Éò ·Éí·Éê·Éô·Éî·Éó·Éî·Éë·Éê ·É®·Éî·É´·Éî·Éö·Éò ·Éì·É¶·Éî·É°?
                        </p>
                        <button class="btn btn-primary" onclick="openSatisfactionModal()" style="width: 100%;">+ ·É©·Éê·Éú·Éê·É¨·Éî·É†·Éò·É° ·Éì·Éê·Éõ·Éê·É¢·Éî·Éë·Éê</button>
                    </div>
                    
                    <button class="btn" onclick="backToDashboard()" style="margin-bottom: 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; width: 100%;">‚Üê Dashboard-·Éñ·Éî ·Éì·Éê·Éë·É†·É£·Éú·Éî·Éë·Éê</button>
                    
                    <!-- Satisfaction entries list -->
                    <div id="satisfactionList"></div>
                </div>
            </div>
            
            <!-- My Goals Section -->
            <div id="myGoalsSection" class="section">
                <h2 style="margin-bottom: 20px; font-family: 'Georgia', 'Garamond', serif; font-style: italic; color: #5B21B6; font-size: 28px; letter-spacing: 2px;">üéØ ·É©·Éî·Éõ·Éò ·Éõ·Éò·Éñ·Éú·Éî·Éë·Éò</h2>
                
                <!-- Add Goal Button -->
                <button onclick="openAddGoalModal()" style="width: 100%; padding: 15px; margin-bottom: 15px; font-size: 16px; font-weight: 600; background: #7880c5; color: white; border: 2px solid rgba(255, 255, 255, 0.25); border-radius: 12px; cursor: pointer; transition: all 0.3s; box-shadow: 0 6px 12px rgba(0, 0, 0, 0.25), inset 0 -3px 6px rgba(0, 0, 0, 0.2), inset 0 3px 6px rgba(255, 255, 255, 0.15);" onmouseover="this.style.transform='translateY(-1px)'; this.style.boxShadow='0 8px 16px rgba(0, 0, 0, 0.3), inset 0 -3px 6px rgba(0, 0, 0, 0.2), inset 0 3px 6px rgba(255, 255, 255, 0.2)';" onmouseout="this.style.transform=''; this.style.boxShadow='0 6px 12px rgba(0, 0, 0, 0.25), inset 0 -3px 6px rgba(0, 0, 0, 0.2), inset 0 3px 6px rgba(255, 255, 255, 0.15)';" onmousedown="this.style.transform='translateY(1px)'; this.style.boxShadow='0 3px 8px rgba(0, 0, 0, 0.2), inset 0 -2px 4px rgba(0, 0, 0, 0.15), inset 0 2px 4px rgba(255, 255, 255, 0.1)';" onmouseup="this.style.transform='translateY(-1px)'; this.style.boxShadow='0 8px 16px rgba(0, 0, 0, 0.3), inset 0 -3px 6px rgba(0, 0, 0, 0.2), inset 0 3px 6px rgba(255, 255, 255, 0.2)';">
                    + ·Éê·ÉÆ·Éê·Éö·Éò ·Éõ·Éò·Éñ·Éê·Éú·Éò·É° ·Éì·Éê·Éõ·Éê·É¢·Éî·Éë·Éê
                </button>
                
                <!-- My Space Activities Button -->
                <button onclick="openMySpaceActivitiesModal()" style="width: 100%; padding: 15px; margin-bottom: 20px; font-size: 16px; font-weight: 600; background: #7880c5; color: white; border: 2px solid rgba(255, 255, 255, 0.25); border-radius: 12px; cursor: pointer; transition: all 0.3s; box-shadow: 0 6px 12px rgba(0, 0, 0, 0.25), inset 0 -3px 6px rgba(0, 0, 0, 0.2), inset 0 3px 6px rgba(255, 255, 255, 0.15);" onmouseover="this.style.transform='translateY(-1px)'; this.style.boxShadow='0 8px 16px rgba(0, 0, 0, 0.3), inset 0 -3px 6px rgba(0, 0, 0, 0.2), inset 0 3px 6px rgba(255, 255, 255, 0.2)';" onmouseout="this.style.transform=''; this.style.boxShadow='0 6px 12px rgba(0, 0, 0, 0.25), inset 0 -3px 6px rgba(0, 0, 0, 0.2), inset 0 3px 6px rgba(255, 255, 255, 0.15)';" onmousedown="this.style.transform='translateY(1px)'; this.style.boxShadow='0 3px 8px rgba(0, 0, 0, 0.2), inset 0 -2px 4px rgba(0, 0, 0, 0.15), inset 0 2px 4px rgba(255, 255, 255, 0.1)';" onmouseup="this.style.transform='translateY(-1px)'; this.style.boxShadow='0 8px 16px rgba(0, 0, 0, 0.3), inset 0 -3px 6px rgba(0, 0, 0, 0.2), inset 0 3px 6px rgba(255, 255, 255, 0.2)';">
                    + ·É©·Éî·Éõ·Éò ·É°·Éò·Éï·É†·É™·Éò·É° ·Éê·É•·É¢·Éò·Éï·Éù·Éë·Éî·Éë·Éò
                </button>
                
                <!-- Goals List -->
                <div id="goalsListContainer">
                    <p style="color: #999; text-align: center; padding: 40px 20px;">
                        ·ÉØ·Éî·É† ·Éê·É† ·Éí·Éê·É•·Éï·É° ·Éì·Éê·Éõ·Éê·É¢·Éî·Éë·É£·Éö·Éò ·Éõ·Éò·Éñ·Éú·Éî·Éë·Éò<br><br>
                        ·Éì·Éê·Éê·É≠·Éò·É†·Éî ·Éñ·Éî·Éõ·Éù·Éó ·É¶·Éò·Éö·Éê·Éô·É° ·Éû·Éò·É†·Éï·Éî·Éö·Éò ·Éõ·Éò·Éñ·Éú·Éò·É° ·Éì·Éê·É°·Éê·Éõ·Éê·É¢·Éî·Éë·Éö·Éê·Éì!
                    </p>
                </div>
                
                <button class="btn" onclick="backToDashboard()" style="margin-top: 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">‚Üê Dashboard-·Éñ·Éî ·Éì·Éê·Éë·É†·É£·Éú·Éî·Éë·Éê</button>
            </div>
            
            <!-- Results Section -->
            <div id="resultsSection" class="section">
                <h2 style="margin-bottom: 20px;">üìä ·É®·Éî·Éì·Éî·Éí·Éî·Éë·Éò</h2>
                
                <!-- Willpower Overview -->
                <div style="background: white; border-radius: 15px; padding: 20px; margin-bottom: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                    <h3 style="color: #374151; font-size: 18px; margin-bottom: 15px;">üí™ ·Éú·Éî·Éë·Éò·É° ·É´·Éê·Éö·Éê</h3>
                    <div style="margin-bottom: 10px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                            <span style="color: #6b7280; font-size: 14px;">·Éõ·Éó·Éö·Éò·Éê·Éú·Éò:</span>
                            <span id="resultsWillpowerTotal" style="color: #374151; font-weight: 600; font-size: 16px;">0%</span>
                        </div>
                        <div style="background: #e5e7eb; border-radius: 8px; height: 12px; overflow: hidden;">
                            <div id="resultsWillpowerBar" style="background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); height: 100%; width: 0%; transition: width 0.3s;"></div>
                        </div>
                    </div>
                </div>
                
                <!-- Goals List -->
                <div id="resultsGoalsList">
                    <!-- Goals will be inserted here -->
                </div>
                
                <button class="btn btn-primary" onclick="backToDashboard()" style="margin-top: 20px;">‚Üê Dashboard-·Éñ·Éî ·Éì·Éê·Éë·É†·É£·Éú·Éî·Éë·Éê</button>
            </div>
            
            <!-- Profile Section (moved to separate view) -->
            <div id="profileSection" class="section" style="padding: 0;">
                <h2 style="margin-bottom: 20px; padding: 0 12px;">üë§ ·Éû·É†·Éù·É§·Éò·Éö·Éò</h2>
                
                <!-- Profile Stripes - True Edge to Edge (container: 20px + content: 12px = -32px) -->
                <div style="margin: 0 -32px;">
                    
                    <!-- Top Border -->
                    <div style="height: 2px; background: #5a5f99;"></div>
                    
                    <!-- Stripe 1 - Name -->
                    <div style="background: #7880c5; padding: 20px; border-bottom: 2px solid #5a5f99;">
                        <div style="font-weight: 600; color: white; font-size: 14px; margin-bottom: 8px; opacity: 0.9;">üë§ ·É°·Éê·ÉÆ·Éî·Éö·Éò</div>
                        <div id="profName" style="color: white; font-size: 16px; font-weight: 500;"></div>
                    </div>
                    
                    <!-- Stripe 2 - Email -->
                    <div style="background: #7880c5; padding: 20px; border-bottom: 2px solid #5a5f99;">
                        <div style="font-weight: 600; color: white; font-size: 14px; margin-bottom: 8px; opacity: 0.9;">üìß ·Éî·Éö. ·É§·Éù·É°·É¢·Éê</div>
                        <div id="profEmail" style="color: white; font-size: 16px; font-weight: 500;"></div>
                    </div>
                    
                    <!-- Stripe 3 - Addiction -->
                    <div style="background: #7880c5; padding: 20px; border-bottom: 2px solid #5a5f99;">
                        <div style="font-weight: 600; color: white; font-size: 14px; margin-bottom: 8px; opacity: 0.9;">·Éì·Éê·Éõ·Éù·Éô·Éò·Éì·Éî·Éë·É£·Éö·Éî·Éë·Éê</div>
                        <div id="profAddiction" style="color: white; font-size: 16px; font-weight: 500;"></div>
                    </div>
                    
                    <!-- Stripe 4 - Last Use -->
                    <div style="background: #7880c5; padding: 20px; border-bottom: 2px solid #5a5f99;">
                        <div style="font-weight: 600; color: white; font-size: 14px; margin-bottom: 8px; opacity: 0.9;">üìÖ ·Éë·Éù·Éö·Éù ·Éõ·Éù·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê</div>
                        <div id="profLastUse" style="color: white; font-size: 16px; font-weight: 500;"></div>
                    </div>
                    
                    <!-- Logout Button Stripe -->
                    <div style="background: #7880c5; padding: 25px; text-align: center; border-bottom: 2px solid #5a5f99;">
                        <button class="btn btn-logout" onclick="doLogout()" style="width: 100%; max-width: 300px; padding: 15px; font-size: 16px; background: #5a5f99; color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: 600; box-shadow: 0 4px 12px rgba(90,95,153,0.4);">·Éí·Éê·Éõ·Éù·É°·Éï·Éö·Éê</button>
                    </div>
                    
                </div>
            </div>
            
            <!-- Connection Section (Coming Soon) -->
            <div id="connectionSection" class="section">
                <h2 style="margin-bottom: 20px;">üåê ·Éô·Éê·Éï·É®·Éò·É†·Éò</h2>
                <div style="background: white; border: 2px solid #e5e7eb; border-radius: 15px; padding: 50px 20px; text-align: center;">
                    <div style="font-size: 48px; margin-bottom: 15px;">‚è≥</div>
                    <h3 style="color: #374151; font-size: 20px; margin-bottom: 10px;">·É§·É£·Éú·É•·É™·Éò·Éê ·Éõ·Éê·Éö·Éî ·Éì·Éê·Éî·Éõ·Éê·É¢·Éî·Éë·Éê!</h3>
                </div>
            </div>
            
            <!-- Willpower Section -->
            <div id="willpowerSection" class="section">
                <div id="willpowerPageContent" style="flex: 1; overflow-y: auto; padding: 20px 0 80px 0;">
                    <!-- Will be filled by JS -->
                </div>
            </div>
            
            <!-- Support Section (Feedback) -->
            <div id="supportSection" class="section">
                <h2 style="margin-bottom: 20px;">üí¨ ·Éõ·ÉÆ·Éê·É†·Éì·Éê·É≠·Éî·É†·Éê</h2>
                <div style="background: linear-gradient(rgba(255,255,255,0.85), rgba(255,255,255,0.9)), url('https://images.unsplash.com/photo-1490750967868-88aa4486c946?w=800&q=80') center/cover; padding: 30px; border-radius: 20px; box-shadow: 0 8px 20px rgba(0,0,0,0.15); position: relative; overflow: hidden;">
                    
                    <!-- Content -->
                    <div style="position: relative; z-index: 1;">
                        <p style="color: #4A5568; margin-bottom: 20px; font-size: 15px; line-height: 1.6; font-weight: 500;">
                            ·Éì·Éê·Éí·Éï·Éò·É°·Éï·Éò ·Éô·Éò·Éó·ÉÆ·Éï·Éê, ·Éõ·Éù·Éí·Éï·Éê·É¨·Éù·Éì·Éî ·É®·Éî·Éú·Éò ·É£·Éô·É£·Éô·Éê·Éï·É®·Éò·É†·Éò ·Éê·Éú ·Éí·Éê·Éí·Éï·Éò·Éñ·Éò·Éê·É†·Éî ·É†·Éî·Éô·Éù·Éõ·Éî·Éú·Éì·Éê·É™·Éò·Éê ·Éê·Éû·Éö·Éò·Éô·Éê·É™·Éò·Éò·É° ·Éí·Éê·É£·Éõ·ÉØ·Éù·Éë·Éî·É°·Éî·Éë·Éò·É°·Éê·Éó·Éï·Éò·É°.
                        </p>
                        
                        <div style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 8px; color: #374151; font-weight: 600;">·É®·Éî·Éú·Éò ·É®·Éî·É¢·Éß·Éù·Éë·Éò·Éú·Éî·Éë·Éê:</label>
                            <textarea id="supportMessageText" placeholder="·Éì·Éê·É¨·Éî·É†·Éî ·É®·Éî·Éú·Éò ·Éô·Éò·Éó·ÉÆ·Éï·Éê ·Éê·Éú ·É†·Éî·Éô·Éù·Éõ·Éî·Éú·Éì·Éê·É™·Éò·Éê..." style="width: 100%; min-height: 120px; padding: 15px; border: 2px solid #E0E0E0; border-radius: 12px; font-size: 14px; font-family: inherit; resize: vertical; box-sizing: border-box; background: white; box-shadow: 0 2px 8px rgba(0,0,0,0.1);"></textarea>
                        </div>
                        
                        <button onclick="sendWhatsAppMessage()" style="width: 100%; padding: 15px; background: #25D366; color: white; border: none; border-radius: 12px; font-size: 16px; font-weight: 600; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 8px; box-shadow: 0 4px 12px rgba(37,211,102,0.3); transition: all 0.3s;">
                            <span style="font-size: 20px;">üì±</span> WhatsApp-·Éò·Éó ·Éí·Éê·Éí·Éñ·Éê·Éï·Éú·Éê
                        </button>
                        
                        <div style="margin-top: 20px; padding-top: 20px; border-top: 2px solid rgba(255,255,255,0.5);">
                            <p style="color: #2d3748; font-size: 14px; margin: 0; font-weight: 500;">
                                <strong>·Éô·Éù·Éú·É¢·Éê·É•·É¢·Éò:</strong> +995599444405
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Resources Modal -->
            <div id="resourcesModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; overflow-y: auto;">
                <div style="background: white; max-width: 800px; margin: 30px auto; border-radius: 12px; padding: 40px 20px; min-height: 650px; display: flex; flex-direction: column;">
                    <h2 style="color: #667eea; margin-bottom: 25px; text-align: center; font-size: 22px;">üåü ·Éê·ÉÆ·Éê·Éö·Éò ·É†·Éî·É°·É£·É†·É°·Éò·É° ·Éì·Éê·Éõ·Éê·É¢·Éî·Éë·Éê</h2>
                    
                    <!-- Question 1: Resource Description -->
                    <div style="margin-bottom: 25px;">
                        <label style="display: block; margin-bottom: 10px; color: #333; font-size: 15px; font-weight: 600;">1Ô∏è‚É£ ·Éó·É£ ·Éí·Éê·É•·Éï·É° ·É†·Éê·Éò·Éõ·Éî ·É†·Éî·É°·É£·É†·É°·Éò, ·É†·Éù·Éõ·Éî·Éö·Éò·É™ ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éê·É®·Éò ·Éõ·Éù·Éí·Éî·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê?</label>
                        <p style="color: #666; font-size: 13px; margin-bottom: 10px;">·Éî·É° ·É®·Éî·Éò·É´·Éö·Éî·Éë·Éê ·Éò·Éß·Éù·É°: ·Éó·Éï·Éò·É°·Éî·Éë·Éê, ·É£·Éú·Éê·É†·Éò, ·É†·É¨·Éõ·É£·Éú·Éî·Éë·É£·Éö·Éî·Éë·Éê, ·Éû·É†·Éò·Éú·É™·Éò·Éû·Éò, ·Éí·Éê·É†·É®·Éî·Éõ·Éù·Éõ·Éß·Éù·É§·Éî·Éë·Éò·É° ·Éõ·ÉÆ·Éê·É†·Éì·Éê·É≠·Éî·É†·Éê ·Éì·Éê ·Éê.·É®.</p>
                        <textarea id="resourceDescription" placeholder="·Éõ·Éê·Éí: ·É©·Éî·Éõ·Éò ·Éù·ÉØ·Éê·ÉÆ·Éò·É° ·Éõ·ÉÆ·Éê·É†·Éì·Éê·É≠·Éî·É†·Éê, ·É°·Éò·Éõ·É¢·Éô·Éò·É™·Éî, ·É†·É¨·Éõ·Éî·Éú·Éê..." style="width: 100%; min-height: 100px; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px; font-family: inherit; resize: vertical; box-sizing: border-box;"></textarea>
                    </div>
                    
                    <!-- Question 2: Three Experiences -->
                    <div style="margin-bottom: 25px;">
                        <label style="display: block; margin-bottom: 10px; color: #333; font-size: 15px; font-weight: 600;">2Ô∏è‚É£ ·É™·ÉÆ·Éù·Éï·É†·Éî·Éë·Éê·É®·Éò ·Éó·É£ ·Éí·Éê·Éõ·Éù·Éí·Éò·Éß·Éî·Éú·Éî·Éë·Éò·Éê ·Éî·É° ·É†·Éî·É°·É£·É†·É°·Éò? ·Éê·É¶·É¨·Éî·É†·Éî ·É°·Éê·Éõ·Éò ·Éí·Éê·Éú·É°·ÉÆ·Éï·Éê·Éï·Éî·Éë·É£·Éö·Éò ·Éí·Éê·Éõ·Éù·É™·Éì·Éò·Éö·Éî·Éë·Éê</label>
                        
                        <div style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; color: #666; font-size: 14px;">·Éí·Éê·Éõ·Éù·É™·Éì·Éò·Éö·Éî·Éë·Éê 1:</label>
                            <textarea id="resourceExperience1" placeholder="·Éê·É¶·É¨·Éî·É†·Éî ·Éû·Éò·É†·Éï·Éî·Éö·Éò ·É®·Éî·Éõ·Éó·ÉÆ·Éï·Éî·Éï·Éê..." style="width: 100%; min-height: 80px; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px; font-family: inherit; resize: vertical; box-sizing: border-box;"></textarea>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; color: #666; font-size: 14px;">·Éí·Éê·Éõ·Éù·É™·Éì·Éò·Éö·Éî·Éë·Éê 2:</label>
                            <textarea id="resourceExperience2" placeholder="·Éê·É¶·É¨·Éî·É†·Éî ·Éõ·Éî·Éù·É†·Éî ·É®·Éî·Éõ·Éó·ÉÆ·Éï·Éî·Éï·Éê..." style="width: 100%; min-height: 80px; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px; font-family: inherit; resize: vertical; box-sizing: border-box;"></textarea>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; color: #666; font-size: 14px;">·Éí·Éê·Éõ·Éù·É™·Éì·Éò·Éö·Éî·Éë·Éê 3:</label>
                            <textarea id="resourceExperience3" placeholder="·Éê·É¶·É¨·Éî·É†·Éî ·Éõ·Éî·É°·Éê·Éõ·Éî ·É®·Éî·Éõ·Éó·ÉÆ·Éï·Éî·Éï·Éê..." style="width: 100%; min-height: 80px; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px; font-family: inherit; resize: vertical; box-sizing: border-box;"></textarea>
                        </div>
                    </div>
                    
                    <!-- Question 3: Three Results -->
                    <div style="margin-bottom: 25px;">
                        <label style="display: block; margin-bottom: 10px; color: #333; font-size: 15px; font-weight: 600;">3Ô∏è‚É£ ·É†·Éê ·É®·Éî·Éì·Éî·Éí·Éò ·Éõ·Éò·Éí·Éò·É¶·Éò·Éê?</label>
                        
                        <div style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; color: #666; font-size: 14px;">·É®·Éî·Éì·Éî·Éí·Éò 1:</label>
                            <textarea id="resourceResult1" placeholder="·Éê·É¶·É¨·Éî·É†·Éî ·Éû·Éò·É†·Éï·Éî·Éö·Éò ·É®·Éî·Éì·Éî·Éí·Éò..." style="width: 100%; min-height: 80px; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px; font-family: inherit; resize: vertical; box-sizing: border-box;"></textarea>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; color: #666; font-size: 14px;">·É®·Éî·Éì·Éî·Éí·Éò 2:</label>
                            <textarea id="resourceResult2" placeholder="·Éê·É¶·É¨·Éî·É†·Éî ·Éõ·Éî·Éù·É†·Éî ·É®·Éî·Éì·Éî·Éí·Éò..." style="width: 100%; min-height: 80px; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px; font-family: inherit; resize: vertical; box-sizing: border-box;"></textarea>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; color: #666; font-size: 14px;">·É®·Éî·Éì·Éî·Éí·Éò 3:</label>
                            <textarea id="resourceResult3" placeholder="·Éê·É¶·É¨·Éî·É†·Éî ·Éõ·Éî·É°·Éê·Éõ·Éî ·É®·Éî·Éì·Éî·Éí·Éò..." style="width: 100%; min-height: 80px; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px; font-family: inherit; resize: vertical; box-sizing: border-box;"></textarea>
                        </div>
                    </div>
                    
                    <div style="display: flex; gap: 15px; margin-top: auto;">
                        <button class="btn btn-primary" onclick="saveResource()" style="flex: 1;">‚úì ·É®·Éî·Éú·Éê·ÉÆ·Éï·Éê</button>
                        <button class="btn btn-secondary" onclick="closeResourcesModal()" style="flex: 1;">·Éí·Éê·É£·É•·Éõ·Éî·Éë·Éê</button>
                    </div>
                </div>
            </div>

            <!-- Add Goal Modal -->
            <div id="addGoalModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; overflow-y: auto; padding: 20px 0;">
                <div style="background: white; max-width: 600px; margin: 20px auto; border-radius: 15px; padding: 25px 20px; box-shadow: 0 4px 20px rgba(0,0,0,0.2);">
                    <h2 style="color: #374151; margin-bottom: 20px; text-align: center; font-size: 22px;">üéØ ·Éê·ÉÆ·Éê·Éö·Éò ·Éõ·Éò·Éñ·Éê·Éú·Éò</h2>
                    
                    <!-- Goal Name -->
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; color: #374151; font-size: 15px; font-weight: 600;">·Éõ·Éò·Éñ·Éú·Éò·É° ·É°·Éê·ÉÆ·Éî·Éö·Éò:</label>
                        <input type="text" id="goalName" placeholder="·Éõ·Éê·Éí: ·Éï·Éê·É†·ÉØ·Éò·É®·Éò, ·Éê·ÉÆ·Éê·Éö·Éò ·Éû·É†·Éù·Éî·É•·É¢·Éò, ·É¨·Éò·Éí·Éú·Éò·É° ·Éô·Éò·Éó·ÉÆ·Éï·Éê..." style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 10px; font-size: 16px; font-family: inherit; box-sizing: border-box;">
                    </div>
                    
                    <!-- Goal Description (Optional) -->
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; color: #374151; font-size: 15px; font-weight: 600;">·Éì·Éî·É¢·Éê·Éö·É£·É†·Éò ·Éê·É¶·É¨·Éî·É†·Éê <span style="color: #9ca3af; font-weight: 400;">(·Éê·É†·É©·Éî·Éï·Éò·Éó·Éò)</span>:</label>
                        <textarea id="goalDescription" placeholder="·É†·Éê·É° ·Éí·É£·Éö·Éò·É°·ÉÆ·Éõ·Éù·Éë·É° ·Éî·É° ·Éõ·Éò·Éñ·Éê·Éú·Éò?" style="width: 100%; min-height: 80px; padding: 12px; border: 2px solid #e5e7eb; border-radius: 10px; font-size: 15px; font-family: inherit; resize: vertical; box-sizing: border-box;"></textarea>
                    </div>
                    
                    <!-- Daily Action -->
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; color: #374151; font-size: 15px; font-weight: 600;">·Éß·Éù·Éï·Éî·Éö·Éì·É¶·Éò·É£·É†·Éò ·Éõ·Éù·É•·Éõ·Éî·Éì·Éî·Éë·Éê:</label>
                        <input type="text" id="goalDailyAction" placeholder='·Éõ·Éê·Éí: "·Éì·É¶·Éî·É®·Éò 30 ·É¨·É£·Éó·Éò ·Éï·Éò·Éï·Éê·É†·ÉØ·Éò·É®·Éù"' style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 10px; font-size: 16px; font-family: inherit; box-sizing: border-box;">
                    </div>
                    
                    <!-- Frequency per Week -->
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; color: #374151; font-size: 15px; font-weight: 600;">·Éô·Éï·Éò·É†·Éê·É®·Éò ·É†·Éê·Éõ·Éì·Éî·Éú·ÉØ·Éî·É†?</label>
                        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 15px;">
                            <select id="goalFrequency" style="width: 80px; padding: 12px; border: 2px solid #e5e7eb; border-radius: 10px; font-size: 18px; text-align: center; box-sizing: border-box; background: white; cursor: pointer;">
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3" selected>3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                                <option value="7">7</option>
                            </select>
                            <span style="color: #6b7280;">·ÉØ·Éî·É†/·Éô·Éï·Éò·É†·Éê·É®·Éò</span>
                        </div>
                        
                        <!-- Day Selection Buttons -->
                        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; margin-bottom: 10px;">
                            <button type="button" onclick="toggleDayButton('monday', this)" class="day-button" data-day="monday" style="padding: 10px 8px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 14px; transition: all 0.2s;">·Éù·É†·É®</button>
                            <button type="button" onclick="toggleDayButton('tuesday', this)" class="day-button" data-day="tuesday" style="padding: 10px 8px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 14px; transition: all 0.2s;">·É°·Éê·Éõ</button>
                            <button type="button" onclick="toggleDayButton('wednesday', this)" class="day-button" data-day="wednesday" style="padding: 10px 8px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 14px; transition: all 0.2s;">·Éù·Éó·ÉÆ</button>
                            <button type="button" onclick="toggleDayButton('thursday', this)" class="day-button" data-day="thursday" style="padding: 10px 8px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 14px; transition: all 0.2s;">·ÉÆ·É£·Éó</button>
                        </div>
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px;">
                            <button type="button" onclick="toggleDayButton('friday', this)" class="day-button" data-day="friday" style="padding: 10px 8px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 14px; transition: all 0.2s;">·Éû·Éê·É†</button>
                            <button type="button" onclick="toggleDayButton('saturday', this)" class="day-button" data-day="saturday" style="padding: 10px 8px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 14px; transition: all 0.2s;">·É®·Éê·Éë</button>
                            <button type="button" onclick="toggleDayButton('sunday', this)" class="day-button" data-day="sunday" style="padding: 10px 8px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 14px; transition: all 0.2s;">·Éô·Éï·Éò·É†</button>
                        </div>
                    </div>
                    
                    <!-- Duration -->
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 12px; color: #374151; font-size: 15px; font-weight: 600;">·Éõ·Éò·Éñ·Éú·Éò·É° ·Éï·Éê·Éì·Éê:</label>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                            <label style="display: flex; align-items: center; gap: 8px; padding: 12px; background: #f9fafb; border: 2px solid #e5e7eb; border-radius: 10px; cursor: pointer;">
                                <input type="radio" name="duration" value="1" style="width: 16px; height: 16px;">
                                <span>1 ·Éó·Éï·Éî</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; padding: 12px; background: #f9fafb; border: 2px solid #e5e7eb; border-radius: 10px; cursor: pointer;">
                                <input type="radio" name="duration" value="3" checked style="width: 16px; height: 16px;">
                                <span>3 ·Éó·Éï·Éî</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; padding: 12px; background: #f9fafb; border: 2px solid #e5e7eb; border-radius: 10px; cursor: pointer;">
                                <input type="radio" name="duration" value="6" style="width: 16px; height: 16px;">
                                <span>6 ·Éó·Éï·Éî</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; padding: 12px; background: #f9fafb; border: 2px solid #e5e7eb; border-radius: 10px; cursor: pointer;">
                                <input type="radio" name="duration" value="9" style="width: 16px; height: 16px;">
                                <span>9 ·Éó·Éï·Éî</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; padding: 12px; background: #f9fafb; border: 2px solid #e5e7eb; border-radius: 10px; cursor: pointer;">
                                <input type="radio" name="duration" value="12" style="width: 16px; height: 16px;">
                                <span>1 ·É¨·Éî·Éö·Éò</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; padding: 12px; background: #f9fafb; border: 2px solid #e5e7eb; border-radius: 10px; cursor: pointer;">
                                <input type="radio" name="duration" value="unlimited" style="width: 16px; height: 16px;">
                                <span>·É£·Éï·Éê·Éì·Éù</span>
                            </label>
                        </div>
                        
                        <!-- Custom Duration -->
                        <div style="margin-top: 15px;">
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="radio" name="duration" value="custom" style="width: 16px; height: 16px;">
                                <span style="color: #374151;">·É°·ÉÆ·Éï·Éê ·Éï·Éê·Éì·Éê:</span>
                                <input type="number" id="customDuration" min="1" placeholder="·É†·Éê·Éù·Éì·Éî·Éú·Éù·Éë·Éê" style="width: 100px; padding: 8px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 15px; box-sizing: border-box;">
                                <select id="customDurationUnit" style="padding: 8px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 15px;">
                                    <option value="days">·Éì·É¶·Éî</option>
                                    <option value="months">·Éó·Éï·Éî</option>
                                </select>
                            </label>
                        </div>
                    </div>
                    
                    <!-- Connection to Recovery -->
                    <div style="margin-bottom: 25px;">
                        <label style="display: block; margin-bottom: 8px; color: #374151; font-size: 15px; font-weight: 600;">ü§î ·É†·Éù·Éí·Éù·É† ·Éê·É†·Éò·É° ·Éì·Éê·Éô·Éê·Éï·É®·Éò·É†·Éî·Éë·É£·Éö·Éò ·Éî·É° ·Éõ·Éò·Éñ·Éê·Éú·Éò ·É®·Éî·Éú·É° ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éê·É°·Éó·Éê·Éú?</label>
                        <textarea id="goalConnection" placeholder="·Éõ·Éê·Éí: ·Éï·Éê·É†·ÉØ·Éò·É®·Éò ·Éõ·Éî·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê ·É°·É¢·É†·Éî·É°·Éò·É° ·Éì·Éê·É´·Éö·Éî·Éï·Éê·É®·Éò, ·Éî·Éõ·Éù·É™·Éò·É£·É† ·É†·Éî·Éí·É£·Éö·Éê·É™·Éò·Éê·É®·Éò ·Éì·Éê ·ÉØ·Éê·Éú·É°·Éê·É¶·Éò ·É†·É£·É¢·Éò·Éú·Éò·É° ·É®·Éî·É•·Éõ·Éú·Éê·É®·Éò, ·É†·Éê·É™ ·É°·Éò·É§·ÉÆ·Éò·Éñ·Éö·Éò·É° ·É®·Éî·Éú·Éê·É†·É©·É£·Éú·Éî·Éë·Éê·É®·Éò ·Éõ·Éî·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê. ·É°·Éò·É§·ÉÆ·Éò·Éñ·Éö·Éî ·Éõ·Éî·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê ·Éõ·É•·Éù·Éú·Éì·Éî·É° ·Éî·Éú·Éî·É†·Éí·Éò·Éê ·Éì·Éê ·Éõ·Éù·É¢·Éò·Éï·Éê·É™·Éò·Éê ·É†·Éî·Éí·É£·Éö·Éê·É†·É£·Éö·Éê·Éì ·Éï·Éò·Éï·Éê·É†·ÉØ·Éò·É®·Éù." style="width: 100%; min-height: 100px; padding: 12px; border: 2px solid #e5e7eb; border-radius: 10px; font-size: 15px; font-family: inherit; resize: vertical; box-sizing: border-box;"></textarea>
                    </div>
                    
                    <!-- Buttons -->
                    <div style="display: flex; gap: 15px;">
                        <button onclick="saveGoal()" class="btn btn-primary" style="flex: 1; padding: 14px; font-size: 16px;">·Éì·Éê·Éõ·Éê·É¢·Éî·Éë·Éê</button>
                        <button onclick="closeAddGoalModal()" class="btn btn-secondary" style="flex: 1; padding: 14px; font-size: 16px;">·Éí·Éê·É£·É•·Éõ·Éî·Éë·Éê</button>
                    </div>
                </div>
            </div>

            <!-- My Space Activities Modal -->
            <div id="mySpaceActivitiesModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; overflow-y: auto; padding: 20px 0;">
                <div style="background: white; max-width: 600px; margin: 20px auto; border-radius: 15px; padding: 25px 20px; box-shadow: 0 4px 20px rgba(0,0,0,0.2);">
                    <h2 style="color: #374151; margin-bottom: 20px; text-align: center; font-size: 22px;">üéØ ·É©·Éî·Éõ·Éò ·É°·Éò·Éï·É†·É™·Éò·É° ·Éê·É•·É¢·Éò·Éï·Éù·Éë·Éî·Éë·Éò</h2>
                    
                    <!-- Gratitude Activity -->
                    <div style="border: 2px solid #e5e7eb; border-radius: 12px; padding: 15px; margin-bottom: 15px;">
                        <label style="display: flex; align-items: center; gap: 12px; cursor: pointer; margin-bottom: 15px;">
                            <input type="checkbox" id="activityGratitude" style="width: 20px; height: 20px; cursor: pointer;">
                            <span style="font-size: 18px; font-weight: 600; color: #374151;">üôè ·Éõ·Éê·Éì·Éö·Éò·Éî·É†·Éî·Éë·Éò·É° ·Éì·É¶·Éò·É£·É†·Éò</span>
                        </label>
                        
                        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 12px;">
                            <label style="color: #6b7280; font-size: 14px;">·Éô·Éï·Éò·É†·Éê·É®·Éò:</label>
                            <select id="gratitudeFrequency" style="padding: 8px 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 15px; background: white; cursor: pointer;">
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5" selected>5</option>
                                <option value="6">6</option>
                                <option value="7">7</option>
                            </select>
                            <span style="color: #6b7280; font-size: 14px;">·ÉØ·Éî·É†</span>
                        </div>
                        
                        <div>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; margin-bottom: 10px;">
                                <input type="checkbox" id="gratitudeSpecificDays" onchange="toggleActivityDays('gratitude')" style="width: 16px; height: 16px; cursor: pointer;">
                                <span style="color: #6b7280; font-size: 14px;">·Éô·Éù·Éú·Éô·É†·Éî·É¢·É£·Éö·Éò ·Éì·É¶·Éî·Éë·Éò·É° ·Éê·É†·É©·Éî·Éï·Éê</span>
                            </label>
                            
                            <div id="gratitudeDaysContainer" style="display: none;">
                                <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 6px; margin-bottom: 8px;">
                                    <button type="button" onclick="toggleActivityDayButton('gratitude', 'monday', this)" class="activity-day-btn gratitude-day" data-day="monday" style="padding: 8px 6px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 13px;">·Éù·É†·É®</button>
                                    <button type="button" onclick="toggleActivityDayButton('gratitude', 'tuesday', this)" class="activity-day-btn gratitude-day" data-day="tuesday" style="padding: 8px 6px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 13px;">·É°·Éê·Éõ</button>
                                    <button type="button" onclick="toggleActivityDayButton('gratitude', 'wednesday', this)" class="activity-day-btn gratitude-day" data-day="wednesday" style="padding: 8px 6px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 13px;">·Éù·Éó·ÉÆ</button>
                                    <button type="button" onclick="toggleActivityDayButton('gratitude', 'thursday', this)" class="activity-day-btn gratitude-day" data-day="thursday" style="padding: 8px 6px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 13px;">·ÉÆ·É£·Éó</button>
                                </div>
                                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 6px;">
                                    <button type="button" onclick="toggleActivityDayButton('gratitude', 'friday', this)" class="activity-day-btn gratitude-day" data-day="friday" style="padding: 8px 6px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 13px;">·Éû·Éê·É†</button>
                                    <button type="button" onclick="toggleActivityDayButton('gratitude', 'saturday', this)" class="activity-day-btn gratitude-day" data-day="saturday" style="padding: 8px 6px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 13px;">·É®·Éê·Éë</button>
                                    <button type="button" onclick="toggleActivityDayButton('gratitude', 'sunday', this)" class="activity-day-btn gratitude-day" data-day="sunday" style="padding: 8px 6px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 13px;">·Éô·Éï·Éò·É†</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Positive Moments Activity -->
                    <div style="border: 2px solid #e5e7eb; border-radius: 12px; padding: 15px; margin-bottom: 15px;">
                        <label style="display: flex; align-items: center; gap: 12px; cursor: pointer; margin-bottom: 15px;">
                            <input type="checkbox" id="activityPositive" style="width: 20px; height: 20px; cursor: pointer;">
                            <span style="font-size: 18px; font-weight: 600; color: #374151;">‚ú® ·Éû·Éù·Éñ·Éò·É¢·Éò·É£·É†·Éò ·Éõ·Éù·Éõ·Éî·Éú·É¢·Éî·Éë·Éò</span>
                        </label>
                        
                        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 12px;">
                            <label style="color: #6b7280; font-size: 14px;">·Éô·Éï·Éò·É†·Éê·É®·Éò:</label>
                            <select id="positiveFrequency" style="padding: 8px 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 15px; background: white; cursor: pointer;">
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                                <option value="7" selected>7</option>
                            </select>
                            <span style="color: #6b7280; font-size: 14px;">·ÉØ·Éî·É†</span>
                        </div>
                        
                        <div>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; margin-bottom: 10px;">
                                <input type="checkbox" id="positiveSpecificDays" onchange="toggleActivityDays('positive')" style="width: 16px; height: 16px; cursor: pointer;">
                                <span style="color: #6b7280; font-size: 14px;">·Éô·Éù·Éú·Éô·É†·Éî·É¢·É£·Éö·Éò ·Éì·É¶·Éî·Éë·Éò·É° ·Éê·É†·É©·Éî·Éï·Éê</span>
                            </label>
                            
                            <div id="positiveDaysContainer" style="display: none;">
                                <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 6px; margin-bottom: 8px;">
                                    <button type="button" onclick="toggleActivityDayButton('positive', 'monday', this)" class="activity-day-btn positive-day" data-day="monday" style="padding: 8px 6px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 13px;">·Éù·É†·É®</button>
                                    <button type="button" onclick="toggleActivityDayButton('positive', 'tuesday', this)" class="activity-day-btn positive-day" data-day="tuesday" style="padding: 8px 6px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 13px;">·É°·Éê·Éõ</button>
                                    <button type="button" onclick="toggleActivityDayButton('positive', 'wednesday', this)" class="activity-day-btn positive-day" data-day="wednesday" style="padding: 8px 6px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 13px;">·Éù·Éó·ÉÆ</button>
                                    <button type="button" onclick="toggleActivityDayButton('positive', 'thursday', this)" class="activity-day-btn positive-day" data-day="thursday" style="padding: 8px 6px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 13px;">·ÉÆ·É£·Éó</button>
                                </div>
                                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 6px;">
                                    <button type="button" onclick="toggleActivityDayButton('positive', 'friday', this)" class="activity-day-btn positive-day" data-day="friday" style="padding: 8px 6px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 13px;">·Éû·Éê·É†</button>
                                    <button type="button" onclick="toggleActivityDayButton('positive', 'saturday', this)" class="activity-day-btn positive-day" data-day="saturday" style="padding: 8px 6px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 13px;">·É®·Éê·Éë</button>
                                    <button type="button" onclick="toggleActivityDayButton('positive', 'sunday', this)" class="activity-day-btn positive-day" data-day="sunday" style="padding: 8px 6px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 13px;">·Éô·Éï·Éò·É†</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Self-Satisfaction Activity -->
                    <div style="border: 2px solid #e5e7eb; border-radius: 12px; padding: 15px; margin-bottom: 20px;">
                        <label style="display: flex; align-items: center; gap: 12px; cursor: pointer; margin-bottom: 15px;">
                            <input type="checkbox" id="activitySatisfaction" style="width: 20px; height: 20px; cursor: pointer;">
                            <span style="font-size: 18px; font-weight: 600; color: #374151;">üíé ·Éó·Éï·Éò·Éó·Éô·Éõ·Éê·Éß·Éù·É§·Éò·Éö·Éî·Éë·Éê</span>
                        </label>
                        
                        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 12px;">
                            <label style="color: #6b7280; font-size: 14px;">·Éô·Éï·Éò·É†·Éê·É®·Éò:</label>
                            <select id="satisfactionFrequency" style="padding: 8px 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 15px; background: white; cursor: pointer;">
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3" selected>3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                                <option value="7">7</option>
                            </select>
                            <span style="color: #6b7280; font-size: 14px;">·ÉØ·Éî·É†</span>
                        </div>
                        
                        <div>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; margin-bottom: 10px;">
                                <input type="checkbox" id="satisfactionSpecificDays" onchange="toggleActivityDays('satisfaction')" style="width: 16px; height: 16px; cursor: pointer;">
                                <span style="color: #6b7280; font-size: 14px;">·Éô·Éù·Éú·Éô·É†·Éî·É¢·É£·Éö·Éò ·Éì·É¶·Éî·Éë·Éò·É° ·Éê·É†·É©·Éî·Éï·Éê</span>
                            </label>
                            
                            <div id="satisfactionDaysContainer" style="display: none;">
                                <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 6px; margin-bottom: 8px;">
                                    <button type="button" onclick="toggleActivityDayButton('satisfaction', 'monday', this)" class="activity-day-btn satisfaction-day" data-day="monday" style="padding: 8px 6px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 13px;">·Éù·É†·É®</button>
                                    <button type="button" onclick="toggleActivityDayButton('satisfaction', 'tuesday', this)" class="activity-day-btn satisfaction-day" data-day="tuesday" style="padding: 8px 6px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 13px;">·É°·Éê·Éõ</button>
                                    <button type="button" onclick="toggleActivityDayButton('satisfaction', 'wednesday', this)" class="activity-day-btn satisfaction-day" data-day="wednesday" style="padding: 8px 6px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 13px;">·Éù·Éó·ÉÆ</button>
                                    <button type="button" onclick="toggleActivityDayButton('satisfaction', 'thursday', this)" class="activity-day-btn satisfaction-day" data-day="thursday" style="padding: 8px 6px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 13px;">·ÉÆ·É£·Éó</button>
                                </div>
                                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 6px;">
                                    <button type="button" onclick="toggleActivityDayButton('satisfaction', 'friday', this)" class="activity-day-btn satisfaction-day" data-day="friday" style="padding: 8px 6px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 13px;">·Éû·Éê·É†</button>
                                    <button type="button" onclick="toggleActivityDayButton('satisfaction', 'saturday', this)" class="activity-day-btn satisfaction-day" data-day="saturday" style="padding: 8px 6px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 13px;">·É®·Éê·Éë</button>
                                    <button type="button" onclick="toggleActivityDayButton('satisfaction', 'sunday', this)" class="activity-day-btn satisfaction-day" data-day="sunday" style="padding: 8px 6px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 13px;">·Éô·Éï·Éò·É†</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Buttons -->
                    <div style="display: flex; gap: 15px;">
                        <button onclick="saveMySpaceActivities()" class="btn btn-primary" style="flex: 1; padding: 14px; font-size: 16px;">·Éì·Éê·Éõ·Éê·É¢·Éî·Éë·Éê</button>
                        <button onclick="closeMySpaceActivitiesModal()" class="btn btn-secondary" style="flex: 1; padding: 14px; font-size: 16px;">·Éí·Éê·É£·É•·Éõ·Éî·Éë·Éê</button>
                    </div>
                </div>
            </div>

            <!-- Motivations View -->
            <div id="motivationsSection" class="section">
                <h2 style="margin-bottom: 20px; font-family: 'Georgia', 'Garamond', serif; font-style: italic; color: #5B21B6; font-size: 28px; letter-spacing: 2px;">üí≠ ·É©·Éî·Éõ·Éò ·Éõ·Éù·É¢·Éò·Éï·Éê·É™·Éò·Éî·Éë·Éò</h2>
                
                <!-- Four main buttons -->
                <button class="motivation-btn" onclick="showUsageMotivationsView()">
                    üíä ·É†·Éò·É°·Éó·Éï·Éò·É° ·Éï·Éò·Éß·Éî·Éú·Éî·Éë·Éì·Éò ·Éú·Éò·Éï·Éó·Éò·Éî·É†·Éî·Éë·Éê·É°?
                </button>
                
                <button class="motivation-btn" onclick="showRecoveryMotivationsView()">
                    üåü ·É†·Éê·É¢·Éù·Éõ ·Éõ·Éò·Éú·Éì·Éê ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éê?
                </button>
                
                <button class="motivation-btn" onclick="showFutureVision()">
                    üîÆ ·É†·Éù·Éí·Éù·É†·Éò ·Éò·É•·Éú·Éî·Éë·Éê ·É©·Éî·Éõ·Éò ·Éõ·Éù·Éõ·Éê·Éï·Éê·Éö·Éò?
                </button>
                
                <button class="motivation-btn" onclick="showReadinessAssessment()">
                    üìä ·É†·Éê·Éõ·Éì·Éî·Éú·Éê·Éì ·Éõ·Éñ·Éê·Éì ·Éï·Éê·É† ·É™·Éï·Éö·Éò·Éö·Éî·Éë·Éò·É°·Éó·Éï·Éò·É°?
                </button>
                
                <button class="motivation-btn" onclick="showGoals()" style="display: none;">
                    üéØ ·É©·Éî·Éõ·Éò ·Éõ·Éò·Éñ·Éú·Éî·Éë·Éò
                </button>
                
                <button class="motivation-btn" onclick="showSavings()">
                    üí∞ ·É©·Éî·Éõ·Éò ·Éì·Éê·Éú·Éê·Éñ·Éù·Éí·Éî·Éë·Éò
                </button>
                
                <button class="btn" onclick="backToDashboard()" style="margin-top: 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">‚Üê Dashboard-·Éñ·Éî ·Éì·Éê·Éë·É†·É£·Éú·Éî·Éë·Éê</button>
            </div>
            
            <!-- Usage Motivations Detail View -->
            <div id="usageMotivationsViewSection" class="section">
                <h2 style="margin-bottom: 20px;">üíä ·É†·Éò·É°·Éó·Éï·Éò·É° ·Éï·Éò·Éß·Éî·Éú·Éî·Éë·Éì·Éò ·Éú·Éò·Éï·Éó·Éò·Éî·É†·Éî·Éë·Éê·É°?</h2>
                
                <!-- Remember Button -->
                <button class="motivation-btn" onclick="showRememberModal()" style="margin-bottom: 20px;">
                    üí° ·Éí·Éê·ÉÆ·É°·Éù·Éï·Éì·Éî·É°!
                </button>
                
                <div id="viewUsageMotivations"></div>
                <div style="margin-top: 15px;">
                    <button class="btn btn-secondary" onclick="showUsageModal()" style="width: auto; padding: 10px 20px;">+ ·Éì·Éê·Éõ·Éê·É¢·Éî·Éë·Éê</button>
                </div>
                <button class="btn btn-primary" onclick="showSection('motivations')" style="margin-top: 20px;">‚Üê ·É£·Éô·Éê·Éú</button>
            </div>
            
            <!-- Recovery Motivations Detail View -->
            <div id="recoveryMotivationsViewSection" class="section">
                <h2 style="margin-bottom: 20px;">üåü ·É†·Éê·É¢·Éù·Éõ ·Éõ·Éò·Éú·Éì·Éê ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éê?</h2>
                <div id="viewRecoveryMotivations"></div>
                <div style="margin-top: 15px;">
                    <button class="btn btn-secondary" onclick="showRecoveryModal()" style="width: auto; padding: 10px 20px;">+ ·Éì·Éê·Éõ·Éê·É¢·Éî·Éë·Éê</button>
                </div>
                <button class="btn btn-primary" onclick="showSection('motivations')" style="margin-top: 20px;">‚Üê ·É£·Éô·Éê·Éú</button>
            </div>
            
            <!-- Future Vision Section -->
            <div id="futureVisionSection" class="section">
                <h2 style="margin-bottom: 20px;">üîÆ ·É†·Éù·Éí·Éù·É†·Éò ·Éò·É•·Éú·Éî·Éë·Éê ·É©·Éî·Éõ·Éò ·Éõ·Éù·Éõ·Éê·Éï·Éê·Éö·Éò?</h2>
                
                <!-- Question 1: If continued using -->
                <div style="background: #d1d5db; padding: 20px; border-radius: 12px; margin-bottom: 20px; border-left: 4px solid #6b7280;">
                    <h3 style="color: #1f2937; font-size: 16px; margin-bottom: 15px;">
                        üìâ ·É†·Éù·Éí·Éù·É†·Éò ·Éò·É•·Éú·Éî·Éë·Éù·Éì·Éê ·É®·Éî·Éú·Éò ·É™·ÉÆ·Éù·Éï·É†·Éî·Éë·Éê 2 ·É¨·Éî·Éö·Éò·É¨·Éê·Éì·É®·Éò, ·Éó·É£ ·Éí·Éê·Éê·Éí·É†·É´·Éî·Éö·Éî·Éë·Éì·Éò ·Éõ·Éù·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê·É° ·Éò·Éí·Éò·Éï·Éî ·Éù·Éì·Éî·Éú·Éù·Éë·Éò·Éó ·Éê·Éú ·Éì·Éù·Éñ·Éê ·Éô·Éò·Éì·Éî·Éï ·É£·É§·É†·Éù ·Éí·Éê·Éò·Éñ·É†·Éì·Éî·Éë·Éù·Éì·Éê?
                    </h3>
                    <textarea 
                        id="futureIfContinued" 
                        placeholder="·Éê·É¶·É¨·Éî·É†·Éî ·Éì·Éî·É¢·Éê·Éö·É£·É†·Éê·Éì..." 
                        style="width: 100%; padding: 12px; border-radius: 8px; border: 2px solid #9ca3af; font-size: 14px; font-family: inherit; min-height: 150px; background: white;"
                    ></textarea>
                </div>
                
                <!-- Question 2: If recovered -->
                <div style="background: #d1d5db; padding: 20px; border-radius: 12px; margin-bottom: 20px; border-left: 4px solid #6b7280;">
                    <h3 style="color: #1f2937; font-size: 16px; margin-bottom: 15px;">
                        üåü ·É†·Éù·Éí·Éù·É†·Éò ·Éò·É•·Éú·Éî·Éë·Éê ·É®·Éî·Éú·Éò ·É™·ÉÆ·Éù·Éï·É†·Éî·Éë·Éê 2 ·É¨·Éî·Éö·Éò·É¨·Éê·Éì·É®·Éò, ·Éó·É£ ·É¨·Éê·É†·Éõ·Éê·É¢·Éî·Éë·Éò·Éó ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éì·Éî·Éë·Éò? ·É†·Éò·Éó·Éò ·Éò·É•·Éú·Éî·Éë·Éê ·É®·Éî·Éú·Éò ·Éê·ÉÆ·Éê·Éö·Éò ·É™·ÉÆ·Éù·Éï·É†·Éî·Éë·Éê ·Éí·Éê·Éõ·Éù·É†·É©·Éî·É£·Éö·Éò?
                    </h3>
                    <textarea 
                        id="futureIfRecovered" 
                        placeholder="·Éê·É¶·É¨·Éî·É†·Éî ·Éì·Éî·É¢·Éê·Éö·É£·É†·Éê·Éì..." 
                        style="width: 100%; padding: 12px; border-radius: 8px; border: 2px solid #9ca3af; font-size: 14px; font-family: inherit; min-height: 150px; background: white;"
                    ></textarea>
                </div>
                
                <button class="btn btn-primary" onclick="saveFutureVision()" style="width: 100%; margin-bottom: 10px;">üíæ ·É®·Éî·Éú·Éê·ÉÆ·Éï·Éê</button>
                <button class="btn btn-primary" onclick="showSection('motivations')" style="width: 100%;">‚Üê ·É£·Éô·Éê·Éú</button>
            </div>

            
            
            <!-- Readiness Assessment Section -->
            <div id="readinessSection" class="section">
                <h2 style="margin-bottom: 20px;">üìä ·É†·Éê·Éõ·Éì·Éî·Éú·Éê·Éì ·Éõ·Éñ·Éê·Éì ·Éï·Éê·É† ·É™·Éï·Éö·Éò·Éö·Éî·Éë·Éò·É°·Éó·Éï·Éò·É°?</h2>
                
                <!-- Initial Menu (shows when not completed or as button after completion) -->
                <div id="readinessInitialMenu">
                    <!-- Addiction Symptoms Button -->
                    <button class="motivation-btn" onclick="showAddictionSymptoms()" style="margin-bottom: 15px; padding: 12px 20px;">
                        üîç ·Éì·Éê·Éõ·Éù·Éô·Éò·Éì·Éî·Éë·É£·Éö·Éî·Éë·Éò·É° ·Éú·Éò·É®·Éú·Éî·Éë·Éò ·Éì·Éê ·É°·Éò·Éõ·Éû·É¢·Éù·Éõ·Éî·Éë·Éò
                    </button>
                    
                    <!-- Readiness Assessment Button (or will be replaced by summary) -->
                    <div id="readinessAssessmentContainer">
                        <button class="motivation-btn" onclick="startReadinessAssessment()">
                            üìä ·É†·Éê·Éõ·Éì·Éî·Éú·Éê·Éì ·Éõ·Éñ·Éê·Éì ·Éï·Éê·É† ·É™·Éï·Éö·Éò·Éö·Éî·Éë·Éò·É°·Éó·Éï·Éò·É°
                        </button>
                    </div>
                </div>
                
                <!-- Step 1: Stage Selection -->
                <div id="readinessStep1" style="background: #f9fafb; padding: 25px; border-radius: 12px; margin-bottom: 20px;">
                    <div style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 25px; border-left: 4px solid #667eea;">
                        <p style="color: #333; line-height: 1.8; margin-bottom: 15px; text-align: justify;">·Éñ·Éù·Éí·Éê·Éì·Éê·Éì ·Éí·Éê·Éú·Éõ·Éî·Éù·É†·Éî·Éë·Éê·Éì·Éò ·É•·É™·Éî·Éï·Éò·É° ·É™·Éï·Éö·Éò·Éö·Éî·Éë·Éê·É° ·Éê·ÉÆ·Éê·É°·Éò·Éê·Éó·Éî·Éë·É° ·Éî·É¢·Éê·Éû·Éî·Éë·Éò.</p>
                    </div>
                    
                    <h3 style="color: #667eea; margin-bottom: 20px; font-size: 18px;">·Éõ·Éù·Éú·Éò·É®·Éú·Éî ·É†·Éù·Éõ·Éî·Éö ·Éî·É¢·Éê·Éû·Éñ·Éî ·Éò·Éõ·Éß·Éù·É§·Éî·Éë·Éò ·Éê·ÉÆ·Éö·Éê?</h3>
                    
                    <div style="margin-bottom: 15px;">
                        <label style="display: flex; align-items: start; padding: 12px; background: white; border-radius: 8px; cursor: pointer; margin-bottom: 10px; border: 2px solid #e5e7eb; transition: all 0.2s;">
                            <input type="radio" name="readinessStage" value="precontemplation" style="margin-top: 4px; margin-right: 12px; width: 18px; height: 18px;">
                            <div>
                                <div style="font-weight: 600; color: #1f2937; margin-bottom: 5px;">1. ·Éû·É†·Éî·Éí·Éê·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî·Éë·Éê</div>
                                <div style="color: #666; font-size: 14px; line-height: 1.5; text-align: justify;">·Éê·Éõ ·Éì·É†·Éù·É° ·É®·Éî·Éú ·Éï·Éî·É†·É™ ·Éô·Éò ·Éê·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî·Éë, ·É†·Éù·Éõ ·É®·Éî·Éú ·É†·Éê·Éõ·Éî·Éú·Éê·Éò·É†·Éê·Éì ·É£·Éú·Éì·Éê ·É®·Éî·É™·Éï·Éê·Éö·Éù ·É®·Éî·Éú·Éò ·É•·É™·Éî·Éï·Éê. ·Éò·É•·Éú·Éî·Éë ·Éí·Éê·É†·É®·Éî·Éõ·Éù·Éõ·Éß·Éù·É§·Éî·Éë·Éõ·Éê ·É®·Éî·Éú·Éò·É®·Éú·Éî·É°, ·É†·Éù·Éõ ·É®·Éî·Éú ·Éõ·Éù·Éò·ÉÆ·Éõ·Éê·É† ·Éú·Éò·Éï·Éó·Éò·Éî·É†·Éî·Éë·Éê·É° ·Éì·Éê ·Éí·Éê·Éõ·Éù·ÉÆ·Éê·É¢·Éî·É° ·Éê·É¶·Éî·Éö·Éï·Éî·Éë·Éê, ·Éõ·Éê·Éí·É†·Éê·Éõ ·Éû·Éò·É†·Éê·Éì·Éê·Éì ·É®·Éî·Éú ·Éï·Éî·É†·Éê·É§·Éî·É†·É° ·Éï·Éî·É† ·Éê·Éõ·É©·Éú·Éî·Éï.</div>
                            </div>
                        </label>
                        
                        <label style="display: flex; align-items: start; padding: 12px; background: white; border-radius: 8px; cursor: pointer; margin-bottom: 10px; border: 2px solid #e5e7eb; transition: all 0.2s;">
                            <input type="radio" name="readinessStage" value="contemplation" style="margin-top: 4px; margin-right: 12px; width: 18px; height: 18px;">
                            <div>
                                <div style="font-weight: 600; color: #1f2937; margin-bottom: 5px;">2. ·Éõ·É°·ÉØ·Éî·Éö·Éù·Éë·Éê</div>
                                <div style="color: #666; font-size: 14px; line-height: 1.5; text-align: justify;">·Éî·É° ·Éê·É†·Éò·É° ·Éì·É†·Éù, ·É†·Éù·Éì·Éî·É°·Éê·É™ ·É®·Éî·Éú ·Éò·É¨·Éß·Éî·Éë ·É©·Éê·É§·Éò·É•·É†·Éî·Éë·Éê·É° ·É®·Éî·É™·Éï·Éö·Éò·É° ·É®·Éî·É°·Éê·É´·Éö·Éî·Éë·Éö·Éù·Éë·Éê·Éñ·Éî. ‚Äû·Éò·É•·Éú·Éî·Éë ·Éõ·Éî ·Éõ·É≠·Éò·É†·Éì·Éî·Éë·Éê, ·É†·Éù·Éõ ·É™·Éù·É¢·Éê ·É®·Éî·Éï·Éò·É™·Éï·Éê·Éö·Éù", ·Éê·Éú ‚Äû·Éõ·Éî·Éõ·Éí·Éù·Éú·Éò ·Éõ·Éî ·É£·Éô·Éï·Éî ·Éï·Éî·É¶·Éê·É† ·Éï·Éê·Éô·Éù·Éú·É¢·É†·Éù·Éö·Éî·Éë ·Éõ·Éù·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê·É°". ·Éê·Éõ ·Éî·É¢·Éê·Éû·Éñ·Éî ·É®·Éî·Éú ·É£·Éô·Éï·Éî ·Éò·É¨·Éß·Éî·Éë ·Éò·Éõ·Éò·É° ·Éí·Éê·Éê·Éñ·É†·Éî·Éë·Éê·É°, ·É†·Éù·Éõ ·É®·Éî·Éú·Éò ·É•·É™·Éî·Éï·Éê ·Éê·É† ·É®·Éî·Éî·É°·Éê·Éë·Éê·Éõ·Éî·Éë·Éê ·Éò·Éõ ·É™·ÉÆ·Éù·Éï·É†·Éî·Éë·Éê·É°, ·É†·Éù·Éõ·Éî·Éö·Éò·É™ ·Éí·Éò·Éú·Éì·Éù·Éì·Éê, ·É†·Éù·Éõ ·É¨·Éê·Éí·Éî·Éõ·Éê·É†·Éó·Éê.</div>
                            </div>
                        </label>
                        
                        <label style="display: flex; align-items: start; padding: 12px; background: white; border-radius: 8px; cursor: pointer; margin-bottom: 10px; border: 2px solid #e5e7eb; transition: all 0.2s;">
                            <input type="radio" name="readinessStage" value="preparation" style="margin-top: 4px; margin-right: 12px; width: 18px; height: 18px;">
                            <div>
                                <div style="font-weight: 600; color: #1f2937; margin-bottom: 5px;">3. ·Éì·Éê·Éí·Éî·Éí·Éõ·Éï·Éê</div>
                                <div style="color: #666; font-size: 14px; line-height: 1.5; text-align: justify;">·Éõ·Éî·É°·Éê·Éõ·Éî ·Éî·É¢·Éê·Éû·Éñ·Éî ·Éí·Éê·Éì·Éê·É°·Éï·Éö·Éò·É°·Éê·É° ·É®·Éî·Éú ·Éì·Éê·É†·É¨·Éõ·É£·Éú·Éî·Éë·É£·Éö·Éò ·ÉÆ·Éê·É†, ·É†·Éù·Éõ ·É£·Éú·Éì·Éê ·É®·Éî·É™·Éï·Éê·Éö·Éù ·É®·Éî·Éú·Éò ·É•·É™·Éî·Éï·Éê ·Éì·Éê ·Éò·É¨·Éß·Éî·Éë ·Éê·Éõ ·É™·Éï·Éö·Éò·Éö·Éî·Éë·Éî·Éë·Éò·É° ·Éì·Éê·Éí·Éî·Éí·Éõ·Éï·Éê·É°. ·Éê·Éõ ·Éî·É¢·Éê·Éû·Éñ·Éî ·É®·Éî·Éú ·Éí·Éê·Éú·Éò·ÉÆ·Éò·Éö·Éê·Éï ·Éí·Éñ·Éî·Éë·É°, ·É†·Éù·Éõ·Éö·Éî·Éë·Éò·É™ ·Éí·Éê·Éõ·Éù·Éí·Éê·Éì·Éí·Éî·Éë·Éù·Éì·Éê ·Éõ·Éù·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê·É°·Éó·Éê·Éú ·Éë·É†·É´·Éù·Éö·Éê·É®·Éò.</div>
                            </div>
                        </label>
                        
                        <label style="display: flex; align-items: start; padding: 12px; background: white; border-radius: 8px; cursor: pointer; margin-bottom: 10px; border: 2px solid #e5e7eb; transition: all 0.2s;">
                            <input type="radio" name="readinessStage" value="action" style="margin-top: 4px; margin-right: 12px; width: 18px; height: 18px;">
                            <div>
                                <div style="font-weight: 600; color: #1f2937; margin-bottom: 5px;">4. ·Éõ·Éù·É•·Éõ·Éî·Éì·Éî·Éë·Éê</div>
                                <div style="color: #666; font-size: 14px; line-height: 1.5; text-align: justify;">·Éê·Éõ ·Éî·É¢·Éê·Éû·Éñ·Éî ·É®·Éî·Éú ·Éõ·Éò·É∞·Éß·Éï·Éî·Éë·Éò ·Éí·Éî·Éí·Éõ·Éê·É°, ·É†·Éù·Éõ·Éî·Éö·Éò·É™ ·É¨·Éò·Éú·Éê ·Éî·É¢·Éê·Éû·Éñ·Éî ·É®·Éî·Éò·Éõ·É£·É®·Éê·Éï·Éî. ·É®·Éî·Éú ·Éò·É¨·Éß·Éî·Éë ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éê·É°.</div>
                            </div>
                        </label>
                        
                        <label style="display: flex; align-items: start; padding: 12px; background: white; border-radius: 8px; cursor: pointer; margin-bottom: 10px; border: 2px solid #e5e7eb; transition: all 0.2s;">
                            <input type="radio" name="readinessStage" value="maintenance" style="margin-top: 4px; margin-right: 12px; width: 18px; height: 18px;">
                            <div>
                                <div style="font-weight: 600; color: #1f2937; margin-bottom: 5px;">5. ·É™·Éï·Éö·Éò·Éö·Éî·Éë·Éò·É° ·É®·Éî·Éú·Éê·É†·É©·É£·Éú·Éî·Éë·Éê (6 ·Éó·Éï·Éò·É° ·É®·Éî·Éõ·Éì·Éî·Éí)</div>
                                <div style="color: #666; font-size: 14px; line-height: 1.5; text-align: justify;">·Éó·É£ ·É®·Éî·Éú ·É®·Éî·É´·Éî·Éö·Éò 6 ·Éó·Éï·Éò·É° ·Éê·Éú ·Éõ·Éî·É¢·Éò·É° ·Éí·Éê·Éú·Éõ·Éê·Éï·Éö·Éù·Éë·Éê·É®·Éò ·Éó·Éê·Éú·Éõ·Éò·Éõ·Éì·Éî·Éï·É†·É£·Éö·Éê·Éì ·Éì·Éê·É†·É©·Éî·Éú·Éò·Éö·Éò·Éß·Éê·Éï·Éò ·É¨·Éò·Éú·Éê ·Éî·É¢·Éê·Éû·Éî·Éë·Éñ·Éî ·É®·Éî·Éõ·É£·É®·Éê·Éï·Éî·Éë·É£·Éö·Éò ·Éõ·Éù·É•·Éõ·Éî·Éì·Éî·Éë·Éò·É° ·Éí·Éî·Éí·Éõ·Éò·É° ·É§·Éê·É†·Éí·Éö·Éî·Éë·É®·Éò, ·É®·Éî·Éú ·Éí·Éê·Éì·Éê·ÉÆ·Éï·Éî·Éì·Éò ·É™·Éï·Éö·Éò·Éö·Éî·Éë·Éî·Éë·Éò·É° ·É®·Éî·Éú·Éê·É†·É©·É£·Éú·Éî·Éë·Éò·É° ·Éî·É¢·Éê·Éû·Éñ·Éî.</div>
                            </div>
                        </label>
                    </div>
                    
                    <button class="btn btn-primary" onclick="readinessNext1()" style="width: 100%;">·É®·Éî·Éõ·Éì·Éî·Éí·Éò ‚Üí</button>
                </div>
                
                <!-- Step 2a: Info Text -->
                <div id="readinessStep2a" style="display: none; background: #f9fafb; padding: 25px; border-radius: 12px; margin-bottom: 20px;">
                    <div style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 25px; border-left: 4px solid #667eea;">
                        <p style="color: #333; line-height: 1.8; margin-bottom: 15px; text-align: justify;">·Éí·Éê·Éú·Éô·É£·É†·Éú·Éî·Éë·Éò·É° ·Éû·É†·Éù·É™·Éî·É°·É°, ·Éò·É°·Éî·Éï·Éî ·É†·Éù·Éí·Éù·É†·É™ ·Éñ·Éù·Éí·Éê·Éì·Éê·Éì ·É™·ÉÆ·Éù·Éï·É†·Éî·Éë·Éê·É° ·Éê·É•·Éï·É° ·Éó·Éê·Éï·Éò·É°·Éò ·Éê·É¶·Éõ·Éê·Éï·Éê·Éö·Éò ·Éì·Éê ·Éì·Éê·É¶·Éõ·Éê·Éï·Éê·Éö·Éò ·Éî·É¢·Éê·Éû·Éî·Éë·Éò (·Éê·É§·É†·Éî·Éú·Éî·Éë·Éò ·Éì·Éê ·Éï·Éê·É†·Éì·Éú·Éî·Éë·Éò). ·Éê·É•·Éî·Éì·Éê·Éú ·Éí·Éê·Éõ·Éù·Éõ·Éì·Éò·Éú·Éê·É†·Éî ·Éê·Éë·É°·Éù·Éö·É£·É¢·É£·É†·Éê·Éì ·Éú·Éù·É†·Éõ·Éê·Éö·É£·É†·Éò·Éê, ·É†·Éù·Éõ ·É®·Éî·Éú ·Éí·É•·Éù·Éú·Éì·Éî·É° ·Éì·É¶·Éî·Éî·Éë·Éò, ·É†·Éù·Éõ·Éö·Éî·Éë·É®·Éò·É™ ·É®·Éî·Éú ·É™·ÉÆ·Éê·Éì·Éê·Éì ·Éí·Éî·É™·Éù·Éì·Éò·Éú·Éî·Éë·Éê ·É†·Éê·É¢·Éù·Éõ ·Éê·É†·Éò·É° ·Éê·É£·É™·Éò·Éö·Éî·Éë·Éî·Éö·Éò ·Éì·Éê·Éú·Éî·Éë·Éî·Éë·Éê, ·É®·Éî·Éú·Éò ·Éê·ÉÆ·Éê·Éö·Éò ·ÉØ·Éê·Éú·É°·Éê·É¶·Éò ·É™·ÉÆ·Éù·Éï·É†·Éî·Éë·Éò·É° ·É®·Éî·É•·Éõ·Éú·Éò·É°·Éê·Éó·Éï·Éò·É° ·Éì·Éê ·Éî·É° ·Éì·É¶·Éî·Éî·Éë·Éò ·É®·Éî·Éò·É´·Éö·Éî·Éë·Éê ·É®·Éî·É™·Éï·Éê·Éö·Éù·Éú ·Éì·É¶·Éî·Éî·Éë·Éõ·Éê, ·É†·Éù·Éì·Éî·É°·Éê·É™ ·É®·Éî·Éú ·Éó·Éê·Éï·É° ·Éì·Éê·É£·É°·Éï·Éê·Éõ ·Éô·Éò·Éó·ÉÆ·Éï·Éî·Éë·É° ·É°·Éê·Éî·É†·Éó·Éù·Éì ·É†·Éê·É®·Éò ·Éí·É≠·Éò·É†·Éì·Éî·Éë·Éê ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éê·É°·Éó·Éê·Éú ·Éì·Éê·Éô·Éê·Éï·É®·Éò·É†·Éî·Éë·É£·Éö·Éò ·Éõ·Éó·Éî·Éö·Éò ·Éî·É° ·Éû·É†·Éù·Éë·Éö·Éî·Éõ·Éî·Éë·Éò.</p>
                        <p style="color: #333; line-height: 1.8; margin-bottom: 15px; text-align: justify;">·É©·Éï·Éî·Éú·Éò ·Éõ·Éò·Éñ·Éê·Éú·Éò·Éê ·Éê·Éõ ·É†·Éó·É£·Éö ·Éû·Éî·É†·Éò·Éù·Éì·Éî·Éë·É®·Éò ·Éï·Éò·Éß·Éù·Éó ·Éì·Éê·Éõ·ÉÆ·Éõ·Éê·É†·Éî, ·É†·Éê·Éó·Éê ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éò·É° ·Éû·É†·Éù·É™·Éî·É°·Éò ·Éí·Éê·Éí·É†·É´·Éî·Éö·Éì·Éî·É° ·Éó·Éê·Éú·Éõ·Éò·Éõ·Éì·Éî·Éï·É†·É£·Éö·Éê·Éì.</p>
                        <p style="color: #667eea; font-weight: 600; line-height: 1.8; text-align: justify;">·É†·Éù·Éì·Éî·É°·Éê·É™ ·É´·Éê·Éö·Éò·Éê·Éú ·Éê·ÉÆ·Éö·Éù·É° ·ÉÆ·Éê·É† ·Éì·Éê·Éú·Éî·Éë·Éî·Éë·Éê·É°·Éó·Éê·Éú, ·Éí·Éê·Éò·ÉÆ·É°·Éî·Éú·Éî ·É†·Éê·É¢·Éù·Éõ ·Éò·É¨·Éß·Éî·Éë·Éì·Éò!</p>
                    </div>
                    
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-secondary" onclick="readinessBack2a()" style="flex: 1;">‚Üê ·É£·Éô·Éê·Éú</button>
                        <button class="btn btn-primary" onclick="readinessNext2a()" style="flex: 1;">·É®·Éî·Éõ·Éì·Éî·Éí·Éò ‚Üí</button>
                    </div>
                </div>
                
                <!-- Step 2b: Cycle Awareness Question -->
                <div id="readinessStep2b" style="display: none; background: #f9fafb; padding: 25px; border-radius: 12px; margin-bottom: 20px;">
                    <h3 style="color: #667eea; margin-bottom: 20px; font-size: 18px;">·ÉÆ·Éù·Éõ ·Éê·É† ·É®·Éî·Éí·Éò·Éõ·É©·Éú·Éî·Éï·Éò·Éê ·É®·Éî·Éú·É° ·É™·ÉÆ·Éù·Éï·É†·Éî·Éë·Éê·É®·Éò ·Éõ·Éù·É¢·Éò·Éï·Éê·É™·Éò·Éò·É° ·Éë·É£·Éú·Éî·Éë·Éò·É° ·Éõ·Éù·Éú·Éê·É™·Éï·Éö·Éî·Éù·Éë·Éê?</h3>
                    
                    <div style="display: flex; gap: 15px; margin-bottom: 20px;">
                        <label style="flex: 1; padding: 20px; background: white; border-radius: 8px; cursor: pointer; text-align: center; border: 2px solid #e5e7eb; transition: all 0.2s;">
                            <input type="radio" name="cycleAwareness" value="yes" style="display: none;">
                            <div style="font-size: 40px; margin-bottom: 10px;">‚úÖ</div>
                            <div style="font-weight: 600; color: #1f2937;">·Éì·Éò·Éê·ÉÆ</div>
                        </label>
                        
                        <label style="flex: 1; padding: 20px; background: white; border-radius: 8px; cursor: pointer; text-align: center; border: 2px solid #e5e7eb; transition: all 0.2s;">
                            <input type="radio" name="cycleAwareness" value="no" style="display: none;">
                            <div style="font-size: 40px; margin-bottom: 10px;">‚ùå</div>
                            <div style="font-weight: 600; color: #1f2937;">·Éê·É†·Éê</div>
                        </label>
                    </div>
                    
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-secondary" onclick="readinessBack2b()" style="flex: 1;">‚Üê ·É£·Éô·Éê·Éú</button>
                        <button class="btn btn-primary" onclick="readinessNext2b()" style="flex: 1;">·É®·Éî·Éõ·Éì·Éî·Éí·Éò ‚Üí</button>
                    </div>
                </div>
                
                <!-- Step 3: Motivation Score -->
                <div id="readinessStep3" style="display: none; background: #f9fafb; padding: 25px; border-radius: 12px; margin-bottom: 20px;">
                    <h3 style="color: #667eea; margin-bottom: 20px; font-size: 18px;">·É®·Éî·Éê·É§·Éê·É°·Éî ·É®·Éî·Éú·Éò ·Éõ·Éù·É¢·Éò·Éï·Éê·É™·Éò·Éò·É° ·É°·Éò·É´·Éö·Éò·Éî·É†·Éî 10 ·É•·É£·Éö·Éò·Éê·Éú ·É®·Éô·Éê·Éö·Éê·Éñ·Éî</h3>
                    
                    <div style="margin-bottom: 30px;">
                        <div style="display: flex; justify-content: center; align-items: center; margin-bottom: 20px;">
                            <div id="motivationScoreDisplay" style="font-size: 48px; font-weight: bold; color: #667eea;">5</div>
                            <div style="font-size: 24px; color: #999; margin-left: 5px;">/10</div>
                        </div>
                        
                        <input type="range" id="motivationScore" min="1" max="10" value="5" 
                            style="width: 100%; height: 8px; border-radius: 5px; background: linear-gradient(to right, #ef4444 0%, #f59e0b 50%, #10b981 100%); outline: none; cursor: pointer;"
                            oninput="document.getElementById('motivationScoreDisplay').textContent = this.value">
                        
                        <div style="display: flex; justify-content: space-between; margin-top: 10px; color: #666; font-size: 14px;">
                            <span>1 - ·Éì·Éê·Éë·Éê·Éö·Éò</span>
                            <span>10 - ·Éõ·Éê·É¶·Éê·Éö·Éò</span>
                        </div>
                    </div>
                    
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-secondary" onclick="readinessBack3()" style="flex: 1;">‚Üê ·É£·Éô·Éê·Éú</button>
                        <button class="btn btn-primary" onclick="readinessNext3()" style="flex: 1;">·É®·Éî·Éõ·Éì·Éî·Éí·Éò ‚Üí</button>
                    </div>
                </div>
                
                <!-- Step 4: Motivation Check Time -->
                <div id="readinessStep4" style="display: none; background: #f9fafb; padding: 25px; border-radius: 12px; margin-bottom: 20px;">
                    <h3 style="color: #667eea; margin-bottom: 15px; font-size: 18px;">·Éí·Éó·ÉÆ·Éù·Éï ·Éê·Éò·É†·É©·Éò·Éù ·Éì·É†·Éù ·É†·Éù·Éì·Éî·É°·Éê·É™ ·Éí·É°·É£·É†·É°, ·É†·Éù·Éõ ·Éí·Éê·Éõ·Éù·Éï·Éò·Éô·Éò·Éó·ÉÆ·Éù ·É®·Éî·Éú·Éò ·Éí·Éê·Éõ·Éù&shy;·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éò·É° ·Éõ·Éù·É¢·Éò·Éï·Éê·É™·Éò·Éê</h3>
                    <p style="color: #666; margin-bottom: 20px; font-size: 14px;">(·É°·Éê·É°·É£·É†·Éï·Éî·Éö·Éò·Éê ·Éê·Éò·É†·É©·Éò·Éù ·Éì·É¶·Éò·É° ·Éû·Éò·É†·Éï·Éî·Éö·Éò ·Éú·Éê·ÉÆ·Éî·Éï·Éê·É†·Éò)</p>
                    
                    <div style="margin-bottom: 25px;">
                        <input type="time" id="motivationCheckTime" 
                            style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 16px;">
                    </div>
                    
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-secondary" onclick="readinessBack4()" style="flex: 1;">‚Üê ·É£·Éô·Éê·Éú</button>
                        <button class="btn btn-primary" onclick="readinessNext4()" style="flex: 1;">·É®·Éî·Éõ·Éì·Éî·Éí·Éò ‚Üí</button>
                    </div>
                </div>
                
                <!-- Step 5: Results Check Time -->
                <div id="readinessStep5" style="display: none; background: #f9fafb; padding: 25px; border-radius: 12px; margin-bottom: 20px;">
                    <h3 style="color: #667eea; margin-bottom: 20px; font-size: 18px;">·Éí·Éó·ÉÆ·Éù·Éï ·Éê·Éò·É†·É©·Éò·Éù ·Éì·É†·Éù ·É†·Éù·Éì·Éî·É°·Éê·É™ ·Éí·É°·É£·É†·É°, ·É†·Éù·Éõ ·Éí·Éê·Éõ·Éù·Éï·Éò·Éô·Éò·Éó·ÉÆ·Éù ·É®·Éî·Éú·Éò ·É®·Éî·Éì·Éî·Éí·Éî·Éë·Éò</h3>
                    
                    <div style="margin-bottom: 25px;">
                        <input type="time" id="resultsCheckTime" 
                            style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 16px;">
                    </div>
                    
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-secondary" onclick="readinessBack5()" style="flex: 1;">‚Üê ·É£·Éô·Éê·Éú</button>
                        <button class="btn btn-primary" onclick="readinessNext5()" style="flex: 1;">·É®·Éî·Éõ·Éì·Éî·Éí·Éò ‚Üí</button>
                    </div>
                </div>
                
                <!-- Step 6: Summary -->
                <div id="readinessStep6" style="display: none; background: #f9fafb; padding: 25px; border-radius: 12px; margin-bottom: 20px;">
                    <h3 style="color: #667eea; margin-bottom: 25px; font-size: 20px; text-align: center;">üìã ·É®·Éî·Éú·Éò ·Éõ·Éñ·Éê·Éù·Éë·Éò·É° ·É®·Éî·É§·Éê·É°·Éî·Éë·Éê</h3>
                    
                    <div id="readinessSummary" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                        <!-- Summary content will be populated by JS -->
                    </div>
                    
                    <button class="btn btn-secondary" onclick="readinessBack6()" style="width: 100%;">‚Üê ·É†·Éî·Éì·Éê·É•·É¢·Éò·É†·Éî·Éë·Éê</button>
                </div>
                
                <button class="btn btn-primary" onclick="showSection('motivations')" style="margin-top: 20px;">‚Üê ·É£·Éô·Éê·Éú</button>
            </div>
            
            <!-- Addiction Symptoms Section -->
            <div id="addictionSymptomsSection" class="section">
                <h2 style="margin-bottom: 20px;">ü©∫ ·Éì·Éê·Éõ·Éù·Éô·Éò·Éì·Éî·Éë·É£·Éö·Éî·Éë·Éò·É° ·Éú·Éò·É®·Éú·Éî·Éë·Éò ·Éì·Éê ·É°·Éò·Éõ·Éû·É¢·Éù·Éõ·Éî·Éë·Éò</h2>
                
                <div style="background: #f0fdfa; border-left: 4px solid #14b8a6; padding: 20px; border-radius: 8px; margin-bottom: 25px;">
                    <p style="color: #333; line-height: 1.8; margin: 0; text-align: justify;">
                        ·É•·Éï·Éî·Éõ·Éù·Éó ·Éõ·Éù·É™·Éî·Éõ·É£·Éö·Éò·Éê ·Éê·Éö·Éô·Éù·É∞·Éù·Éö·Éò·É°·Éê ·Éì·Éê ·Éú·Éê·É†·Éô·Éù·É¢·Éò·Éô·Éî·Éë·Éñ·Éî ·Éì·Éê·Éõ·Éù·Éô·Éò·Éì·Éî·Éë·É£·Éö·Éî·Éë·Éò·É° ·É°·Éò·Éõ·Éû·É¢·Éù·Éõ·Éî·Éë·Éò. ·Éõ·Éù·Éú·Éò·É®·Éú·Éî ·Éß·Éï·Éî·Éö·Éê ·Éû·É£·Éú·É•·É¢·Éò, ·É†·Éù·Éõ·Éî·Éö·Éò·É™ ·Éí·Éê·Éõ·Éù·Éí·Éò·É™·Éê·Éì·Éò·Éê <strong>·Éë·Éù·Éö·Éù 12 ·Éó·Éï·Éò·É° ·Éí·Éê·Éú·Éõ·Éê·Éï·Éö·Éù·Éë·Éê·É®·Éò</strong>:
                    </p>
                </div>
                
                <div id="symptomsList" style="margin-bottom: 25px;">
                    <!-- Symptoms will be populated by JavaScript -->
                </div>
                
                <div id="symptomsResult" style="display: none; background: white; padding: 20px; border-radius: 12px; margin-bottom: 20px; border-left: 4px solid #667eea;">
                    <h3 style="color: #667eea; margin-bottom: 15px; font-size: 18px;">·É®·Éî·Éì·Éî·Éí·Éò</h3>
                    <p id="symptomsResultText" style="color: #333; line-height: 1.8; margin: 0;"></p>
                </div>
                
                <button id="calculateSymptomsBtn" class="btn btn-primary" onclick="calculateSymptoms()" style="width: 100%; margin-bottom: 10px;">üìä ·É®·Éî·Éì·Éî·Éí·Éò·É° ·Éú·Éê·ÉÆ·Éï·Éê</button>
                <button class="btn btn-secondary" onclick="backToReadinessMenu()" style="width: 100%;">‚Üê ·É£·Éô·Éê·Éú</button>
            </div>
            
            <!-- Goals Section -->
            <div id="goalsSection" class="section">
                <h2 style="margin-bottom: 20px;">üéØ ·É©·Éî·Éõ·Éò ·Éõ·Éò·Éñ·Éú·Éî·Éë·Éò</h2>
                <p style="color: white; margin-bottom: 25px; font-size: 15px;">·Éì·Éê·Éê·É°·Éê·ÉÆ·Éî·Éö·Éî ·É®·Éî·Éú·Éò ·Éô·Éù·Éú·Éô·É†·Éî·É¢·É£·Éö·Éò ·Éõ·Éò·Éñ·Éú·Éî·Éë·Éò ·Éì·Éê ·É°·Éê·Éï·Éê·É†·Éê·É£·Éì·Éù ·Éì·É†·Éù ·É†·Éù·Éõ·Éî·Éö·É®·Éò·É™ ·Éí·É°·É£·É†·É°, ·É†·Éù·Éõ ·Éê·Éõ ·Éõ·Éò·Éñ·Éú·Éî·Éë·É° ·Éõ·Éò·Éê·É¶·É¨·Éò·Éù</p>
                
                <div id="goalsList"></div>
                
                <div style="margin-top: 20px;">
                    <button class="btn btn-secondary" onclick="showAddGoalModal()" style="width: auto; padding: 10px 20px;">+ ·Éì·Éê·Éê·Éõ·Éê·É¢·Éî ·Éõ·Éò·Éñ·Éê·Éú·Éò</button>
                </div>
                
                <button class="btn btn-primary" onclick="showSection('motivations')" style="margin-top: 20px;">‚Üê ·É£·Éô·Éê·Éú</button>
            </div>
            
            <!-- Add/Edit Goal Modal -->
            <div id="goalModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; overflow-y: auto;">
                <div style="background: white; max-width: 800px; margin: 50px auto; border-radius: 12px; padding: 30px;">
                    <h2 style="color: #667eea; margin-bottom: 25px; font-size: 22px;" id="goalModalTitle">üéØ ·Éê·ÉÆ·Éê·Éö·Éò ·Éõ·Éò·Éñ·Éê·Éú·Éò</h2>
                    
                    <!-- Goal Input -->
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #333;">·É†·Éê ·Éê·É†·Éò·É° ·É®·Éî·Éú·Éò ·Éõ·Éò·Éñ·Éê·Éú·Éò?</label>
                        <input 
                            type="text" 
                            id="goalText" 
                            placeholder="·Éõ·Éê·Éí: ·Éï·Éò·Éû·Éù·Éï·Éù ·É°·Éê·Éõ·É£·É®·Éê·Éù, ·Éì·Éê·Éï·Éê·Éõ·Éó·Éê·Éï·É†·Éù ·É£·Éú·Éò·Éï·Éî·É†·É°·Éò·É¢·Éî·É¢·Éò..." 
                            style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 15px;"
                        >
                    </div>
                    
                    <!-- Timeframe Dropdown -->
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #333;">·É†·Éê ·Éï·Éê·Éì·Éê·É®·Éò ·Éí·É°·É£·É†·É° ·Éõ·Éò·Éê·É¶·É¨·Éò·Éù?</label>
                        <select 
                            id="goalTimeframe" 
                            style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 15px;"
                        >
                            <option value="">·Éê·Éò·É†·É©·Éò·Éî ·Éï·Éê·Éì·Éê...</option>
                            <option value="1_month">1 ·Éó·Éï·Éî</option>
                            <option value="3_months">3 ·Éó·Éï·Éî</option>
                            <option value="6_months">6 ·Éó·Éï·Éî</option>
                            <option value="1_year">1 ·É¨·Éî·Éö·Éò</option>
                            <option value="2_years">2 ·É¨·Éî·Éö·Éò</option>
                            <option value="5_years">5 ·É¨·Éî·Éö·Éò</option>
                            <option value="custom">·É°·ÉÆ·Éï·Éê ·Éï·Éê·Éì·Éê</option>
                        </select>
                    </div>
                    
                    <!-- Custom Timeframe (hidden by default) -->
                    <div id="customTimeframeDiv" style="display: none; margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #333;">·Éõ·Éò·É£·Éó·Éò·Éó·Éî ·É®·Éî·Éú·Éò ·Éï·Éê·Éì·Éê</label>
                        <input 
                            type="text" 
                            id="customTimeframe" 
                            placeholder="·Éõ·Éê·Éí: 9 ·Éó·Éï·Éî, 18 ·Éó·Éï·Éî..." 
                            style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 15px;"
                        >
                    </div>
                    
                    <!-- Recovery Connection Textarea -->
                    <div style="margin-bottom: 25px;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #333;">·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éê ·É†·Éù·Éí·Éù·É† ·É®·Éî·É£·É¨·Éß·Éù·Éë·É° ·ÉÆ·Éî·Éö·É° ·É®·Éî·Éú·Éò ·Éõ·Éò·Éñ·Éú·Éò·É° ·Éõ·Éò·É¶·É¨·Éî·Éï·Éê·É°?</label>
                        <textarea 
                            id="goalRecoveryConnection" 
                            placeholder="·Éê·É¶·É¨·Éî·É†·Éî ·É†·Éù·Éí·Éù·É† ·Éì·Éê·Éí·Éî·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê ·É°·Éò·É§·ÉÆ·Éò·Éñ·Éö·Éî ·Éê·Éõ ·Éõ·Éò·Éñ·Éú·Éò·É° ·Éõ·Éò·É¶·É¨·Éî·Éï·Éê·É®·Éò..." 
                            style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 15px; min-height: 180px; font-family: inherit;"
                        ></textarea>
                    </div>
                    
                    <!-- Buttons -->
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-primary" onclick="saveGoal()" style="flex: 1;">·É®·Éî·Éú·Éê·ÉÆ·Éï·Éê</button>
                        <button class="btn btn-secondary" onclick="closeGoalModal()" style="flex: 1;">·Éí·Éê·É£·É•·Éõ·Éî·Éë·Éê</button>
                    </div>
                </div>
            </div>
            <!-- Coping Main Menu -->
            
            <!-- Savings Section -->
            <div id="savingsSection" class="section">
                <h2 style="margin-bottom: 20px;">üí∞ ·É©·Éî·Éõ·Éò ·Éì·Éê·Éú·Éê·Éñ·Éù·Éí·Éî·Éë·Éò</h2>
                
                <!-- Savings Configuration -->
                <div id="savingsConfig" style="background: #f9fafb; padding: 25px; border-radius: 12px; margin-bottom: 20px;">
                    <h3 style="color: #374151; margin-bottom: 20px;">·Éí·É°·É£·É†·É° ·Éó·É£ ·Éê·É†·Éê ·Éì·Éê·Éï·Éò·Éó·Éï·Éê·Éö·Éù·Éó ·Éì·Éê·Éú·Éê·Éñ·Éù·Éí·Éî·Éë·Éò?</h3>
                    
                    <!-- Money Savings Toggle -->
                    <div style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 15px;">
                        <label style="display: flex; align-items: center; justify-content: space-between; cursor: pointer;">
                            <div>
                                <div style="font-weight: 600; color: #1f2937; margin-bottom: 5px;">üíµ ·É§·É£·Éö·Éò</div>
                                <div style="color: #666; font-size: 14px;">·Éì·Éê·Éò·Éó·Éï·Éê·Éö·Éî ·É§·É£·Éö·Éê·Éì·Éò ·Éì·Éê·Éú·Éê·Éñ·Éù·Éí·Éò</div>
                            </div>
                            <input type="checkbox" id="enableMoneySavings" onchange="toggleMoneySavings()" style="width: 20px; height: 20px; cursor: pointer;">
                        </label>
                        
                        <!-- Money input (hidden by default) -->
                        <div id="moneyInputSection" style="display: none; margin-top: 15px; padding-top: 15px; border-top: 2px solid #f3f4f6;">
                            <label style="display: block; margin-bottom: 8px; color: #333; font-weight: 500;">·Éì·Éê·Éê·ÉÆ·Éö·Éù·Éî·Éë·Éò·Éó ·É†·Éê ·Éó·Éê·Éú·ÉÆ·Éê ·Éí·Éî·ÉÆ·Éê·É†·ÉØ·Éî·Éë·Éù·Éì·Éê ·Éß·Éù·Éï·Éî·Éö·Éì·É¶·Éò·É£·É†·Éê·Éì ·Éú·Éò·Éï·Éó·Éò·Éî·É†·Éî·Éë·Éê·É®·Éò?</label>
                            <input type="number" id="dailyMoneyCost" placeholder="·Éõ·Éê·Éí: 50" 
                                style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 15px;">
                            <div style="color: #999; font-size: 13px; margin-top: 5px;">·Éö·Éê·É†·Éò (‚Çæ)</div>
                        </div>
                    </div>
                    
                    <!-- Time Savings Toggle -->
                    <div style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                        <label style="display: flex; align-items: center; justify-content: space-between; cursor: pointer;">
                            <div>
                                <div style="font-weight: 600; color: #1f2937; margin-bottom: 5px;">‚è∞ ·Éì·É†·Éù</div>
                                <div style="color: #666; font-size: 14px;">·Éì·Éê·Éò·Éó·Éï·Éê·Éö·Éî ·Éì·É†·Éù·Éò·É° ·Éì·Éê·Éú·Éê·Éñ·Éù·Éí·Éò</div>
                            </div>
                            <input type="checkbox" id="enableTimeSavings" onchange="toggleTimeSavings()" style="width: 20px; height: 20px; cursor: pointer;">
                        </label>
                        
                        <!-- Time input (hidden by default) -->
                        <div id="timeInputSection" style="display: none; margin-top: 15px; padding-top: 15px; border-top: 2px solid #f3f4f6;">
                            <label style="display: block; margin-bottom: 8px; color: #333; font-weight: 500;">·Éì·Éê·Éê·ÉÆ·Éö·Éù·Éî·Éë·Éò·Éó ·É†·Éê ·Éì·É†·Éù ·Éí·Éî·ÉÆ·Éê·É†·ÉØ·Éî·Éë·Éù·Éì·Éê ·Éß·Éù·Éï·Éî·Éö·Éì·É¶·Éò·É£·É†·Éê·Éì ·Éõ·Éù·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê·É°·Éó·Éê·Éú ·Éì·Éê·Éô·Éê·Éï·É®·Éò·É†·Éî·Éë·Éò·Éó?</label>
                            <input type="number" id="dailyTimeHours" placeholder="·Éõ·Éê·Éí: 3" 
                                style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 15px;">
                            <div style="color: #999; font-size: 13px; margin-top: 5px;">·É°·Éê·Éê·Éó·Éò</div>
                        </div>
                    </div>
                    
                    <button class="btn btn-primary" onclick="saveSavingsConfig()" style="width: 100%;">·É®·Éî·Éú·Éê·ÉÆ·Éï·Éê</button>
                </div>
                
                <!-- Savings Display -->
                <div id="savingsDisplay" style="display: none;">
                    <!-- Daily Savings -->
                    <div style="background: white; color: #333; padding: 25px; border-radius: 12px; margin-bottom: 15px; border: 2px solid #e5e7eb;">
                        <h3 style="margin-bottom: 20px; font-size: 18px; color: #374151;">üìä ·Éõ·Éó·Éö·Éò·Éê·Éú·Éò ·Éì·Éê·Éú·Éê·Éñ·Éù·Éí·Éò</h3>
                        
                        <div id="moneySavingsDisplay" style="display: none; margin-bottom: 15px;">
                            <div style="font-size: 14px; color: #6b7280; margin-bottom: 5px;">üíµ ·É§·É£·Éö·Éê·Éì·Éò ·Éì·Éê·Éú·Éê·Éñ·Éù·Éí·Éò:</div>
                            <div style="font-size: 32px; font-weight: bold; color: #374151;" id="totalMoneySaved">0 ‚Çæ</div>
                        </div>
                        
                        <div id="timeSavingsDisplay" style="display: none;">
                            <div style="font-size: 14px; color: #6b7280; margin-bottom: 5px;">‚è∞ ·Éì·É†·Éù·Éò·É° ·Éì·Éê·Éú·Éê·Éñ·Éù·Éí·Éò:</div>
                            <div style="font-size: 32px; font-weight: bold; color: #374151;" id="totalTimeSaved">0 ·É°·Éê·Éê·Éó·Éò</div>
                        </div>
                    </div>
                    
                    <!-- Yearly Projection -->
                    <div style="background: linear-gradient(135deg, #a5b4fc 0%, #c7d2fe 100%); padding: 20px; border-radius: 12px; border-left: 4px solid #667eea;">
                        <h4 style="color: #5B21B6; margin-bottom: 15px;">üìÖ ·É¨·Éö·Éò·É£·É†·Éò ·Éû·É†·Éù·Éí·Éú·Éù·Éñ·Éò</h4>
                        
                        <div id="yearlyMoneyProjection" style="display: none; margin-bottom: 10px;">
                            <div style="color: #5B21B6; font-size: 14px;">üíµ ·É¨·Éî·Éö·Éò·É¨·Éê·Éì·É®·Éò ·Éì·Éê·Éñ·Éù·Éí·Éê·Éï·Éì·Éò:</div>
                            <div style="color: #5B21B6; font-size: 24px; font-weight: bold;" id="yearlyMoneySaved">0 ‚Çæ</div>
                        </div>
                        
                        <div id="yearlyTimeProjection" style="display: none;">
                            <div style="color: #5B21B6; font-size: 14px;">‚è∞ ·É¨·Éî·Éö·Éò·É¨·Éê·Éì·É®·Éò ·Éì·Éê·Éñ·Éù·Éí·Éê·Éï·Éì·Éò:</div>
                            <div style="color: #5B21B6; font-size: 24px; font-weight: bold;" id="yearlyTimeSaved">0 ·É°·Éê·Éê·Éó·Éò</div>
                        </div>
                    </div>
                    
                    <!-- Edit Button -->
                    <button class="btn" onclick="editSavingsConfig()" style="width: 100%; margin-top: 15px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">‚úèÔ∏è ·É†·Éî·Éì·Éê·É•·É¢·Éò·É†·Éî·Éë·Éê</button>
                </div>
                
                <button class="btn btn-primary" onclick="showSection('motivations')" style="margin-top: 20px;">‚Üê ·É£·Éô·Éê·Éú</button>
            </div>
            <div id="copingMainSection" class="section">
                <h1 style="font-family: 'Georgia', 'Garamond', serif; font-style: italic; color: #5B21B6; font-size: 22px; letter-spacing: 1px; margin-bottom: 30px;">üß† ·Éí·Éê·Éõ·Éô·Éö·Éê·Éï·Éî·Éë·Éò·É° ·Éõ·Éî·É•·Éê·Éú·Éò·Éñ·Éõ·Éî·Éë·Éò</h1>
                
                <div class="menu-card" onclick="showCopingThoughts()">
                    <div class="menu-card-title">üí≠ ·É†·Éê ·Éê·Éñ·É†·Éò ·Éõ·Éò·É©·Éú·Éì·Éî·Éë·Éê</div>
                    <div class="menu-card-desc">·Éê·Éñ·É†·Éî·Éë·Éò, ·É†·Éù·Éõ·Éö·Éî·Éë·Éò·É™ ·É†·Éó·É£·Éö ·Éõ·Éù·Éõ·Éî·Éú·É¢·É®·Éò ·É©·Éú·Éì·Éî·Éë·Éê ·Éì·Éê ·É†·Éù·Éí·Éù·É† ·É®·Éî·Éï·Éî·É¨·Éò·Éú·Éê·Éê·É¶·Éõ·Éì·Éî·Éí·Éù ·Éõ·Éê·Éó</div>
                </div>
                
                <div class="menu-card" onclick="showRiskFactors()">
                    <div class="menu-card-title">‚ö†Ô∏è ·É°·Éê·É§·É†·Éó·ÉÆ·Éò·É° ·É®·Éî·Éõ·É™·Éï·Éî·Éö·Éò ·É§·Éê·É•·É¢·Éù·É†·Éî·Éë·Éò</div>
                    <div class="menu-card-desc">·Éê·Éõ·Éù·Éò·É™·Éê·Éú·Éò ·É¢·É†·Éò·Éí·Éî·É†·Éî·Éë·Éò, ·É†·Éù·Éõ·Éö·Éî·Éë·Éò·É™ ·Éò·É¨·Éï·Éî·Éï·É° ·Éö·É¢·Éù·Éö·Éï·Éê·É°</div>
                </div>
                
                <div class="menu-card" onclick="showCopingMechanisms()">
                    <div class="menu-card-title">‚è∞ ·É†·Éù·Éí·Éù·É† ·Éí·Éê·Éï·É£·Éõ·Éô·Éö·Éê·Éï·Éì·Éî ·Éö·É¢·Éù·Éö·Éï·Éê·É°</div>
                    <div class="menu-card-desc">·Éû·É†·Éê·É•·É¢·Éò·Éô·É£·Éö·Éò ·É¢·Éî·É•·Éú·Éò·Éô·Éî·Éë·Éò ·Éõ·Éù·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éò·É° ·Éí·Éê·Éì·Éê·É°·Éê·Éì·Éî·Éë·Éö·Éê·Éì</div>
                </div>
                
                <div class="menu-card" onclick="showSection('techniques')">
                    <div class="menu-card-title">üéØ ·É¢·Éî·É•·Éú·Éò·Éô·Éî·Éë·Éò</div>
                    <div class="menu-card-desc">·É§·É°·Éò·É•·Éù·Éõ·Éê·É†·Éî·Éí·É£·Éö·Éò·É†·Éî·Éë·Éî·Éö·Éò ·É°·Éê·Éï·Éê·É†·ÉØ·Éò·É®·Éù·Éî·Éë·Éò</div>
                </div>
                
                <div class="menu-card" onclick="showRecommendations()">
                    <div class="menu-card-title">üõ°Ô∏è ·É†·Éî·Éô·Éù·Éõ·Éî·Éú·Éì·Éê·É™·Éò·Éî·Éë·Éò</div>
                    <div class="menu-card-desc">·Éì·Éê·Éõ·É™·Éê·Éï·Éò ·Éõ·Éî·É•·Éê·Éú·Éò·Éñ·Éõ·Éî·Éë·Éò ·Éì·Éê ·É°·É¢·É†·Éê·É¢·Éî·Éí·Éò·Éî·Éë·Éò ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éò·É°·Éó·Éï·Éò·É°</div>
                </div>
                
                <div class="menu-card" onclick="showResources()">
                    <div class="menu-card-title">üåü ·É†·Éî·É°·É£·É†·É°·Éî·Éë·Éò</div>
                    <div class="menu-card-desc">·É®·Éî·Éú·Éò ·É®·Éò·Éú·Éê·Éí·Éê·Éú·Éò ·Éì·Éê ·Éí·Éê·É†·Éî·Éí·Éê·Éú·Éò ·É†·Éî·É°·É£·É†·É°·Éî·Éë·Éò ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éò·É°·Éó·Éï·Éò·É°</div>
                </div>
                
                <button class="btn" onclick="backToDashboard()" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">‚Üê Dashboard-·Éñ·Éî ·Éì·Éê·Éë·É†·É£·Éú·Éî·Éë·Éê</button>
            </div>
            
            <!-- Coping Thoughts Section -->
            <div id="copingThoughtsSection" class="section">
                <h1>üí≠ ·É†·Éê ·Éê·Éñ·É†·Éò ·Éõ·Éò·É©·Éú·Éì·Éî·Éë·Éê</h1>
                
                <h3 style="margin-bottom: 15px;">·Éê·Éñ·É†·Éî·Éë·Éò, ·É†·Éù·Éõ·Éö·Éî·Éë·Éò·É™ ·É†·Éó·É£·Éö ·Éõ·Éù·Éõ·Éî·Éú·É¢·É®·Éò ·É©·Éú·Éì·Éî·Éë·Éê ·Éì·Éê ·É†·Éù·Éí·Éù·É† ·É®·Éî·Éï·Éî·É¨·Éò·Éú·Éê·Éê·É¶·Éõ·Éì·Éî·Éí·Éù ·Éõ·Éê·Éó</h3>
                
                <div id="copingThoughtsList"></div>
                
                <button class="btn btn-secondary" onclick="showCopingAddModal()">+ ·Éê·ÉÆ·Éê·Éö·Éò ·Éê·Éñ·É†·Éò·É° ·Éì·Éê·Éõ·Éê·É¢·Éî·Éë·Éê</button>
                <button class="btn btn-primary" onclick="showSection('copingMain')" style="margin-top: 15px;">‚Üê ·É£·Éô·Éê·Éú</button>
            </div>
            
            <!-- Risk Factors Recognition Section -->
            <div id="riskFactorsSection" class="section">
                <h1>‚ö†Ô∏è ·É°·Éê·É§·É†·Éó·ÉÆ·Éò·É° ·É®·Éî·Éõ·É™·Éï·Éî·Éö·Éò ·É§·Éê·É•·É¢·Éù·É†·Éî·Éë·Éò</h1>
                
                <div style="background: #fff3cd; padding: 20px; border-radius: 12px; border-left: 4px solid #ffc107; margin-bottom: 25px;">
                    <p style="color: #856404; line-height: 1.8; margin: 0; text-align: justify;">
                        <strong>·É†·Éê·É™ ·É£·É§·É†·Éù ·É£·Éô·Éî·Éó ·Éì·Éê·Éò·É°·É¨·Éê·Éï·Éö·Éò ·Éò·Éõ ·É°·Éò·É¢·É£·Éê·É™·Éò·Éî·Éë·Éò·É° ·Éê·Éõ·Éù·É™·Éú·Éù·Éë·Éê·É°, ·É†·Éù·Éõ·Éî·Éö·É®·Éò·É™ ·É®·Éî·Éú·Éò ·Éì·Éê·Éõ·Éù·Éô·Éò·Éì·Éî·Éë·É£·Éö·Éò ·Éí·Éù·Éú·Éî·Éë·Éê ·Éí·Éõ·Éê·É†·Éó·Éê·Éï·É° ·É®·Éî·Éú ·Éì·Éê ·Éí·Éê·Éò·É´·É£·Éö·Éî·Éë·É° ·Éò·É§·Éò·É•·É†·Éù ·Éì·Éê ·Éò·Éõ·Éù·É•·Éõ·Éî·Éì·Éù ·Éê·É†·Éê·É†·Éê·É™·Éò·Éù·Éú·Éê·Éö·É£·É†·Éê·Éì, ·Éõ·Éò·Éó ·Éõ·Éî·É¢·Éê·Éì ·Éõ·Éù·Éê·ÉÆ·Éî·É†·ÉÆ·Éî·Éë ·Éõ·Éò·Éñ·Éê·Éú·Éõ·Éò·Éõ·Éê·É†·Éó·É£·Éö·Éê·Éì ·Éí·Éê·Éõ·Éù·Éò·Éß·Éî·Éú·Éù ·É†·Éê·É™·Éò·Éù·Éú·Éê·Éö·É£·É†·Éò ·Éí·Éù·Éú·Éî·Éë·Éê, ·É†·Éê·Éó·Éê ·Éí·Éê·Éê·Éô·Éî·Éó·Éù ·É£·É§·É†·Éù ·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éò ·Éê·É†·É©·Éî·Éï·Éê·Éú·Éò.</strong>
                    </p>
                </div>
                
                <!-- Collapsible Recommendation Section -->
                <div style="margin-bottom: 25px;">
                    <button onclick="toggleRiskRecommendation()" 
                            style="width: 100%; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; padding: 15px 20px; border-radius: 12px; cursor: pointer; font-weight: 600; font-size: 16px; text-align: left; display: flex; align-items: center; justify-content: space-between; box-shadow: 0 2px 8px rgba(102,126,234,0.3);">
                        <span>üí° ·É†·Éî·Éô·Éù·Éõ·Éî·Éú·Éì·Éê·É™·Éò·Éê</span>
                        <span id="riskRecommendationArrow" style="font-size: 20px; transition: transform 0.3s;">‚ñº</span>
                    </button>
                    
                    <div id="riskRecommendationContent" style="display: none; background: #f0f4ff; padding: 20px; border-radius: 0 0 12px 12px; margin-top: -10px;">
                        <!-- Original blue card content -->
                        <div style="margin-bottom: 20px;">
                            <h3 style="color: #667eea; margin-bottom: 15px;">üìå ·ÉÆ·É®·Éò·É†·Éê·Éì ·Éõ·Éù·É•·Éõ·Éî·Éì·Éî·Éë·É° ·É®·Éî·Éõ·Éì·Éî·Éí·Éò ·Éô·Éê·Éú·Éù·Éú·Éñ·Éù·Éõ·Éò·Éî·É†·Éî·Éë·Éê:</h3>
                            <div style="background: white; padding: 12px; border-radius: 8px; text-align: center; font-size: 18px; font-weight: 600; color: #333;">
                                ·É¢·É†·Éò·Éí·Éî·É†·Éò ‚Üí ·É§·Éò·É•·É†·Éò ‚Üí ·Éö·É¢·Éù·Éö·Éï·Éê ‚Üí ·Éõ·Éù·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê
                            </div>
                        </div>
                        
                        <!-- New recommendation text -->
                        <div style="background: white; padding: 20px; border-radius: 8px;">
                            <p style="color: #333; line-height: 1.8; margin-bottom: 15px; text-align: justify; word-wrap: break-word;">
                                ·Éõ·Éú·Éò·É®·Éï·Éú·Éî·Éö·Éù·Éï·Éê·Éú·Éò·Éê ·Éò·Éß·Éù ·É≠·Éô·Éï·Éò·Éê·Éú·Éò ·Éì·Éê ·Éñ·Éî·Éì·Éõ·Éî·É¢·Éê·Éì ·Éê·É† ·Éí·Éê·Éõ·Éù·É°·É™·Éê·Éì·Éù ·É°·Éê·Éô·É£·Éó·Éê·É†·Éò ·Éú·Éî·Éë·Éò·É°·Éß·Éù·É§·Éê!
                            </p>
                            <p style="color: #333; line-height: 1.8; margin-bottom: 15px; text-align: justify; word-wrap: break-word;">
                                ·Éò·Éõ·Éí·Éï·Éê·É†·Éê·Éì ·Éì·Éê·Éí·Éî·Éí·Éõ·Éî ·Éì·É¶·Éî ·Éì·Éê ·Éê·É•·É¢·Éò·Éï·Éù·Éë·Éî·Éë·Éò, ·É†·Éù·Éõ ·É†·Éê·É™ ·É®·Éî·Éò·É´·Éö·Éî·Éë·Éê ·Éú·Éê·Éô·Éö·Éî·Éë·Éê·Éì ·Éõ·Éù·Éí·Éò·É¨·Éò·Éù·É° ·É¢·É†·Éò·Éí·Éî·É†·Éî·Éë·Éó·Éê·Éú ·É®·Éî·ÉÆ·Éî·Éë·Éê.
                            </p>
                            <p style="color: #333; line-height: 1.8; margin-bottom: 15px; text-align: justify; word-wrap: break-word;">
                                ·Éõ·Éò·Éò·É¶·Éî ·Éí·Éê·Éê·Éñ·É†·Éî·Éë·É£·Éö·Éò ·Éí·Éê·Éì·Éê·É¨·Éß·Éï·Éî·É¢·Éò&shy;·Éö·Éî·Éë·Éî·Éë·Éò!
                            </p>
                            <p style="color: #333; line-height: 1.8; margin: 0; text-align: justify; word-wrap: break-word;">
                                ·Éó·É£ ·Éõ·Éê·Éò·Éú·É™ ·Éõ·Éù·Éí·Éò·É¨·Éî·Éï·É° ·É¢·É†·Éò·Éí·Éî·É†·Éî·Éë·Éó·Éê·Éú ·É®·Éî·ÉÆ·Éî·Éë·Éê, ·Éò·Éß·Éê·Éï·Éò ·Éõ·Éù·Éõ·Éñ·Éê·Éì·Éî·Éë·É£·Éö·Éò ·Éì·Éê ·É®·Éî·Éò·Éõ·É£·É®·Éê·Éï·Éî ·Éí·Éê·Éõ·Éô·Éö·Éê·Éï·Éî·Éë·Éò·É° ·Éõ·Éî·É•·Éê·Éú·Éò·Éñ·Éõ·Éî·Éë·Éò, ·É†·Éù·Éõ·Éö·Éî·Éë·É°·Éê·É™ ·Éê·Éõ ·Éì·É†·Éù·É° ·Éí·Éê·Éõ·Éù·Éò·Éß·Éî·Éú·Éî·Éë.
                            </p>
                        </div>
                    </div>
                </div>
                
                <div id="riskFactorsList"></div>
                
                <button class="btn btn-primary" onclick="showSection('copingMain')" style="margin-top: 20px;">‚Üê ·É£·Éô·Éê·Éú</button>
            </div>
            
            <!-- Coping Mechanisms Section -->
            <div id="copingMechanismsSection" class="section">
                <h1>‚è∞ ·É†·Éù·Éí·Éù·É† ·Éí·Éê·Éï·É£·Éõ·Éô·Éö·Éê·Éï·Éì·Éî ·Éö·É¢·Éù·Éö·Éï·Éê·É°</h1>
                
                <div class="wave-title">
                    üåä ·Éõ·Éù·Éê·Éó·Éï·Éò·Éú·Éò·Éî·É†·Éî ·É¢·Éê·Éö·É¶·Éê
                </div>
                <div class="wave-text">
                    <p>·Éö·É¢·Éù·Éö·Éï·Éò·É° ·É°·Éê·É®·É£·Éê·Éö·Éù ·ÉÆ·Éê·Éú·Éí·É†·É´·Éö·Éò·Éï·Éù·Éë·Éê ·Éê·É†·Éò·É° 15-20 ·É¨·É£·Éó·Éò.</p>
                    
                    <p>·É¨·Éê·É†·Éõ·Éù·Éò·Éì·Éí·Éò·Éú·Éî ·Éö·É¢·Éù·Éö·Éï·Éê, ·É†·Éù·Éí·Éù·É†·É™ ·Éù·Éô·Éî·Éê·Éú·Éò·É° ·É¢·Éê·Éö·É¶·Éê - ·Éò·É° ·Éê·É¶·Éò·Éõ·Éê·É†·Éó·Éî·Éë·Éê, ·Éò·Éñ·É†·Éì·Éî·Éë·Éê, ·Éê·É¶·É¨·Éî·Éï·É° ·Éû·Éò·Éô·É° ·Éì·Éê ·Éî·É™·Éî·Éõ·Éê.</p>
                    
                    <p>·Éó·É£ ·É®·Éî·Éú ·É®·Éî·É´·Éö·Éî·Éë ·Éì·Éê·Éò·Éõ·Éù·É†·É©·Éò·Éö·Éù ·É¢·Éê·Éö·É¶·Éê, ·É®·Éî·Éú ·Éò·Éí·É†·É´·Éú·Éù·Éë ·Éö·É¢·Éù·Éö·Éï·Éò·É° ·É®·Éî·Éí·É†·É´·Éú·Éî·Éë·Éê ·Éú·Éî·Éö-·Éú·Éî·Éö·Éê ·É†·Éù·Éí·Éù·É† ·É°·É£·É°·É¢·Éì·Éî·Éë·Éê ·Éì·Éê ·Éõ·Éò·Éì·Éò·É°.</p>
                </div>
                
                <div class="divider"></div>
                
                <h2>üìã ·É†·Éê ·É®·Éî·Éõ·Éò·É´·Éö·Éò·Éê ·Éí·Éê·Éï·Éê·Éô·Éî·Éó·Éù:</h2>
                
                <div id="copingMechanismsList"></div>
                
                <button class="btn btn-primary" onclick="showSection('copingMain')" style="margin-top: 30px;">‚Üê ·É£·Éô·Éê·Éú</button>
            </div>
            
            <!-- Recommendations Section -->
            <div id="recommendationsSection" class="section">
                <h1>üõ°Ô∏è ·É†·Éî·Éô·Éù·Éõ·Éî·Éú·Éì·Éê·É™·Éò·Éî·Éë·Éò</h1>
                
                <!-- Introduction -->
                <div style="background: #fff3cd; padding: 20px; border-radius: 12px; border-left: 4px solid #ffc107; margin-bottom: 25px;">
                    <p style="color: #856404; line-height: 1.8; margin: 0 0 15px 0;">
                        <strong>·Éì·Éê·Éõ·Éù·Éô·Éò·Éì·Éî·Éë·É£·Éö·Éî·Éë·Éê ·Éî·É° ·Éê·É†·Éò·É° ·Éì·Éê·Éê·Éï·Éê·Éì·Éî·Éë·Éê, ·É†·Éù·Éõ·Éö·Éò·É° ·Éí·Éê·Éõ·Éù·ÉÆ·Éê·É¢·É£·Éö·Éî·Éë·Éê·É™ ·Éê·É†·Éò·É° ·Éõ·Éù·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê·Éñ·Éî ·Éó·Éê·Éú·Éì·Éê·Éó·Éê·Éú·Éù·Éë·Éò·Éó·Éò ·Éô·Éù·Éú·É¢·É†·Éù·Éö·Éò·É° ·Éì·Éê·Éô·Éê·É†·Éí·Éï·Éê.</strong>
                    </p>
                    <p style="color: #856404; line-height: 1.8; margin: 0;">
                        ·É®·Éî·Éí·Éï·Éò·É´·Éö·Éò·Éê ·Éï·Éó·É•·Éï·Éê·Éó, ·É†·Éù·Éõ ·Éõ·Éê·É° ·Éê·ÉÆ·Éê·É°·Éò·Éê·Éó·Éî·Éë·É° ‚Äû·Éõ·Éê·Éí·Éú·Éò·É¢·É£·É†·Éò ·Éë·É£·Éú·Éî·Éë·Éê". ·É®·Éî·É°·Éê·Éë·Éê·Éõ·Éò·É°·Éê·Éì ·É®·Éî·Éú·Éò ·Éõ·Éò·Éñ·Éê·Éú·Éò ·Éê·É†·Éò·É° ·Éê·Éê·É®·Éî·Éú·Éù, ·É†·Éê·É™ ·É®·Éî·Éò·É´·Éö·Éî·Éë·Éê ·Éõ·Éî·É¢·Éò ·Éì·Éê·Éõ·É™·Éê·Éï·Éò ·Éõ·Éî·É•·Éê·Éú·Éò·Éñ·Éõ·Éò, ·É®·Éî·Éú·É°·Éê ·Éì·Éê ·É†·Éî·É™·Éò·Éì·Éò·Éï·É° ·É®·Éù·É†·Éò·É°.
                    </p>
                </div>
                
                <div id="recommendationsList"></div>
                
                <button class="btn btn-primary" onclick="showSection('copingMain')" style="margin-top: 20px;">‚Üê ·É£·Éô·Éê·Éú</button>
            </div>
            
            <!-- Techniques Section -->
            <div id="techniquesSection" class="section">
                <h1>üéØ ·É¢·Éî·É•·Éú·Éò·Éô·Éî·Éë·Éò</h1>
                <p style="margin-bottom: 30px; color: #666;">·É§·É°·Éò·É•·Éù·Éõ·Éê·É†·Éî·Éí·É£·Éö·Éò·É†·Éî·Éë·Éî·Éö·Éò ·É°·Éê·Éï·Éê·É†·ÉØ·Éò·É®·Éù·Éî·Éë·Éò</p>
                
                <div class="menu-card" onclick="openTechniqueModal('technique0Modal')" style="background: white;">
                    <div class="menu-card-title" style="color: #333;">üìñ ·Éí·Éê·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî·Éë·É£·Éö·Éù·Éë·Éê ·Éß·Éù·Éï·Éî·Éö·Éì·É¶·Éò·É£·É†·Éù·Éë·Éê·É®·Éò</div>
                </div>
                
                <div class="menu-card" onclick="openTechniqueModal('technique3Modal')" style="background: white;">
                    <div class="menu-card-title" style="color: #333;">üçé ·Éí·Éê·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî·Éë·É£·Éö·Éò ·É≠·Éê·Éõ·Éê</div>
                </div>
                
                <div class="menu-card" onclick="openTechniqueModal('technique4Modal')" style="background: white;">
                    <div class="menu-card-title" style="color: #333;">üö∂‚Äç‚ôÇÔ∏è ·Éí·Éê·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî·Éë·É£·Éö·Éò ·É°·Éò·Éê·É†·É£·Éö·Éò</div>
                </div>
                
                <div class="menu-card" onclick="openTechniqueModal('technique5Modal')" style="background: white;">
                    <div class="menu-card-title" style="color: #333;">üå¨Ô∏è ·Éí·Éê·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî·Éë·É£·Éö·Éò ·É°·É£·Éú·Éó·É•·Éï·Éê</div>
                </div>
                
                <div class="menu-card" onclick="openTechniqueModal('technique6Modal')" style="background: white;">
                    <div class="menu-card-title" style="color: #333;">üßò‚Äç‚ôÄÔ∏è ·É°·ÉÆ·Éî·É£·Éö·Éñ·Éî ·Éì·Éê·Éô·Éï·Éò·É†·Éï·Éî·Éë·Éê</div>
                </div>
                
                <div class="menu-card" onclick="openTechniqueModal('technique7Modal')" style="background: white;">
                    <div class="menu-card-title" style="color: #333;">üöø ·Éí·Éê·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî·Éë·É£·Éö·Éò ·É®·ÉÆ·Éê·Éû·Éò</div>
                </div>
                
                <div class="menu-card" onclick="openTechniqueModal('technique8Modal')" style="background: white;">
                    <div class="menu-card-title" style="color: #333;">üßº ·ÉÆ·Éî·Éö·Éî·Éë·Éò·É° ·Éì·Éê·Éë·Éê·Éú·Éê</div>
                </div>
                
                <div class="menu-card" onclick="openTechniqueModal('technique9Modal')" style="background: white;">
                    <div class="menu-card-title" style="color: #333;">üõë 5 ·Éú·Éê·Éë·Éò·ÉØ·Éò</div>
                </div>
                
                <div class="menu-card" onclick="openTechniqueModal('technique1Modal')" style="background: white;">
                    <div class="menu-card-title" style="color: #333;">ü´Å ·Éì·Éê·Éõ·Éê·Éõ·É®·Éï·Éò·Éì·Éî·Éë·Éî·Éö·Éò ·É°·É£·Éú·Éó·É•·Éï·Éê</div>
                </div>
                
                <div class="menu-card" onclick="openTechniqueModal('technique2Modal')" style="background: white;">
                    <div class="menu-card-title" style="color: #333;">üëÅÔ∏è 5-4-3-2-1 ·É¢·Éî·É•·Éú·Éò·Éô·Éê</div>
                </div>
                
                <button class="btn btn-primary" onclick="showSection('copingMain')" style="margin-top: 30px;">‚Üê ·É£·Éô·Éê·Éú</button>
            </div>
            
            <!-- Technique 1 Detail -->
            <div id="technique1Section" class="section" style="background: white; min-height: 100vh; padding: 0;">
                <div style="max-width: 800px; margin: 0 auto; padding: 40px 20px;">
                    <h1 style="color: #333; margin-bottom: 30px; text-align: center;">ü´Å ·Éì·Éê·Éõ·Éê·Éõ·É®·Éï·Éò·Éì·Éî·Éë·Éî·Éö·Éò ·É°·É£·Éú·Éó·É•·Éï·Éê</h1>
                    
                    <h3 style="color: #667eea; margin-bottom: 20px;">4-7-8 ·É°·É£·Éú·Éó·É•·Éï·Éò·É° ·É¢·Éî·É•·Éú·Éò·Éô·Éê</h3>
                    
                    <div style="color: #333; line-height: 1.8; font-size: 16px;">
                        <p style="margin-bottom: 15px;">‚Ä¢ <strong>·É©·Éê·Éò·É°·É£·Éú·Éó·É•·Éî</strong> ·É™·ÉÆ·Éï·Éò·É†·Éò·Éó 4 ·É¨·Éê·Éõ·Éò·É° ·Éí·Éê·Éú·Éõ·Éê·Éï·Éö·Éù·Éë·Éê·É®·Éò</p>
                        <p style="margin-bottom: 15px;">‚Ä¢ <strong>·É®·Éî·Éê·É©·Éî·É†·Éî</strong> ·É°·É£·Éú·Éó·É•·Éï·Éê 7 ·É¨·Éê·Éõ·Éò·Éó</p>
                        <p style="margin-bottom: 15px;">‚Ä¢ <strong>·Éê·Éõ·Éù·Éò·É°·É£·Éú·Éó·É•·Éî</strong> ·Éú·Éî·Éö·Éê ·Éû·Éò·É†·Éò·Éó 8 ·É¨·Éê·Éõ·Éò·É° ·Éí·Éê·Éú·Éõ·Éê·Éï·Éö·Éù·Éë·Éê·É®·Éò</p>
                        <p style="margin-top: 25px; color: #666;">·Éí·Éê·Éò·Éõ·Éî·Éù·É†·Éî 4-5-·ÉØ·Éî·É†. ·Éî·É° ·É¢·Éî·É•·Éú·Éò·Éô·Éê ·Éê·Éõ·É®·Éï·Éò·Éì·Éî·Éë·É° ·Éú·Éî·É†·Éï·É£·Éö ·É°·Éò·É°·É¢·Éî·Éõ·Éê·É° ·Éì·Éê ·Éí·Éî·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê ·É°·É¢·É†·Éî·É°·Éò·É° ·Éõ·Éê·É†·Éó·Éï·Éê·É®·Éò.</p>
                    </div>
                    
                    <button class="btn btn-primary" onclick="showSection('techniques')" style="width: 100%; padding: 15px; margin-top: 50px;">‚Üê ·É£·Éô·Éê·Éú</button>
                </div>
            </div>
            
            <!-- Technique 2 Detail -->
            <div id="technique2Section" class="section" style="background: white; min-height: 100vh; padding: 0;">
                <div style="max-width: 800px; margin: 0 auto; padding: 40px 20px;">
                    <h1 style="color: #333; margin-bottom: 30px; text-align: center;">üëÅÔ∏è 5-4-3-2-1 ·É¢·Éî·É•·Éú·Éò·Éô·Éê</h1>
                    
                    <h3 style="color: #667eea; margin-bottom: 20px;">·Éí·É†·É´·Éú·Éù·Éë·Éî·Éë·Éò·É° ·Éí·Éê·Éê·É•·É¢·Éò·É£·É†·Éî·Éë·Éê</h3>
                    
                    <div style="color: #333; line-height: 1.8; font-size: 16px;">
                        <p style="margin-bottom: 15px;"><strong>5 ·É†·Éê·Éõ, ·É†·Éê·É°·Éê·É™ ·ÉÆ·Éî·Éì·Éê·Éï</strong> - ·Éõ·Éò·Éõ·Éù·Éò·ÉÆ·Éî·Éì·Éî ·Éí·Éê·É†·É®·Éî·Éõ·Éù ·Éì·Éê ·Éì·Éê·Éê·É°·Éê·ÉÆ·Éî·Éö·Éî 5 ·É°·Éê·Éí·Éê·Éú·Éò, ·É†·Éù·Éõ·Éî·Éö·É°·Éê·É™ ·ÉÆ·Éî·Éì·Éê·Éï</p>
                        <p style="margin-bottom: 15px;"><strong>4 ·É†·Éê·Éõ, ·É†·Éê·É°·Éê·É™ ·É®·Éî·Éî·ÉÆ·Éî·Éë·Éò</strong> - ·É®·Éî·Éî·ÉÆ·Éî 4 ·Éù·Éë·Éò·Éî·É•·É¢·É° ·Éì·Éê ·Éò·Éí·É†·É´·Éî·Éú·Éò ·Éõ·Éê·Éó·Éò ·É¢·Éî·É•·É°·É¢·É£·É†·Éê</p>
                        <p style="margin-bottom: 15px;"><strong>3 ·É†·Éê·Éõ, ·É†·Éê·É°·Éê·É™ ·Éò·É°·Éõ·Éî·Éú</strong> - ·Éß·É£·É†·Éê·Éì·É¶·Éî·Éë·Éê ·Éõ·Éò·Éê·É•·É™·Éò·Éî 3 ·ÉÆ·Éõ·Éê·É°</p>
                        <p style="margin-bottom: 15px;"><strong>2 ·É†·Éê·Éõ, ·É†·Éê·É°·Éê·É™ ·Éß·Éú·Éù·É°·Éê·Éï</strong> - ·Éò·Éí·É†·É´·Éî·Éú·Éò 2 ·É°·É£·Éú·Éò</p>
                        <p style="margin-bottom: 15px;"><strong>1 ·É†·Éê·Éõ, ·É†·Éê·É°·Éê·É™ ·Éì·Éê·Éê·Éí·Éî·Éõ·Éù·Éï·Éú·Éî·Éë</strong> - ·Éì·Éê·Éê·Éí·Éî·Éõ·Éù·Éï·Éú·Éî ·É†·Éê·Éò·Éõ·Éî ·Éì·Éê ·É®·Éî·Éò·Éí·É†·É´·Éî·Éú·Éò ·Éõ·Éò·É°·Éò ·Éí·Éî·Éõ·Éù ·Éû·Éò·É†·É®·Éò</p>
                    </div>
                    
                    <button class="btn btn-primary" onclick="showSection('techniques')" style="width: 100%; padding: 15px; margin-top: 50px;">‚Üê ·É£·Éô·Éê·Éú</button>
                </div>
            </div>
            
            <!-- Technique 0 Modal - ·Éí·Éê·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî·Éë·É£·Éö·Éù·Éë·Éê -->
            <div id="technique0Modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; padding: 20px;">
                <div style="position: relative; background: white; max-width: 800px; margin: 8vh auto 5vh auto; max-height: 82vh; height: 82vh; border-radius: 12px; display: flex; flex-direction: column; overflow: hidden;">
                    
                    <!-- Scrollable Content -->
                    <div style="flex: 1; overflow-y: auto; padding: 40px 20px;">
                        <h1 style="color: #333; margin-bottom: 30px; text-align: center;">üìñ ·Éí·Éê·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî·Éë·É£·Éö·Éù·Éë·Éê ·Éß·Éù·Éï·Éî·Éö·Éì·É¶·Éò·É£·É†·Éù·Éë·Éê·É®·Éò</h1>
                        
                        <div style="color: #333; line-height: 1.8; font-size: 16px;">
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">·É†·Éê ·Éê·É†·Éò·É° ·Éí·Éê·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî·Éë·É£·Éö·Éù·Éë·Éê?</h3>
                                <p>·Éí·Éê·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî·Éë·É£·Éö·Éù·Éë·Éê - ·Éî·É° ·Éê·É†·Éò·É° ·Éí·Éê·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî·Éë·Éê, ·É†·Éù·Éõ·Éî·Éö·Éò·É™ ·Éì·Éí·Éî·Éë·Éê ·Éê·É†·É°·Éî·Éë·É£·Éö·Éò ·Éõ·Éù·Éõ·Éî·Éú·É¢·Éò·É°·Éê·Éì·Éõ·Éò ·Éõ·Éò·Éñ·Éê·Éú·Éõ·Éò·Éõ·Éê·É†·Éó·É£·Éö·Éò ·Éß·É£·É†·Éê·Éì·É¶·Éî·Éë·Éò·É° ·Éõ·Éò·Éõ·Éê·É†·Éó·Éï·Éò·Éó ·Éì·Éê ·Éõ·Éù·Éõ·Éî·Éú·É¢·Éò·Éì·Éê·Éú ·Éõ·Éù·Éõ·Éî·Éú·É¢·Éê·Éõ·Éì·Éî ·Éõ·Éò·Éõ·Éì·Éò·Éú·Éê·É†·Éî ·Éõ·Éù·Éï·Éö·Éî·Éú·Éî·Éë·Éò·É° ·Éõ·Éò·Éõ·Éê·É†·Éó, ·É®·Éî·É§·Éê·É°·Éî·Éë·Éò·É°·Éí·Éê·Éú ·Éó·Éê·Éï·Éò·É°·É£·É§·Éê·Éö·Éò ·Éì·Éê·Éõ·Éù·Éô·Éò·Éì·Éî·Éë·É£·Éö·Éî·Éë·Éò·É° ·É©·Éê·Éõ·Éù·Éß·Éê·Éö·Éò·Éë·Éî·Éë·Éò·Éó.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">·É®·Éî·É§·Éê·É°·Éî·Éë·Éò·É°·Éí·Éê·Éú ·Éí·Éê·Éó·Éê·Éï·Éò·É°·É£·É§·Éö·Éî·Éë·Éê</h3>
                                <p>·Éê·É† ·Éï·Éô·Éò·Éì·Éî·Éë·Éó ·Éò·Éê·É†·Éö·Éò·Éß·Éî·Éë·É° ·É©·Éï·Éî·Éú·É° ·É®·Éî·Éí·É†·É´·Éú·Éî·Éë·Éî·Éë·É°, ·É§·Éò·É•·É†·Éî·Éë·É°, ·Éî·Éõ·Éù·É™·Éò·Éî·Éë·É°. ·Éï·Éò·É¶·Éî·Éë·Éó ·É©·Éï·Éî·Éú·Éò ·Éí·Éê·Éõ·Éù·É™·Éì·Éò·Éö·Éî·Éë·Éò·É° ·Éó·Éò·Éó·Éù·Éî·É£·Éö ·Éê·É°·Éû·Éî·É•·É¢·É° ·Éô·É†·Éò·É¢·Éò·Éô·Éò·É° ·Éí·Éê·É†·Éî·É®·Éî, ·Éò·É°·Éî·Éó·É°, ·É†·Éù·Éí·Éù·É†·Éò·É™ ·Éò·É° ·Éê·É†·Éò·É°.</p>
                                <p style="margin-top: 10px;">·Éê·Éõ·Éò·É° ·Éõ·Éú·Éò·É®·Éï·Éú·Éî·Éö·Éù·Éï·Éê·Éú·Éò ·Éú·Éê·É¨·Éò·Éö·Éò - ·Éô·Éî·Éó·Éò·Éö·Éí·Éê·Éú·É¨·Éß·Éù·Éë·Éò·É°, ·Éõ·Éù·É°·Éò·Éß·Éï·Éê·É†·É£·Éö·Éî ·Éì·Éê·Éõ·Éù·Éô·Éò·Éì·Éî·Éë·É£·Éö·Éî·Éë·Éò·É° ·É®·Éî·É¢·Éê·Éú·Éê ·Éí·Éê·Éõ·Éù·É™·Éì·Éò·Éö·Éî·Éë·Éî·Éë·É®·Éò, ·É†·Éù·Éí·Éù·É†·É™ ·É°·Éê·Éô·É£·Éó·Éê·É†·Éò ·Éó·Éê·Éï·Éò·É°·Éê·Éì·Éõ·Éò ·Éî·Éõ·Éû·Éê·Éó·Éò·Éê.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">·É†·Éê·É¢·Éù·Éõ ·Éê·É†·Éò·É° ·Éõ·Éú·Éò·É®·Éï·Éú·Éî·Éö·Éù·Éï·Éê·Éú·Éò?</h3>
                                <p>·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éê ·Éì·Éê·Éô·Éê·Éï·É®·Éò·É†·Éî·Éë·É£·Éö·Éò·Éê ·Éë·Éî·Éï·É† ·É£·É°·Éò·Éê·Éõ·Éù·Éï·Éú·Éù ·Éõ·Éù·Éõ·Éî·Éú·É¢·Éó·Éê·Éú. ·Éò·É°·É¨·Éê·Éï·Éö·Éù ·Éõ·Éò·Éñ·Éê·Éú·Éõ·Éò·Éõ·Éê·É†·Éó·É£·Éö·Éê·Éì ·Éõ·Éò·Éõ·Éê·É†·Éó·Éù ·Éß·É£·É†·Éê·Éì·É¶·Éî·Éë·Éê ·Éê·Éõ ·Éõ·Éù·Éõ·Éî·Éú·É¢·Éî·Éë·Éò·É°·Éê·Éì·Éõ·Éò, ·É°·Éê·Éô·É£·Éó·Éê·É†·Éò ·Éó·Éê·Éï·Éò·É°·Éê·Éì·Éõ·Éò ·Éî·Éõ·Éû·Éê·Éó·Éò·Éò·Éó ·Éì·Éê ·Éõ·Éê·Éó ·Éí·Éê·Éõ·Éù ·Éó·Éï·Éò·Éó·Éí·Éê·Éú·É°·ÉØ·Éò·É° ·Éí·Éê·É†·Éî·É®·Éî - ·Éí·Éê·Éõ·Éù·É°·Éê·Éï·Éö·Éò·É° ·Éû·Éù·Éï·Éú·Éò·É° ·Éî·É†·Éó-·Éî·É†·Éó·Éò ·Éõ·É´·Éö·Éê·Éï·É†·Éò ·Éõ·Éî·Éó·Éù·Éì·Éò·Éê.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">·Éê·Éï·É¢·Éù·Éû·Éò·Éö·Éù·É¢·Éò</h3>
                                <p>·É†·Éù·É™·Éê ·É†·Éê·É¶·Éê·É™·Éê·É° ·Éï·Éê·Éô·Éî·Éó·Éî·Éë·Éó ·Éì·Éê ·Éê·É† ·Éï·Éõ·Éù·Éú·Éê·É¨·Éò·Éö·Éî·Éù·Éë·Éó ·Éê·Éõ·Éê·É®·Éò, ·É©·Éï·Éî·Éú ·Éï·Éê·É†·Éó ·Éê·Éï·É¢·Éù·Éû·Éò·Éö·Éù·É¢·Éñ·Éî. ·Éì·Éê·Éõ·Éù·Éô·Éò·Éì·Éî·Éë·É£·Éö·Éî·Éë·Éî·Éë·Éó·Éê·Éú ·Éî·É° ·Éê·É°·Éû·Éî·É•·É¢·Éò ·Éê·É•·É¢·É£·Éê·Éö·É£·É†·Éò·Éê, ·É†·Éê·Éì·Éí·Éê·Éú ·Éê·Éì·Éê·Éõ·Éò·Éê·Éú·Éò ·ÉÆ·É®·Éò·É†·Éê·Éì ·Éê·Éï·É¢·Éù·Éû·Éò·Éö·Éù·É¢·Éò·Éó ·Éò·É¨·Éß·Éî·Éë·É° ·Éõ·Éù·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê·É° ·Éì·Éê ·Éï·Éî·É†·É™ ·Éê·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî·Éë·É°, ·É†·Éê·Éõ ·Éí·Éê·Éõ·Éù·Éò·É¨·Éï·Éò·Éê ·Éõ·Éù·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">·É°·É¨·Éù·É†·Éê·Éì ·Éï·Éê·É°·É†·É£·Éö·Éî·Éë ·Éó·É£ ·Éê·É†·Éê?</h3>
                                <p>·É®·Éî·Éò·É´·Éö·Éî·Éë·Éê ·Éí·Éê·É©·Éú·Éì·Éî·É° ·Éô·Éò·Éó·ÉÆ·Éï·Éê, ·É°·É¨·Éù·É†·Éî·Éì ·Éï·Éê·Éô·Éî·Éó·Éî·Éë ·Éó·É£ ·Éê·É†·Éê ·Éí·Éê·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî·Éë·É£·Éö·Éù·Éë·Éò·É° ·É¢·Éî·É•·Éú·Éò·Éô·Éî·Éë·É°? ·Éê·É† ·Éê·É†·É°·Éî·Éë·Éù·Éë·É° ·É°·É¨·Éù·É†·Éò ·Éê·Éú ·Éê·É†·Éê·É°·É¨·Éù·É†·Éò ·É®·Éî·É°·É†·É£·Éö·Éî·Éë·Éê, ·É£·Éë·É†·Éê·Éö·Éù·Éì ·É£·Éú·Éì·Éê ·Éì·Éê·Éê·Éô·Éï·Éò·É†·Éì·Éî ·É®·Éî·Éú·É° ·Éí·Éê·Éõ·Éù·É™·Éì·Éò·Éö·Éî·Éë·Éî·Éë·É°.</p>
                                <p style="margin-top: 10px;">·É†·Éù·Éí·Éù·É†·É™ ·Éê·É† ·É£·Éú·Éì·Éê ·Éò·Éß·Éù·É° - ·É™·É£·Éì·Éê·Éì, ·Éô·Éê·É†·Éí·Éê·Éì, ·É£·É™·Éú·Éê·É£·É†·Éê·Éì ·Éê·Éú ·Éú·Éî·Éò·É¢·É†·Éê·Éö·É£·É†·Éê·Éì - ·É®·Éî·Éú ·É£·Éë·É†·Éê·Éö·Éù·Éì ·Éê·Éô·Éï·Éò·É†·Éì·Éî·Éë·Éò ·É®·Éî·Éú·É° ·É®·Éî·Éí·É†·É´·Éú·Éî·Éë·Éî·Éë·É°, ·É†·Éë·Éò·Éö·Éê·Éì ·Éì·Éê ·Éô·Éî·Éó·Éò·Éö·Éí·Éê·Éú·É¨·Éß·Éù·Éë·Éò·Éó ·Éê·Éë·É†·É£·Éú·Éî·Éë ·É®·Éî·Éú·É° ·Éí·Éù·Éú·Éî·Éë·Éê·É° ·Éõ·Éê·Éó·Éó·Éê·Éú ·Éß·Éù·Éï·Éî·Éö ·ÉØ·Éî·É†·Éñ·Éî, ·É†·Éù·Éì·Éî·É°·Éê·É™ ·Éí·Éù·Éú·Éî·Éë·Éê ·Éì·Éê·É´·É†·É¨·Éò·É°. ·Éî·É° ·Éê·É†·Éò·É° ·É£·Éú·Éê·É†·Éò, ·É†·Éù·Éõ·Éî·Éö·É°·Éê·É™ ·Éû·É†·Éê·É•·É¢·Éò·Éô·Éê ·É°·É≠·Éò·É†·Éì·Éî·Éë·Éê.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">·É†·Éù·Éí·Éù·É† ·Éï·Éò·Éï·Éê·É†·ÉØ·Éò·É®·Éù·Éó?</h3>
                                <p>·Éò·Éï·Éê·É†·ÉØ·Éò·É®·Éî·Éó ·É©·Éê·É†·Éó·É£·Éö·Éù·Éë·Éê·É°·Éê ·Éì·Éê ·Éí·Éê·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî·Éë·É£·Éö·Éù·Éë·Éê·É®·Éò ·Éõ·Éê·É®·Éò·Éú, ·É†·Éù·Éì·Éî·É°·Éê·É™ ·Éê·É°·É†·É£·Éö·Éî·Éë·Éó ·Éß·Éù·Éï·Éî·Éö·Éì·É¶·Éò·É£·É† ·É°·Éê·É•·Éõ·Éò·Éê·Éú·Éù·Éë·Éî·Éë·É°. ·É†·Éù·Éí·Éù·É†·É™ ·Éô·Éò ·Éí·Éù·Éú·Éî·Éë·Éê ·Éõ·Éò·Éì·Éò·É° ·É°·Éê·Éì·É¶·Éê·É™ ·É°·ÉÆ·Éï·Éê·Éí·Éê·Éú, ·É¨·Éê·É†·É°·É£·Éö·É®·Éò ·Éê·Éú ·Éõ·Éù·Éõ·Éê·Éï·Éê·Éö·É®·Éò, ·É†·Éë·Éò·Éö·Éê·Éì ·Éì·Éê·Éê·Éë·É†·É£·Éú·Éî·Éó ·Éò·É° ·Éõ·Éò·Éõ·Éì·Éò·Éú·Éê·É†·Éî ·Éõ·Éù·Éõ·Éî·Éú·É¢·É®·Éò.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px; padding: 20px; background: #f8f9ff; border-radius: 8px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">·É†·Éî·É§·Éö·Éî·É•·É°·Éò·Éê ·É°·Éê·Éï·Éê·É†·ÉØ·Éò·É®·Éù·É° ·É®·Éî·Éõ·Éì·Éî·Éí</h3>
                                <p>·É†·Éù·Éì·Éî·É°·Éê·É™ ·Éì·Éê·Éê·É°·É†·É£·Éö·Éî·Éë·Éó ·É°·Éê·Éï·Éê·É†·ÉØ·Éò·É®·Éù·É° ·Éì·Éê·É£·É°·Éï·Éò·Éó ·Éó·É•·Éï·Éî·Éú·É° ·Éó·Éê·Éï·É° ·Éô·Éò·Éó·ÉÆ·Éï·Éî·Éë·Éò:</p>
                                <ul style="margin-top: 10px; padding-left: 20px;">
                                    <li>·É†·Éê·É° ·Éí·É†·É´·Éú·Éù·Éë·Éì·Éò·Éó?</li>
                                    <li>·É†·Éê ·É®·Éî·Éê·Éõ·É©·Éú·Éò·Éî·Éó?</li>
                                    <li>·É†·Éê ·Éò·Éß·Éù ·Éò·É°, ·É†·Éê·É°·Éê·É™ ·Éï·Éî·É† ·É®·Éî·Éò·Éí·É†·É´·Éú·Éù·Éë·Éì·Éò·Éó ·Éî·É° ·É°·Éê·Éï·Éê·É†·ÉØ·Éò·É®·Éù ·É†·Éù·Éõ ·Éê·É† ·É®·Éî·Éí·Éî·É°·É†·É£·Éö·Éî·Éë·Éò·Éú·Éê·Éó?</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Fixed Button -->
                    <div style="padding: 20px; border-top: 1px solid #e0e0e0; background: white;">
                        <button class="btn btn-primary" onclick="closeTechniqueModal('technique0Modal')" style="width: 100%; padding: 15px;">·Éì·Éê·ÉÆ·É£·É†·Éï·Éê</button>
                    </div>
                    
                </div>
            </div>
            
            <!-- Technique 1 Modal -->
            <div id="technique1Modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; padding: 20px; overflow-y: auto;">
                <div style="background: white; max-width: 800px; margin: 8vh auto 5vh auto; max-height: 82vh; height: 82vh; border-radius: 12px; padding: 40px 20px; overflow-y: auto;">
                    <h1 style="color: #333; margin-bottom: 30px; text-align: center;">ü´Å ·Éì·Éê·Éõ·Éê·Éõ·É®·Éï·Éò·Éì·Éî·Éë·Éî·Éö·Éò ·É°·É£·Éú·Éó·É•·Éï·Éê</h1>
                    
                    <h3 style="color: #667eea; margin-bottom: 20px;">4-7-8 ·É°·É£·Éú·Éó·É•·Éï·Éò·É° ·É¢·Éî·É•·Éú·Éò·Éô·Éê</h3>
                    
                    <div style="color: #333; line-height: 1.8; font-size: 16px;">
                        <p style="margin-bottom: 15px;">‚Ä¢ <strong>·É©·Éê·Éò·É°·É£·Éú·Éó·É•·Éî</strong> ·É™·ÉÆ·Éï·Éò·É†·Éò·Éó 4 ·É¨·Éê·Éõ·Éò·É° ·Éí·Éê·Éú·Éõ·Éê·Éï·Éö·Éù·Éë·Éê·É®·Éò</p>
                        <p style="margin-bottom: 15px;">‚Ä¢ <strong>·É®·Éî·Éê·É©·Éî·É†·Éî</strong> ·É°·É£·Éú·Éó·É•·Éï·Éê 7 ·É¨·Éê·Éõ·Éò·Éó</p>
                        <p style="margin-bottom: 15px;">‚Ä¢ <strong>·Éê·Éõ·Éù·Éò·É°·É£·Éú·Éó·É•·Éî</strong> ·Éú·Éî·Éö·Éê ·Éû·Éò·É†·Éò·Éó 8 ·É¨·Éê·Éõ·Éò·É° ·Éí·Éê·Éú·Éõ·Éê·Éï·Éö·Éù·Éë·Éê·É®·Éò</p>
                        <p style="margin-top: 25px; color: #666;">·Éí·Éê·Éò·Éõ·Éî·Éù·É†·Éî 4-5-·ÉØ·Éî·É†. ·Éî·É° ·É¢·Éî·É•·Éú·Éò·Éô·Éê ·Éê·Éõ·É®·Éï·Éò·Éì·Éî·Éë·É° ·Éú·Éî·É†·Éï·É£·Éö ·É°·Éò·É°·É¢·Éî·Éõ·Éê·É° ·Éì·Éê ·Éí·Éî·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê ·É°·É¢·É†·Éî·É°·Éò·É° ·Éõ·Éê·É†·Éó·Éï·Éê·É®·Éò.</p>
                    </div>
                    
                    <button class="btn btn-primary" onclick="closeTechniqueModal('technique1Modal')" style="width: 100%; padding: 15px; margin-top: 40px;">·Éì·Éê·ÉÆ·É£·É†·Éï·Éê</button>
                </div>
            </div>
            
            <!-- Technique 2 Modal -->
            <div id="technique2Modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; padding: 20px; overflow-y: auto;">
                <div style="background: white; max-width: 800px; margin: 8vh auto 5vh auto; max-height: 82vh; height: 82vh; border-radius: 12px; padding: 40px 20px; overflow-y: auto;">
                    <h1 style="color: #333; margin-bottom: 30px; text-align: center;">üëÅÔ∏è 5-4-3-2-1 ·É¢·Éî·É•·Éú·Éò·Éô·Éê</h1>
                    
                    <h3 style="color: #667eea; margin-bottom: 20px;">·Éí·É†·É´·Éú·Éù·Éë·Éî·Éë·Éò·É° ·Éí·Éê·Éê·É•·É¢·Éò·É£·É†·Éî·Éë·Éê</h3>
                    
                    <div style="color: #333; line-height: 1.8; font-size: 16px;">
                        <p style="margin-bottom: 15px;"><strong>5 ·É†·Éê·Éõ, ·É†·Éê·É°·Éê·É™ ·ÉÆ·Éî·Éì·Éê·Éï</strong> - ·Éõ·Éò·Éõ·Éù·Éò·ÉÆ·Éî·Éì·Éî ·Éí·Éê·É†·É®·Éî·Éõ·Éù ·Éì·Éê ·Éì·Éê·Éê·É°·Éê·ÉÆ·Éî·Éö·Éî 5 ·É°·Éê·Éí·Éê·Éú·Éò, ·É†·Éù·Éõ·Éî·Éö·É°·Éê·É™ ·ÉÆ·Éî·Éì·Éê·Éï</p>
                        <p style="margin-bottom: 15px;"><strong>4 ·É†·Éê·Éõ, ·É†·Éê·É°·Éê·É™ ·É®·Éî·Éî·ÉÆ·Éî·Éë·Éò</strong> - ·É®·Éî·Éî·ÉÆ·Éî 4 ·Éù·Éë·Éò·Éî·É•·É¢·É° ·Éì·Éê ·Éò·Éí·É†·É´·Éî·Éú·Éò ·Éõ·Éê·Éó·Éò ·É¢·Éî·É•·É°·É¢·É£·É†·Éê</p>
                        <p style="margin-bottom: 15px;"><strong>3 ·É†·Éê·Éõ, ·É†·Éê·É°·Éê·É™ ·Éò·É°·Éõ·Éî·Éú</strong> - ·Éß·É£·É†·Éê·Éì·É¶·Éî·Éë·Éê ·Éõ·Éò·Éê·É•·É™·Éò·Éî 3 ·ÉÆ·Éõ·Éê·É°</p>
                        <p style="margin-bottom: 15px;"><strong>2 ·É†·Éê·Éõ, ·É†·Éê·É°·Éê·É™ ·Éß·Éú·Éù·É°·Éê·Éï</strong> - ·Éò·Éí·É†·É´·Éî·Éú·Éò 2 ·É°·É£·Éú·Éò</p>
                        <p style="margin-bottom: 15px;"><strong>1 ·É†·Éê·Éõ, ·É†·Éê·É°·Éê·É™ ·Éì·Éê·Éê·Éí·Éî·Éõ·Éù·Éï·Éú·Éî·Éë</strong> - ·Éì·Éê·Éê·Éí·Éî·Éõ·Éù·Éï·Éú·Éî ·É†·Éê·Éò·Éõ·Éî ·Éì·Éê ·É®·Éî·Éò·Éí·É†·É´·Éî·Éú·Éò ·Éõ·Éò·É°·Éò ·Éí·Éî·Éõ·Éù ·Éû·Éò·É†·É®·Éò</p>
                    </div>
                    
                    <button class="btn btn-primary" onclick="closeTechniqueModal('technique2Modal')" style="width: 100%; padding: 15px; margin-top: 40px;">·Éì·Éê·ÉÆ·É£·É†·Éï·Éê</button>
                </div>
            </div>
            
            <!-- Technique 3 Modal - Fixed Button Inside -->
            <div id="technique3Modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; padding: 20px;">
                <div style="position: relative; background: white; max-width: 800px; margin: 8vh auto 5vh auto; max-height: 82vh; height: 82vh; border-radius: 12px; display: flex; flex-direction: column; overflow: hidden;">
                    
                    <!-- Scrollable Content -->
                    <div style="flex: 1; overflow-y: auto; padding: 40px 20px;">
                        <h1 style="color: #333; margin-bottom: 30px; text-align: center;">üçé ·Éí·Éê·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî·Éë·É£·Éö·Éò ·É≠·Éê·Éõ·Éê</h1>
                        
                        <div style="color: #333; line-height: 1.8; font-size: 16px;">
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">1. ·Éì·Éê·Éê·Éô·Éï·Éò·É†·Éì·Éò ·ÉÆ·Éò·Éö·É°</h3>
                                <p>·Éê·Éò·É¶·Éî ·ÉÆ·Éò·Éö·Éò. ·Éõ·Éò·Éê·É•·É™·Éò·Éî ·Éß·É£·É†·Éê·Éì·É¶·Éî·Éë·Éê ·Éõ·Éò·É° ·É§·Éù·É†·Éõ·Éê·É°, ·É§·Éî·É†·É° ·Éì·Éê ·Éß·Éï·Éî·Éö·Éê ·É°·ÉÆ·Éï·Éê ·Éõ·Éê·ÉÆ·Éê·É°·Éò·Éê·Éó·Éî·Éë·Éî·Éö·É°, ·É†·Éê·É°·Éê·É™ ·Éô·Éò ·É®·Éî·Éê·Éõ·É©·Éú·Éî·Éï. ·É¨·Éê·É†·Éõ·Éù·Éò·Éì·Éí·Éò·Éú·Éî, ·Éó·Éò·Éó·É•·Éù·É° ·Éû·Éò·É†·Éï·Éî·Éö·Éê·Éì ·ÉÆ·Éî·Éì·Éê·Éï.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">2. ·Éõ·Éò·Éò·É¢·Éê·Éú·Éî ·É™·ÉÆ·Éï·Éò·É†·Éó·Éê·Éú</h3>
                                <p>·É†·Éê ·É°·É£·Éú·Éò ·Éê·É•·Éï·É°? ·Éú·Éê·É™·Éú·Éù·Éë·Éò·Éê? ·É¢·Éô·Éë·Éò·Éö·Éò·Éê, ·Éõ·Éü·Éê·Éï·Éî ·Éó·É£ ·Éú·Éî·Éò·É¢·É†·Éê·Éö·É£·É†·Éò?</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">3. ·Éû·Éò·É†·Éò·É° ·Éõ·Éù·Éõ·Éñ·Éê·Éì·Éî·Éë·Éê</h3>
                                <p>·É°·Éê·Éú·Éê·Éõ ·Éõ·Éù·Éô·Éë·Éò·É©·Éê·Éï, ·Éì·Éê·Éê·Éô·Éï·Éò·É†·Éì·Éò ·É†·Éù·Éí·Éù·É† ·Éî·Éõ·Éñ·Éê·Éì·Éî·Éë·Éê ·Éû·Éò·É†·Éò. ·Éí·Éê·É©·Éú·Éì·Éê ·Éú·Éî·É†·É¨·Éß·Éï·Éò? ·É°·Éê·Éì ·Éí·É†·É´·Éú·Éù·Éë?</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">4. ·Éû·Éò·É†·Éï·Éî·Éö·Éò ·Éö·É£·Éô·Éõ·Éê</h3>
                                <p>·É†·Éù·Éí·Éù·É†·Éò·Éê ·Éí·Éî·Éõ·Éù? ·Éí·Éê·Éê·É©·Éî·É†·Éî ·Éî·Éú·Éê·Éñ·Éî ·É°·Éê·Éú·Éê·Éõ ·Éì·Éê·Éò·É¨·Éß·Éî·Éë ·É¶·Éî·É≠·Éï·Éê·É°.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">5. ·É¶·Éî·É≠·Éï·Éê</h3>
                                <p>·É†·Éù·Éí·Éù·É† ·Éò·É™·Éï·Éö·Éî·Éë·Éê ·É¢·Éî·É•·É°·É¢·É£·É†·Éê? ·É†·Éù·Éì·Éò·É° ·É©·Éú·Éì·Éî·Éë·Éê ·É°·É£·É†·Éï·Éò·Éö·Éò ·Éí·Éê·Éì·Éê·Éß·Éö·Éê·Éû·Éï·Éò·É°?</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">6. ·Éí·Éê·Éì·Éê·Éß·Éö·Éê·Éû·Éï·Éê</h3>
                                <p>·Éì·Éê·Éê·Éô·Éï·Éò·É†·Éì·Éò ·É†·Éù·Éí·Éù·É† ·Éí·Éê·Éì·Éê·Éì·Éò·É° ·Éû·Éò·É†·Éò·Éì·Éê·Éú ·Éõ·É£·É™·Éî·Éö·É®·Éò.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">7. ·Éì·Éê·É§·Éò·É•·É†·Éî·Éë·Éê</h3>
                                <p>·Éõ·Éù·Éô·Éë·Éî·Éú·Éî·É° ·É®·Éù·É†·Éò·É° ·É®·Éî·Éí·Éò·É´·Éö·Éò·Éê ·Éò·É§·Éò·É•·É†·Éù ·Éò·Éõ·Éê·Éñ·Éî, ·É°·Éê·Éú·Éê·Éõ ·É®·Éî·Éú·É° ·É°·Éê·ÉÆ·Éö·É®·Éò ·Éõ·Éù·ÉÆ·Éï·Éì·Éî·Éë·Éù·Éì·Éê, ·É°·Éê·Éì ·Éò·Éñ·É†·Éì·Éî·Éë·Éù·Éì·Éê ·Éî·É° ·ÉÆ·Éò·Éö·Éò ·Éì·Éê ·É†·Éù·Éí·Éù·É† ·Éí·Éê·Éï·Éö·Éî·Éú·Éê·É° ·Éê·ÉÆ·Éì·Éî·Éú·Éì·Éê ·Éõ·Éê·É°·Éñ·Éî ·Éë·É£·Éú·Éî·Éë·É†·Éò·Éï·Éò ·Éû·Éò·É†·Éù·Éë·Éî·Éë·Éò ·Éì·Éê ·Éê·Éì·Éê·Éõ·Éò·Éê·Éú·Éó·Éê ·Éí·Éê·Éï·Éö·Éî·Éú·Éî·Éë·Éò.</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Fixed Button -->
                    <div style="padding: 20px; border-top: 1px solid #e0e0e0; background: white;">
                        <button class="btn btn-primary" onclick="closeTechniqueModal('technique3Modal')" style="width: 100%; padding: 15px;">·Éì·Éê·ÉÆ·É£·É†·Éï·Éê</button>
                    </div>
                    
                </div>
            </div>
            
            <!-- Technique 4 Modal - ·Éí·Éê·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî·Éë·É£·Éö·Éò ·É°·Éò·Éê·É†·É£·Éö·Éò -->
            <div id="technique4Modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; padding: 20px;">
                <div style="position: relative; background: white; max-width: 800px; margin: 8vh auto 5vh auto; max-height: 82vh; height: 82vh; border-radius: 12px; display: flex; flex-direction: column; overflow: hidden;">
                    
                    <!-- Scrollable Content -->
                    <div style="flex: 1; overflow-y: auto; padding: 40px 20px;">
                        <h1 style="color: #333; margin-bottom: 30px; text-align: center;">üö∂‚Äç‚ôÇÔ∏è ·Éí·Éê·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî·Éë·É£·Éö·Éò ·É°·Éò·Éê·É†·É£·Éö·Éò</h1>
                        
                        <div style="color: #333; line-height: 1.8; font-size: 16px;">
                            <p style="margin-bottom: 20px;">·Éê·Éõ ·É°·Éê·Éï·Éê·É†·ÉØ·Éò·É®·Éù·É°·Éó·Éï·Éò·É° ·Éê·Éò·É†·É©·Éò·Éî ·Éê·Éì·Éí·Éò·Éö·Éò, ·É°·Éê·Éì·Éê·É™ ·É°·Éê·Éô·Éõ·Éê·É†·Éò·É°·Éò ·É°·Éò·Éï·É†·É™·Éî·Éê.</p>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">1. ·Éì·Éê·É°·Éê·É¨·Éß·Éò·É°·Éò</h3>
                                <p>·Éì·Éê·Éì·Éî·É•·Éò ·Éó·Éê·Éú·Éê·Éë·É†·Éê·Éì, ·Éì·Éê ·É§·Éù·Éô·É£·É°·Éò·É†·Éì·Éò ·É¢·Éî·É†·É§·Éî·Éë·Éò·É° ·É•·Éï·Éî·É® ·Éê·É†·É°·Éî·Éë·É£·Éö ·É§·Éò·Éñ·Éò·Éô·É£·É† ·É®·Éî·Éí·É†·É´·Éú·Éî·Éë·Éê·Éñ·Éî, ·É°·Éê·Éì·Éê·É™ ·Éò·É°·Éò·Éú·Éò ·Éî·ÉÆ·Éî·Éë·Éò·Éê·Éú ·Éò·Éê·É¢·Éê·Éô·É°. ·É®·Éî·Éê·Éõ·É©·Éú·Éò·Éî ·Éõ·Éó·Éî·Éö·Éò ·É®·Éî·Éú·Éò ·É°·ÉÆ·Éî·É£·Éö·Éò, ·É†·Éù·Éõ·Éî·Éö·É°·Éê·É™ ·Éò·É≠·Éî·É†·É° ·É®·Éî·Éú·Éò ·É§·Éî·ÉÆ·Éî·Éë·Éò.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">2. ·Éõ·Éê·É†·ÉØ·Éï·Éî·Éú·Éê ·É§·Éî·ÉÆ·Éò</h3>
                                <p>·É†·Éù·Éì·Éî·É°·Éê·É™ ·Éõ·Éñ·Éê·Éì ·Éò·É•·Éú·Éî·Éë·Éò, ·Éú·Éî·Éö·Éê ·Éí·Éê·Éì·Éê·Éò·É¢·Éê·Éú·Éî ·É°·ÉÆ·Éî·É£·Éö·Éò·É° ·É¨·Éù·Éú·Éê ·Éõ·Éê·É†·ÉØ·Éï·Éî·Éú·Éê ·É§·Éî·ÉÆ·Éñ·Éî. ·É®·Éî·Éê·Éõ·É©·Éú·Éò·Éî ·É®·Éî·Éí·É†·É´·Éú·Éî·Éë·Éî·Éë·Éò, ·É†·Éù·Éõ·Éî·Éö·É°·Éê·É™ ·É®·Éî·Éò·Éí·É†·É´·Éú·Éù·Éë ·Éõ·Éê·É†·ÉØ·Éï·Éî·Éú·Éê ·É§·Éî·ÉÆ·É®·Éò ·Éì·Éê ·É¢·Éî·É†·É§·É®·Éò, ·Éõ·Éê·É†·É™·ÉÆ·Éî·Éú·Éê ·É§·Éî·ÉÆ·Éò·Éì·Éê·Éú ·Éõ·Éê·É°·Éò·É° ·Éí·Éê·Éì·Éõ·Éù·É¢·Éê·Éú·Éò·É° ·Éì·É†·Éù·É°.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">3. ·Éõ·Éê·É†·É™·ÉÆ·Éî·Éú·Éê ·É§·Éî·ÉÆ·Éò·É° ·Éõ·Éù·É¨·Éß·Éï·Éî·É¢·Éê</h3>
                                <p>·É†·Éù·Éì·Éî·É°·Éê·É™ ·Éõ·Éù·É¨·Éß·Éï·Éò·É¢·Éê·Éï ·Éõ·Éê·É†·É™·ÉÆ·Éî·Éú·Éê ·É§·Éî·ÉÆ·É° ·Éõ·Éò·É¨·Éò·Éì·Éê·Éú, ·Éõ·Éò·Éõ·Éê·É†·Éó·Éî ·É®·Éî·Éú·Éò ·Éß·É£·É†·Éê·Éì·É¶·Éî·Éë·Éê ·É®·Éî·Éí·É†·É´·Éú·Éî·Éë·Éî·Éë·Éñ·Éî ·Éõ·Éê·É†·É™·ÉÆ·Éî·Éú·Éê ·É§·Éî·ÉÆ·É®·Éò ·Éì·Éê ·É¢·Éî·É†·É§·É®·Éò, ·É†·Éù·Éì·Éî·É°·Éê·É™ ·Éò·É° ·Éò·É¨·Éî·Éï·Éê, ·É®·Éî·Éõ·Éì·Éî·Éí ·É†·Éù·Éì·Éî·É°·Éê·É™ ·Éò·É° ·Éî·É®·Éï·Éî·Éë·Éê ·É•·Éï·Éî·Éõ·Éù·Éó ·Éì·Éê ·Éî·ÉÆ·Éî·Éë·Éê ·Éò·Éê·É¢·Éê·Éô·É°.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">4. ·Éõ·Éê·É†·É™·ÉÆ·Éî·Éú·Éê ·É§·Éî·ÉÆ·Éñ·Éî ·É¨·Éù·Éú·Éò·É° ·Éí·Éê·Éì·Éê·É¢·Éê·Éú·Éê</h3>
                                <p>·Éõ·Éê·É†·É™·ÉÆ·Éî·Éú·Éê ·É§·Éî·ÉÆ·Éò·É° ·Éò·Éê·É¢·Éê·Éô·Éñ·Éî ·Éõ·Éß·Éê·É†·Éê·Éì ·Éì·Éê·Éì·Éî·Éë·Éò·É° ·É®·Éî·Éõ·Éì·Éî·Éí, ·É§·É†·Éó·ÉÆ·Éò·Éö·Éê·Éì ·Éõ·Éò·Éõ·Éê·É†·Éó·Éî ·É®·Éî·Éú·Éò ·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî·Éë·Éê ·Éò·Éõ ·É®·Éî·Éí·É†·É´·Éú·Éî·Éë·Éî·Éë·Éò·É°·Éô·Éî·Éú, ·É†·Éù·Éõ·Éö·Éî·Éë·É°·Éê·É™ ·É®·Éî·Éú ·É®·Éî·Éò·Éí·É†·É´·Éú·Éù·Éë ·É°·ÉÆ·Éî·É£·Éö·Éò·É° ·É¨·Éù·Éú·Éò·É° ·Éõ·Éê·É†·É™·ÉÆ·Éú·Éò·Éï ·Éí·Éê·Éì·Éê·É¢·Éê·Éú·Éò·É°·Éê·É°. ·É®·Éî·Éò·Éí·É†·É´·Éî·Éú·Éò ·Éõ·Éê·É†·ÉØ·Éï·Éî·Éú·Éê ·É§·Éî·ÉÆ·É®·Éò ·Éí·Éê·É©·Éî·Éú·Éò·Éö·Éò ·É°·Éò·Éõ·É°·É£·Éë·É£·É•·Éî, ·É†·Éù·Éì·Éî·É°·Éê·É™ ·Éò·É° ·Éó·Éê·Éï·Éò·É°·É£·É§·Éö·Éì·Éî·Éë·Éê ·É¨·Éù·Éú·Éò·É°·Éí·Éê·Éú.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">5. ·Éõ·Éê·É†·ÉØ·Éï·Éî·Éú·Éê ·É§·Éî·ÉÆ·Éò·É° ·É¨·Éò·Éú ·Éí·Éê·Éì·Éê·ÉÆ·É†·Éê</h3>
                                <p>·Éê·ÉÆ·Éö·Éê ·É§·É†·Éó·ÉÆ·Éò·Éö·Éê·Éì ·Éê·É°·É¨·Éò·Éî ·Éõ·Éê·É†·ÉØ·Éï·Éî·Éú·Éê ·É§·Éî·ÉÆ·Éò ·Éì·Éê ·É¨·Éò·Éú ·Éí·Éê·Éì·Éê·ÉÆ·É†·Éò·É°·Éê·É°, ·Éõ·Éò·Éê·É•·É™·Éò·Éî ·Éß·É£·É†·Éê·Éì·É¶·Éî·Éë·Éê ·Éõ·Éê·É†·ÉØ·Éï·Éî·Éú·Éê ·É§·Éî·ÉÆ·É®·Éò ·Éê·É†·É°·Éî·Éë·É£·Éö ·É®·Éî·Éí·É†·É´·Éú·Éî·Éë·Éî·Éë·É°. ·É†·Éù·Éí·Éù·É† ·Éì·Éî·Éë ·Éõ·Éê·É†·ÉØ·Éï·Éî·Éú·Éê ·É§·Éî·ÉÆ·É° ·Éò·Éê·É¢·Éê·Éô·Éñ·Éî, ·É†·Éù·Éí·Éù·É† ·Éí·Éê·Éì·Éê·Éì·Éò·É° ·É°·ÉÆ·Éî·É£·Éö·Éò·É° ·É¨·Éù·Éú·Éê ·Éõ·Éê·É†·É™·ÉÆ·Éî·Éú·Éê ·É§·Éî·ÉÆ·Éò·Éì·Éê·Éú ·Éõ·Éê·É†·ÉØ·Éï·Éî·Éú·Éê·Éñ·Éî.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">6. ·Éí·Éê·Éí·É†·É´·Éî·Éö·Éî·Éë·Éê</h3>
                                <p>·Éõ·Éò·Éê·É•·É™·Éò·Éî ·Éß·É£·É†·Éê·Éì·É¶·Éî·Éë·Éê, ·É†·Éù·Éì·Éî·É°·Éê·É™ ·É®·Éî·Éú ·Éì·Éí·Éê·Éï ·Éú·Éê·Éë·Éò·ÉØ·Éî·Éë·É°, ·É†·Éù·Éí·Éù·É† ·Éò·É™·Éï·Éö·Éî·Éë·Éò·Éê·Éú ·É®·Éî·Éí·É†·É´·Éú·Éî·Éë·Éî·Éë·Éò ·Éù·É†·Éò·Éï·Éî ·É§·Éî·ÉÆ·É®·Éò ·Éì·Éê ·É¢·Éî·É†·É§·É®·Éò. ·Éó·É£ ·É®·Éî·Éú·Éò ·Éß·É£·É†·Éê·Éì·É¶·Éî·Éë·Éê ·Éò·É§·Éê·Éú·É¢·Éî·Éë·Éê ·É°·Éò·Éê·É†·É£·Éö·Éò·É° ·Éû·É†·Éù·É™·Éî·É°·Éò·É°·Éí·Éê·Éú, ·É£·Éë·É†·Éê·Éö·Éù·Éì ·Éê·É¶·Éú·Éò·É®·Éú·Éî ·Éî·É° ·Éì·Éê ·É§·É†·Éó·ÉÆ·Éò·Éö·Éê·Éì ·Éì·Éê·Éê·Éë·É†·É£·Éú·Éî ·Éò·É°, ·Éò·É°·Éî·Éï ·É®·Éî·Éí·É†·É´·Éú·Éî·Éë·Éî·Éë·Éó·Éê·Éú ·É§·Éî·ÉÆ·Éî·Éë·É®·Éò.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <p style="color: #666; font-style: italic;">·Éò·Éï·Éê·É†·ÉØ·Éò·É®·Éî ·Éí·Éê·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî·Éë·É£·Éö ·É°·Éò·Éê·É†·É£·Éö·É®·Éò ·É†·Éê·Éõ·Éì·Éî·Éú·Éò·Éõ·Éî ·É¨·É£·Éó·Éò·É° ·Éí·Éê·Éú·Éõ·Éê·Éï·Éö·Éù·Éë·Éê·É®·Éò.</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Fixed Button -->
                    <div style="padding: 20px; border-top: 1px solid #e0e0e0; background: white;">
                        <button class="btn btn-primary" onclick="closeTechniqueModal('technique4Modal')" style="width: 100%; padding: 15px;">·Éì·Éê·ÉÆ·É£·É†·Éï·Éê</button>
                    </div>
                    
                </div>
            </div>
            
            <!-- Technique 5 Modal - ·Éí·Éê·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî·Éë·É£·Éö·Éò ·É°·É£·Éú·Éó·É•·Éï·Éê -->
            <div id="technique5Modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; padding: 20px;">
                <div style="position: relative; background: white; max-width: 800px; margin: 8vh auto 5vh auto; max-height: 82vh; height: 82vh; border-radius: 12px; display: flex; flex-direction: column; overflow: hidden;">
                    
                    <!-- Scrollable Content -->
                    <div style="flex: 1; overflow-y: auto; padding: 40px 20px;">
                        <h1 style="color: #333; margin-bottom: 30px; text-align: center;">üå¨Ô∏è ·Éí·Éê·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî·Éë·É£·Éö·Éò ·É°·É£·Éú·Éó·É•·Éï·Éê</h1>
                        
                        <div style="color: #333; line-height: 1.8; font-size: 16px;">
                            <p style="margin-bottom: 20px; color: #666; font-style: italic;">·É°·Éê·Éï·Éê·É†·ÉØ·Éò·É®·Éù·É° ·Éõ·Éò·Éñ·Éê·Éú·Éò ·Éê·É† ·Éê·É†·Éò·É° ·Éõ·Éù·Éì·É£·Éú·Éî·Éë·Éê, ·Éõ·Éò·É°·Éò ·Éõ·Éò·Éñ·Éê·Éú·Éò·Éê ·É£·Éë·É†·Éê·Éö·Éù·Éì ·É°·É£·Éú·Éó·É•·Éï·Éò·É° ·Éí·Éê·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî·Éë·Éê ·Éì·Éê ·Éõ·Éê·É°·Éñ·Éî ·Éõ·É®·Éï·Éò·Éì·Éê·Éì ·Éì·Éê ·Éì·Éê·É™·Éò·Éö·Éî·Éë·É£·Éö·Éê·Éì ·Éì·Éê·Éô·Éï·Éò·É†·Éï·Éî·Éë·Éê. ·Éó·Éê·Éï·Éò·Éì·Éê·Éú ·Éì·Éê·Éò·É¨·Éß·Éî 5 ·É¨·É£·Éó·Éò·Éó ·Éì·Éê ·É®·Éî·Éõ·Éì·Éî·Éí ·É®·Éî·Éí·Éò·É´·Éö·Éò·Éê ·Éê·ÉÆ·Éï·Éò·Éì·Éî ·Éú·Éê·ÉÆ·Éî·Éï·Éê·É† ·É°·Éê·Éê·Éó·Éñ·Éî, ·Éó·É£ ·Éî·É° ·É®·Éî·Éú·Éó·Éï·Éò·É° ·Éô·Éù·Éõ·É§·Éù·É†·É¢·É£·Éö·Éò ·Éò·É•·Éú·Éî·Éë·Éê.</p>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">1. ·Éê·Éì·Éí·Éò·Éö·Éò·É° ·Éê·É†·É©·Éî·Éï·Éê</h3>
                                <p>·Éì·Éê·Éò·É¨·Éß·Éî ·Éê·Éì·Éí·Éò·Éö·Éò·É° ·Éê·É†·É©·Éî·Éï·Éò·Éó. ·Éê·Éò·É†·É©·Éò·Éî ·Éê·Éì·Éí·Éò·Éö·Éò, ·É°·Éê·Éì·Éê·É™ ·ÉØ·Éì·Éù·Éõ·Éê ·É®·Éî·Éú·Éó·Éï·Éò·É° ·Éô·Éù·Éõ·É§·Éù·É†·É¢·É£·Éö·Éò·Éê.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">2. ·É°·ÉÆ·Éî·É£·Éö·Éò·É° ·Éí·Éê·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî·Éë·Éê</h3>
                                <p>·É®·Éî·Éõ·Éì·Éî·Éí ·Éí·Éê·Éê·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî, ·É†·Éù·Éí·Éù·É† ·Éí·É†·É´·Éú·Éù·Éë·É° ·Éó·Éê·Éï·É° ·É®·Éî·Éú·Éò ·É°·ÉÆ·Éî·É£·Éö·Éò ·É°·Éê·Éï·Éê·É†·É´·Éî·Éö·É®·Éò, ·É†·Éê ·É®·Éî·Éí·É†·É´·Éú·Éî·Éë·Éî·Éë·Éò·Éê ·Éõ·Éê·É°·É®·Éò, ·É†·Éê ·É®·Éî·Éí·É†·É´·Éú·Éî·Éë·Éî·Éë·Éò·Éê ·Éò·É•, ·É°·Éê·Éì·Éê·É™ ·Éò·É° ·Éî·ÉÆ·Éî·Éë·Éê ·É°·Éô·Éê·Éõ·É° ·Éì·Éê ·Éò·Éê·É¢·Éê·Éô·É°. ·Éõ·Éò·É£·É´·É¶·Éï·Éî·Éú·Éò ·É†·Éê·Éõ·Éì·Éî·Éú·Éò·Éõ·Éî ·É¨·Éê·Éõ·Éò ·Éê·Éõ ·É®·Éî·Éí·É†·É´·Éú·Éî·Éë·Éî·Éë·Éò·É° ·Éí·Éê·Éõ·Éù·Éô·Éï·Éö·Éî·Éï·Éê·É°.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">3. ·É°·É£·Éú·Éó·É•·Éï·Éê·Éñ·Éî ·Éß·É£·É†·Éê·Éì·É¶·Éî·Éë·Éò·É° ·Éõ·Éò·É•·É™·Éî·Éï·Éê</h3>
                                <p>·É®·Éî·Éõ·Éì·Éî·Éí ·Éõ·Éò·Éê·É•·É™·Éò·Éî ·Éß·É£·É†·Éê·Éì·É¶·Éî·Éë·Éê ·É®·Éî·Éú·É° ·É°·É£·Éú·Éó·É•·Éï·Éê·É°. ·É®·Éî·Éê·Éõ·É©·Éú·Éò·Éî, ·É†·Éù·Éí·Éù·É† ·É®·Éî·Éõ·Éù·Éì·Éò·É° ·É∞·Éê·Éî·É†·Éò ·É®·Éî·Éú·É° ·É°·ÉÆ·Éî·É£·Éö·É®·Éò ·É™·ÉÆ·Éï·Éò·É†·Éò·Éì·Éê·Éú ·Éì·Éê ·Éí·Éê·Éì·Éê·Éê·Éì·Éí·Éò·Éö·Éì·Éî·Éë·Éê ·É®·Éî·Éú·É° ·É°·ÉÆ·Éî·É£·Éö·É®·Éò ·É§·Éò·Éö·É¢·Éï·Éî·Éë·Éò·É°·Éô·Éî·Éú. ·É®·Éî·Éú ·É®·Éî·Éí·Éò·É´·Éö·Éò·Éê ·É®·Éî·Éê·Éõ·É©·Éú·Éò·Éù, ·É†·Éù·Éí·Éù·É† ·Éõ·Éù·É´·É†·Éê·Éù·Éë·É° ·É®·Éî·Éú·Éò ·Éõ·É£·É™·Éî·Éö·Éò ·Éñ·Éî·Éõ·Éù·Éó ·Éì·Éê ·É•·Éï·Éî·Éõ·Éù·Éó ·Éó·Éò·Éó·Éù·Éî·É£·Éö ·É©·Éê·É°·É£·Éú·Éó·É•·Éï·Éê-·Éê·Éõ·Éù·É°·É£·Éú·Éó·É•·Éï·Éê·É°·Éó·Éê·Éú ·Éî·É†·Éó·Éê·Éì. ·É®·Éî·Éí·Éò·É´·Éö·Éò·Éê ·Éì·Éê·Éò·Éì·Éù ·ÉÆ·Éî·Éö·Éò ·Éõ·É£·É™·Éî·Éö·Éñ·Éî, ·Éó·É£ ·Éî·É° ·Éì·Éê·Éí·Éî·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê ·É®·Éî·Éú·Éò ·Éß·É£·É†·Éê·Éì·É¶·Éî·Éë·Éò·É° ·É°·É£·Éú·Éó·É•·Éï·Éê·Éñ·Éî ·Éô·Éù·Éú·É™·Éî·Éú·É¢·É†·Éò·É†·Éî·Éë·Éê·É®·Éò.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">4. ·Éì·Éê·Éò·Éú·É¢·Éî·É†·Éî·É°·Éî·Éë·É£·Éö·Éò ·Éì·Éê·Éô·Éï·Éò·É†·Éï·Éî·Éë·Éê</h3>
                                <p>·Éì·Éê·Éê·Éô·Éï·Éò·É†·Éì·Éò ·É®·Éî·Éú·É° ·É°·É£·Éú·Éó·É•·Éï·Éê·É° ·Éì·Éê·Éò·Éú·É¢·Éî·É†·Éî·É°·Éî·Éë·É£·Éö·Éê·Éì. ·É§·É†·Éó·ÉÆ·Éò·Éö·Éê·Éì ·Éõ·Éò·Éõ·Éê·É†·Éó·Éî ·É®·Éî·Éú·Éò ·Éß·É£·É†·Éê·Éì·É¶·Éî·Éë·Éê ·É∞·Éê·Éî·É†·Éò·É° ·É¢·Éî·Éõ·Éû·Éî·É†·Éê·É¢·É£·É†·Éê·Éñ·Éî, ·É†·Éù·Éõ·Éî·Éö·É°·Éê·É™ ·Éò·É°·É£·Éú·Éó·É•·Éê·Éï ·Éì·Éê ·É®·Éî·Éê·Éõ·É©·Éú·Éò·Éî ·ÉÆ·Éì·Éî·Éë·Éê ·Éó·É£ ·Éê·É†·Éê ·Éò·É° ·É£·É§·É†·Éù ·É™·Éò·Éï·Éò, ·Éê·Éú ·Éó·Éë·Éò·Éö·Éò, ·É©·Éê·É°·É£·Éú·Éó·É•·Éï·Éò·É°·Éê ·Éì·Éê ·Éê·Éõ·Éù·É°·É£·Éú·Éó·É•·Éï·Éò·É°·Éê·É°. ·Éí·Éê·Éê·Éõ·Éê·ÉÆ·Éï·Éò·Éö·Éî ·Éß·É£·É†·Éê·Éì·É¶·Éî·Éë·Éê ·É∞·Éê·Éî·É†·Éñ·Éî, ·É†·Éù·Éõ·Éî·Éö·Éò·É™ ·É®·Éî·Éì·Éò·É° ·É®·Éî·Éú·É° ·É°·ÉÆ·Éî·É£·Éö·É®·Éò ·Éó·Éò·Éó·Éù·Éî·É£·Éö ·É©·Éê·É°·É£·Éú·Éó·É•·Éï·Éê·É°·Éó·Éê·Éú ·Éî·É†·Éó·Éê·Éì ·Éì·Éê ·Éí·Éê·Éõ·Éù·Éì·Éò·É° ·É°·ÉÆ·Éî·É£·Éö·Éò·Éì·Éê·Éú ·Éó·Éò·Éó·Éù·Éî·É£·Éö ·Éê·Éõ·Éù·É°·É£·Éú·Éó·É•·Éï·Éê·É°·Éó·Éê·Éú ·Éî·É†·Éó·Éê·Éì.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">5. ·Éë·É£·Éú·Éî·Éë·É†·Éò·Éï·Éò ·É°·É£·Éú·Éó·É•·Éï·Éê</h3>
                                <p>·Éò·Éõ·Éò·É° ·Éõ·Éò·É£·ÉÆ·Éî·Éì·Éê·Éï·Éê·Éì, ·Éê·É†·Éò·É° ·Éó·É£ ·Éê·É†·Éê ·É®·Éî·Éú·Éò ·É°·É£·Éú·Éó·É•·Éï·Éê ·É©·É•·Éê·É†·Éò ·Éê·Éú ·Éú·Éî·Éö·Éò, ·É¶·É†·Éõ·Éê ·Éê·Éú ·Éñ·Éî·Éì·Éê·Éû·Éò·É†·É£·Éö·Éò, ·É£·Éë·É†·Éê·Éö·Éù·Éì ·Éõ·Éò·Éî·É™·Éò ·É®·Éî·Éú·É° ·É°·ÉÆ·Éî·É£·Éö·É° ·É£·É§·Éö·Éî·Éë·Éê ·Éò·É°·É£·Éú·Éó·É•·Éù·É° ·Éò·É°·Éî, ·É†·Éù·Éí·Éù·É†·É™ ·Éò·É° ·É°·É£·Éú·Éó·É•·Éï·Éê·Éï·É° - ·Éë·É£·Éú·Éî·Éë·É†·Éò·Éï·Éê·Éì, ·É®·Éî·É§·Éê·É°·Éî·Éë·Éò·É° ·Éí·Éê·É†·Éî·É®·Éî. ·Éê·É† ·Éî·É™·Éê·Éì·Éù ·Éò·É° ·É†·Éê·Éò·Éõ·Éî ·Éí·Éñ·Éò·Éó ·É®·Éî·É™·Éï·Éê·Éö·Éù.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">6. ·É§·Éò·É•·É†·Éî·Éë·Éò·É° ·Éõ·Éê·É†·Éó·Éï·Éê</h3>
                                <p>·Éó·É£ ·Éí·Éù·Éú·Éî·Éë·Éê·É®·Éò ·Éõ·Éù·Éí·Éì·Éò·É° ·É§·Éò·É•·É†·Éî·Éë·Éò, ·É£·Éë·É†·Éê·Éö·Éù·Éì ·Éê·É¶·Éú·Éò·É®·Éú·Éî ·Éî·É° ·Éì·Éê ·É§·É†·Éó·ÉÆ·Éò·Éö·Éê·Éì ·Éõ·Éò·Éõ·Éê·É†·Éó·Éî ·É®·Éî·Éú·Éò ·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî·Éë·Éê ·Éò·É°·Éî·Éï ·É°·É£·Éú·Éó·É•·Éï·Éò·É°·Éô·Éî·Éú.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <p style="color: #666; font-style: italic;">·Éò·Éï·Éê·É†·ÉØ·Éò·É®·Éî ·Éê·Éõ·Éê·É®·Éò ·É†·Éê·Éõ·Éì·Éî·Éú·Éò·Éõ·Éî ·É¨·É£·Éó·Éò·É° ·Éí·Éê·Éú·Éõ·Éê·Éï·Éö·Éù·Éë·Éê·É®·Éò.</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Fixed Button -->
                    <div style="padding: 20px; border-top: 1px solid #e0e0e0; background: white;">
                        <button class="btn btn-primary" onclick="closeTechniqueModal('technique5Modal')" style="width: 100%; padding: 15px;">·Éì·Éê·ÉÆ·É£·É†·Éï·Éê</button>
                    </div>
                    
                </div>
            </div>
            
            <!-- Technique 6 Modal - ·É°·ÉÆ·Éî·É£·Éö·Éñ·Éî ·Éì·Éê·Éô·Éï·Éò·É†·Éï·Éî·Éë·Éê -->
            <div id="technique6Modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; padding: 20px;">
                <div style="position: relative; background: white; max-width: 800px; margin: 8vh auto 5vh auto; max-height: 82vh; height: 82vh; border-radius: 12px; display: flex; flex-direction: column; overflow: hidden;">
                    
                    <!-- Scrollable Content -->
                    <div style="flex: 1; overflow-y: auto; padding: 40px 20px;">
                        <h1 style="color: #333; margin-bottom: 30px; text-align: center;">üßò‚Äç‚ôÄÔ∏è ·É°·ÉÆ·Éî·É£·Éö·Éñ·Éî ·Éì·Éê·Éô·Éï·Éò·É†·Éï·Éî·Éë·Éê</h1>
                        
                        <div style="color: #333; line-height: 1.8; font-size: 16px;">
                            <p style="margin-bottom: 20px; color: #666; font-style: italic;">·Éî·É° ·É°·Éê·Éï·Éê·É†·ÉØ·Éò·É®·Éù ·Éê·É†·Éê·Éê ·Éò·Éõ·Éò·É°·Éó·Éï·Éò·É°, ·É†·Éù·Éõ ·Éó·Éê·Éï·Éò ·É†·Éê·Éõ·Éî·Éú·Éê·Éò·É†·Éê·Éì ·Éí·Éê·Éí·É†·É´·Éú·Éù·Éë·Éò·Éú·Éù·É° ·Éê·Éú ·Éõ·Éù·Éí·Éê·Éì·É£·Éú·Éù·É°. ·É®·Éî·Éú ·É£·Éú·Éì·Éê ·Éí·Éê·Éï·Éê·É†·ÉØ·Éò·É®·Éì·Éî ·É°·Éê·Éô·É£·Éó·Éê·É†·Éò ·É§·Éò·Éñ·Éò·Éô·É£·É†·Éò ·Éõ·Éî·É° ·Éí·Éê·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî·Éë·Éê·É®·Éò ·Éì·Éê ·Éê·É• ·Éì·Éê ·Éê·ÉÆ·Éö·Éê ·Éõ·Éù·Éõ·Éî·Éú·É¢·É®·Éò ·Éõ·Éù·Éú·Éê·É¨·Éò·Éö·Éî·Éù·Éë·Éê·É®·Éò, ·Éò·Éõ·Éò·É° ·Éõ·Éò·É£·ÉÆ·Éî·Éì·Éê·Éï·Éê·Éì, ·Éê·É†·Éò·É° ·Éî·É° ·Éõ·Éù·Éì·É£·Éú·Éî·Éë·Éò·É° ·É®·Éî·Éí·É†·É´·Éú·Éî·Éë·Éê, ·Éú·Éî·Éò·É¢·É†·Éê·Éö·É£·É†·Éò ·Éõ·Éì·Éí·Éù·Éõ·Éê·É†·Éî·Éù·Éë·Éê ·Éó·É£ ·Éì·Éò·É°·Éô·Éù·Éõ·É§·Éù·É†·É¢·Éò. ·É£·Éë·É†·Éê·Éö·Éù·Éì ·Éì·Éê·Éê·Éô·Éï·Éò·É†·Éì·Éò ·É°·Éê·Éô·É£·Éó·Éê·É† ·É®·Éî·Éí·É†·É´·Éú·Éî·Éë·Éî·Éë·É°, ·É†·Éù·Éí·Éù·É†·Éî·Éë·Éò·É™ ·Éê·É† ·É£·Éú·Éì·Éê ·Éò·Éß·Éï·Éú·Éî·Éú ·Éò·É°·Éò·Éú·Éò.</p>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">1. ·Éì·Éê·É°·Éê·É¨·Éß·Éò·É°·Éò - ·É°·É£·Éú·Éó·É•·Éï·Éê</h3>
                                <p>·Éì·Éê·É°·Éê·É¨·Éß·Éò·É°·Éò·É°·Éó·Éï·Éò·É° ·Éì·Éê·ÉØ·Éî·É•·Éò ·Éõ·Éù·ÉÆ·Éî·É†·ÉÆ·Éî·Éë·É£·Éö ·Éû·Éù·Éñ·Éê·É®·Éò ·Éì·Éê ·Éì·Éê·Éê·Éô·Éï·Éò·É†·Éì·Éò ·É®·Éî·Éú·Éò ·Éí·É£·Éö·Éõ·Éô·Éî·É†·Éì·Éò·É° ·Éõ·Éù·É´·É†·Éê·Éù·Éë·Éê·É° ·É°·É£·Éú·Éó·É•·Éï·Éò·É° ·Éì·É†·Éù·É°, ·É®·Éî·Éú·Éò ·Éí·É£·Éö·Éõ·Éô·Éî·É†·Éì·Éò·É° ·Éê·Éõ·Éê·É¶·Éö·Éî·Éë·Éê·É°·Éê ·Éì·Éê ·É©·Éê·É¨·Éî·Éï·Éê·É° ·Éó·Éò·Éó·Éù·Éî·É£·Éö·Éò ·É©·Éê·É°·É£·Éú·Éó·É•·Éï·Éò·É°·Éê ·Éì·Éê ·Éê·Éõ·Éù·É°·É£·Éú·Éó·É•·Éï·Éò·É°·Éê·É°. ·Éô·Éù·Éú·É™·Éî·Éú·É¢·É†·Éò·É†·Éì·Éò ·É®·Éî·Éú·É° ·É°·É£·Éú·Éó·É•·Éï·Éê·Éñ·Éî 1 ·É¨·É£·Éó·Éò·É° ·Éí·Éê·Éú·Éõ·Éê·Éï·Éö·Éù·Éë·Éê·É®·Éò.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">2. ·É°·Éô·Éê·Éõ·Éò ·Éì·Éê ·Éò·Éê·É¢·Éê·Éô·Éò</h3>
                                <p>·Éê·Éõ·Éò·É° ·É®·Éî·Éõ·Éì·Éî·Éí, ·Éí·Éê·Éê·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî ·É§·Éò·Éñ·Éò·Éô·É£·É†·Éò ·É®·Éî·Éí·É†·É´·Éú·Éî·Éë·Éî·Éë·Éò ·Éõ·Éó·Éî·Éö·É° ·É°·ÉÆ·Éî·É£·Éö·É®·Éò. ·Éì·Éê·Éò·É¨·Éß·Éî ·Éò·Éõ·Éò·É° ·É®·Éî·Éí·É†·É´·Éú·Éî·Éë·Éò·Éì·Éê·Éú, ·É†·Éù·Éõ ·É®·Éî·Éú·Éò ·É°·ÉÆ·Éî·É£·Éö·Éò ·É°·Éô·Éê·Éõ·É° ·Éî·ÉÆ·Éî·Éë·Éê ·Éì·Éê ·É®·Éî·Éú·Éò ·É§·Éî·ÉÆ·Éî·Éë·Éò ·Éò·Éê·É¢·Éê·Éô·É°. ·É£·Éë·É†·Éê·Éö·Éù·Éì ·Éî·É†·Éó·Éò ·É¨·É£·Éó·Éò·Éó ·Éõ·Éò·Éõ·Éê·É†·Éó·Éî ·É®·Éî·Éú·Éò ·Éß·É£·É†·Éê·Éì·É¶·Éî·Éë·Éê ·Éò·Éõ·Éò·É°·Éô·Éî·Éú, ·Éó·É£ ·É†·Éê·É° ·Éí·É†·É´·Éú·Éù·Éë. ·Éó·É£ ·É®·Éî·Éú ·Éí·É†·É´·Éú·Éù·Éë ·É¶·Éî·Éö·Éï·Éê·É° ·Éê·Éú ·Éí·Éù·Éú·Éî·Éë·Éê ·Éí·Éî·É§·Éê·Éú·É¢·Éî·Éë·Éê ·É§·Éò·É•·É†·Éî·Éë·Éñ·Éî, ·ÉÆ·Éõ·Éî·Éë·Éñ·Éî ·Éê·Éú ·Éú·Éò·Éï·Éó·Éî·Éë·Éñ·Éî, ·É†·Éù·Éõ·Éö·Éî·Éë·Éò·É™ ·Éê·É†·Éò·É° ·Éí·Éê·É†·Éî·Éõ·Éù·É™·Éï·Éê·É®·Éò, ·É£·Éë·É†·Éê·Éö·Éù·Éì ·Éõ·Éò·É£·Éö·Éù·É™·Éî ·É®·Éî·Éú·É° ·Éó·Éê·Éï·É° ·Éò·É°, ·É†·Éù·Éõ ·É®·Éî·Éê·Éõ·É©·Éú·Éò·Éî ·É†·Éù·Éí·Éù·É† ·Éì·Éê·É´·É†·É¨·Éò·É° ·É®·Éî·Éú·Éò ·Éí·Éù·Éú·Éî·Éë·Éê ·Éì·Éê ·É§·É†·Éó·ÉÆ·Éò·Éö·Éê·Éì ·Éì·Éê·Éê·Éë·É†·É£·Éú·Éî ·Éß·É£·É†·Éê·Éì·É¶·Éî·Éë·Éê ·É°·Éê·Éô·É£·Éó·Éê·É†·Éò ·É°·ÉÆ·Éî·É£·Éö·Éò·É° ·Éí·Éê·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî·Éë·Éê·Éñ·Éî.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">3. ·É¢·Éî·É†·É§·Éî·Éë·Éò</h3>
                                <p>·Éê·ÉÆ·Éö·Éê ·Éõ·Éò·Éõ·Éê·É†·Éó·Éî ·É®·Éî·Éú·Éò ·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî·Éë·Éê ·É¢·Éî·É†·É§·Éî·Éë·Éò·É°·Éô·Éî·Éú. ·Éê·É¶·Éú·Éò·É®·Éú·Éî ·Éß·Éï·Éî·Éö·Éê ·É®·Éî·Éí·É†·É´·Éú·Éî·Éë·Éê, ·É†·Éù·Éõ·Éö·Éî·Éë·É°·Éê·É™ ·É®·Éî·Éú ·É®·Éî·Éò·Éí·É†·É´·Éú·Éù·Éë ·É¢·Éî·É†·É§·Éî·Éë·É®·Éò, ·Éõ·Éò·Éê·É•·É™·Éò·Éî ·Éß·É£·É†·Éê·Éì·É¶·Éî·Éë·Éê ·Éõ·Éê·Éó ·É¢·Éî·Éõ·Éû·Éî·É†·Éê·É¢·É£·É†·Éê·É°, ·Éò·Éõ·Éê·É°, ·Éó·É£ ·É†·Éù·Éí·Éù·É† ·Éî·ÉÆ·Éî·Éë·Éò·Éê·Éú ·Éò·É°·Éò·Éú·Éò ·É®·Éî·Éú·É° ·É§·Éî·ÉÆ·É°·Éê·É™·Éõ·Éî·Éö·É°, ·Éò·Éõ·Éê·É°, ·Éó·É£ ·É†·Éù·Éí·Éù·É† ·Éî·ÉÆ·Éî·Éë·Éò·Éê·Éú ·É§·Éî·ÉÆ·Éò·É° ·Éó·Éò·Éó·Éî·Éë·Éò ·Éî·É†·Éó·Éõ·Éê·Éú·Éî·Éó·É° ·Éì·Éê ·Éú·Éî·Éë·Éò·É°·Éõ·Éò·Éî·É† ·É®·Éî·Éí·É†·É´·Éú·Éî·Éë·Éê·É° ·É¢·Éî·É†·É§·Éò·É° ·É°·ÉÆ·Éï·Éê·Éì·Éê·É°·ÉÆ·Éï·Éê ·Éú·Éê·É¨·Éò·Éö·É®·Éò.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">4. ·É§·Éî·ÉÆ·Éî·Éë·Éò</h3>
                                <p>·Éê·ÉÆ·Éö·Éê ·Éì·Éê·É¢·Éù·Éï·Éî ·É¢·Éî·É†·É§·Éî·Éë·Éò ·Éì·Éê ·Éê·Éê·Éõ·Éê·É¶·Éö·Éî ·É®·Éî·Éú·Éò ·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî·Éë·Éê ·É§·Éî·ÉÆ·Éî·Éë·Éò·É° ·Éñ·Éî·Éì·Éê ·Éú·Éê·É¨·Éò·Éö·Éò·É°·Éô·Éî·Éú. ·É®·Éî·Éí·Éú·Éî·Éë·É£·Éö·Éê·Éì ·Éí·Éê·Éõ·Éù·Éò·Éô·Éï·Éö·Éò·Éî ·Éß·Éï·Éî·Éö·Éê ·É®·Éî·Éí·É†·É´·Éú·Éî·Éë·Éê ·É§·Éî·ÉÆ·Éî·Éë·É®·Éò, ·Éì·Éê·É¨·Éß·Éî·Éë·É£·Éö·Éò ·Éò·É•·Éò·Éì·Éê·Éú, ·Éó·É£ ·É†·Éê·É° ·Éí·É†·É´·Éú·Éù·Éë ·É¨·Éï·Éò·Éï·Éî·Éë·É®·Éò, ·Éõ·É£·ÉÆ·Éö·Éî·Éë·É®·Éò, ·Éë·Éê·É†·É´·Éê·Éß·Éî·Éë·É®·Éò. ·Éõ·Éò·Éê·É•·É™·Éò·Éî ·Éß·É£·É†·Éê·Éì·É¶·Éî·Éë·Éê ·É§·Éî·ÉÆ·Éò·É° ·Éò·Éõ ·Éú·Éê·É¨·Éò·Éö·Éî·Éë·É°, ·É†·Éù·Éõ·Éö·Éî·Éë·Éò·É™ ·Éô·Éù·Éú·É¢·Éê·É•·É¢·Éù·Éë·Éî·Éú ·É°·Éô·Éê·Éõ·Éó·Éê·Éú, ·Éì·Éê ·É®·Éî·Éê·Éõ·É©·Éú·Éò·Éî ·É®·Éî·Éí·É†·É´·Éú·Éî·Éë·Éî·Éë·Éò ·Éê·Éõ ·Éê·Éì·Éí·Éò·Éö·Éî·Éë·É®·Éò.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">5. ·Éí·Éï·Éî·É†·Éì·Éî·Éë·Éò ·Éì·Éê ·É¨·Éî·Éö·Éò</h3>
                                <p>·Éê·ÉÆ·Éö·Éê ·Éõ·Éò·Éõ·Éê·É†·Éó·Éî ·É®·Éî·Éú·Éò ·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî·Éë·Éê ·Éí·Éï·Éî·É†·Éì·Éî·Éë·Éò·É°·Éê ·Éì·Éê ·É¨·Éî·Éö·Éò·É°·Éô·Éî·Éú. ·Éó·É£ ·É®·Éî·Éú ·Éê·Éõ·É©·Éú·Éî·Éï ·Éì·Éò·É°·Éô·Éù·Éõ·É§·Éù·É†·É¢·É°, ·Éí·Éê·Éò·Éï·Éê·É†·ÉØ·Éò·É®·Éî ·Éê·Éõ·Éò·É° ·Éí·Éê·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî·Éë·Éê·É®·Éò, ·Éò·Éõ·Éí·Éï·Éê·É†·Éê·Éì, ·É†·Éù·Éõ ·Éß·Éï·Éî·Éö·Éê·É§·Éî·É†·É° ·Éê·É´·Éö·Éî·Éï ·É£·É§·Éö·Éî·Éë·Éê·É° ·Éò·Éß·Éï·Éú·Éî·Éú, ·Éò·É°·Éî·Éó·Éî·Éë·Éò ·É†·Éù·Éí·Éù·É†·Éî·Éë·Éò·É™ ·Éê·É†·Éò·Éê·Éú.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">6. ·Éñ·É£·É†·Éí·Éò</h3>
                                <p>·Éí·Éê·Éì·Éê·Éò·É¢·Éê·Éú·Éî ·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî·Éë·Éê ·Éñ·É£·É†·Éí·Éò·É° ·Éê·É†·Éî·Éê·Éö·É®·Éò, ·Éì·Éê·Éò·É¨·Éß·Éî ·É•·Éï·Éî·Éì·Éê ·Éú·Éê·É¨·Éò·Éö·Éò·Éì·Éê·Éú ·Éì·Éê ·Éõ·Éò·Éê·É•·É™·Éò·Éî ·Éß·É£·É†·Éê·Éì·É¶·Éî·Éë·Éê ·Éú·Éî·Éë·Éò·É°·Éõ·Éò·Éî·É† ·É®·Éî·Éí·É†·É´·Éú·Éî·Éë·Éê·É° ·Éê·Éõ ·Éõ·Éò·Éì·Éê·Éõ·Éù·É®·Éò. ·É®·Éî·Éõ·Éì·Éî·Éí ·Éí·Éê·Éì·Éê·Éò·Éú·Éê·É™·Éï·Éö·Éî ·Éñ·É£·É†·Éí·Éò·É° ·Éñ·Éî·Éì·Éê ·Éú·Éê·É¨·Éò·Éö·É®·Éò ·Éì·Éê ·Éê·É¶·Éú·Éò·É®·Éú·Éî ·Éò·É° ·Éê·Éì·Éí·Éò·Éö·Éî·Éë·Éò, ·É†·Éù·Éõ·Éö·Éî·Éë·Éò·Éó·Éê·É™ ·Éò·É° ·É°·Éô·Éê·Éõ·É° ·Éî·ÉÆ·Éî·Éë·Éê. ·Éõ·Éò·Éê·É•·É™·Éò·Éî ·Éß·É£·É†·Éê·Éì·É¶·Éî·Éë·Éê ·Éú·Éî·Éë·Éò·É°·Éõ·Éò·Éî·É† ·Éì·Éê·É≠·Éò·Éõ·É£·Éö·Éù·Éë·Éê·É° ·Éê·Éú ·Éì·Éò·É°·Éô·Éù·Éõ·É§·Éù·É†·É¢·É°.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">7. ·ÉÆ·Éî·Éö·Éî·Éë·Éò</h3>
                                <p>·Éê·Éõ·Éò·É° ·É®·Éî·Éõ·Éì·Éî·Éí ·Éõ·Éò·Éõ·Éê·É†·Éó·Éî ·É®·Éî·Éú·Éò ·Éß·É£·É†·Éê·Éì·É¶·Éî·Éë·Éê ·ÉÆ·Éî·Éö·Éî·Éë·Éñ·Éî. ·Éì·Éê·É¨·Éß·Éî·Éë·É£·Éö·Éò ·Éó·Éò·Éó·Éî·Éë·Éò·Éì·Éê·Éú ·Éê·Éì·Éò ·Éñ·Éî·Éõ·Éù·Éó·Éô·Éî·Éú, ·Éõ·Éò·Éê·É•·É™·Éò·Éî ·É®·Éî·Éú·Éò ·Éß·É£·É†·Éê·Éì·É¶·Éî·Éë·Éê ·Éß·Éï·Éî·Éö·Éê ·É®·Éî·Éí·É†·É´·Éú·Éî·Éë·Éê·É° ·ÉÆ·Éî·Éö·Éò·É° ·Éß·Éï·Éî·Éö·Éê ·Éú·Éê·É¨·Éò·Éö·É®·Éò - ·Éõ·É¢·Éî·Éï·Éê·Éú·Éò, ·Éò·Éì·Éê·Éß·Éï·Éò, ·Éõ·ÉÆ·É†·Éî·Éë·Éò.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">8. ·Éô·Éò·É°·Éî·É†·Éò</h3>
                                <p>·Éê·ÉÆ·Éö·Éê ·Éô·Éù·Éú·É™·Éî·Éú·É¢·É†·Éò·É†·Éì·Éò ·Éô·Éò·É°·Éî·É†·Éñ·Éî. ·Éõ·Éò·Éê·É•·É™·Éò·Éî ·Éß·É£·É†·Éê·Éì·É¶·Éî·Éë·Éê ·Éú·Éî·Éë·Éò·É°·Éõ·Éò·Éî·É† ·Éì·Éê·É≠·Éò·Éõ·É£·Éö·Éù·Éë·Éê·É°.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">9. ·É°·Éê·ÉÆ·Éî ·Éì·Éê ·Éó·Éê·Éï·Éò</h3>
                                <p>·Éê·Éì·Éò ·Éô·Éò·É°·É†·Éò·É° ·Éí·Éê·Éï·Éö·Éò·Éó ·Éñ·Éî·Éõ·Éù·Éó ·Éì·Éê ·Éì·Éê·Éò·É¨·Éß·Éî ·É°·Éê·ÉÆ·Éî·Éñ·Éî ·É®·Éî·Éú·Éò ·É®·Éî·Éí·É†·É´·Éú·Éî·Éë·Éî·Éë·Éò·É° ·Éí·Éê·Éõ·Éù·Éô·Éï·Éö·Éî·Éï·Éê. ·Éõ·Éò·Éê·É•·É™·Éò·Éî ·Éß·É£·É†·Éê·Éì·É¶·Éî·Éë·Éê ·É®·Éî·Éú·É° ·É®·Éî·Éí·É†·É´·Éú·Éî·Éë·Éî·Éë·É° ·É®·É£·Éë·Éö·Éò·É°, ·É¨·Éê·É†·Éë·Éî·Éë·Éò·É°, ·É™·ÉÆ·Éï·Éò·É†·Éò·É°, ·Éö·Éù·Éß·Éî·Éë·Éò·É° ·Éê·É†·Éî·Éê·Éö·Éî·Éë·É®·Éò. ·Éí·Éê·Éì·Éê·Éì·Éò ·É¢·É£·É©·Éî·Éë·Éñ·Éî, ·Éê·É°·Éî·Éï·Éî ·Éõ·Éò·Éê·É•·É™·Éò·Éî ·Éß·É£·É†·Éê·Éì·É¶·Éî·Éë·Éê ·Éô·Éî·É§·Éê·É° ·Éì·Éê ·Éú·Éò·Éô·Éê·Éû·É°. ·É®·Éî·Éõ·Éì·Éî·Éí ·Éê·Éò·É¢·Éê·Éú·Éî ·É®·Éî·Éú·Éò ·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî·Éë·Éê ·Éó·Éê·Éï·Éò·É° ·Éß·Éï·Éî·Éö·Éê·Éñ·Éî ·Éõ·Éê·É¶·Éê·Éö ·É¨·Éî·É†·É¢·Éò·Éö·Éó·Éê·Éú.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">10. ·Éõ·Éó·Éö·Éò·Éê·Éú·Éù·Éë·Éê</h3>
                                <p>·Éê·ÉÆ·Éö·Éê, ·É†·Éù·É™·Éê ·É®·Éî·Éú ·Éí·Éê·Éõ·Éù·Éò·Éô·Éï·Éö·Éò·Éî ·É®·Éî·Éú·Éò ·É®·Éî·Éí·É†·É´·Éú·Éî·Éë·Éî·Éë·Éò ·É°·ÉÆ·Éî·É£·Éö·Éò·É° ·É°·ÉÆ·Éï·Éê·Éì·Éê·É°·ÉÆ·Éï·Éê ·Éú·Éê·É¨·Éò·Éö·É®·Éò, ·Éì·Éê·Éê·ÉÆ·Éê·É†·ÉØ·Éî ·É†·Éê·Éõ·Éì·Éî·Éú·Éò·Éõ·Éî ·É¨·É£·Éó·Éò, ·É†·Éê·Éó·Éê ·É®·Éî·Éò·Éí·É†·É´·Éú·Éù ·Éõ·Éó·Éî·Éö·Éò ·É®·Éî·Éú·Éò ·É°·ÉÆ·Éî·É£·Éö·Éò ·Éõ·Éó·Éö·Éò·Éê·Éú·Éê·Éì. ·Éô·Éï·Éö·Éê·Éï ·É®·Éî·É£·Éî·É†·Éó·Éì·Éò ·É®·Éî·Éú·É° ·É°·É£·Éú·Éó·É•·Éï·Éê·É°, ·Éò·É°·Éî, ·É†·Éù·Éí·Éù·É†·É™ ·Éê·Éõ·Éê·É° ·Éê·Éô·Éî·Éó·Éî·Éë·Éì·Éò ·É°·Éê·Éï·Éê·É†·ÉØ·Éò·É®·Éù·É° ·Éì·Éê·É°·Éê·É¨·Éß·Éò·É°·É®·Éò.</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Fixed Button -->
                    <div style="padding: 20px; border-top: 1px solid #e0e0e0; background: white;">
                        <button class="btn btn-primary" onclick="closeTechniqueModal('technique6Modal')" style="width: 100%; padding: 15px;">·Éì·Éê·ÉÆ·É£·É†·Éï·Éê</button>
                    </div>
                    
                </div>
            </div>
            
            <!-- Technique 7 Modal - ·Éí·Éê·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî·Éë·É£·Éö·Éò ·É®·ÉÆ·Éê·Éû·Éò -->
            <div id="technique7Modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; padding: 20px;">
                <div style="position: relative; background: white; max-width: 800px; margin: 8vh auto 5vh auto; max-height: 82vh; height: 82vh; border-radius: 12px; display: flex; flex-direction: column; overflow: hidden;">
                    
                    <!-- Scrollable Content -->
                    <div style="flex: 1; overflow-y: auto; padding: 40px 20px;">
                        <h1 style="color: #333; margin-bottom: 30px; text-align: center;">üöø ·Éí·Éê·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî·Éë·É£·Éö·Éò ·É®·ÉÆ·Éê·Éû·Éò</h1>
                        
                        <div style="color: #333; line-height: 1.8; font-size: 16px;">
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">1. ·Éê·Éë·Éê·Éñ·Éê·Éú·Éê·É®·Éò ·É®·Éî·É°·Éï·Éö·Éê</h3>
                                <p>·Éì·Éê·Éô·Éï·Éò·É†·Éì·Éò, ·É†·Éù·Éí·Éù·É† ·Éì·Éê·Éì·Éí·Éò ·É®·Éî·Éú·Éò ·Éõ·Éê·É†·ÉØ·Éï·Éî·Éú·Éê ·É§·Éî·ÉÆ·Éò ·Éê·Éë·Éê·Éñ·Éê·Éú·Éê·É®·Éò, ·É†·Éù·Éí·Éù·É† ·É®·Éî·Éî·ÉÆ·Éù ·Éò·É° ·Éê·Éë·Éê·Éñ·Éê·Éú·Éê·É°. ·É†·Éù·Éí·Éù·É† ·Éê·É¨·Éò·Éî ·Éõ·Éî·Éù·É†·Éî ·É§·Éî·ÉÆ·Éò ·Éì·Éê ·Éò·É°·Éò·É™ ·Éì·Éê·Éì·Éí·Éò ·É°·Éê·É®·ÉÆ·Éê·Éû·Éî·É®·Éò. ·É†·Éù·Éí·Éù·É† ·Éõ·Éî·Éì·Éí·É†·Éê·Éì ·Éì·Éí·Éê·É° ·É®·Éî·Éú·Éò ·É°·ÉÆ·Éî·É£·Éö·Éò.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">2. ·É®·ÉÆ·Éê·Éû·Éò·É° ·É©·Éê·É†·Éó·Éï·Éê</h3>
                                <p>·É©·Éê·É†·Éó·Éî ·É®·ÉÆ·Éê·Éû·Éò. ·Éú·Éî·Éö·Éê ·Éí·Éê·Éì·Éê·É†·Éó·Éî ·Éí·Éê·Éì·Éê·Éõ·É†·Éó·Éï·Éî·Éö·Éò ·Éò·Éõ·Éò·É°·Éó·Éï·Éò·É°, ·É†·Éù·Éõ ·Éô·Éù·Éõ·É§·Éù·É†·É¢·É£·Éö ·É¢·Éî·Éõ·Éû·Éî·É†·Éê·É¢·É£·É†·Éê·É° ·Éõ·Éò·Éê·É¶·É¨·Éò·Éù. ·Éõ·Éò·Éê·É•·É™·Éò·Éî ·Éß·É£·É†·Éê·Éì·É¶·Éî·Éë·Éê, ·É†·Éù·Éí·Éù·É† ·Éí·Éê·É•·Éï·É° ·Éí·Éê·Éì·Éê·Éõ·É†·Éó·Éï·Éî·Éö·Éñ·Éî ·ÉÆ·Éî·Éö·Éò ·Éõ·Éù·Éô·Éò·Éì·Éî·Éë·É£·Éö·Éò, ·Éê·É°·Éî·Éï·Éî ·Éõ·Éò·Éê·É•·É™·Éò·Éî ·Éß·É£·É†·Éê·Éì·É¶·Éî·Éë·Éê ·Éò·Éõ ·É´·Éê·Éö·Éò·É°·ÉÆ·Éõ·Éî·Éï·Éê·É°, ·É†·Éù·Éõ·Éî·Éö·É°·Éê·É™ ·É®·Éî·Éú ·Éõ·Éò·Éõ·Éê·É†·Éó·Éê·Éï ·Éõ·Éò·É° ·É°·Éò·Éï·É†·É™·Éî·É®·Éò ·Éí·Éê·Éì·Éê·Éê·Éì·Éí·Éò·Éö·Éî·Éë·Éò·É°·Éê·Éó·Éï·Éò·É°.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">3. ·É¨·Éß·Éê·Éö·Éó·Éê·Éú ·Éû·Éò·É†·Éï·Éî·Éö·Éò ·É®·Éî·ÉÆ·Éî·Éë·Éê</h3>
                                <p>·Éì·Éê·Éê·Éô·Éï·Éò·É†·Éì·Éò, ·É†·Éê·É° ·Éí·É†·É´·Éú·Éù·Éë ·Éô·Éê·Éú·Éñ·Éî, ·É†·Éù·Éì·Éî·É°·Éê·É™ ·É¨·Éï·Éî·Éó·Éî·Éë·Éò ·Éí·Éî·É°·ÉÆ·Éõ·Éî·Éï·Éê. ·Éê·É¶·Éò·É•·Éï·Éò ·É¨·Éß·Éö·Éò·É° ·É¢·Éî·Éõ·Éû·Éî·É†·Éê·É¢·É£·É†·Éê ·Éì·Éê ·É†·Éù·Éí·Éù·É† ·Éò·É™·Éï·Éö·Éî·Éë·Éê ·É®·Éî·Éú·Éò ·É°·ÉÆ·Éî·É£·Éö·Éò·É° ·É¢·Éî·Éõ·Éû·Éî·É†·Éê·É¢·É£·É†·Éê ·É¨·Éß·Éê·Éö·Éó·Éê·Éú ·É®·Éî·ÉÆ·Éî·Éë·Éò·É°·Éê·É°.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">4. ·ÉÆ·Éõ·Éî·Éë·Éò</h3>
                                <p>·É®·Éî·Éõ·Éì·Éî·Éí ·É†·Éê·Éõ·Éì·Éî·Éú·Éò·Éõ·Éî ·É¨·É£·Éó·Éò·É° ·Éí·Éê·Éú·Éõ·Éê·Éï·Éö·Éù·Éë·Éê·É®·Éò ·Éß·É£·É†·Éê·Éì·É¶·Éî·Éë·Éê ·Éõ·Éò·Éê·É•·É™·Éò·Éî ·ÉÆ·Éõ·Éî·Éë·É°, ·É†·Éù·Éõ·Éö·Éî·Éë·Éò·É™ ·Éí·Éî·É°·Éõ·Éò·É°, ·É†·Éù·É™·Éê ·É¨·Éß·Éê·Éö·Éò ·Éí·Éê·Éõ·Éù·Éì·Éò·É° ·É®·ÉÆ·Éê·Éû·Éò·Éì·Éê·Éú ·Éì·Éê ·Éî·ÉÆ·Éî·Éë·Éê ·É®·Éî·Éú·É° ·É°·ÉÆ·Éî·É£·Éö·É°.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">5. ·É§·Éò·É•·É†·Éî·Éë·Éò·É° ·Éì·Éê·Éë·É†·É£·Éú·Éî·Éë·Éê</h3>
                                <p>·Éó·É£ ·É®·Éî·Éú ·É®·Éî·Éê·Éõ·É©·Éú·Éî·Éï, ·É†·Éù·Éõ ·É®·Éî·Éú·Éò ·Éí·Éù·Éú·Éî·Éë·Éê ·Éì·Éê·É´·É†·É¨·Éò·É°, ·É¶·Éî·Éö·Éê·Éï·É°, ·Éí·Éî·Éí·Éõ·Éê·Éï·É°, ·Éò·ÉÆ·É°·Éî·Éú·Éî·Éë·É° ·Éê·Éú ·Éô·Éò·Éì·Éî·Éï ·É°·ÉÆ·Éï·Éê ·É†·Éê·Éò·Éõ·Éî·Éñ·Éî ·É§·Éò·É•·É†·Éù·Éë·É°, ·Éõ·Éò·É£·Éö·Éù·É™·Éî ·É®·Éî·Éú·É° ·Éó·Éê·Éï·É°, ·É†·Éù·Éõ ·É®·Éî·Éú ·Éó·Éï·Éò·Éó·Éù·Éú ·É®·Éî·Éú·Éò·É®·Éú·Éî ·Éî·É° ·Éì·Éê ·Éõ·Éò·Éõ·Éê·É†·Éó·Éî ·É®·Éî·Éú·Éò ·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî·Éë·Éê ·Éò·É°·Éî·Éï ·Éõ·Éò·Éõ·Éì·Éò·Éú·Éê·É†·Éî ·Éõ·Éù·Éõ·Éî·Éú·É¢·Éò·É°·Éô·Éî·Éú.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">6. ·É°·É£·Éú·Éî·Éë·Éò</h3>
                                <p>·Éõ·Éò·Éê·É•·É™·Éò·Éî ·Éß·É£·É†·Éê·Éì·É¶·Éî·Éë·Éê ·É°·É£·Éú·Éî·Éë·É°. ·Éò·É•·Éú·Éî·Éë ·É°·Éê·Éû·Éù·Éú·É° ·Éê·É•·Éï·É° ·Éú·Éê·É™·Éú·Éù·Éë·Éò ·É°·É£·Éú·Éò. ·É†·Éê·Éõ·Éì·Éî·Éú·Éò·Éõ·Éî ·É¨·É£·Éó·Éò·É° ·Éí·Éê·Éú·Éõ·Éê·Éï·Éö·Éù·Éë·Éê·É®·Éò, ·Éõ·Éò·Éõ·Éê·É†·Éó·Éî ·É®·Éî·Éú·Éò ·Éß·É£·É†·Éê·Éì·É¶·Éî·Éë·Éê ·Éß·Éï·Éî·Éö·Éê·Éú·Éê·Éò·É†·Éò ·É°·É£·Éú·Éò·É°·Éô·Éî·Éú, ·É†·Éù·Éõ·Éî·Éö·Éò·É™ ·É®·Éî·Éú ·É®·Éî·Éí·Éò·É´·Éö·Éò·Éê, ·É†·Éù·Éõ ·Éò·Éí·É†·É´·Éú·Éù.</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Fixed Button -->
                    <div style="padding: 20px; border-top: 1px solid #e0e0e0; background: white;">
                        <button class="btn btn-primary" onclick="closeTechniqueModal('technique7Modal')" style="width: 100%; padding: 15px;">·Éì·Éê·ÉÆ·É£·É†·Éï·Éê</button>
                    </div>
                    
                </div>
            </div>
            
            <!-- Technique 8 Modal - ·ÉÆ·Éî·Éö·Éî·Éë·Éò·É° ·Éì·Éê·Éë·Éê·Éú·Éê -->
            <div id="technique8Modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; padding: 20px;">
                <div style="position: relative; background: white; max-width: 800px; margin: 8vh auto 5vh auto; max-height: 82vh; height: 82vh; border-radius: 12px; display: flex; flex-direction: column; overflow: hidden;">
                    
                    <!-- Scrollable Content -->
                    <div style="flex: 1; overflow-y: auto; padding: 40px 20px;">
                        <h1 style="color: #333; margin-bottom: 30px; text-align: center;">üßº ·ÉÆ·Éî·Éö·Éî·Éë·Éò·É° ·Éì·Éê·Éë·Éê·Éú·Éê</h1>
                        
                        <div style="color: #333; line-height: 1.8; font-size: 16px;">
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">1. ·Éù·Éú·Éô·Éê·Éú·Éó·Éê·Éú ·Éõ·Éò·Éê·ÉÆ·Éö·Éù·Éî·Éë·Éê</h3>
                                <p>·Éõ·Éò·É£·Éê·ÉÆ·Éö·Éù·Éï·Éì·Éò ·Éù·Éú·Éô·Éê·Éú·É°. ·Éì·Éê·Éì·Éî·É•·Éò ·É†·Éê·Éù·Éì·Éî·Éú·Éò·Éõ·Éî ·É¨·Éê·Éõ·Éò·Éó ·Éì·Éê ·É®·Éî·Éò·Éí·É†·É´·Éî·Éú·Éò ·É®·Éî·Éú·Éò ·É§·Éî·ÉÆ·Éî·Éë·Éò ·É†·Éù·Éí·Éù·É† ·Éî·ÉÆ·Éî·Éë·Éê ·Éò·Éê·É¢·Éê·Éô·É°. ·Éì·Éê·Éê·Éô·Éï·Éò·É†·Éì·Éò, ·É†·Éù·Éí·Éù·É† ·Éõ·Éò·Éò·É¨·Éî·Éï·É° ·ÉÆ·Éî·Éö·Éò ·Éù·Éú·Éô·Éê·Éú·Éò·É°·Éô·Éî·Éú.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">2. ·Éù·Éú·Éô·Éê·Éú·Éò·É° ·É©·Éê·É†·Éó·Éï·Éê</h3>
                                <p>·Éõ·Éò·Éê·É•·É™·Éò·Éî ·Éß·É£·É†·Éê·Éì·É¶·Éî·Éë·Éê, ·É†·Éù·Éí·Éù·É† ·Éî·ÉÆ·Éî·Éë·Éò ·Éù·Éú·Éô·Éê·Éú·Éò·É° ·Éí·Éê·Éì·Éê·Éõ·É†·Éó·Éï·Éî·Éö·É° ·Éó·Éò·Éó·Éî·Éë·Éò·Éó. ·É†·Éù·Éí·Éù·É† ·ÉÆ·Éõ·Éê·É° ·Éí·Éê·Éõ·Éù·É°·É™·Éî·Éõ·É° ·É¨·Éß·Éê·Éö·Éò, ·É†·Éù·Éì·Éî·É°·Éê·É™ ·Éò·É¨·Éß·Éî·Éë·É° ·Éì·Éî·Éú·Éê·É°.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">3. ·É¨·Éß·Éê·Éö·Éó·Éê·Éú ·É®·Éî·ÉÆ·Éî·Éë·Éê</h3>
                                <p>·Éõ·Éù·Éê·Éó·Éê·Éï·É°·Éî ·ÉÆ·Éî·Éö·Éî·Éë·Éò ·É¨·Éß·Éö·Éò·É° ·É•·Éï·Éî·É®. ·Éê·É¶·Éò·É•·Éï·Éò ·É¨·Éß·Éö·Éò·É° ·É¢·Éî·Éõ·Éû·Éî·É†·Éê·É¢·É£·É†·Éê - ·É™·Éò·Éï·Éò·Éê, ·Éó·Éë·Éò·Éö·Éò ·Éó·É£ ·É™·ÉÆ·Éî·Éö·Éò. ·É†·Éù·Éí·Éù·É† ·É®·Éî·Éò·Éí·É†·É´·Éú·Éù·Éë·Éê ·Éô·Éê·Éú·Éñ·Éî. ·Éì·Éê·Éê·Éô·Éï·Éò·É†·Éì·Éò, ·É†·Éù·Éí·Éù·É† ·Éò·É¶·Éï·É†·Éî·Éë·Éê ·É¨·Éß·Éê·Éö·Éò ·É®·Éî·Éú·É° ·Éõ·É¢·Éî·Éï·Éú·Éî·Éë·Éñ·Éî ·Éì·Éê ·Éó·Éò·Éó·Éî·Éë·Éñ·Éî.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">4. ·É°·Éê·Éû·Éú·Éò·É° ·Éê·É¶·Éî·Éë·Éê</h3>
                                <p>·É®·Éî·Éò·Éí·É†·É´·Éî·Éú·Éò ·É°·Éê·Éû·Éú·Éò·É° ·É¢·Éî·É•·É°·É¢·É£·É†·Éê ·ÉÆ·Éî·Éö·É®·Éò. ·Éì·Éê·Éê·Éô·Éï·Éò·É†·Éì·Éò ·É†·Éù·Éí·Éù·É†·Éò ·É§·Éù·É†·Éõ·Éò·É° ·Éê·É†·Éò·É°. ·É®·Éî·Éê·Éõ·É©·Éú·Éò·Éî, ·É†·Éù·Éí·Éù·É† ·É©·Éú·Éì·Éî·Éë·Éê ·É•·Éê·É§·Éò ·ÉÆ·Éî·Éö·Éî·Éë·Éñ·Éî.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">5. ·Éì·Éê·Éë·Éê·Éú·Éò·É° ·Éû·É†·Éù·É™·Éî·É°·Éò</h3>
                                <p>·Éú·Éî·Éö·Éê ·Éì·Éê·Éò·Éë·Éê·Éú·Éî ·ÉÆ·Éî·Éö·Éî·Éë·Éò. ·Éõ·Éò·Éê·É•·É™·Éò·Éî ·Éß·É£·É†·Éê·Éì·É¶·Éî·Éë·Éê ·Éõ·É¢·Éî·Éï·Éú·Éî·Éë·Éò·É°, ·Éó·Éò·Éó·Éî·Éë·Éò·É°, ·Éó·Éò·Éó·Éî·Éë·Éò·É° ·É®·É£·Éê·Éö·Éî·Éì·Éî·Éë·Éò·É° ·Éì·Éê·Éë·Éê·Éú·Éê·É°. ·Éì·Éê·Éê·Éô·Éï·Éò·É†·Éì·Éò ·É•·Éê·É§·Éò·É° ·É¢·Éî·É•·É°·É¢·É£·É†·Éê·É° ·Éì·Éê ·É®·Éî·Éí·É†·É´·Éú·Éî·Éë·Éî·Éë·É° ·ÉÆ·Éî·Éö·Éî·Éë·É®·Éò.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">6. ·É°·É£·Éú·Éò</h3>
                                <p>·É®·Éî·Éò·Éí·É†·É´·Éî·Éú·Éò ·É°·Éê·Éû·Éú·Éò·É° ·É°·É£·Éú·Éò. ·Éú·Éê·É™·Éú·Éù·Éë·Éò·Éê? ·Éí·Éê·Éú·É°·ÉÆ·Éï·Éê·Éï·Éî·Éë·É£·Éö·Éò?</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">7. ·É©·Éê·Éõ·Éù·É†·Éî·É™·ÉÆ·Éï·Éê</h3>
                                <p>·Éõ·Éù·Éê·Éó·Éê·Éï·É°·Éî ·ÉÆ·Éî·Éö·Éî·Éë·Éò ·É¨·Éß·Éö·Éò·É° ·É•·Éï·Éî·É® ·Éì·Éê ·Éì·Éê·Éê·Éô·Éï·Éò·É†·Éì·Éò, ·É†·Éù·Éí·Éù·É† ·Éò·É†·Éî·É™·ÉÆ·Éî·Éë·Éê ·É•·Éê·É§·Éò ·É®·Éî·Éú·Éò ·ÉÆ·Éî·Éö·Éî·Éë·Éò·Éì·Éê·Éú. ·É†·Éù·Éí·Éù·É† ·Éò·É™·Éï·Éö·Éî·Éë·Éê ·É®·Éî·Éí·É†·É´·Éú·Éî·Éë·Éê ·Éô·Éê·Éú·Éñ·Éî.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">8. ·Éí·Éê·É®·É†·Éù·Éë·Éê</h3>
                                <p>·Éê·Éò·É¶·Éî ·Éû·Éò·É†·É°·Éê·ÉÆ·Éù·É™·Éò. ·Éò·Éí·É†·É´·Éî·Éú·Éò ·Éõ·Éò·É°·Éò ·É¢·Éî·É•·É°·É¢·É£·É†·Éê. ·Éì·Éê·Éê·Éô·Éï·Éò·É†·Éì·Éò, ·É†·Éù·Éí·Éù·É† ·Éê·É®·É†·Éù·Éë·É° ·ÉÆ·Éî·Éö·Éî·Éë·É° - ·Éó·Éò·Éó·Éù·Éî·É£·Éö ·Éó·Éò·Éó·É°, ·Éõ·É¢·Éî·Éï·Éú·Éî·Éë·É°. ·É†·Éù·Éí·Éù·É† ·É®·Éî·Éò·Éí·É†·É´·Éú·Éù·Éë·Éê ·Éê·ÉÆ·Éö·Éê ·É®·Éî·Éú·Éò ·ÉÆ·Éî·Éö·Éî·Éë·Éò - ·É°·É£·É§·Éó·Éê, ·Éõ·É®·É†·Éê·Éö·Éò.</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Fixed Button -->
                    <div style="padding: 20px; border-top: 1px solid #e0e0e0; background: white;">
                        <button class="btn btn-primary" onclick="closeTechniqueModal('technique8Modal')" style="width: 100%; padding: 15px;">·Éì·Éê·ÉÆ·É£·É†·Éï·Éê</button>
                    </div>
                    
                </div>
            </div>
            
            <!-- Technique 9 Modal - 5 ·Éú·Éê·Éë·Éò·ÉØ·Éò -->
            <div id="technique9Modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; padding: 20px;">
                <div style="position: relative; background: white; max-width: 800px; margin: 8vh auto 5vh auto; max-height: 82vh; height: 82vh; border-radius: 12px; display: flex; flex-direction: column; overflow: hidden;">
                    
                    <!-- Scrollable Content -->
                    <div style="flex: 1; overflow-y: auto; padding: 40px 20px;">
                        <h1 style="color: #333; margin-bottom: 30px; text-align: center;">üõë 5 ·Éú·Éê·Éë·Éò·ÉØ·Éò</h1>
                        
                        <div style="color: #333; line-height: 1.8; font-size: 16px;">
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">1. ·Éí·Éê·É©·Éî·É†·Éì·Éò (STOP)</h3>
                                <p>·Éõ·Éê·É™·Éì·É£·Éú·Éî·Éë·Éî·Éö ·É°·Éò·É¢·É£·Éê·É™·Éò·Éê·É®·Éò ·Éõ·Éù·ÉÆ·Éï·Éî·Éì·É†·Éò·É°·Éê·É°, ·Éû·Éò·É†·Éï·Éî·Éö·Éò ·É†·Éê·É™ ·É®·Éî·Éú ·É£·Éú·Éì·Éê ·Éí·Éê·Éê·Éô·Éî·Éó·Éù, ·É†·Éê·Éó·Éê ·Éì·Éê·É£·Éô·Éê·Éï·É®·Éò·É†·Éì·Éî ·Éõ·Éò·Éõ·Éì·Éò·Éú·Éê·É†·Éî ·Éõ·Éù·Éõ·Éî·Éú·É¢·É°, ·Éê·É†·Éò·É° ·Éò·É° ·É†·Éù·Éõ ·Éí·Éê·É©·Éî·É†·Éì·Éî ·Éì·Éê ·Éí·Éê·Éõ·Éù·ÉÆ·Éï·Éò·Éì·Éî ·Éê·Éï·É¢·Éù·Éû·Éò·Éö·Éù·É¢·Éò·É° ·É†·Éî·Éü·Éò·Éõ·Éò·Éì·Éê·Éú. ·Éí·Éê·É©·Éî·É†·Éî·Éë·Éò·É°·Éê·É° ·É®·Éî·Éú ·Éê·É©·Éî·É†·Éî·Éë ·Éò·Éõ ·É•·Éõ·Éî·Éì·Éî·Éë·Éî·Éë·Éò·É° ·Éê·Éï·É¢·Éù·Éõ·Éê·É¢·É£·É† ·Éó·Éê·Éú·Éõ·Éò·Éõ·Éì·Éî·Éï·É†·Éù·Éë·Éê·É°, ·É†·Éê·É™ ·É®·Éî·Éò·É´·Éö·Éî·Éë·Éù·Éì·Éê ·Éö·É¢·Éù·Éö·Éï·Éê·É° ·Éê·Éú ·É´·Éö·Éò·Éî·É† ·Éî·Éõ·Éù·É™·Éò·Éê·É° ·Éí·Éê·Éõ·Éù·Éî·É¨·Éï·Éò·Éê, ·Éì·Éê ·É†·Éù·Éõ·Éö·Éò·É° ·É®·Éî·É™·Éï·Éö·Éê·É™ ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éò·É° ·Éí·Éñ·Éê·Éñ·Éî ·É£·Éõ·Éú·Éò·É®·Éï·Éú·Éî·Éö·Éù·Éï·Éê·Éú·Éî·É°·Éò·Éê.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">2. ·Éõ·Éò·Éõ·Éù·Éò·ÉÆ·Éî·Éì·Éî</h3>
                                <p>·É†·Éù·Éí·Éù·É†·É™ ·Éô·Éò ·É®·Éî·Éú ·Éí·Éê·É©·Éî·É†·Éì·Éî·Éë·Éò ·Éì·Éê ·Éí·Éê·Éõ·Éù·ÉÆ·Éï·Éê·Éö ·Éê·Éï·É¢·Éù·Éû·Éò·Éö·Éù·É¢·Éò·É° ·É†·Éî·Éü·Éò·Éõ·Éò·Éì·Éê·Éú, ·É®·Éî·Éõ·Éì·Éî·Éí·Éò ·Éú·Éê·Éë·Éò·ÉØ·Éò·Éê ·É°·Éê·Éô·É£·Éó·Éê·É† ·É®·Éî·Éí·É†·É´·Éú·Éî·Éë·Éî·Éë·Éñ·Éî ·Éì·Éê·Éô·Éï·Éò·É†·Éï·Éî·Éë·Éê. ·Éì·Éê·Éê·Éô·Éï·Éò·É†·Éì·Éò ·Éò·Éõ·Éê·É°, ·Éó·É£ ·É†·Éê ·ÉÆ·Éì·Éî·Éë·Éê ·Éê·Éõ ·Éõ·Éù·Éõ·Éî·Éú·É¢·É®·Éò. ·É∞·Éô·Éò·Éó·ÉÆ·Éî ·É®·Éî·Éú·É° ·Éó·Éê·Éï·É°, ·É†·Éê·É° ·Éí·É†·É´·Éú·Éù·Éë ·Éê·ÉÆ·Éö·Éê.</p>
                                <p style="margin-top: 10px;">·Éí·Éê·Éõ·Éù·Éò·Éß·Éî·Éú·Éî ·É®·Éî·Éú·Éò ·Éö·É¢·Éù·Éö·Éï·Éê, ·É†·Éê·Éó·Éê ·Éì·Éê·Éê·Éô·Éï·Éò·É†·Éì·Éî ·Éò·Éõ·Éê·É°, ·Éó·É£ ·É°·ÉÆ·Éî·É£·Éö·Éò·É° ·É†·Éê ·Éú·Éê·É¨·Éò·Éö·É®·Éò ·Éí·É†·É´·Éú·Éù·Éë ·Éõ·Éê·É°. ·Éì·Éê·Éê·Éô·Éï·Éò·É†·Éì·Éò ·Éú·Éî·Éë·Éò·É°·Éõ·Éò·Éî·É† ·É§·Éò·É•·É†·É° ·Éú·Éò·Éï·Éó·Éò·Éî·É†·Éî·Éë·Éê·Éñ·Éî ·Éì·Éê ·Éú·Éî·Éë·Éò·É°·Éõ·Éò·Éî·É† ·Éî·Éõ·Éù·É™·Éò·Éê·É°, ·É†·Éù·Éõ·Éî·Éö·É°·Éê·É™ ·Éí·Éê·Éú·Éò·É™·Éì·Éò. ·Éõ·Éò·Éî·É™·Éò ·Éõ·Éê·Éó ·É£·É§·Éö·Éî·Éë·Éê ·É†·Éù·Éõ ·Éò·Éß·Éï·Éú·Éî·Éú ·É®·Éî·Éú·Éó·Éê·Éú. ·Éì·Éê·Éê·Éô·Éï·Éò·É†·Éì·Éò ·Éê·Éõ ·Éê·É†·Éê·Éô·Éù·Éõ·É§·Éù·É†·É¢·É£·Éö ·Éê·É°·Éû·Éî·É•·É¢·Éî·Éë·É° ·É®·Éî·Éú·Éò ·Éí·Éê·Éõ·Éù·É™·Éì·Éò·Éö·Éî·Éë·Éò·É°·Éê, ·Éê·É† ·É∞·Éô·É†·Éê ·Éõ·Éê·Éó ·ÉÆ·Éî·Éö·Éò ·Éì·Éê ·Éõ·Éò·Éî·É™·Éò ·É£·É§·Éö·Éî·Éë·Éê ·Éò·Éß·Éï·Éú·Éî·Éú ·Éò·É°·Éî·Éó·Éî·Éë·Éò, ·É†·Éù·Éí·Éù·É†·Éî·Éë·Éò·É™ ·Éê·É†·Éò·Éê·Éú.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">3. ·Éê·Éõ·Éù·Éò·É°·É£·Éú·Éó·É•·Éî</h3>
                                <p>·É®·Éî·Éú ·Éí·Éê·Éõ·Éù·ÉÆ·Éï·Éî·Éì·Éò ·Éê·Éï·É¢·Éù·Éû·Éò·Éö·Éù·É¢·Éò·É° ·É†·Éî·Éü·Éò·Éõ·Éò·Éì·Éê·Éú ·Éì·Éê ·Éì·Éê·Éê·Éô·Éï·Éò·É†·Éì·Éò ·É®·Éî·Éú·É° ·Éõ·Éò·Éõ·Éì·Éò·Éú·Éê·É†·Éî ·É®·Éó·Éê·Éë·Éî·É≠·Éì·Éò·Éö·Éî·Éë·Éî·Éë·É°. ·É®·Éî·Éõ·Éì·Éî·Éí·Éò ·Éú·Éê·Éë·Éò·ÉØ·Éò - ·Éí·Éê·Éî·É†·Éó·Éò·Éê·Éú·Éì·Éò ·É®·Éî·Éú·É° ·É°·É£·Éú·Éó·É•·Éï·Éê·É°·Éó·Éê·Éú. ·Éí·Éê·Éê·Éô·Éî·Éó·Éî ·Éî·É° ·É†·Éê·Éõ·Éì·Éî·Éú·Éò·Éõ·Éî ·É¨·Éê·Éõ·Éò·É° ·Éí·Éê·Éú·Éõ·Éê·Éï·Éö·Éù·Éë·Éê·É®·Éò, ·Éõ·Éò·Éõ·Éê·É†·Éó·Éî ·É®·Éî·Éú·Éò ·Éß·É£·É†·Éê·Éì·É¶·Éî·Éë·Éê ·É©·Éê·É°·É£·Éú·Éó·É•·Éï·Éî·Éë·Éò·É°·Éê ·Éì·Éê ·Éê·Éõ·Éù·É°·É£·Éú·Éó·É•·Éï·Éî·Éë·Éò·É°·Éô·Éî·Éú.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">4. ·Éí·Éê·Éê·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî ·É°·Éê·Éô·É£·Éó·Éê·É†·Éò ·É°·ÉÆ·Éî·É£·Éö·Éò</h3>
                                <p>·Éì·Éê·Éê·Éô·Éï·Éò·É†·Éì·Éò ·Éí·É£·Éö·Éõ·Éô·Éî·É†·Éì·Éò·É° ·Éõ·Éù·É´·É†·Éê·Éù·Éë·Éê·É°. ·É®·Éî·Éú ·Éê·ÉÆ·Éö·Éê ·É®·Éî·Éí·Éò·É´·Éö·Éò·Éê ·Éí·Éê·Éê·É§·Éê·É†·Éó·Éù·Éï·Éù ·É®·Éî·Éú·Éò ·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî·Éë·Éê, ·É©·Éê·É†·Éó·Éî ·Éõ·Éê·É°·É®·Éò ·Éõ·Éó·Éî·Éö·Éò ·É®·Éî·Éú·Éò ·É°·ÉÆ·Éî·É£·Éö·Éò ·Éõ·Éó·Éö·Éò·Éê·Éú·Éê·Éì. ·Éì·Éê·É£·Éô·Éê·Éï·É®·Éò·É†·Éì·Éò ·Éß·Éï·Éî·Éö·Éê ·É®·Éî·Éí·É†·É´·Éú·Éî·Éë·Éê·É°, ·É†·Éù·Éõ·Éî·Éö·É°·Éê·É™ ·É®·Éî·Éú ·É°·ÉÆ·Éî·É£·Éö·É®·Éò ·É®·Éî·Éò·Éí·É†·É´·Éú·Éù·Éë ·Éõ·Éò·Éõ·Éì·Éò·Éú·Éê·É†·Éî ·Éõ·Éù·Éõ·Éî·Éú·É¢·É®·Éò.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">5. ·É£·Éû·Éê·É°·É£·ÉÆ·Éî ·Éí·Éê·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî·Éë·É£·Éö·Éê·Éì</h3>
                                <p>·É©·Éï·Éî·Éú ·Éï·É°·Éê·É£·Éë·É†·Éù·Éë·Éó ·Éû·Éê·É°·É£·ÉÆ·Éñ·Éî ·Éí·Éê·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî·Éë·É£·Éö·Éò ·Éß·É£·É†·Éê·Éì·É¶·Éî·Éë·Éò·Éó ·Éì·Éê ·Éê·É†·Éê ·Éê·Éï·É¢·Éù·Éû·Éò·Éö·Éù·É¢·Éò·É° ·É†·Éî·Éê·É•·É™·Éò·Éê·Éñ·Éî. ·Éî·É° ·Éê·É†·Éò·É° ·Éê·Éõ ·É°·Éê·Éï·Éê·É†·ÉØ·Éò·É®·Éù·É° ·Éë·Éù·Éö·Éù ·Éú·Éê·Éë·Éò·ÉØ·Éò.</p>
                                <p style="margin-top: 10px;">·Éê·ÉÆ·Éö·Éê, ·É†·Éù·É™·Éê ·É®·Éî·Éú ·Éí·Éê·Éê·Éî·É†·Éó·Éò·Éê·Éú·Éî ·É®·Éî·Éú·Éò ·Éí·Éê·Éõ·Éù·É™·Éì·Éò·Éö·Éî·Éë·Éî·Éë·Éò ·Éì·Éê ·É®·Éî·Éú·Éò ·É°·É£·Éú·Éó·É•·Éï·Éê, ·É®·Éî·Éú ·É®·Éî·Éí·Éò·É´·Éö·Éò·Éê ·É®·Éî·Éê·É§·Éê·É°·Éù ·Éû·Éê·É°·É£·ÉÆ·Éî·Éë·Éò·É° ·Éì·Éò·Éê·Éû·Éê·Éñ·Éù·Éú·Éò, ·É†·Éù·Éõ·Éö·Éî·Éë·Éò·É™ ·É®·Éî·Éú ·Éí·Éê·É•·Éï·É° ·Éê·Éõ ·É°·Éò·É¢·É£·Éê·É™·Éò·Éê·É®·Éò. ·Éê·É¶·Éò·Éê·É†·Éî, ·É†·Éù·Éõ ·É®·Éî·Éú ·Éí·Éê·É•·Éï·É° ·É´·Éê·Éö·Éê ·Éõ·Éò·Éò·É¶·Éù ·Éì·Éê ·Éí·Éê·Éì·Éê·Éò·É¢·Éê·Éú·Éù ·Éì·Éò·É°·Éô·Éù·Éõ·É§·Éù·É†·É¢·Éò. ·Éê·É°·Éî·Éï·Éî ·Éê·É¶·Éò·Éê·É†·Éî, ·É†·Éù·Éõ ·É®·Éî·Éú ·É£·É§·Éö·Éî·Éë·Éê·É° ·Éê·É´·Éö·Éî·Éï ·Éõ·Éê·É° ·Éì·Éê·É†·É©·Éî·É° ·Éò·É°·Éî·Éó·Éê·Éì, ·É†·Éù·Éí·Éù·É†·Éò·É™ ·Éê·É†·Éò·É°.</p>
                                <p style="margin-top: 10px;">·É®·Éî·Éú ·É®·Éî·É´·Éö·Éî·Éë ·Éí·Éê·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî·Éë·É£·Éö·Éò ·Éß·É£·É†·Éê·Éì·É¶·Éî·Éë·Éò·Éó ·Éê·Éò·É†·É©·Éò·Éù, ·Éó·É£ ·É†·Éê ·É•·Éõ·Éî·Éì·Éî·Éë·Éò·É° ·Éí·Éê·Éú·ÉÆ·Éù·É†·É™·Éò·Éî·Éö·Éî·Éë·Éê ·Éò·É•·Éú·Éî·Éë·Éê ·É°·Éê·É£·Éô·Éî·Éó·Éî·É°·Éù ·Éû·Éê·É°·É£·ÉÆ·Éò ·Éò·Éõ ·Éì·Éò·É°·Éô·Éù·Éõ·É§·Éù·É†·É¢·Éñ·Éî, ·É†·Éù·Éõ·Éî·Éö·É°·Éê·É™ ·Éí·Éê·Éú·Éò·É™·Éì·Éò, ·É†·Éù·Éõ·Éî·Éö·Éò·É™ ·Éû·Éê·É°·É£·ÉÆ·Éù·Éë·É° ·É®·Éî·Éú·Éò ·Éó·Éê·Éï·Éì·Éê·É™·Éï·Éò·É°, ·É°·Éê·Éô·É£·Éó·Éê·É† ·Éó·Éê·Éï·Éñ·Éî ·Éñ·É†·É£·Éú·Éï·Éò·É°·Éê ·Éì·Éê ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éò·É° ·Éõ·Éò·Éñ·Éú·Éî·Éë·É°.</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Fixed Button -->
                    <div style="padding: 20px; border-top: 1px solid #e0e0e0; background: white;">
                        <button class="btn btn-primary" onclick="closeTechniqueModal('technique9Modal')" style="width: 100%; padding: 15px;">·Éì·Éê·ÉÆ·É£·É†·Éï·Éê</button>
                    </div>
                    
                </div>
            </div>
            
            <!-- Resources Section -->
            <div id="resourcesSection" class="section">
                <h1>üåü ·É†·Éî·É°·É£·É†·É°·Éî·Éë·Éò</h1>
                
                <p style="margin-bottom: 20px; color: #999; font-size: 15px;">·É®·Éî·Éú·Éò ·É®·Éò·Éú·Éê·Éí·Éê·Éú·Éò ·Éì·Éê ·Éí·Éê·É†·Éî·Éí·Éê·Éú·Éò ·É†·Éî·É°·É£·É†·É°·Éî·Éë·Éò ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éò·É°·Éó·Éï·Éò·É°</p>
                
                <div id="resourcesList"></div>
                
                <button class="btn btn-secondary" onclick="showResourcesModal()">+ ·Éê·ÉÆ·Éê·Éö·Éò ·É†·Éî·É°·É£·É†·É°·Éò·É° ·Éì·Éê·Éõ·Éê·É¢·Éî·Éë·Éê</button>
                <button class="btn btn-primary" onclick="showSection('copingMain')" style="margin-top: 15px;">‚Üê ·É£·Éô·Éê·Éú</button>
            </div>

            <!-- Coping Add Thought Modal -->
            <div id="copingAddModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000;">
                <div style="background: white; max-width: 800px; margin: 50px auto; border-radius: 12px; padding: 20px;">
                    <h2 style="color: #667eea; margin-bottom: 15px;">‚ûï ·Éê·ÉÆ·Éê·Éö·Éò ·Éê·Éñ·É†·Éò·É° ·Éì·Éê·Éõ·Éê·É¢·Éî·Éë·Éê</h2>
                    
                    <div class="field">
                        <label>·Éê·Éñ·É†·Éò:</label>
                        <textarea id="copingNewThoughtText" placeholder="·Éõ·Éê·Éí: ·Éõ·Éî ·É®·Éî·Éõ·Éò·É´·Éö·Éò·Éê ·Éõ·Éù·Éï·Éò·ÉÆ·Éõ·Éê·É†·Éù..." style="width: 100%; min-height: 80px; padding: 10px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px; font-family: inherit;"></textarea>
                    </div>
                    
                    <div style="display: flex; gap: 10px; margin-top: 15px;">
                        <button class="btn btn-primary" onclick="copingConfirmAddThought()" style="flex: 1;">‚úì ·Éì·Éê·Éõ·Éê·É¢·Éî·Éë·Éê</button>
                        <button class="btn btn-secondary" onclick="copingCloseAddModal()" style="flex: 1;">·Éí·Éê·É£·É•·Éõ·Éî·Éë·Éê</button>
                    </div>
                </div>
            </div>
            
            <!-- Coping Edit Thought Modal -->
            <div id="copingThoughtModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; overflow-y: auto;">
                <div style="background: white; max-width: 800px; margin: 30px auto; border-radius: 12px; padding: 40px 20px; min-height: 650px; display: flex; flex-direction: column;">
                    <h2 id="copingThoughtModalTitle" style="color: #667eea; margin-bottom: 25px; line-height: 1.4; word-wrap: break-word; font-size: 20px;"></h2>
                    
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 10px; color: #333; font-size: 15px; font-weight: 600;">1Ô∏è‚É£ ·É†·Éê·É¢·Éù·Éõ ·Éõ·Éí·Éù·Éú·Éò·Éê ·É†·Éù·Éõ ·É°·É¨·Éù·É†·Éò·Éê?</label>
                        <textarea id="copingWhyRight" placeholder="·Éõ·Éê·Éí: ·É´·Éö·Éò·Éî·É†·Éò ·Éõ·Éù·Éó·ÉÆ·Éù·Éï·Éú·Éò·Éö·Éî·Éë·Éê ·Éõ·Éí·É†·É´·Éú·Éù·Éë·Éò·Éú·Éî·Éë·É°..." style="width: 100%; min-height: 150px; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px; font-family: inherit; resize: vertical; box-sizing: border-box;"></textarea>
                    </div>
                    
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 10px; color: #333; font-size: 15px; font-weight: 600;">2Ô∏è‚É£ ·É†·Éê·É¢·Éù·Éõ ·Éï·Éó·Éï·Éö·Éò, ·É†·Éù·Éõ ·Éê·É†·Éê·É°·É¨·Éù·É†·Éò·Éê, ·Éñ·Éî·Éì·Éê·Éû·Éò·É†·É£·Éö·Éò ·Éê·Éú ·É°·Éê·ÉÆ·Éò·É§·Éê·Éó·Éù?</label>
                        <textarea id="copingWhyWrong" placeholder="·Éõ·Éê·Éí: ·Éî·É° ·Éì·Éê·Éõ·Éù·Éô·Éò·Éì·Éî·Éë·É£·Éö·Éî·Éë·Éò·É° ·Éò·Éö·É£·Éñ·Éò·Éê·Éê..." style="width: 100%; min-height: 150px; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px; font-family: inherit; resize: vertical; box-sizing: border-box;"></textarea>
                    </div>
                    
                    <div style="margin-bottom: 25px;">
                        <label style="display: block; margin-bottom: 10px; color: #333; font-size: 15px; font-weight: 600;">3Ô∏è‚É£ ·É†·Éê ·É®·Éî·Éõ·Éò·É´·Éö·Éò·Éê ·É©·Éî·Éõ·É° ·Éó·Éê·Éï·É° ·Éï·É£·Éó·ÉÆ·É†·Éê ·É†·Éê·Éó·Éê ·Éì·Éê·Éï·Éë·É†·É£·Éú·Éì·Éî ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éò·É° ·Éí·Éê·Éú·É¨·Éß·Éù·Éë·Éê·Éñ·Éî?</label>
                        <textarea id="copingWhatToSay" placeholder="·Éõ·Éê·Éí: ·Éî·É° ·Éì·É†·Éù·Éî·Éë·Éò·Éó·Éò ·É®·Éî·Éí·É†·É´·Éú·Éî·Éë·Éê·Éê..." style="width: 100%; min-height: 150px; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px; font-family: inherit; resize: vertical; box-sizing: border-box;"></textarea>
                    </div>
                    
                    <div style="display: flex; gap: 15px; margin-top: auto;">
                        <button class="btn btn-primary" onclick="copingSaveThought()" style="flex: 1;">üíæ ·É®·Éî·Éú·Éê·ÉÆ·Éï·Éê</button>
                        <button class="btn btn-secondary" onclick="copingCloseEditModal()" style="flex: 1;">·Éí·Éê·É£·É•·Éõ·Éî·Éë·Éê</button>
                    </div>
                    
                    <button id="copingDeleteBtn" class="btn" onclick="copingShowDeleteConfirm()" style="width: 100%; display: none; background: #ef4444; color: white; margin-top: 20px;">
                        üóëÔ∏è ·É¨·Éê·É®·Éö·Éê
                    </button>
                </div>
            </div>
            
            <!-- Coping Confirm Modal -->
            <div id="copingConfirmModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1001;">
                <div style="background: white; max-width: 800px; margin: 100px auto; border-radius: 12px; padding: 25px;">
                    <h2 style="color: #667eea; margin-bottom: 20px;">‚ö†Ô∏è ·Éì·Éê·Éì·Éê·É°·É¢·É£·É†·Éî·Éë·Éê</h2>
                    <p id="copingConfirmMessage" style="color: #666; margin-bottom: 30px; line-height: 1.6;"></p>
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-primary" onclick="copingConfirmDelete(true)" style="flex: 1; background: #ef4444;">‚úì ·Éì·Éò·Éê·ÉÆ</button>
                        <button class="btn btn-secondary" onclick="copingConfirmDelete(false)" style="flex: 1;">·Éí·Éê·É£·É•·Éõ·Éî·Éë·Éê</button>
                    </div>
                </div>
            </div>

            <!-- Modal for Usage Motivations -->
            <div id="usageModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; overflow-y: auto;">
                <div style="background: white; max-width: 800px; margin: 50px auto; border-radius: 12px; padding: 30px; max-height: 80vh; overflow-y: auto;">
                    <h2 style="margin-bottom: 20px;">·Éê·Éò·É†·É©·Éò·Éî ·Éõ·Éù·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éò·É° ·Éõ·Éù·É¢·Éò·Éï·Éî·Éë·Éò</h2>
                    <p style="color: #666; margin-bottom: 20px; font-size: 14px;">·É®·Éî·Éí·Éò·É´·Éö·Éò·Éê ·Éê·Éò·É†·É©·Éò·Éù ·É†·Éê·Éõ·Éì·Éî·Éú·Éò·É™ ·Éí·Éò·Éú·Éì·Éê</p>
                    <div id="usageModalList"></div>
                    <div style="margin-top: 20px; display: flex; gap: 10px;">
                        <button class="btn btn-primary" onclick="saveUsageSelection()" style="flex: 1;">·É®·Éî·Éú·Éê·ÉÆ·Éï·Éê</button>
                        <button class="btn btn-secondary" onclick="closeUsageModal()" style="flex: 1;">·Éí·Éê·É£·É•·Éõ·Éî·Éë·Éê</button>
                    </div>
                </div>
            </div>

            <!-- Modal for Recovery Motivations -->
            <div id="recoveryModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; overflow-y: auto;">
                <div style="background: white; max-width: 800px; margin: 50px auto; border-radius: 12px; padding: 30px; max-height: 80vh; overflow-y: auto;">
                    <h2 style="margin-bottom: 20px;">·Éê·Éò·É†·É©·Éò·Éî ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éò·É° ·Éõ·Éù·É¢·Éò·Éï·Éî·Éë·Éò</h2>
                    <p style="color: #666; margin-bottom: 20px; font-size: 14px;">·É®·Éî·Éí·Éò·É´·Éö·Éò·Éê ·Éê·Éò·É†·É©·Éò·Éù ·É†·Éê·Éõ·Éì·Éî·Éú·Éò·É™ ·Éí·Éò·Éú·Éì·Éê</p>
                    <div id="recoveryModalList"></div>
                    <div style="margin-top: 20px;">
                        <h4 style="margin-bottom: 10px;">+ ·É°·Éê·Éô·É£·Éó·Éê·É†·Éò ·Éì·Éê·Éõ·Éê·É¢·Éî·Éë·Éê</h4>
                        <input type="text" id="customRecoveryInput" placeholder="·É©·Éî·Éõ·Éò ·Éõ·Éù·É¢·Éò·Éï·Éê·É™·Éò·Éê..." style="width: 100%; padding: 12px; border-radius: 8px; border: 2px solid #e0e0e0; margin-bottom: 10px;">
                        <button class="btn btn-secondary" onclick="addCustomToModal()" style="width: 100%;">·Éì·Éê·Éõ·Éê·É¢·Éî·Éë·Éê</button>
                    </div>
                    <div style="margin-top: 20px; display: flex; gap: 10px;">
                        <button class="btn btn-primary" onclick="saveRecoverySelection()" style="flex: 1;">·É®·Éî·Éú·Éê·ÉÆ·Éï·Éê</button>
                        <button class="btn btn-secondary" onclick="closeRecoveryModal()" style="flex: 1;">·Éí·Éê·É£·É•·Éõ·Éî·Éë·Éê</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const DEFAULT_MOTIVATIONS = [
            {id: 'pleasure', text: '·É°·Éò·Éê·Éõ·Éù·Éï·Éú·Éî·Éë·Éò·É° ·Éí·Éê·Éú·É™·Éì·Éê, ·Éî·Éò·É§·Éù·É†·Éò·Éò·É° ·É®·Éî·Éí·É†·É´·Éú·Éî·Éë·Éê, ·Éõ·Éù·É¨·Éß·Éî·Éú·Éò·Éö·Éù·Éë·Éò·É°·Éí·Éê·Éú ·Éí·Éê·É•·É™·Éî·Éï·Éê', consequences: '·Éó·Éê·Éï·Éê·Éì ·É™·ÉÆ·Éù·Éï·É†·Éî·Éë·Éò·É°·Éí·Éê·Éú ·É°·Éò·Éê·Éõ·Éù·Éï·Éú·Éî·Éë·Éò·É° ·Éõ·Éò·É¶·Éî·Éë·Éò·É° ·É£·Éú·Éê·É†·É° ·Éõ·Éê·Éô·Éê·É†·Éí·Éï·Éò·Éú·Éî·Éë·É°. ·Éì·Éù·É§·Éê·Éõ·Éò·Éú·Éò·É° ·Éì·Éù·Éú·Éî ·Éò·Éô·Éö·Éî·Éë·É° ·É¢·Éï·Éò·Éú·É®·Éò. ·É™·ÉÆ·Éù·Éï·É†·Éî·Éë·Éê ·ÉÆ·Éì·Éî·Éë·Éê ·Éî·É†·Éó·É§·Éî·É†·Éù·Éï·Éê·Éú·Éò, ·É£·Éê·Éñ·É†·Éù ·Éì·Éê ·É£·Éò·Éú·É¢·Éî·É†·Éî·É°·Éù.', recovery: '·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éê ·Éõ·Éò·Éë·É†·É£·Éú·Éî·Éë·É° ·É™·ÉÆ·Éù·Éï·É†·Éî·Éë·Éò·Éó ·É¢·Éô·Éë·Éù·Éë·Éò·É° ·Éì·Éê ·Éß·Éù·Éï·Éî·Éö·Éì·É¶·Éò·É£·É†·Éò ·É™·ÉÆ·Éù·Éï·É†·Éî·Éë·Éò·É°·Éî·É£·Éö·Éò ·Éõ·Éù·Éï·Éö·Éî·Éú·Éî·Éë·Éò·É°·Éí·Éê·Éú ·É°·Éò·Éê·Éõ·Éù·Éï·Éú·Éî·Éë·Éò·É° ·Éõ·Éò·É¶·Éî·Éë·Éò·É° ·É£·Éú·Éê·É†·É°.'},
            {id: 'fun', text: '·Éí·Éê·É†·Éó·Éù·Éë·Éê/·Éê·É¶·Éú·Éò·É®·Éï·Éú·Éê/·Éí·Éê·Éú·É¨·Éß·Éù·Éë·Éò·É° ·É°·É¨·É†·Éê·É§·Éò ·Éí·Éê·É£·Éõ·ÉØ·Éù·Éë·Éî·É°·Éî·Éë·Éê', consequences: '·Éó·Éê·Éï·Éê·Éì ·É™·ÉÆ·Éù·Éï·É†·Éî·Éë·Éò·É°·Éí·Éê·Éú ·É°·Éò·Éê·Éõ·Éù·Éï·Éú·Éî·Éë·Éò·É° ·Éõ·Éò·É¶·Éî·Éë·Éò·É° ·É£·Éú·Éê·É†·É° ·Éõ·Éê·Éô·Éê·É†·Éí·Éï·Éò·Éú·Éî·Éë·É°. ·Éì·Éù·É§·Éê·Éõ·Éò·Éú·Éò·É° ·Éì·Éù·Éú·Éî ·Éò·Éô·Éö·Éî·Éë·É° ·É¢·Éï·Éò·Éú·É®·Éò. ·Éõ·Éù·Éô·Éö·Éî·Éï·Éê·Éì·Éò·Éê·Éú·Éò ·ÉÆ·Éê·É°·Éò·Éê·Éó·Éò·É° ·Éí·Éê·É£·Éõ·ÉØ·Éù·Éë·Éî·É°·Éî·Éë·Éê, ·Éí·É†·É´·Éî·Éö·Éï·Éê·Éì·Éò·Éê·Éú ·Éû·Éî·É†·É°·Éû·Éî·É•·É¢·Éò·Éï·Éê·É®·Éò, ·É©·Éî·Éõ·Éò ·É™·ÉÆ·Éù·Éï·É†·Éî·Éë·Éò·Éì·Éê·Éú ·Éê·É•·É†·Éù·Éë·É° ·É°·Éò·ÉÆ·Éê·É†·É£·Éö·Éò·É°·Éê ·Éì·Éê ·ÉÆ·Éê·Éö·Éò·É°·Éò·É° ·É®·Éî·Éí·É†·É´·Éú·Éî·Éë·Éê·É°, ·Éò·Éõ·Éê·É¢·Éî·Éë·É° ·Éì·Éê·Éó·É†·Éí·É£·Éú·É£·Éö·Éù·Éë·Éê ·Éì·Éê ·Éì·Éê·É•·Éï·Éî·Éò·Éó·Éî·Éë·É£·Éö·Éò ·Éí·É£·Éú·Éî·Éë·Éê-·Éí·Éê·Éú·É¨·Éß·Éù·Éë·Éê.', recovery: '·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éê ·Éõ·Éò·Éë·É†·É£·Éú·Éî·Éë·É° ·É™·ÉÆ·Éù·Éï·É†·Éî·Éë·Éò·Éó ·É¢·Éô·Éë·Éù·Éë·Éò·É° ·Éì·Éê ·Éß·Éù·Éï·Éî·Éö·Éì·É¶·Éò·É£·É†·Éò ·É™·ÉÆ·Éù·Éï·É†·Éî·Éë·Éò·É°·Éî·É£·Éö·Éò ·Éõ·Éù·Éï·Éö·Éî·Éú·Éî·Éë·Éò·É°·Éí·Éê·Éú ·É°·Éò·Éê·Éõ·Éù·Éï·Éú·Éî·Éë·Éò·É° ·Éõ·Éò·É¶·Éî·Éë·Éò·É° ·É£·Éú·Éê·É†·É°.'},
            {id: 'self_dissatisfaction', text: '·É°·Éê·Éô·É£·Éó·Éê·É†·Éò ·Éó·Éê·Éï·Éò·Éó ·É£·Éô·Éõ·Éê·Éß·Éù·É§·Éò·Éö·Éî·Éë·Éò·É° ·É®·Éî·Éí·É†·É´·Éú·Éî·Éë·Éò·É° ·Éí·Éê·Éß·É£·É©·Éî·Éë·Éê', consequences: '·Éõ·Éù·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê ·Éó·Éê·Éï·Éê·Éì ·ÉÆ·Éì·Éî·Éë·Éê ·É°·Éê·Éô·É£·Éó·Éê·É†·Éò ·Éó·Éê·Éï·Éò·Éó ·É£·Éô·Éõ·Éê·Éß·Éù·É§·Éò·Éö·Éî·Éë·Éò·É° ·Éî·É†·Éó-·Éî·É†·Éó·Éò ·Éõ·Éú·Éò·É®·Éï·Éú·Éî·Éö·Éù·Éï·Éê·Éú·Éò ·É¨·Éß·Éê·É†·Éù.', recovery: '·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éê ·Éò·É´·Éö·Éî·Éï·Éê ·É†·Éî·Éê·Éö·É£·É† ·Éó·Éï·Éò·Éó·Éô·Éõ·Éê·Éß·Éù·É§·Éò·Éö·Éî·Éë·Éê·É°.'},
            {id: 'self_pride', text: '·É°·Éê·Éô·É£·Éó·Éê·É†·Éò ·Éó·Éï·Éò·Éó·Éí·Éê·Éú·Éì·Éò·Éì·Éî·Éë·Éò·É° ·É®·Éî·Éí·É†·É´·Éú·Éî·Éë·Éò·É° ·Éí·Éê·Éú·É™·Éì·Éê (·Éõ·Éò·É¶·Éî·Éë·É£·Éö·Éñ·Éî ·Éó·Éê·Éï·Éò ·Éß·Éï·Éî·Éö·Éê·Éñ·Éî ·Éõ·Éê·Éí·Éê·É†·Éò ·É¢·Éò·Éû·Éò ·Éõ·Éí·Éù·Éú·Éò·Éê)', consequences: '·Éõ·Éê·É†·Éó·Éõ·Éî·Éï·É° ·É°·Éê·Éô·É£·Éó·Éê·É†·Éò ·Éó·Éê·Éï·Éò·Éó, ·É°·Éê·Éô·É£·Éó·Éê·É†·Éò ·É†·Éî·Éê·Éö·É£·É†·Éò ·É®·Éî·É°·Éê·É´·Éö·Éî·Éë·Éö·Éù·Éë·Éî·Éë·Éò·Éó ·É°·Éò·Éê·Éõ·Éê·Éß·Éò·É° ·É°·Éê·É®·É£·Éê·Éö·Éî·Éë·Éê·É°.', recovery: '·É†·Éî·Éê·Éö·É£·É†·Éò ·Éó·Éï·Éò·Éó·Éô·Éõ·Éê·Éß·Éù·É§·Éò·Éö·Éî·Éë·Éê ·Éì·Éê ·É°·Éê·Éô·É£·Éó·Éê·É†·Éò ·Éó·Éê·Éï·Éò·Éó ·É°·Éò·Éê·Éõ·Éê·Éß·Éî ·É°·É¨·Éù·É†·Éî·Éì ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éê·É®·Éò·Éê.'},
            {id: 'shame_suppression', text: '·É°·Éò·É†·É™·ÉÆ·Éï·Éò·Éö·Éò·É°·Éê ·Éì·Éê ·É°·ÉÆ·Éï·Éî·Éë·Éò·É° ·Éô·É†·Éò·É¢·Éò·Éô·Éò·É° ·Éí·Éê·Éß·É£·É©·Éî·Éë·Éê', consequences: '·Éõ·Éù·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê ·Éó·Éê·Éï·Éê·Éì ·ÉÆ·Éì·Éî·Éë·Éê ·É°·ÉÆ·Éï·Éî·Éë·Éò·É° ·Éõ·Éò·Éî·É† ·Éô·É†·Éò·É¢·Éò·Éô·Éò·É°·Éê ·Éì·Éê ·Éõ·Éò·É£·É¶·Éî·Éë·Éö·Éù·Éë·Éò·É° ·Éì·Éê·Éõ·É°·Éê·ÉÆ·É£·É†·Éî·Éë·Éò·É° ·Éî·É†·Éó-·Éî·É†·Éó·Éò ·Éõ·Éú·Éò·É®·Éï·Éú·Éî·Éö·Éù·Éï·Éê·Éú·Éò ·É¨·Éß·Éê·É†·Éù.', recovery: '·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éê ·Éê·Éõ·É™·Éò·É†·Éî·Éë·É° ·É†·Éî·Éê·Éö·É£·É†·Éò ·Éô·É†·Éò·É¢·Éò·Éô·Éò·É° ·É°·Éê·É§·É£·É´·Éï·Éî·Éö·É°. ·É°·Éò·É†·É™·ÉÆ·Éï·Éò·Éö·Éò ·Éò·É™·Éï·Éö·Éî·Éë·Éê ·É°·ÉÆ·Éï·Éî·Éë·Éò·É° ·Éõ·ÉÆ·É†·Éò·Éì·Éê·Éú ·Éê·É¶·Éò·Éê·É†·Éî·Éë·Éò·É°, ·Éú·Éì·Éù·Éë·Éò·É°·Éê ·Éì·Éê ·Éû·Éê·É¢·Éò·Éï·Éò·É°·É™·Éî·Éõ·Éò·É° ·É®·Éî·Éí·É†·É´·Éú·Éî·Éë·Éò·Éó. ·Éó·É£·Éú·Éì·Éê·É™ ·É°·Éò·É†·É™·ÉÆ·Éï·Éò·Éö·Éò ·Éì·Éê ·Éô·É†·Éò·É¢·Éò·Éô·Éê ·Éì·Éê·Éô·Éê·Éï·É®·Éò·É†·Éî·Éë·É£·Éö·Éò ·Éê·É† ·Éò·Éß·Éù·É° ·Éõ·Éù·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê·É°·Éó·Éê·Éú, ·Éõ·ÉÆ·Éù·Éö·Éù·Éì ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éê ·Éò·É´·Éö·Éî·Éï·Éê ·É®·Éê·Éú·É°·É° ·É†·Éî·Éê·Éö·É£·É†·Éê·Éì ·Éì·Éê·É£·Éû·Éò·É†·Éò·É°·Éû·Éò·É†·Éì·Éî ·Éû·É†·Éù·Éë·Éö·Éî·Éõ·Éî·Éë·É° ·Éì·Éê ·Éõ·Éù·Éò·Éû·Éù·Éï·Éù ·Éú·Éê·Éõ·Éì·Éï·Éò·Éö·Éò ·Éõ·Éò·Éõ·É¶·Éî·Éë·Éö·Éù·Éë·Éê ·Éì·Éê ·Éê·É†·Éê ·Éô·É†·Éò·É¢·Éò·Éô·Éò·É° ·Éõ·Éù·Éô·Éö·Éî·Éï·Éê·Éì·Éò·Éê·Éú·Éò ·Éò·Éö·É£·Éñ·Éù·É†·É£·Éö·Éò ·Éí·Éê·Éß·É£·É©·Éî·Éë·Éê.'},
            {id: 'recognition', text: '·É°·ÉÆ·Éï·Éî·Éë·Éò·É°·Éí·Éê·Éú ·Éê·É¶·Éò·Éê·É†·Éî·Éë·Éò·É° ·É®·Éî·Éí·É†·É´·Éú·Éî·Éë·Éò·É° ·Éí·Éê·Éú·É™·Éì·Éê (·Éõ·Éò·É¶·Éî·Éë·É£·Éö·Éñ·Éî ·Éõ·Éí·Éù·Éú·Éò·Éê, ·É†·Éù·Éõ ·Éí·Éê·É†·É®·Éî·Éõ·Éù·Éõ·Éß·Éù·É§·Éî·Éë·Éò·É° ·Éó·Éï·Éê·Éö·É®·Éò ·É´·Éê·Éö·Éò·Éê·Éú ·Éõ·Éê·Éí·Éê·É†·Éò ·É¢·Éò·Éû·Éò ·Éï·Éê·É†)', consequences: '·Éõ·Éê·É†·Éó·Éõ·Éî·Éï·É° ·É†·Éî·Éê·Éö·É£·É†·Éò ·Éê·É¶·Éò·Éê·É†·Éî·Éë·Éò·É° ·Éõ·Éò·É¶·Éî·Éë·Éò·É° ·É®·Éî·É°·Éê·É´·Éö·Éî·Éë·Éö·Éù·Éë·Éê·É°.', recovery: '·É†·Éî·Éê·Éö·É£·É†·Éò ·Éê·É¶·Éò·Éê·É†·Éî·Éë·Éê, ·Éû·Éê·É¢·Éò·Éï·Éò·É°·É™·Éî·Éõ·Éê ·Éì·Éê ·Éú·Éì·Éù·Éë·Éê ·É°·É¨·Éù·É†·Éî·Éì ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·É°·Éê·É¶·Éî·Éë·Éò·É° ·Éû·É†·Éù·É™·Éî·É°·É° ·Éõ·Éù·Éê·É•·Éï·É°.'},
            {id: 'emotion_suppression', text: '·É£·É°·Éò·Éê·Éõ·Éù·Éï·Éú·Éù ·Éî·Éõ·Éù·É™·Éò·Éî·Éë·Éò·É° ·Éí·Éê·Éß·É£·É©·Éî·Éë·Éê', consequences: '·Éõ·Éê·Éô·Éê·É†·Éí·Éï·Éò·Éú·Éî·Éë·É° ·É°·Éê·Éô·É£·Éó·Éê·É†·Éò ·Éî·Éõ·Éù·É™·Éò·Éî·Éë·Éò·É° ·Éó·Éê·Éï·Éê·Éì ·Éì·Éê·É†·Éî·Éí·É£·Éö·Éò·É†·Éî·Éë·Éò·É° ·É£·Éú·Éê·É†·É°.', recovery: '·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éê ·Éû·Éò·É†·Éò·É•·Éò·Éó ·Éõ·Éò·É´·Éö·Éò·Éî·É†·Éî·Éë·É° ·Éî·Éõ·Éù·É™·Éò·Éî·Éë·Éò·É° ·É†·Éî·Éí·É£·Éö·Éê·É™·Éò·Éò·É° ·É£·Éú·Éê·É†·É° ·Éì·Éê ·Éñ·É†·Éì·Éò·É° ·É°·É¢·É†·Éî·É°·Éõ·Éî·Éì·Éî·Éí·Éù·Éë·Éê·É°. ·Éê·É°·Éî·Éï·Éî, ·É•·É†·Éî·Éë·Éê ·Éú·Éî·Éí·Éê·É¢·Éò·É£·É†·Éò ·Éî·Éõ·Éù·É™·Éò·Éî·Éë·Éò·É° ·Éí·Éê·Éõ·Éù·Éõ·É¨·Éï·Éî·Éï·Éò ·Éî·É†·Éó-·Éî·É†·Éó·Éò ·Éõ·Éú·Éò·É®·Éï·Éú·Éî·Éö·Éù·Éï·Éê·Éú·Éò ·É¨·Éß·Éê·É†·Éù.'},
            {id: 'productivity', text: '·Éí·Éê·Éñ·É†·Éì·Éò·Éö·Éò ·Éû·É†·Éù·Éì·É£·É•·É¢·Éò·É£·Éö·Éù·Éë·Éê', consequences: '·Éõ·Éò·É•·Éï·Éî·Éò·Éó·Éî·Éë·É° ·Éí·É†·É´·Éî·Éö·Éï·Éê·Éì·Éò·Éê·Éú·Éò ·Éõ·Éò·Éñ·Éú·Éî·Éë·Éò·É° ·Éõ·Éò·Éß·Éù·Éö·Éò·É° ·É£·Éú·Éê·É†·É°, ·Éó·Éï·Éò·Éó·Éô·Éù·Éú·É¢·É†·Éù·Éö·É°, ·Éô·Éù·Éí·Éú·Éò·É¢·É£·É† ·É®·Éî·É°·Éê·É´·Éö·Éî·Éë·Éö·Éù·Éë·Éî·Éë·É°, ·Éß·É£·É†·Éê·Éì·É¶·Éî·Éë·Éò·É° ·Éô·Éù·Éú·É™·Éî·Éú·É¢·É†·Éê·É™·Éò·Éò·É° ·É£·Éú·Éê·É†·É°, ·Éõ·Éî·ÉÆ·É°·Éò·Éî·É†·Éî·Éë·Éê·É° ·Éì·Éê ·Éõ·Éê·É†·Éó·Éõ·Éî·Éï·É° ·Éõ·Éù·É¢·Éò·Éï·Éê·É™·Éò·Éî·Éë·É°.', recovery: '·Éê·É¶·Éì·Éí·Éî·Éë·Éê ·Éõ·Éò·Éñ·Éê·Éú·Éì·Éê·É°·Éê·ÉÆ·É£·Éö·Éù·Éë·Éê, ·Éó·Éê·Éú·Éõ·Éò·Éõ·Éì·Éî·Éï·É†·É£·Éö·Éù·Éë·Éê, ·Éô·Éù·Éú·É™·Éî·Éú·É¢·É†·Éê·É™·Éò·Éò·É° ·É£·Éú·Éê·É†·Éò ·Éì·Éê ·É®·Éî·É°·Éê·Éë·Éê·Éõ·Éò·É°·Éê·Éì ·É†·Éî·Éê·Éö·É£·É†·Éò ·Éû·É†·Éù·Éì·É£·É•·É¢·Éò·É£·Éö·Éù·Éë·Éê ·É™·ÉÆ·Éù·Éï·É†·Éî·Éë·Éò·É°·Éî·É£·Éö ·Éû·Éî·É†·É°·Éû·Éî·É•·É¢·Éò·Éï·Éê·É®·Éò.'},
            {id: 'energy', text: '·Éõ·Éù·Éõ·Éê·É¢·Éî·Éë·É£·Éö·Éò ·Éî·Éú·Éî·É†·Éí·Éò·Éê, ·Éì·Éò·Éì ·ÉÆ·Éê·Éú·É° ·Éê·É† ·Éì·Éê·É¶·Éö·Éê', consequences: '·Éõ·Éê·É†·Éó·Éõ·Éî·Éï·É° ·Éî·Éú·Éî·É†·Éí·Éò·Éò·É° ·Éó·Éê·Éï·Éê·Éì ·Éí·Éê·Éõ·Éù·Éõ·É£·É®·Éê·Éï·Éî·Éë·Éò·É° ·É£·Éú·Éê·É†·É° ·Éì·Éê ·É§·Éò·Éñ·Éò·Éô·É£·É† ·Éí·Éê·Éõ·É´·Éö·Éî·Éù·Éë·Éê·É°.', recovery: '·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éê ·Éê·É¶·Éê·Éì·Éí·Éî·Éú·É° ·É©·Éî·Éõ·Éò ·Éù·É†·Éí·Éê·Éú·Éò·Éñ·Éõ·Éò·É° ·Éõ·Éò·Éî·É† ·Éî·Éú·Éî·É†·Éí·Éò·Éò·É° ·Éí·Éê·Éõ·Éù·Éõ·É£·É®·Éê·Éï·Éî·Éë·Éò·É° ·Éë·É£·Éú·Éî·Éë·É†·Éò·Éï ·É™·Éò·Éô·Éö·É°. ·Éê·É¶·Éê·É† ·Éõ·É≠·Éò·É†·Éì·Éî·Éë·Éê ·Éí·Éê·É†·Éî ·Éû·É†·Éî·Éû·Éê·É†·Éê·É¢·Éò ·Éì·Éê ·Éó·Éê·Éï·Éê·Éì ·Éí·Éê·Éõ·Éù·Éï·Éò·Éõ·É£·É®·Éê·Éï·Éî·Éë ·Éî·Éú·Éî·É†·Éí·Éò·Éê·É°.'},
            {id: 'love_ability', text: '·É°·Éò·Éß·Éï·Éê·É†·É£·Éö·Éò·É° ·É£·Éú·Éê·É†·Éò (·É†·Éù ·Éõ·Éù·Éï·Éò·ÉÆ·Éõ·Éê·É† ·Éß·Éï·Éî·Éö·Éê ·Éõ·Éò·Éß·Éï·Éê·É†·É°)', consequences: '·Éõ·Éê·É†·Éó·Éõ·Éî·Éï·É° ·Éú·Éê·Éõ·Éì·Éï·Éò·Éö·Éò, ·ÉØ·Éê·Éú·É°·Éê·É¶·Éò ·É£·É†·Éó·Éò·Éî·É†·Éó·Éù·Éë·Éî·Éë·Éò·É° ·É•·Éù·Éú·Éò·É° ·É£·Éú·Éê·É†·É°.', recovery: '·Éú·Éê·Éõ·Éì·Éï·Éò·Éö·Éò ·É°·Éò·Éß·Éï·Éê·É†·É£·Éö·Éò ·Éì·Éê ·É£·É†·Éó·Éò·Éî·É†·Éó·Éù·Éë·Éî·Éë·Éò ·É°·É¨·Éù·É†·Éî·Éì ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éê·É° ·Éõ·Éù·É∞·Éß·Éï·Éî·Éë·Éê.'},
            {id: 'self_care', text: '·É°·Éê·Éô·É£·Éó·Éê·É†·Éò ·Éó·Éê·Éï·Éò·É°·Éó·Éï·Éò·É° ·É°·Éê·É©·É£·É•·É†·Éò·É° ·Éí·Éê·Éô·Éî·Éó·Éî·Éë·Éê', consequences: '·Éõ·Éê·É†·Éó·Éõ·Éî·Éï·É° ·Éò·Éõ ·Éî·É†·Éó·Éê·Éì·Éî·É†·Éó ·É™·ÉÆ·Éù·Éï·É†·Éî·Éë·Éê·É°, ·É†·Éù·Éõ·Éî·Éö·Éò·É™ ·Éí·Éê·Éõ·Éê·É©·Éú·Éò·Éê.', recovery: '·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éê ·Éî·É° ·Éê·É†·Éò·É° ·Éó·Éï·Éò·Éó·É°·Éò·Éß·Éï·Éê·É†·É£·Éö·Éò, ·Éó·Éï·Éò·Éó·Éñ·É†·É£·Éú·Éï·Éê ·Éì·Éê ·É°·Éê·Éô·É£·Éó·Éê·É†·Éò ·Éó·Éê·Éï·Éò·É°·Éó·Éï·Éò·É° ·Éí·Éê·Éô·Éî·Éó·Éî·Éë·É£·Éö·Éò ·Éß·Éï·Éî·Éö·Éê·Éñ·Éî ·Éõ·Éú·Éò·É®·Éï·Éú·Éî·Éö·Éù·Éï·Éê·Éú·Éò ·É°·Éê·É©·É£·É•·Éê·É†·Éò.'},
            {id: 'courage', text: '·Éí·Éê·Éõ·Éë·Éî·Éì·Éê·Éù·Éë·Éê, ·É£·É†·Éó·Éò·Éî·É†·Éó·Éù·Éë·Éî·Éë·É®·Éò ·Éí·Éê·ÉÆ·É°·Éú·Éò·Éö·Éù·Éë·Éê', consequences: '·Éõ·Éê·É†·Éó·Éõ·Éî·Éï·É° ·Éí·Éê·Éõ·Éë·Éî·Éì·Éê·Éù·Éë·Éê·É° ·Éì·Éê ·Éí·Éê·ÉÆ·É°·Éú·Éò·Éö·Éù·Éë·Éê·É° ·É°·Éò·É§·ÉÆ·Éò·Éñ·Éö·Éî·É®·Éò.', recovery: '·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éê, ·É†·Éù·Éí·Éù·É†·É™ ·Éó·Éê·Éï·Éì·Éê·ÉØ·Éî·É†·Éî·Éë·É£·Éö·Éù·Éë·Éò·É° ·Éì·Éê ·É°·Éê·Éô·É£·Éó·Éê·É†·Éò ·Éó·Éê·Éï·Éò·É° ·Éí·Éê·Éõ·Éù·ÉÆ·Éê·É¢·Éï·Éò·É° ·É°·É¨·Éù·É†·Éò ·Éë·Éê·Éö·Éê·Éú·É°·Éò·É° ·É®·Éî·É´·Éî·Éú·Éò·É° ·É°·Éê·É®·É£·Éê·Éö·Éî·Éë·Éê.'},
            {id: 'peer_pressure', text: '·É£·Éê·É†·É° ·Éï·Éî·É† ·Éï·Éî·É£·Éë·Éú·Éî·Éë·Éò ·Éõ·Éî·Éí·Éù·Éë·É†·Éî·Éë·É°', consequences: '·Éõ·Éê·É†·Éó·Éõ·Éî·Éï·É° ·Éì·Éê·Éõ·Éù·É£·Éô·Éò·Éì·Éî·Éë·Éö·Éù·Éë·Éê·É°, ·Éó·Éê·Éï·Éò·É°·É£·É§·Éö·Éî·Éë·Éê·É° ·Éì·Éê ·É°·Éê·Éô·É£·Éó·Éê·É†·Éò ·Éó·Éê·Éï·Éò·É° ·Éû·Éê·É¢·Éò·Éï·Éò·É°·É™·Éî·Éõ·Éê·É°.', recovery: '·É°·Éê·Éô·É£·Éó·Éê·É†·Éò ·Éò·Éú·É¢·Éî·É†·Éî·É°·Éî·Éë·Éò·É° ·Éì·Éê·É™·Éï·Éò·É° ·É£·Éú·Éê·É†·É°, ·Éê·É°·Éî·É†·É¢·Éò·É£·Éö·Éù·Éë·Éê·É° ·Éì·Éê ·É†·Éî·Éê·Éö·É£·É† ·Éó·Éê·Éï·Éò·É°·É£·É§·Éö·Éî·Éë·Éê·É°.'},
            {id: 'self_reflection', text: '·Éó·Éï·Éò·Éó·É©·Éê·É¶·É†·Éõ·Éê·Éï·Éî·Éë·Éê', consequences: '·Éõ·Éê·É†·Éó·Éõ·Éî·Éï·É° ·Éô·Éù·Éú·É™·Éî·Éú·É¢·É†·Éê·É™·Éò·Éò·É° ·É£·Éú·Éê·É†·É°, ·Éõ·Éò·É•·Éï·Éî·Éò·Éó·Éî·Éë·É° ·Éõ·Éî·ÉÆ·É°·Éò·Éî·É†·Éî·Éë·Éê·É°.', recovery: '·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éê, ·É†·Éù·Éí·Éù·É†·É™ ·É†·Éî·Éê·Éö·É£·É†·Éò ·É°·Éê·É®·É£·Éê·Éö·Éî·Éë·Éê ·Éí·Éê·Éï·Éò·É™·Éú·Éù ·É°·Éê·Éô·É£·Éó·Éê·É†·Éò ·Éó·Éê·Éï·Éò.'},
            {id: 'stress', text: '·É°·É¢·É†·Éî·É°·Éò·É°·Éí·Éê·Éú ·Éí·Éê·É•·É™·Éî·Éï·Éê', consequences: '·Éõ·Éò·É•·Éï·Éî·Éò·Éó·Éî·Éë·É° ·É°·É¢·É†·Éî·É°·Éò·É° ·Éì·Éê·Éõ·Éù·É£·Éô·Éò·Éì·Éî·Éë·Éö·Éê·Éì ·Éí·Éê·Éõ·Éô·Éö·Éê·Éï·Éî·Éë·Éò·É° ·É£·Éú·Éê·É†·É°. ·Éó·Éê·Éï·Éê·Éì ·Éõ·Éù·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê ·ÉÆ·Éì·Éî·Éë·Éê ·É°·É¢·É†·Éî·É°·Éò·É° ·Éî·É†·Éó-·Éî·É†·Éó·Éò ·Éõ·Éú·Éò·É®·Éï·Éú·Éî·Éö·Éù·Éï·Éê·Éú·Éò ·É¨·Éß·Éê·É†·Éù.', recovery: '·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éò·É° ·É®·Éî·Éì·Éî·Éí·Éê·Éì ·É•·É†·Éî·Éë·Éê ·É°·É¢·É†·Éî·É°·Éò·É° ·Éî·É†·Éó-·Éî·É†·Éó·Éò ·Éõ·Éú·Éò·É®·Éï·Éú·Éî·Éö·Éù·Éï·Éê·Éú·Éò ·É¨·Éß·Éê·É†·Éù ·Éì·Éê ·Éê·É°·Éî·Éï·Éî ·Éõ·Éî·Éñ·É†·Éì·Éî·Éë·Éê ·É°·ÉÆ·Éï·Éê ·É°·É¢·É†·Éî·É°·Éî·Éë·Éò·É° ·Éì·Éê·Éõ·Éù·É£·Éô·Éò·Éì·Éî·Éë·Éö·Éê·Éì ·Éí·Éê·Éõ·Éô·Éö·Éê·Éï·Éî·Éë·Éò·É° ·É£·Éú·Éê·É†·Éò·É™. ·Éê·É°·Éî·Éó·Éò ·É†·Éó·É£·Éö·Éò ·Éì·Éê·Éê·Éï·Éê·Éì·Éî·Éë·Éò·É° ·Éì·Éê·Éõ·Éê·É†·É™·ÉÆ·Éî·Éë·Éê ·Éõ·Éê·É´·Éö·Éî·Éï·É° ·É†·Éî·É°·É£·É†·É°·É°, ·É†·Éù·Éõ ·Éó·É£ ·Éê·Éõ·Éê·É° ·Éï·Éê·ÉÆ·Éî·É†·ÉÆ·Éî·Éë, ·É†·Éê ·É®·Éî·Éò·É´·Éö·Éî·Éë·Éê ·É®·Éî·Éõ·Éî·Éõ·Éó·ÉÆ·Éï·Éî·É° ·Éò·É°·Éî·Éó·Éò, ·É†·Éê·É°·Éê·É™ ·Éï·Éî·É† ·Éí·Éê·Éï·É£·Éõ·Éô·Éö·Éê·Éï·Éì·Éî·Éë·Éò.'},
            {id: 'peer_care', text: '·Éó·Éê·Éú·Éê·Éõ·Éù·Éõ·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éö·Éî·Éë·Éñ·Éî ·Éñ·É†·É£·Éú·Éï·Éê, ·É°·É£·É†·Éï·Éò·Éö·Éò ·Éê·É† ·Éõ·Éò·Éï·Éê·É¢·Éù·Éï·Éù ·Éò·É°·Éò·Éú·Éò', consequences: '·É£·Éú·Éî·Éë·Éö·Éò·Éî·Éì ·Éõ·Éî ·Éï·ÉÆ·Éì·Éî·Éë·Éò ·Éõ·Éê·Éó·Éò ·Éê·Éõ ·É≠·Éê·Éù·Éë·É®·Éò ·Éì·Éê·É†·É©·Éî·Éú·Éò·É° ·Éõ·Éò·Éñ·Éî·Éñ·Éò. ·Éò·É°·Éî·Éï·Éî ·É†·Éù·Éí·Éù·É†·É™, ·Éõ·Éî ·Éõ·Éê·É©·Éî·É†·Éî·Éë·É°, ·Éõ·Éê·Éó·Éò ·É§·Éê·É•·É¢·Éù·É†·Éò ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éò·É° ·Éí·Éñ·Éê·Éñ·Éî, ·Éê·Éú·Éê·Éö·Éù·Éí·Éò·É£·É†·Éê·Éì ·Éõ·Éî·É™ ·Éõ·Éê·Éó·Éò ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éò·É°·Éó·Éï·Éò·É° ·É®·Éî·Éõ·Éê·É§·Éî·É†·ÉÆ·Éî·Éë·Éî·Éö·Éò ·Éï·ÉÆ·Éì·Éî·Éë·Éò.', recovery: '·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éò·Éó ·É®·Éî·Éõ·Éò·É´·Éö·Éò·Éê ·É†·Éî·Éê·Éö·É£·É†·Éê·Éì ·Éï·Éò·Éñ·É†·É£·Éú·Éù ·Éó·Éê·Éú·Éê·Éõ·Éù·Éõ·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éö·Éî·Éë·Éñ·Éî, ·Éõ·Éê·Éó·Éó·Éï·Éò·É° ·ÉØ·Éê·Éú·É°·Éê·É¶·Éò ·Éõ·Éê·Éí·Éê·Éö·Éò·Éó·Éò·É° ·Éõ·Éò·É™·Éî·Éõ·Éò·Éó. ·Éê·É°·Éî·Éï·Éî, ·Éî·É° ·Éõ·Éê·É´·Éö·Éî·Éï·É° ·É°·Éê·É®·É£·Éê·Éö·Éî·Éë·Éê·É°, ·É°·ÉÆ·Éï·Éê ·Éê·Éì·Éê·Éõ·Éò·Éê·Éú·Éî·Éë·Éò·É°·Éó·Éï·Éò·É°·Éê·É™ ·Éï·Éò·Éß·Éù ·Éõ·Éî·É¢·Éê·Éì ·Éõ·Éñ·É†·É£·Éú·Éï·Éî·Éö·Éò ·Éì·Éê ·É£·É†·Éó·Éò·Éî·É†·Éó·Éù·Éë·Éî·Éë·É®·Éò ·É©·Éê·É†·Éó·É£·Éö·Éò.'},
            // {id: 'resources', text: '·É†·Éî·É°·É£·É†·É°·Éî·Éë·Éó·Éê·Éú ·ÉÆ·Éî·Éö·Éõ·Éò·É°·Éê·É¨·Éï·Éì·Éù·Éõ·Éù·Éë·Éê', consequences: '·Éõ·Éê·É†·Éó·Éõ·Éî·Éï·É° ·É§·Éò·Éú·Éê·Éú·É°·É£·É†, ·Éì·É†·Éù·Éò·É° ·Éì·Éê ·Éî·Éú·Éî·É†·Éí·Éò·Éò·É° ·É†·Éî·É°·É£·É†·É°·Éî·Éë·É°.', recovery: '·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éê ·Éê·Éó·Éê·Éï·Éò·É°·É£·É§·Éö·Éî·Éë·É° ·Éê·Éõ ·É†·Éî·É°·É£·É†·É°·Éî·Éë·É° ·É†·Éî·Éê·Éö·É£·É†·Éò ·Éõ·Éò·Éñ·Éú·Éî·Éë·Éò·É°·Éê ·Éì·Éê ·Éù·É™·Éú·Éî·Éë·Éî·Éë·Éò·É°·Éó·Éï·Éò·É°.'},
            {id: 'sleep', text: '·É´·Éò·Éö·Éò·É° ·Éû·É†·Éù·Éë·Éö·Éî·Éõ·Éî·Éë·Éò·É° ·Éí·Éê·Éì·Éê·É≠·É†·Éê / ·Éì·Éê·É°·Éê·É´·Éò·Éú·Éî·Éë·Éö·Éê·Éì', consequences: '·Éê·Éú·Éê·Éì·Éí·É£·É†·Éî·Éë·É° REM ·É´·Éò·Éö·É° ·Éì·Éê ·É¶·É†·Éõ·Éê ·É´·Éò·Éö·Éò·É° ·É§·Éê·Éñ·Éî·Éë·É°. ·É•·Éõ·Éú·Éò·É° ·É´·Éò·Éö·Éò·É° ·Éì·Éê·Éõ·Éù·Éô·Éò·Éì·Éî·Éë·É£·Éö·Éî·Éë·Éê·É°.', recovery: '·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éê ·Éê·É¶·Éê·Éì·Éí·Éî·Éú·É° ·ÉØ·Éê·Éú·É°·Éê·É¶ ·É´·Éò·Éö·Éò·É° ·É†·Éî·Éü·Éò·Éõ·É° ·Éì·Éê ·É†·Éî·Éê·Éö·É£·É† ·Éì·Éê·É°·Éï·Éî·Éú·Éî·Éë·Éê·É°.'},
            {id: 'pain', text: '·É§·Éò·Éñ·Éò·Éô·É£·É†·Éò ·É¢·Éô·Éò·Éï·Éò·Éö·Éò·É°/·Éì·Éò·É°·Éô·Éù·Éõ·É§·Éù·É†·É¢·Éò·É° ·Éõ·Éù·ÉÆ·É°·Éú·Éê', consequences: '·Éê·É§·É£·É≠·Éî·Éë·É° ·É¢·Éô·Éò·Éï·Éò·Éö·Éò·É° ·Éõ·Éê·É†·Éó·Éï·Éò·É° ·Éë·É£·Éú·Éî·Éë·É†·Éò·Éï ·É°·Éò·É°·É¢·Éî·Éõ·Éî·Éë·É°, ·Éñ·É†·Éì·Éò·É° ·É¢·Éô·Éò·Éï·Éò·Éö·Éò·É° ·Éõ·Éí·É†·É´·Éú·Éù·Éë·Éî·Éö·Éù·Éë·Éê·É°.', recovery: '·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éê ·Éê·É¶·Éê·Éì·Éí·Éî·Éú·É° ·ÉØ·Éê·Éú·É°·Éê·É¶ ·É¢·Éô·Éò·Éï·Éò·Éö·Éó·Éê·Éú ·Éõ·É£·É®·Éê·Éù·Éë·Éò·É° ·É£·Éú·Éê·É†·É° ·Éì·Éê ·Éê·Éõ·É™·Éò·É†·Éî·Éë·É° ·É¢·Éô·Éò·Éï·Éò·Éö·Éò·É° ·Éê·É¶·É•·Éõ·Éê·É°.'}
        ];

        const DEFAULT_RECOVERY_MOTIVATIONS = [
            "·Éû·É†·Éù·Éì·É£·É•·É¢·Éò·É£·Éö·Éù·Éë·Éò·É° ·Éñ·É†·Éì·Éê ·Éì·Éê ·Éû·É†·Éù·É§·Éî·É°·Éò·É£·Éö·Éò ·Éõ·Éò·Éñ·Éú·Éî·Éë·Éò",
            "·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éù·Éë·Éê/·É°·Éò·Éô·Éï·Éì·Éò·Éö·Éò",
            "·É§·Éò·Éú·Éê·Éú·É°·É£·É†·Éò ·Éí·Éê·É£·Éõ·ÉØ·Éù·Éë·Éî·É°·Éî·Éë·Éê",
            "·É™·ÉÆ·Éù·Éï·É†·Éî·Éë·Éò·Éó ·É¢·Éô·Éë·Éù·Éë·Éê",
            "·Éì·Éê·Éë·Éê·Éö·Éê·Éú·É°·Éî·Éë·É£·Éö·Éò ·Éî·Éõ·Éù·É™·Éò·Éî·Éë·Éò ·Éì·Éê ·É°·É¢·É†·Éî·É°·Éó·Éê·Éú ·Éí·Éê·Éõ·Éô·Éö·Éê·Éï·Éî·Éë·Éê",
            "·Éó·Éï·Éò·Éó·Éô·Éõ·Éê·Éß·Éù·É§·Éò·Éö·Éî·Éë·Éê, ·É°·Éê·Éô·É£·Éó·Éê·É†·Éò ·Éó·Éê·Éï·Éò·Éó ·É°·Éò·Éê·Éõ·Éê·Éß·Éî",
            "·É°·Éê·Éô·É£·Éó·Éê·É†·Éò ·Éó·Éê·Éï·Éò·É° ·Éì·Éê·Éì·Éê·Éú·Éê·É®·Éê·É£·Éö·Éî·Éë·Éò·É°·Éí·Éê·Éú ·Éí·Éê·Éó·Éê·Éï·Éò·É°·É£·É§·Éö·Éî·Éë·Éê",
            "·É°·ÉÆ·Éï·Éî·Éë·Éò·É° ·Éê·É¶·Éò·Éê·É†·Éî·Éë·Éê, ·Éû·Éê·É¢·Éò·Éï·Éò·É°·É™·Éî·Éõ·Éê, ·Éú·Éì·Éù·Éë·Éê",
            "·Éõ·Éò·É£·É¶·Éî·Éë·Éö·Éù·Éë·Éò·É°·Éê ·Éì·Éê ·Éô·É†·Éò·É¢·Éò·Éô·Éò·É° ·Éó·Éê·Éï·Éò·Éì·Éê·Éú ·Éê·É™·Éò·Éö·Éî·Éë·Éê",
            "·É£·É†·Éó·Éò·Éî·É†·Éó·Éù·Éë·Éî·Éë·Éò·É° ·Éí·Éê·ÉØ·Éê·Éú·É°·Éê·É¶·Éî·Éë·Éê, ·É°·Éò·Éß·Éï·Éê·É†·É£·Éö·Éò",
            "·É°·Éê·Éô·É£·Éó·Éê·É†·Éò ·Éó·Éê·Éï·Éò·É°·Éó·Éï·Éò·É° ·É°·Éê·É©·É£·É•·É†·Éò·É° ·Éí·Éê·Éô·Éî·Éó·Éî·Éë·Éê",
            "·É°·ÉÆ·Éï·Éî·Éë·Éò·É°·Éó·Éï·Éò·É° ·Éõ·Éê·Éí·Éê·Éö·Éò·Éó·Éò·É° ·Éõ·Éò·É™·Éî·Éõ·Éê",
            "·Éù·ÉØ·Éê·ÉÆ·Éñ·Éî ·Éì·Éê ·Éê·ÉÆ·Éö·Éù·Éë·Éö·Éî·Éë·Éñ·Éî ·Éñ·É†·É£·Éú·Éï·Éê",
            "·Éô·Éù·Éú·É¢·É†·Éù·Éö·Éò·É° ·Éì·Éê·Éë·É†·É£·Éú·Éî·Éë·Éê, ·Éó·Éê·Éï·Éò·É°·É£·É§·Éö·Éî·Éë·Éê, ·É°·Éê·Éô·É£·Éó·Éê·É†·Éò ·É™·ÉÆ·Éù·Éï·É†·Éî·Éë·Éò·É° ·É°·É™·Éî·Éú·Éê·É†·Éò·É° ·Éê·Éï·É¢·Éù·É†·Éù·Éë·Éò·É° ·Éì·Éê·Éë·É†·É£·Éú·Éî·Éë·Éê",
            "·Éí·É†·É´·Éî·Éö·Éï·Éê·Éì·Éò·Éê·Éú·Éò ·Éõ·Éò·Éñ·Éú·Éî·Éë·Éò·É° ·Éõ·Éò·É¶·É¨·Éî·Éï·Éò·É° ·É£·Éú·Éê·É†·Éò",
            "·Éê·ÉÆ·Éê·Éö·Éò ·Éò·Éú·É¢·Éî·É†·Éî·É°·Éî·Éë·Éò·É° ·Éí·Éê·É©·Éî·Éú·Éê"
        ];

        const DEFAULT_COGNITIVE_DISTORTIONS = [
            {
                id: 'no_control',
                text: '·Éõ·Éî ·Éê·É† ·Éõ·Éê·É•·Éï·É° ·Éô·Éù·Éú·É¢·É†·Éù·Éö·Éò ·Éê·Éõ ·É°·Éò·É¢·É£·Éê·É™·Éò·Éê·Éñ·Éî',
                whyBad: '·Éê·É°·Éî·Éó·Éò ·Éê·Éñ·É†·Éò ·Éõ·Éê·É†·Éó·Éõ·Éî·Éï·É° ·Éû·Éê·É°·É£·ÉÆ·Éò·É°·Éõ·Éí·Éî·Éë·Éö·Éù·Éë·Éò·É° ·Éí·É†·É´·Éú·Éù·Éë·Éê·É° ·Éì·Éê ·É•·Éõ·Éî·Éì·Éî·Éë·Éò·É° ·É£·Éú·Éê·É†·É°. ·Éõ·Éê·Éí·Éù·Éú·Éî·Éë·É° ·É†·Éù·Éõ ·É£·É´·Éö·É£·É†·Éò ·Éï·Éê·É†.',
                whyDistorted: '·Éî·É° ·Éê·É†·Éò·É° "·Éí·Éê·Éú·Éñ·Éù·Éí·Éê·Éì·Éî·Éë·Éê" ·Éì·Éê "·Éô·Éù·Éú·É¢·É†·Éù·Éö·Éò·É° ·Éò·Éö·É£·Éñ·Éò·Éò·É° ·Éì·Éê·Éô·Éê·É†·Éí·Éï·Éê". ·É†·Éî·Éê·Éö·É£·É†·Éê·Éì, ·Éó·É£·Éõ·É™·Éê ·Éß·Éï·Éî·Éö·Éê·É§·Éî·É†·É° ·Éï·Éî·É† ·Éï·Éê·Éô·Éù·Éú·É¢·É†·Éù·Éö·Éî·Éë, ·Éï·Éê·Éô·Éù·Éú·É¢·É†·Éù·Éö·Éî·Éë ·É©·Éî·Éõ·É° ·É†·Éî·Éê·É•·É™·Éò·Éê·É°, ·Éí·Éê·Éì·Éê·É¨·Éß·Éï·Éî·É¢·Éò·Éö·Éî·Éë·Éî·Éë·É° ·Éì·Éê ·É•·Éõ·Éî·Éì·Éî·Éë·Éî·Éë·É°.',
                truthVersion: '·Éõ·Éî ·Éï·Éê·Éô·Éù·Éú·É¢·É†·Éù·Éö·Éî·Éë ·É©·Éî·Éõ·É° ·Éê·É†·É©·Éî·Éï·Éê·Éú·É°. ·Éê·É† ·Éï·Éê·Éô·Éù·Éú·É¢·É†·Éù·Éö·Éî·Éë ·Éß·Éï·Éî·Éö·Éê·É§·Éî·É†·É°, ·Éõ·Éê·Éí·É†·Éê·Éõ ·Éï·Éê·Éô·Éù·Éú·É¢·É†·Éù·Éö·Éî·Éë ·Éß·Éï·Éî·Éö·Éê·Éñ·Éî ·Éõ·Éú·Éò·É®·Éï·Éú·Éî·Éö·Éù·Éï·Éê·Éú - ·É©·Éî·Éõ·É° ·Éó·Éê·Éï·É°.'
            },
            {
                id: 'all_or_nothing',
                text: '·Éó·É£ ·É°·É†·É£·Éö·Éß·Éù·É§·Éò·Éö·Éò ·Éê·É† ·Éï·Éê·É†, ·Éõ·Éê·É®·Éò·Éú ·É¨·Éê·É†·É£·Éõ·Éê·É¢·Éî·Éë·Éî·Éö·Éò ·Éï·Éê·É†',
                whyBad: '·Éê·É°·Éî·Éó·Éò ·Éê·Éñ·É†·Éò ·Éò·É¨·Éï·Éî·Éï·É° ·Éõ·É£·Éì·Éõ·Éò·Éï ·É£·Éô·Éõ·Éê·Éß·Éù·É§·Éò·Éö·Éî·Éë·Éê·É°, ·É®·É§·Éù·Éó·Éï·Éê·É° ·Éì·Éê ·É°·É†·É£·Éö·Éß·Éù·É§·Éò·Éö·Éî·Éë·Éò·É° ·Éê·É†·Éê·É†·Éî·Éê·Éö·É£·É† ·É°·É¢·Éê·Éú·Éì·Éê·É†·É¢·Éî·Éë·É°.',
                whyDistorted: '·Éî·É° ·Éê·É†·Éò·É° "·É®·Éê·Éï-·Éó·Éî·Éó·É†·Éò ·Éê·Éñ·É†·Éù·Éï·Éú·Éî·Éë·Éê" (all-or-nothing thinking). ·É™·ÉÆ·Éù·Éï·É†·Éî·Éë·Éê ·É®·Éî·Éì·Éí·Éî·Éë·Éê ·É®·É£·Éê·Éö·Éî·Éì·É£·É†·Éò ·Éú·Éê·Éë·Éò·ÉØ·Éî·Éë·Éò·É°·Éí·Éê·Éú. ·Éû·É†·Éù·Éí·É†·Éî·É°·Éò ·Éõ·Éú·Éò·É®·Éú·Éî·Éö·Éù·Éï·Éê·Éú·Éò·Éê, ·Éê·É†·Éê ·É°·É†·É£·Éö·Éß·Éù·É§·Éò·Éö·Éî·Éë·Éê.',
                truthVersion: '·Éõ·Éî ·Éï·Éï·Éò·Éó·Éê·É†·Éì·Éî·Éë·Éò ·Éì·Éê ·Éï·É°·É¨·Éê·Éï·Éö·Éù·Éë. ·Éß·Éù·Éï·Éî·Éö·Éò ·Éû·Éê·É¢·Éê·É†·Éê ·Éú·Éê·Éë·Éò·ÉØ·Éò ·Éõ·Éú·Éò·É®·Éï·Éú·Éî·Éö·Éù·Éï·Éê·Éú·Éò·Éê, ·Éó·É£·Éú·Éì·Éê·É™ ·É°·É†·É£·Éö·Éß·Éù·É§·Éò·Éö·Éò ·Éê·É† ·Éò·Éß·Éù·É°.'
            },
            {
                id: 'deserve_punishment',
                text: '·Éõ·Éî ·Éï·Éò·Éõ·É°·Éê·ÉÆ·É£·É†·Éî·Éë ·Éì·Éê·É°·ÉØ·Éê·É° ·É©·Éî·Éõ·Éò ·É®·Éî·É™·Éì·Éù·Éõ·Éî·Éë·Éò·É°·Éó·Éï·Éò·É°',
                whyBad: '·Éê·É°·Éî·Éó·Éò ·Éê·Éñ·É†·Éò ·Éê·É´·Éö·Éò·Éî·É†·Éî·Éë·É° ·Éõ·Éù·É†·É™·ÉÆ·Éï·É°, ·É®·Éò·É®·É° ·Éì·Éê ·Éó·Éê·Éï·Éò·É°-·Éó·Éê·Éï·Éò·É° ·Éì·Éê·É°·ÉØ·Éê·É°, ·É†·Éê·É™ ·Éê·É§·Éî·É†·ÉÆ·Éî·Éë·É° ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éê·É°.',
                whyDistorted: '·Éî·É° ·Éê·É†·Éò·É° "·Éó·Éï·Éò·Éó·Éì·Éê·Éì·Éê·Éú·Éê·É®·Éê·É£·Éö·Éî·Éë·Éê" ·Éì·Éê "·É£·Éú·Éì·Éê-·Éî·Éë·Éò·É° ·É¢·Éò·É†·Éê·Éú·Éò·Éê". ·É®·Éî·É™·Éì·Éù·Éõ·Éî·Éë·Éò ·É°·É¨·Éê·Éï·Éö·Éò·É° ·É®·Éî·É°·Éê·É´·Éö·Éî·Éë·Éö·Éù·Éë·Éê·Éê, ·Éê·É†·Éê ·Éì·Éê·É°·ÉØ·Éò·É° ·É°·Éê·É§·É£·É´·Éï·Éî·Éö·Éò.',
                truthVersion: '·Éõ·Éî ·Éï·Éò·Éõ·É°·Éê·ÉÆ·É£·É†·Éî·Éë ·Éó·Éê·Éú·Éê·Éí·É†·É´·Éú·Éù·Éë·Éê·É° ·Éì·Éê ·Éí·Éê·Éí·Éî·Éë·Éê·É°. ·Éï·É°·É¨·Éê·Éï·Éö·Éù·Éë ·É©·Éî·Éõ·Éò ·É®·Éî·É™·Éì·Éù·Éõ·Éî·Éë·Éò·Éì·Éê·Éú ·Éì·Éê ·Éï·Éò·Éñ·É†·Éì·Éî·Éë·Éò.'
            },
            {
                id: 'never_change',
                text: '·Éõ·Éî ·Éï·Éî·É†·Éê·É°·Éù·Éì·Éî·É° ·É®·Éî·Éï·Éò·É™·Éï·Éö·Éî·Éë·Éò / ·Éß·Éù·Éï·Éî·Éö·Éó·Éï·Éò·É° ·Éê·É°·Éî ·Éì·Éê·Éï·É†·É©·Éî·Éë·Éò',
                whyBad: '·Éê·É°·Éî·Éó·Éò ·Éê·Éñ·É†·Éò ·Éõ·Éê·É†·Éó·Éõ·Éî·Éï·É° ·Éò·Éõ·Éî·Éì·É°, ·Éõ·Éù·É¢·Éò·Éï·Éê·É™·Éò·Éê·É° ·Éì·Éê ·É™·Éï·Éö·Éò·Éö·Éî·Éë·Éò·É° ·É®·Éî·É°·Éê·É´·Éö·Éî·Éë·Éö·Éù·Éë·Éò·É° ·É†·É¨·Éõ·Éî·Éú·Éê·É°.',
                whyDistorted: '·Éî·É° ·Éê·É†·Éò·É° "·Éõ·Éù·Éõ·Éê·Éï·Éö·Éò·É° ·É¨·Éò·Éú·Éê·É°·É¨·Éê·É†·Éõ·Éî·É¢·Éß·Éï·Éî·Éö·Éî·Éë·Éê" ·Éì·Éê "·Éí·Éê·Éú·Éñ·Éù·Éí·Éê·Éì·Éî·Éë·Éê". ·Éê·Éì·Éê·Éõ·Éò·Éê·Éú·Éî·Éë·Éò ·Éõ·É£·Éì·Éõ·Éò·Éï·Éê·Éì ·Éò·É™·Éï·Éö·Éî·Éë·Éò·Éê·Éú. ·É¨·Éê·É†·É°·É£·Éö·Éò ·Éê·É† ·Éí·Éê·Éú·É°·Éê·Éñ·É¶·Éï·É†·Éê·Éï·É° ·Éõ·Éù·Éõ·Éê·Éï·Éê·Éö·É°.',
                truthVersion: '·Éõ·Éî ·Éï·É™·Éï·Éö·Éò ·Éì·Éê ·Éï·Éï·Éò·Éó·Éê·É†·Éì·Éî·Éë·Éò ·Éß·Éù·Éï·Éî·Éö·Éì·É¶·Éî. ·Éß·Éù·Éï·Éî·Éö·Éò ·Éê·É†·É©·Éî·Éï·Éê·Éú·Éò ·Éê·Éß·Éê·Éö·Éò·Éë·Éî·Éë·É° ·Éê·ÉÆ·Éê·Éö ·Éï·Éî·É†·É°·Éò·Éê·É° ·É©·Éî·Éõ·Éò ·Éó·Éê·Éï·Éò·É°.'
            },
            {
                id: 'once_wont_hurt',
                text: '·Éî·É†·Éó·ÉÆ·Éî·Éö ·Éê·É†·Éê·É§·Éî·É†·É° ·Éõ·Éù·Éò·É¢·Éê·Éú·É° / ·Éõ·ÉÆ·Éù·Éö·Éù·Éì ·Éê·Éõ·ÉØ·Éî·É†·Éê·Éì',
                whyBad: '·Éî·É° ·Éê·Éñ·É†·Éò ·Éê·É°·É£·É°·É¢·Éî·Éë·É° ·Éí·Éê·Éì·Éê·É¨·Éß·Éï·Éî·É¢·Éò·Éö·Éî·Éë·Éê·É° ·Éì·Éê ·Éõ·Éò·Éë·É†·É£·Éú·Éî·Éë·É° ·É´·Éï·Éî·Éö ·É®·Éê·Éë·Éö·Éù·Éú·É®·Éò.',
                whyDistorted: '·Éî·É° ·Éê·É†·Éò·É° "·É†·Éê·É™·Éò·Éù·Éú·Éê·Éö·Éò·Éñ·Éê·É™·Éò·Éê" ·Éì·Éê "·Éõ·Éò·Éú·Éò·Éõ·Éò·Éñ·Éê·É™·Éò·Éê". ·Éì·Éê·Éõ·Éù·Éô·Éò·Éì·Éî·Éë·É£·Éö·Éî·Éë·Éê ·É°·É¨·Éù·É†·Éî·Éì "·Éõ·ÉÆ·Éù·Éö·Éù·Éì ·Éî·É†·Éó·ÉÆ·Éî·Éö"-·Éì·Éê·Éú ·Éò·É¨·Éß·Éî·Éë·Éê.',
                truthVersion: '"·Éõ·ÉÆ·Éù·Éö·Éù·Éì ·Éî·É†·Éó·ÉÆ·Éî·Éö" ·Éê·É†·Éò·É° ·É¢·Éï·Éò·Éú·Éò·É° ·ÉÆ·É†·Éò·Éô·Éò. ·Éõ·Éî ·Éï·Éò·É†·É©·Éî·Éï ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éê·É° ·Éê·ÉÆ·Éö·Éê ·Éì·Éê ·Éß·Éù·Éï·Éî·Éö·Éì·É¶·Éî.'
            },
            {
                id: 'too_hard',
                text: '·Éî·É° ·É´·Éê·Éö·Éò·Éê·Éú ·É†·Éó·É£·Éö·Éò·Éê, ·Éï·Éî·É† ·Éí·Éê·Éï·É´·Éö·Éî·Éë',
                whyBad: '·Éê·É°·Éî·Éó·Éò ·Éê·Éñ·É†·Éò ·Éê·Éõ·É™·Éò·É†·Éî·Éë·É° ·Éó·Éï·Éò·Éó·É®·Éî·É§·Éê·É°·Éî·Éë·Éê·É° ·Éì·Éê ·É†·É¨·Éõ·Éî·Éú·Éê·É° ·É°·Éê·Éô·É£·Éó·Éê·É† ·É´·Éê·Éö·Éî·Éë·É®·Éò.',
                whyDistorted: '·Éî·É° ·Éê·É†·Éò·É° "·Éô·Éê·É¢·Éê·É°·É¢·É†·Éù·É§·Éò·Éñ·Éê·É™·Éò·Éê" ·Éì·Éê "·Éî·Éõ·Éù·É™·Éò·É£·É†·Éò ·Éõ·É°·ÉØ·Éî·Éö·Éù·Éë·Éê". ·Éí·É†·É´·Éú·Éù·Éë·Éê "·Éï·Éî·É† ·Éí·Éê·Éï·É´·Éö·Éî·Éë" ·Éê·É† ·Éú·Éò·É®·Éú·Éê·Éï·É° ·É§·Éê·É•·É¢·É° "·Éï·Éî·É† ·Éí·Éê·É´·Éö·Éî·Éë".',
                truthVersion: '·Éõ·Éî ·É´·Éö·Éò·Éî·É†·Éò ·Éï·Éê·É† ·Éï·Éò·Éì·É†·Éî ·Éî·É° ·Éí·É†·É´·Éú·Éù·Éë·Éê. ·É†·Éó·É£·Éö·Éò ·Éê·É† ·Éú·Éò·É®·Éú·Éê·Éï·É° ·É®·Éî·É£·É´·Éö·Éî·Éë·Éî·Éö·É°. ·Éî·É†·Éó·Éò ·Éì·É¶·Éî ·Éî·É†·Éó·Éì·É†·Éù·É£·Éö·Éê·Éì.'
            },
            {
                id: 'nobody_understands',
                text: '·Éê·É†·Éê·Éï·Éò·Éú ·Éõ·Éî·É°·Éõ·Éò·É° / ·Éõ·Éê·É†·É¢·Éù ·Éï·Éê·É† ·Éê·Éõ ·Éû·É†·Éù·Éë·Éö·Éî·Éõ·Éê·É®·Éò',
                whyBad: '·Éê·É°·Éî·Éó·Éò ·Éê·Éñ·É†·Éò ·Éê·É´·Éö·Éò·Éî·É†·Éî·Éë·É° ·Éò·Éñ·Éù·Éö·Éê·É™·Éò·Éê·É° ·Éì·Éê ·Éõ·Éê·É†·Éó·Éõ·Éî·Éï·É° ·Éì·Éê·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éò·É° ·É´·Éò·Éî·Éë·Éò·É° ·Éõ·Éù·É¢·Éò·Éï·Éê·É™·Éò·Éê·É°.',
                whyDistorted: '·Éî·É° ·Éê·É†·Éò·É° "·Éê·Éñ·É†·Éî·Éë·Éò·É° ·É¨·Éê·Éô·Éò·Éó·ÉÆ·Éï·Éê" ·Éì·Éê "·É§·Éò·Éö·É¢·É†·Éê·É™·Éò·Éê" (·Éõ·ÉÆ·Éù·Éö·Éù·Éì ·É£·Éê·É†·Éß·Éù·É§·Éò·Éó·Éò·É° ·Éì·Éê·Éú·Éê·ÉÆ·Éï·Éê). ·Éõ·Éò·Éö·Éò·Éù·Éú·Éù·Éë·Éò·Éó ·Éê·Éì·Éê·Éõ·Éò·Éê·Éú·Éò ·Éò·Éë·É†·É´·Éï·Éò·É° ·Éì·Éê·Éõ·Éù·Éô·Éò·Éì·Éî·Éë·É£·Éö·Éî·Éë·Éê·É°·Éó·Éê·Éú.',
                truthVersion: '·Éê·É†·Éò·Éê·Éú ·Éê·Éì·Éê·Éõ·Éò·Éê·Éú·Éî·Éë·Éò ·É†·Éù·Éõ·Éö·Éî·Éë·Éò·É™ ·Éõ·Éî·É°·Éõ·Éò·Éê·Éú. ·Éõ·Éî ·Éê·É† ·Éï·Éê·É† ·Éõ·Éê·É†·É¢·Éù ·Éê·Éõ ·Éí·Éñ·Éê·Éñ·Éî ·Éì·Éê ·É®·Éî·Éõ·Éò·É´·Éö·Éò·Éê ·Éì·Éê·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éò·É° ·Éõ·Éù·Éó·ÉÆ·Éù·Éï·Éú·Éê.'
            }
        ];

        const DEFAULT_SYMPTOMS = [
            {category: '·É¢·Éù·Éö·Éî·É†·Éê·Éú·É¢·Éù·Éë·Éê', symptoms: [
                '·É°·Éê·É≠·Éò·É†·Éù·Éê ·Éõ·Éî·É¢·Éò ·Éê·Éö·Éô·Éù·É∞·Éù·Éö·Éò·É° ·Éê·Éú ·Éú·Éê·É†·Éô·Éù·É¢·Éò·Éô·Éò·É° ·Éõ·Éò·É¶·Éî·Éë·Éê ·É°·Éê·É°·É£·É†·Éï·Éî·Éö·Éò ·Éî·É§·Éî·É•·É¢·Éò·É° ·Éõ·Éò·É°·Éê·É¶·É¨·Éî·Éï·Éê·Éì',
                '·Éê·Éö·Éô·Éù·É∞·Éù·Éö·Éò·É° ·Éê·Éú ·Éú·Éê·É†·Éô·Éù·É¢·Éò·Éô·Éî·Éë·Éò·É° ·É©·Éï·Éî·É£·Éö·Éò ·É†·Éê·Éù·Éì·Éî·Éú·Éù·Éë·Éê ·Éê·É¶·Éê·É† ·Éò·É´·Éö·Éî·Éï·Éê ·É°·Éê·É°·É£·É†·Éï·Éî·Éö ·Éî·É§·Éî·É•·É¢·É°'
            ]},
            {category: '·Éê·Éë·É°·É¢·Éò·Éú·Éî·Éú·É™·Éò·Éê', symptoms: [
                '·É†·Éù·É™·Éê ·Éó·É•·Éï·Éî·Éú ·Éê·É† ·Éí·Éê·É•·Éï·Éó ·Éê·Éú ·Éó·É•·Éï·Éî·Éú·Éó·Éê·Éú ·Éê·ÉÆ·Éö·Éù·É° ·Éê·É† ·Éê·É†·Éò·É° ·Éê·Éö·Éô·Éù·É∞·Éù·Éö·Éò ·Éê·Éú ·Éú·Éê·É†·Éô·Éù·É¢·Éò·Éô·Éî·Éë·Éò, ·Éí·Éê·Éú·Éò·É™·Éì·Éò·Éó ·É§·Éò·Éñ·Éò·Éô·É£·É† ·Éê·Éú ·Éî·Éõ·Éù·É™·Éò·Éù·Éú·Éê·Éö·É£·É† ·Éì·Éò·É°·Éô·Éù·Éõ·É§·Éù·É†·É¢·É°',
                '·Éó·É•·Éï·Éî·Éú ·Éí·Éê·Éõ·Éù·Éí·Éò·Éß·Éî·Éú·Éî·Éë·Éò·Éê·Éó ·Éê·Éö·Éô·Éù·É∞·Éù·Éö·Éò ·Éê·Éú ·Éú·Éê·É†·Éô·Éù·É¢·Éò·Éô·Éò, ·É†·Éê·Éó·Éê ·Éó·Éê·Éï·Éò ·Éí·Éî·Éí·É†·É´·Éú·Éù·Éó ·É£·Éô·Éî·Éó, ·Éõ·Éê·É° ·Éõ·Éî·É†·Éî ·É†·Éê·É™ ·Éõ·Éê·Éó ·Éõ·Éù·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê·É° ·Éó·Éê·Éï·Éò ·Éì·Éê·Éê·Éú·Éî·Éë·Éî·Éó'
            ]},
            {category: '·Éö·É¢·Éù·Éö·Éï·Éê', symptoms: [
                '·ÉÆ·É®·Éò·É†·Éê·Éì ·É§·Éò·É•·É†·Éù·Éë·Éó ·Éú·Éê·É†·Éô·Éù·É¢·Éò·Éô·Éî·Éë·Éñ·Éî ·Éì·Éê ·Éê·Éö·Éô·Éù·É∞·Éù·Éö·Éñ·Éî',
                '·É°·Éê·Éú·Éê·Éõ ·Éê·É† ·Éì·Éê·Éò·Éô·Éõ·Éê·Éß·Éù·É§·Éò·Éö·Éî·Éë·Éó ·Éì·Éê·Éö·Éî·Éï·Éò·É° ·Éê·Éú ·Éú·Éê·É†·Éô·Éù·É¢·Éò·Éô·Éò·É° ·Éõ·Éò·É¶·Éî·Éë·Éò·É° ·É°·É£·É†·Éï·Éò·Éö·É°, ·Éó·É•·Éï·Éî·Éú ·É´·Éê·Éö·Éò·Éê·Éú ·Éí·Éò·É≠·Éò·É†·Éó ·Éó·Éê·Éï·Éò·Éì·Éê·Éú ·Éê·Éõ·Éù·Éò·Éí·Éì·Éù·Éó ·É§·Éò·É•·É†·Éî·Éë·Éò ·Éê·Éõ·Éò·É° ·É®·Éî·É°·Éê·ÉÆ·Éî·Éë'
            ]},
            {category: '·Éô·Éù·Éú·É¢·É†·Éù·Éö·Éò·É° ·Éì·Éê·Éô·Éê·É†·Éí·Éï·Éê', symptoms: [
                '·Éó·É•·Éï·Éî·Éú ·É°·É™·Éê·Éì·Éî·Éó ·É°·Éê·Éô·É£·Éó·Éê·É†·Éò ·Éó·Éê·Éï·Éò·É°·Éó·Éï·Éò·É° ·Éì·Éê·Éí·Éî·Éß·Éî·Éú·Éî·Éë·Éò·Éú·Éê·Éó ·É¨·Éî·É°·Éî·Éë·Éò ·Éõ·Éù·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éò·É° ·É°·Éò·ÉÆ·É®·Éò·É†·Éî·É°·Éó·Éê·Éú ·Éì·Éê·Éô·Éê·Éï·É®·Éò·É†·Éî·Éë·Éò·Éó, ·Éõ·Éê·Éí·É†·Éê·Éõ ·Éï·Éî·É† ·É®·Éî·É´·Éî·Éö·Éò·Éó ·Éõ·Éê·Éó·Éò ·Éì·Éê·É™·Éï·Éê',
                '·Éó·É•·Éï·Éî·Éú ·Éî·É™·Éê·Éì·Éî·Éó, ·Éõ·Éê·Éí·É†·Éê·Éõ ·Éï·Éî·É† ·É®·Éî·É´·Éî·Éö·Éò·Éó ·Éê·Éö·Éô·Éù·É∞·Éù·Éö·Éò·É° ·Éê·Éú ·Éú·Éê·É†·Éô·Éù·É¢·Éò·Éô·Éò·É° ·Éõ·Éù·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éò·É°·Éó·Éï·Éò·É° ·Éó·Éê·Éï·Éò·É° ·Éì·Éê·Éú·Éî·Éë·Éî·Éë·Éê ·Éê·Éú ·Éõ·Éê·Éó·Éò ·Éõ·Éù·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éò·É° ·É®·Éî·Éõ·É™·Éò·É†·Éî·Éë·Éê',
                '·Éó·É•·Éï·Éî·Éú ·É®·Éî·Éê·Éõ·É©·Éú·Éò·Éî·Éó, ·É†·Éù·Éõ ·É°·Éï·Éê·Éï·Éó ·Éê·Éú ·Éõ·Éù·Éò·ÉÆ·Éõ·Éê·É†·Éó ·Éú·Éê·É†·Éô·Éù·É¢·Éò·Éô·É° ·É£·É§·É†·Éù ·Éõ·Éî·É¢·Éê·Éì ·Éï·Éò·Éì·É†·Éî ·Éê·Éõ·Éê·É° ·Éí·Éî·Éí·Éõ·Éê·Éï·Éì·Éò·Éó, ·Éê·Éú ·É£·É§·É†·Éù ·ÉÆ·Éê·Éú·Éí·É†·É´·Éö·Éò·Éï·Éò ·Éì·É†·Éù·Éò·É° ·Éí·Éê·Éú·Éõ·Éê·Éï·Éö·Éù·Éë·Éê·É®·Éò ·Éï·Éò·Éì·É†·Éî ·Éí·Éò·Éú·Éì·Éù·Éì·Éê·Éó',
                '·Éû·Éî·É†·Éò·Éù·Éì·É£·Éö·Éê·Éì ·Éó·É•·Éï·Éî·Éú ·Éê·Éõ·É©·Éú·Éî·Éï·Éì·Éò·Éó, ·É†·Éù·Éõ ·Éê·Éö·Éô·Éù·É∞·Éù·Éö·Éò·É° ·Éê·Éú ·Éú·Éê·É†·Éô·Éù·É¢·Éò·Éô·Éò·É° ·Éí·Éê·É†·Éî·É®·Éî ·Éê·É† ·É®·Éî·Éí·Éî·É´·Éö·Éù·Éó ·Éó·Éê·Éï·Éò ·Éí·Éî·Éí·É†·É´·Éú·Éù·Éó ·Éõ·É®·Éï·Éò·Éì·Éê·Éì ·Éô·Éù·Éõ·Éû·Éê·Éú·Éò·Éê·É®·Éò ·Éê·Éú ·É£·Éë·É†·Éê·Éö·Éù·Éó ·Éó·Éê·Éï·Éò ·Éí·Éî·Éí·É†·É´·Éú·Éù·Éó ·Éô·Éê·É†·Éí·Éê·Éì',
                '·Éó·É•·Éï·Éî·Éú ·Éõ·Éù·Éò·ÉÆ·Éõ·Éê·É†·Éì·Éò·Éó ·Éê·Éö·Éô·Éù·É∞·Éù·Éö·É° ·Éê·Éú ·Éú·Éê·É†·Éô·Éù·É¢·Éò·Éô·É°, ·É†·Éù·Éì·Éî·É°·Éê·É™ ·Éï·Éò·Éú·Éõ·Éî·Éñ·Éî ·Éú·Éê·É¨·Éß·Éî·Éú·Éò ·Éê·Éú ·Éí·Éê·Éë·É†·Éê·Éñ·Éî·Éë·É£·Éö·Éò ·Éò·Éß·Éê·Éï·Éò·Éó',
                '·Éó·É•·Éï·Éî·Éú ·Éò·Éó·Éò·É®·Éî·Éë·Éù·Éì·Éò·Éó, ·Éê·Éú ·Éí·É•·Éù·Éú·Éì·Éê·Éó ·Éõ·Éî·ÉÆ·É°·Éò·Éî·É†·Éî·Éë·Éê·É®·Éò ·É©·Éê·Éï·Éê·É†·Éì·Éú·Éî·Éë·Éò ·Éê·Éö·Éô·Éù·É∞·Éù·Éö·Éò·É° ·Éê·Éú ·Éú·Éê·É†·Éô·Éù·É¢·Éò·Éô·Éò·É° ·Éñ·Éî·Éõ·Éù·É•·Éõ·Éî·Éì·Éî·Éë·Éò·É° ·É•·Éï·Éî·É®',
                '·Éó·É•·Éï·Éî·Éú ·Éí·É•·Éù·Éú·Éì·Éê·Éó ·Éú·Éê·É†·Éô·Éù·É¢·Éò·Éô·Éî·Éë·Éò·É° ·Éí·Éê·Éì·Éê·É≠·Éê·É†·Éë·Éî·Éë·Éò·Éó ·Éõ·Éù·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éò·É° ·É®·Éî·Éõ·Éó·ÉÆ·Éï·Éî·Éï·Éî·Éë·Éò',
                '·Éó·É•·Éï·Éî·Éú ·Éò·Éß·Éî·Éú·Éî·Éë·Éì·Éò·Éó ·Éî·É†·Éó ·Éê·Éú ·É†·Éê·Éõ·Éì·Éî·Éú·Éò·Éõ·Éî ·Éú·Éê·É†·Éô·Éù·É¢·Éò·Éô·É° ·Éõ·Éê·É®·Éò·Éú, ·É†·Éù·Éì·Éî·É°·Éê·É™ ·Éê·É† ·Éò·É™·Éù·Éì·Éò·Éó ·É†·Éê ·Éû·É†·Éî·Éû·Éê·É†·Éê·É¢·Éò ·Éò·Éß·Éù ·Éò·É° ·Éì·Éê ·É†·Éù·Éí·Éù·É† ·Éí·Éê·Éï·Éö·Éî·Éú·Éê·É° ·Éò·É•·Éù·Éú·Éò·Éî·Éë·Éì·Éê ·Éó·É•·Éï·Éî·Éú·Éñ·Éî',
                '·Éê·Éö·Éô·Éù·É∞·Éù·Éö·Éò·É° ·Éê·Éú ·Éú·Éê·É†·Éô·Éù·É¢·Éò·Éô·Éò·É° ·É®·Éî·É¨·Éß·Éï·Éî·É¢·Éê·É°·Éó·Éê·Éú ·Éì·Éê·Éô·Éê·Éï·É®·Éò·É†·Éî·Éë·É£·Éö·Éò ·É§·Éò·É•·É†·Éò ·Éó·É•·Éï·Éî·Éú·É®·Éò ·Éò·É¨·Éï·Éî·Éï·É°/·Éò·É¨·Éï·Éî·Éï·Éì·Éê ·É®·É§·Éù·Éó·Éï·Éê·É°'
            ]},
            {category: '·Éû·É†·Éù·Éë·Éö·Éî·Éõ·Éî·Éë·Éò ·Éô·Éê·Éú·Éù·Éú·Éó·Éê·Éú', symptoms: [
                '·Éó·É•·Éï·Éî·Éú ·Éì·Éê·É£·É≠·Éî·É†·Éò·ÉÆ·Éê·É†·Éó (·Éê·Éú ·Éó·É•·Éï·Éî·Éú ·Éí·É•·Éù·Éú·Éì·Éê·Éó ·É°·ÉÆ·Éï·Éê ·Éû·É†·Éù·Éë·Éö·Éî·Éõ·Éî·Éë·Éò ·Éô·Éê·Éú·Éù·Éú·Éó·Éê·Éú) ·Éê·Éö·Éô·Éù·É∞·Éù·Éö·Éò·É° ·Éê·Éú ·Éú·Éê·É†·Éô·Éù·É¢·Éò·Éô·Éò·É° ·Éí·Éê·Éõ·Éù·Éß·Éî·Éú·Éî·Éë·Éò·É° ·Éí·Éê·Éõ·Éù',
                '·Éó·É•·Éï·Éî·Éú ·Éõ·Éò·Éí·Éò·Éõ·Éê·É†·Éó·Éê·Éï·Éó ·É•·É£·É†·Éì·Éù·Éë·Éò·É°·Éó·Éï·Éò·É° ·É†·Éê·Éó·Éê ·Éí·Éê·Éì·Éê·Éí·Éî·ÉÆ·Éê·Éì·Éê·Éó ·Éê·Éö·Éô·Éù·É∞·Éù·Éö·Éò·É° ·Éê·Éú ·Éú·Éê·É†·Éô·Éù·É¢·Éò·Éô·Éò·É° ·É¶·Éò·É†·Éî·Éë·É£·Éö·Éî·Éë·Éê'
            ]},
            {category: '·Éû·É†·Éù·Éë·Éö·Éî·Éõ·Éî·Éë·Éò ·É°·Éù·É™·Éò·Éê·Éö·É£·É† ·Éê·Éú ·Éû·É†·Éù·É§·Éî·É°·Éò·É£·Éö ·É™·ÉÆ·Éù·Éï·É†·Éî·Éë·Éê·É®·Éò', symptoms: [
                '·Éó·É•·Éï·Éî·Éú ·É£·É®·Éï·Éî·Éë·Éì·Éò·Éó ·É®·Éî·É™·Éì·Éù·Éõ·Éî·Éë·É° ·É°·Éê·Éõ·É°·Éê·ÉÆ·É£·É†·É®·Éò ·Éê·Éú ·É°·É¨·Éê·Éï·Éö·Éê·É®·Éò ·Éê·Éö·Éô·Éù·É∞·Éù·Éö·Éò·É° ·Éê·Éú ·Éú·Éê·É†·Éô·Éù·É¢·Éò·Éô·Éò·É° ·Éí·Éê·Éõ·Éù·Éß·Éî·Éú·Éî·Éë·Éò·É° ·Éí·Éê·Éõ·Éù',
                '·Éê·Éö·Éô·Éù·É∞·Éù·Éö·Éò·É° ·Éê·Éú ·Éú·Éê·É†·Éô·Éù·É¢·Éò·Éô·Éò·É° ·Éí·Éê·Éõ·Éù·Éß·Éî·Éú·Éî·Éë·Éê·Éõ ·Éñ·Éò·Éê·Éú·Éò ·Éõ·Éò·Éê·Éß·Éî·Éú·Éê ·Éó·É•·Éï·Éî·Éú·É° ·É£·É†·Éó·Éò·Éî·É†·Éó·Éù·Éë·Éî·Éë·É° ·É°·ÉÆ·Éï·Éê ·Éê·Éì·Éê·Éõ·Éò·Éê·Éú·Éî·Éë·Éó·Éê·Éú',
                '·Éó·É•·Éï·Éî·Éú ·Éï·Éî·É† ·Éê·ÉÆ·Éî·É†·ÉÆ·Éî·Éë·Éì·Éò·Éó ·É®·Éî·Éí·Éî·É°·É†·É£·Éö·Éî·Éë·Éò·Éú·Éê·Éó ·É°·ÉÆ·Éï·Éê·Éì·Éê·É°·ÉÆ·Éï·Éê ·Éû·Éê·É°·É£·ÉÆ·Éò·É°·Éõ·Éí·Éî·Éë·Éö·Éù·Éë·Éî·Éë·Éò (·Éõ·Éê·Éí. ·Éí·Éê·É´·É¶·Éù·Éö·Éù·Éì·Éò·Éó ·É°·Éê·ÉÆ·Éö·Éò·É° ·Éõ·Éî·É£·É†·Éú·Éî·Éù·Éë·Éê·É°, ·Éí·Éê·Éõ·Éô·Éö·Éê·Éï·Éî·Éë·Éù·Éì·Éò·Éó ·É§·Éò·Éú·Éê·Éú·É°·É£·É† ·Éû·Éê·É°·É£·ÉÆ·Éò·É°·Éõ·Éí·Éî·Éë·Éö·Éù·Éë·Éî·Éë·É°, ·Éí·Éî·Éñ·É†·É£·Éú·Éê·Éó ·Éë·Éê·Éï·É®·Éï·Éî·Éë·Éñ·Éî ·Éê·Éú ·É°·ÉÆ·Éï·Éê ·Éê·ÉÆ·Éö·Éù·Éë·Éî·Éö ·Éê·Éì·Éê·Éõ·Éò·Éê·Éú·Éî·Éë·Éñ·Éî) ·Éê·Éö·Éô·Éù·É∞·Éù·Éö·Éò·É° ·Éê·Éú ·Éú·Éê·É†·Éô·Éù·É¢·Éò·Éô·Éò·É° ·Éí·Éê·Éõ·Éù·Éß·Éî·Éú·Éî·Éë·Éò·É° ·Éí·Éê·Éõ·Éù',
                '·Éó·É•·Éï·Éî·Éú ·Éì·Éê·Éô·Éê·É†·Éí·Éî·Éó ·Éò·Éú·É¢·Éî·É†·Éî·É°·Éò ·É°·Éê·Éô·É£·Éó·Éê·É†·Éò ·É∞·Éù·Éë·Éî·Éë·Éò·É° ·Éê·Éú ·É°·Éê·É•·Éõ·Éî·Éî·Éë·Éò·É°·Éê·Éì·Éõ·Éò, ·É†·Éù·Éõ·Éî·Éö·Éó·Éê·Éí·Éê·Éú ·Éê·Éì·É†·Éî ·Éò·É¶·Éî·Éë·Éì·Éò·Éó ·É°·Éò·Éê·Éõ·Éù·Éï·Éú·Éî·Éë·Éê·É° (·Éõ·Éê·Éí. ·Éõ·Éî·Éí·Éù·Éë·É†·Éî·Éë·Éó·Éê·Éú ·Éê·Éú ·Éù·ÉØ·Éê·ÉÆ·Éó·Éê·Éú ·Éì·É†·Éù·Éò·É° ·Éí·Éê·É¢·Éê·É†·Éî·Éë·Éò·É°) ·Éì·Éê ·Éí·Éê·Éñ·Éê·É†·Éì·Éî·Éó ·Éì·É†·Éù, ·É†·Éù·Éõ·Éî·Éö·É°·Éê·É™ ·Éê·É¢·Éê·É†·Éî·Éë·Éì·Éò·Éó ·Éê·Éö·Éô·Éù·É∞·Éù·Éö·Éó·Éê·Éú ·Éì·Éê ·Éú·Éê·É†·Éô·Éù·É¢·Éò·Éô·Éó·Éê·Éú'
            ]},
            {category: '·Éí·Éê·Éú·Éí·É†·É´·Éù·Éë·Éò·Éó·Éò ·Éõ·Éù·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê, ·É£·Éê·É†·Éß·Éù·É§·Éò·Éó·Éò ·É®·Éî·Éì·Éî·Éí·Éî·Éë·Éò·É° ·Éõ·Éò·É£·ÉÆ·Éî·Éì·Éê·Éï·Éê·Éì', symptoms: [
                '·Éò·Éõ·Éò·É° ·Éõ·Éò·É£·ÉÆ·Éî·Éì·Éê·Éï·Éê·Éì, ·É†·Éù·Éõ ·Éê·É¶·Éõ·Éù·Éê·É©·Éò·Éú·Éî·Éó ·Éê·Éö·Éô·Éù·É∞·Éù·Éö·Éò·É° ·Éê·Éú ·Éú·Éê·É†·Éô·Éù·É¢·Éò·Éô·Éò·É° ·Éõ·Éù·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éò·É° ·Éú·Éî·Éí·Éê·É¢·Éò·É£·É†·Éò ·Éñ·Éî·Éí·Éê·Éï·Éö·Éî·Éú·Éê ·Éó·É•·Éï·Éî·Éú·Éò ·É™·ÉÆ·Éù·Éï·É†·Éî·Éë·Éò·É° ·Éí·Éê·É†·Éô·Éï·Éî·É£·Éö ·Éê·É°·Éû·Éî·É•·É¢·Éî·Éë·Éñ·Éî ·Éê·Éú ·É®·É†·Éù·Éõ·Éò·É°·É£·Éú·Éê·É†·Éò·Éê·Éú·Éù·Éë·Éê·Éñ·Éî, ·Éó·É•·Éï·Éî·Éú ·Éõ·Éê·Éò·Éú·É™ ·Éê·Éí·É†·É´·Éî·Éö·Éî·Éë·Éó ·Éõ·Éê·Éó ·Éõ·Éù·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê·É°'
            ]},
            {category: '·Éí·Éê·É£·É§·Éê·É°·É£·É†·Éî·Éë·Éê ·Éê·Éú ·Éì·Éò·É°·É¢·É†·Éî·É°·Éò ·Éõ·Éù·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éò·É° ·É®·Éî·Éì·Éî·Éí·Éê·Éì', symptoms: [
                '·Éó·É•·Éï·Éî·Éú ·Éê·É† ·Éñ·É†·É£·Éú·Éê·Éï·Éó ·É°·Éê·Éô·É£·Éó·Éê·É† ·Éó·Éê·Éï·Éñ·Éî ·É°·Éê·Éó·Éê·Éú·Éê·Éì·Éù ·É§·Éù·É†·Éõ·Éò·Éó (·Éõ·Éê·Éí. ·É™·É£·Éì·Éê·Éì ·Éò·Éô·Éï·Éî·Éë·Éî·Éë·Éò·Éó ·Éê·Éú ·Éê·É† ·Éò·É™·Éê·Éï·Éó ·É∞·Éò·Éí·Éò·Éî·Éú·Éò·É° ·Éú·Éù·É†·Éõ·Éî·Éë·É°) ·Éê·Éö·Éô·Éù·É∞·Éù·Éö·Éò·É° ·Éê·Éú ·Éú·Éê·É†·Éô·Éù·É¢·Éò·Éô·Éò·É° ·Éõ·Éù·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éò·É° ·Éí·Éê·Éõ·Éù',
                '·Éê·Éö·Éô·Éù·É∞·Éù·Éö·Éò·É° ·Éê·Éú ·Éú·Éê·É†·Éô·Éù·É¢·Éò·Éô·Éò·É° ·Éí·Éê·Éõ·Éù·Éß·Éî·Éú·Éî·Éë·Éê·Éõ ·Éí·Éê·Éõ·Éù·Éò·É¨·Éï·Éò·Éê ·Éê·Éú ·Éí·Éê·Éê·Éõ·É¨·Éï·Éê·Éï·Éê ·Éê·É†·É°·Éî·Éë·É£·Éö·Éò ·É§·É°·Éò·É•·Éù·Éö·Éù·Éí·Éò·É£·É†·Éò ·Éê·Éú ·É°·Éê·Éõ·Éî·Éì·Éò·É™·Éò·Éú·Éù ·Éû·É†·Éù·Éë·Éö·Éî·Éõ·Éî·Éë·Éò (·Éò·É°·Éî·Éó·Éò ·É†·Éù·Éí·Éù·É†·Éò·É™·Éê·Éê ·Éì·Éî·Éû·É†·Éî·É°·Éò·Éê, ·É®·É§·Éù·Éó·Éï·Éê ·Éê·Éú ·Éí·É£·Éö·É°·Éò·É°·ÉÆ·Éö·É´·Éê·É†·É¶·Éï·Éó·Éê ·Éì·Éê·Éê·Éï·Éê·Éì·Éî·Éë·Éî·Éë·Éò)'
            ]}
        ];

        let app = {users: {}};
        let user = null;
        let setupData = {selectedMotivations: [], customMotivations: [], recoveryMotivations: []};
        let navigationStack = []; // Track navigation history

        try { let saved = localStorage.getItem('therapyApp'); if (saved) app = JSON.parse(saved); } catch(e) {}
        try { let u = localStorage.getItem('currentUser'); if (u) { user = JSON.parse(u); loadDashboard(); } } catch(e) {}
        
        // Ensure bottom nav shows on page load if user is logged in
        window.addEventListener('DOMContentLoaded', function() {
            if (user && app.users[user.email]?.setupDone) {
                setTimeout(() => {
                    document.getElementById('bottomNav').classList.add('visible');
                }, 100);
            }
        });

        function save() { try { localStorage.setItem('therapyApp', JSON.stringify(app)); } catch(e) { alert('·É®·Éî·Éú·Éê·ÉÆ·Éï·Éê ·Éï·Éî·É† ·Éõ·Éù·ÉÆ·Éî·É†·ÉÆ·Éì·Éê'); } }
        
        // ============ HELPER FUNCTIONS ============
        
        // Get local date in YYYY-MM-DD format (fixes UTC timezone issues)
        function getLocalDate(date = new Date()) {
            const year = date.getFullYear();
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const day = String(date.getDate()).padStart(2, '0');
            return `${year}-${month}-${day}`;
        }
        
        // Get yesterday's local date
        function getYesterdayDate() {
            const yesterday = new Date();
            yesterday.setDate(yesterday.getDate() - 1);
            return getLocalDate(yesterday);
        }
        
        function showSection(name) { 
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active')); 
            document.getElementById(name + 'Section').classList.add('active'); 
            updateBackButton(name);
            document.querySelector(".container").scrollTop = 0;
        }
        
        function showMsg(id, text) { let el = document.getElementById(id); el.textContent = text; el.style.display = 'block'; setTimeout(() => el.style.display = 'none', 4000); }
        
        // Back Button Management
        function updateBackButton(currentSection) {
            const backButton = document.getElementById('backButton');
            const mainSections = ['login', 'register', 'dashboard', 'setup'];
            
            if (mainSections.includes(currentSection)) {
                backButton.classList.remove('visible');
                navigationStack = [];
            } else {
                backButton.classList.add('visible');
                if (navigationStack.length === 0 || navigationStack[navigationStack.length - 1] !== currentSection) {
                    navigationStack.push(currentSection);
                }
            }
        }
        
        function goBack() {
            navigationStack.pop(); // Remove current
            if (navigationStack.length > 0) {
                const previousSection = navigationStack[navigationStack.length - 1];
                navigationStack.pop(); // Remove it so showSection can add it back
                showSection(previousSection);
            } else {
                loadDashboard();
            }
        }

        function handleRegister() {
            let name = document.getElementById('registerName').value;
            let email = document.getElementById('registerEmail').value;
            let pass = document.getElementById('registerPassword').value;
            if (!name || !email || !pass) { showMsg('registerError', '·É®·Éî·Éê·Éï·É°·Éî·Éó ·Éß·Éï·Éî·Éö·Éê ·Éï·Éî·Éö·Éò'); return; }
            if (app.users[email]) { showMsg('registerError', '·Éî·É° ·Éî·Éö. ·É§·Éù·É°·É¢·Éê ·É£·Éô·Éï·Éî ·Éì·Éê·É†·Éî·Éí·Éò·É°·É¢·É†·Éò·É†·Éî·Éë·É£·Éö·Éò·Éê'); return; }
            app.users[email] = {name: name, email: email, password: pass, addiction: '', lastUse: '', setupDone: false, checkIns: [], motivations: {usage: [], recovery: []}};
            save();
            showMsg('registerSuccess', '·É†·Éî·Éí·Éò·É°·É¢·É†·Éê·É™·Éò·Éê ·É¨·Éê·É†·Éõ·Éê·É¢·Éî·Éë·Éò·Éó ·Éì·Éê·É°·É†·É£·Éö·Éì·Éê!');
            
            setTimeout(() => { 
                user = {email: email, name: name}; 
                localStorage.setItem('currentUser', JSON.stringify(user)); 
                // Go directly to setup after registration
                showSection('setup');
            }, 1500);
        }

        function handleLogin() {
            let email = document.getElementById('loginEmail').value;
            let pass = document.getElementById('loginPassword').value;
            if (!app.users[email] || app.users[email].password !== pass) { showMsg('loginError', '·Éê·É†·Éê·É°·É¨·Éù·É†·Éò ·Éî·Éö. ·É§·Éù·É°·É¢·Éê ·Éê·Éú ·Éû·Éê·É†·Éù·Éö·Éò'); return; }
            user = {email: email, name: app.users[email].name};
            localStorage.setItem('currentUser', JSON.stringify(user));
            loadDashboard();
        }

// DISABLED:         function proceedToMotivations() {
// DISABLED:             let addiction = document.getElementById('addictionType').value;
// DISABLED:             let lastUse = document.getElementById('lastUseDate').value;
// DISABLED:             if (!addiction) { alert('·Éê·Éò·É†·É©·Éò·Éî·Éó ·Éì·Éê·Éõ·Éù·Éô·Éò·Éì·Éî·Éë·É£·Éö·Éî·Éë·Éò·É° ·É¢·Éò·Éû·Éò'); return; }
// DISABLED:             setupData.addiction = addiction;
// DISABLED:             setupData.lastUse = lastUse || new Date().toISOString().split('T')[0];
// DISABLED:             if (addiction === '·Éê·Éö·Éô·Éù·É∞·Éù·Éö·Éò' || addiction === '·Éú·Éê·É†·Éô·Éù·É¢·Éò·Éô·Éî·Éë·Éò' || addiction === '·Éú·Éò·Éô·Éù·É¢·Éò·Éú·Éò') {
// DISABLED:                 document.getElementById('setupStep1').style.display = 'none';
// DISABLED:                 document.getElementById('setupStep2').style.display = 'block';
// DISABLED:                 document.getElementById('stepIndicator').textContent = '·Éú·Éê·Éë·Éò·ÉØ·Éò 2 / 3';
// DISABLED:                 renderMotivationsList();
// DISABLED:                 
// DISABLED:                 // Attach event listener to add button
// DISABLED:                 const addBtn = document.getElementById('addCustomBtn');
// DISABLED:                 if (addBtn) {
// DISABLED:                     addBtn.onclick = function() {
// DISABLED:                         addCustomMotivation();
// DISABLED:                     };
// DISABLED:                 }
// DISABLED:             } else {
// DISABLED:                 document.getElementById('setupStep1').style.display = 'none';
// DISABLED:                 document.getElementById('setupStep3').style.display = 'block';
// DISABLED:                 document.getElementById('stepIndicator').textContent = '·Éú·Éê·Éë·Éò·ÉØ·Éò 2 / 2';
// DISABLED:             }
// DISABLED:         }
// DISABLED: 
// DISABLED:         function renderMotivationsList() {
// DISABLED:             const container = document.getElementById('motivationsList');
// DISABLED:             if (!container) return;
// DISABLED:             container.innerHTML = '';
// DISABLED:             
// DISABLED:             DEFAULT_MOTIVATIONS.forEach((mot) => {
// DISABLED:                 const item = document.createElement('div');
// DISABLED:                 item.className = 'motivation-item';
// DISABLED:                 item.id = 'mot-item-' + mot.id;
// DISABLED:                 
// DISABLED:                 const checkbox = document.createElement('input');
// DISABLED:                 checkbox.type = 'checkbox';
// DISABLED:                 checkbox.value = mot.id;
// DISABLED:                 checkbox.id = 'cb-' + mot.id;
// DISABLED:                 checkbox.style.cssText = 'margin-right: 10px; margin-top: 3px; width: 20px; height: 20px; flex-shrink: 0;';
// DISABLED:                 
// DISABLED:                 const textSpan = document.createElement('span');
// DISABLED:                 textSpan.textContent = mot.text;
// DISABLED:                 textSpan.style.flex = '1';
// DISABLED:                 
// DISABLED:                 const label = document.createElement('label');
// DISABLED:                 label.style.cssText = 'cursor: pointer; display: flex; align-items: flex-start; margin: 0; width: 100%;';
// DISABLED:                 label.appendChild(checkbox);
// DISABLED:                 label.appendChild(textSpan);
// DISABLED:                 
// DISABLED:                 // Toggle function
// DISABLED:                 const toggleMotivation = function() {
// DISABLED:                     checkbox.checked = !checkbox.checked;
// DISABLED:                     if (checkbox.checked) {
// DISABLED:                         item.classList.add('selected');
// DISABLED:                         if (!setupData.selectedMotivations.includes(mot.id)) {
// DISABLED:                             setupData.selectedMotivations.push(mot.id);
// DISABLED:                         }
// DISABLED:                     } else {
// DISABLED:                         item.classList.remove('selected');
// DISABLED:                         setupData.selectedMotivations = setupData.selectedMotivations.filter(m => m !== mot.id);
// DISABLED:                     }
// DISABLED:                 };
// DISABLED:                 
// DISABLED:                 // Click on entire card
// DISABLED:                 item.onclick = function(e) {
// DISABLED:                     if (e.target === checkbox) return; // Let checkbox handle itself
// DISABLED:                     toggleMotivation();
// DISABLED:                 };
// DISABLED:                 
// DISABLED:                 // Checkbox change
// DISABLED:                 checkbox.onchange = function() {
// DISABLED:                     if (this.checked) {
// DISABLED:                         item.classList.add('selected');
// DISABLED:                         if (!setupData.selectedMotivations.includes(mot.id)) {
// DISABLED:                             setupData.selectedMotivations.push(mot.id);
// DISABLED:                         }
// DISABLED:                     } else {
// DISABLED:                         item.classList.remove('selected');
// DISABLED:                         setupData.selectedMotivations = setupData.selectedMotivations.filter(m => m !== mot.id);
// DISABLED:                     }
// DISABLED:                 };
// DISABLED:                 
// DISABLED:                 item.appendChild(label);
// DISABLED:                 container.appendChild(item);
// DISABLED:             });
// DISABLED:         }
// DISABLED: 
// DISABLED:         function addCustomMotivation() {
// DISABLED:             const input = document.getElementById('customMotivation');
// DISABLED:             if (!input) {
// DISABLED:                 alert('·É®·Éî·É™·Éì·Éù·Éõ·Éê: input ·Éê·É† ·Éõ·Éù·Éò·É´·Éî·Éë·Éú·Éê');
// DISABLED:                 console.error('customMotivation input not found');
// DISABLED:                 return;
// DISABLED:             }
// DISABLED:             
// DISABLED:             const text = input.value.trim();
// DISABLED:             if (!text) {
// DISABLED:                 alert('·Éí·Éó·ÉÆ·Éù·Éï·Éó ·É®·Éî·Éò·Éß·Éï·Éê·Éú·Éù·Éó ·Éõ·Éù·É¢·Éò·Éï·Éê·É™·Éò·Éê');
// DISABLED:                 return;
// DISABLED:             }
// DISABLED:             
// DISABLED:             const customId = 'custom_' + Date.now();
// DISABLED:             setupData.customMotivations.push({
// DISABLED:                 id: customId, 
// DISABLED:                 text: text, 
// DISABLED:                 consequences: '', 
// DISABLED:                 recovery: '', 
// DISABLED:                 isCustom: true
// DISABLED:             });
// DISABLED:             
// DISABLED:             const container = document.getElementById('motivationsList');
// DISABLED:             if (!container) {
// DISABLED:                 console.error('motivationsList not found');
// DISABLED:                 return;
// DISABLED:             }
// DISABLED:             
// DISABLED:             const item = document.createElement('div');
// DISABLED:             item.className = 'motivation-item selected';
// DISABLED:             item.style.cssText = 'background: #fff3cd; border-left: 4px solid #ffc107;';
// DISABLED:             
// DISABLED:             const label = document.createElement('label');
// DISABLED:             label.style.cssText = 'cursor: default; display: flex; align-items: flex-start; margin: 0;';
// DISABLED:             
// DISABLED:             const checkbox = document.createElement('input');
// DISABLED:             checkbox.type = 'checkbox';
// DISABLED:             checkbox.checked = true;
// DISABLED:             checkbox.disabled = true;
// DISABLED:             checkbox.style.cssText = 'margin-right: 10px; margin-top: 3px; width: 20px; height: 20px;';
// DISABLED:             
// DISABLED:             const textSpan = document.createElement('span');
// DISABLED:             textSpan.textContent = text + ' (·É°·Éê·Éô·É£·Éó·Éê·É†·Éò)';
// DISABLED:             
// DISABLED:             label.appendChild(checkbox);
// DISABLED:             label.appendChild(textSpan);
// DISABLED:             item.appendChild(label);
// DISABLED:             container.appendChild(item);
// DISABLED:             
// DISABLED:             input.value = '';
// DISABLED:             alert('·Éì·Éê·Éõ·Éê·É¢·Éî·Éë·É£·Éö·Éò·Éê! ‚úì');
// DISABLED:         }
// DISABLED: 
// DISABLED:         function proceedToRecoveryMotivations() {
// DISABLED:             document.getElementById('setupStep2').style.display = 'none';
// DISABLED:             document.getElementById('setupStep3').style.display = 'block';
// DISABLED:             document.getElementById('stepIndicator').textContent = '·Éú·Éê·Éë·Éò·ÉØ·Éò 3 / 3';
// DISABLED:         }
// DISABLED: 
// DISABLED:         function addRecoveryMotivation() {
// DISABLED:             let input = document.getElementById('newRecoveryMotivation');
// DISABLED:             let text = input.value.trim();
// DISABLED:             if (!text) return;
// DISABLED:             setupData.recoveryMotivations.push(text);
// DISABLED:             renderRecoveryMotivations();
// DISABLED:             input.value = '';
// DISABLED:         }
// DISABLED: 
// DISABLED:         function renderRecoveryMotivations() {
// DISABLED:             let container = document.getElementById('recoveryMotivationsList');
// DISABLED:             container.innerHTML = '';
// DISABLED:             setupData.recoveryMotivations.forEach((mot, index) => {
// DISABLED:                 let item = document.createElement('div');
// DISABLED:                 item.className = 'recovery-motivation-item';
// DISABLED:                 item.innerHTML = '<span>' + mot + '</span><button class="delete-btn" onclick="removeRecoveryMotivation(' + index + ')">·É¨·Éê·É®·Éö·Éê</button>';
// DISABLED:                 container.appendChild(item);
// DISABLED:             });
// DISABLED:         }
// DISABLED: 
// DISABLED:         function removeRecoveryMotivation(index) { setupData.recoveryMotivations.splice(index, 1); renderRecoveryMotivations(); }
// DISABLED:         function backToStep1() { document.getElementById('setupStep2').style.display = 'none'; document.getElementById('setupStep1').style.display = 'block'; document.getElementById('stepIndicator').textContent = '·Éú·Éê·Éë·Éò·ÉØ·Éò 1 / 3'; }
// DISABLED:         function backToStep2() { document.getElementById('setupStep3').style.display = 'none'; document.getElementById('setupStep2').style.display = 'block'; document.getElementById('stepIndicator').textContent = '·Éú·Éê·Éë·Éò·ÉØ·Éò 2 / 3'; }
// DISABLED: 
// DISABLED:         function finishSimpleSetup() {
// DISABLED:             let addiction = document.getElementById('addictionType').value;
// DISABLED:             let lastUse = document.getElementById('lastUseDate').value;
// DISABLED:             
// DISABLED:             if (!addiction) {
// DISABLED:                 alert('·Éê·Éò·É†·É©·Éò·Éî·Éó ·Éì·Éê·Éõ·Éù·Éô·Éò·Éì·Éî·Éë·É£·Éö·Éî·Éë·Éò·É° ·É¢·Éò·Éû·Éò');
// DISABLED:                 return;
// DISABLED:             }
// DISABLED:             
// DISABLED:             let u = app.users[user.email];
// DISABLED:             u.addiction = addiction;
// DISABLED:             u.lastUse = lastUse || new Date().toISOString().split('T')[0];
// DISABLED:             u.setupDone = true;
// DISABLED:             u.motivations = {usage: [], recovery: []};
// DISABLED:             
// DISABLED:             save();
// DISABLED:             loadDashboard();
// DISABLED:         }
// DISABLED: 
// DISABLED:         function finishSetup() {
// DISABLED:             let u = app.users[user.email];
// DISABLED:             u.addiction = setupData.addiction;
// DISABLED:             u.lastUse = setupData.lastUse;
// DISABLED:             u.setupDone = true;
// DISABLED:             u.motivations.usage = [];
// DISABLED:             setupData.selectedMotivations.forEach(id => {
// DISABLED:                 let defaultMot = DEFAULT_MOTIVATIONS.find(m => m.id === id);
// DISABLED:                 if (defaultMot) u.motivations.usage.push({id: defaultMot.id, text: defaultMot.text, consequences: {default: defaultMot.consequences, custom: '', useCustom: false}, recovery: {default: defaultMot.recovery, custom: '', useCustom: false}, isCustom: false});
// DISABLED:             });
// DISABLED:             setupData.customMotivations.forEach(mot => {
// DISABLED:                 u.motivations.usage.push({id: mot.id, text: mot.text, consequences: {default: '', custom: '', useCustom: false}, recovery: {default: '', custom: '', useCustom: false}, isCustom: true});
// DISABLED:             });
// DISABLED:             u.motivations.recovery = setupData.recoveryMotivations.map(text => ({text}));
// DISABLED:             save();
// DISABLED:             setupData = {selectedMotivations: [], customMotivations: [], recoveryMotivations: []};
// DISABLED:             loadDashboard();
// DISABLED:         }

        function finishSimpleSetup() {
            let addiction = document.getElementById('addictionType').value;
            let lastUse = document.getElementById('lastUseDate').value;
            
            if (!addiction) {
                alert('·Éê·Éò·É†·É©·Éò·Éî·Éó ·Éì·Éê·Éõ·Éù·Éô·Éò·Éì·Éî·Éë·É£·Éö·Éî·Éë·Éò·É° ·É¢·Éò·Éû·Éò');
                return;
            }
            
            let u = app.users[user.email];
            u.addiction = addiction;
            u.lastUse = lastUse || new Date().toISOString().split('T')[0];
            u.setupDone = true;
            u.motivations = {usage: [], recovery: []};
            save();
            
            // Check if THIS user has accepted privacy (user-specific)
            const userPrivacyKey = 'privacyAccepted_' + user.email;
            const privacyAccepted = localStorage.getItem(userPrivacyKey);
            
            // Show Privacy Modal if this user hasn't accepted it
            if (!privacyAccepted) {
                document.getElementById('privacyModal').style.display = 'block';
            } else {
                loadDashboard();
            }
        }

        function skipSetup() {
            let u = app.users[user.email];
            u.addiction = '·Éê·É† ·Éê·É†·Éò·É° ·Éõ·Éò·Éó·Éò·Éó·Éî·Éë·É£·Éö·Éò';
            u.lastUse = new Date().toISOString().split('T')[0];
            u.setupDone = true;
            u.motivations = {usage: [], recovery: []};
            save();
            loadDashboard();
        }

        function loadDashboard() {
            let u = app.users[user.email];
            if (!u.setupDone) { showSection('setup'); return; }
            showSection('dashboard');
            document.querySelector(".container").scrollTop = 0;
            
            // Hide back button on dashboard
            document.getElementById('backButton').classList.remove('visible');
            navigationStack = [];
            
            // Calculate streak
            let last = new Date(u.lastUse);
            let today = new Date();
            last.setHours(0,0,0,0);
            today.setHours(0,0,0,0);
            let days = Math.floor((today - last) / 86400000);
            if (days < 0) days = 0;
            
            // Subtract 1 because lastUse day doesn't count as clean day
            // User needs to confirm today's evening to get day 1
            if (days > 0) days = days - 1;
            
            // Update streak in user object
            u.streak = days;
            save();
            
            // Update dashboard display
            updateDashboardStreak();
            
            // Update contact badge
            updateContactBadge();
            
            // Update profile display
            let isSobriety = (u.addiction === '·Éê·Éö·Éô·Éù·É∞·Éù·Éö·Éò' || u.addiction === '·Éú·Éê·É†·Éô·Éù·É¢·Éò·Éô·Éî·Éë·Éò');
            document.getElementById('profName').textContent = u.name;
            document.getElementById('profEmail').textContent = u.email;
            document.getElementById('profAddiction').textContent = u.addiction;
            document.getElementById('profLastUse').textContent = u.lastUse;
            
            // Show bottom navigation
            document.getElementById('bottomNav').classList.add('visible');
            updateBottomNavActive('home');
        }

        
        // Bottom Navigation Functions
        function updateBottomNavActive(tab) {
            document.querySelectorAll('.bottom-nav-item').forEach(item => {
                item.classList.remove('active');
            });
            const tabs = {
                'home': 0,
                'willpower': 1,
                'connection': 2,
                'support': 3,
                'profile': 4
            };
            document.querySelectorAll('.bottom-nav-item')[tabs[tab]]?.classList.add('active');
        }
        
        function bottomNavClick(tab) {
            document.querySelector(".container").scrollTop = 0;
            switch(tab) {
                case 'home':
                    loadDashboard();
                    break;
                case 'willpower':
                    showWillpowerPage();
                    break;
                case 'connection':
                    showSection('connection');
                    updateBottomNavActive('connection');
                    break;
                case 'support':
                    showSection('support');
                    updateBottomNavActive('support');
                    break;
                case 'profile':
                    showProfile();
                    updateBottomNavActive('profile');
                    break;
            }
        }
        
        function showWillpowerPage() {
            showSection('willpower');
            updateBottomNavActive('willpower');
            // Fill content
            generateWillpowerPageStandalone();
        }
        
        function showMyResultsFinal() {
            // Open "·É©·Éî·Éõ·Éò ·É®·Éî·Éì·Éî·Éí·Éî·Éë·Éò" modal and go to last page
            let u = app.users[user.email];
            if (!u.checkIns || u.checkIns.length === 0) {
                alert('·ÉØ·Éî·É† ·Éê·É† ·Éí·Éê·É•·Éï·Éó ·É®·Éî·Éì·Éî·Éí·Éî·Éë·Éò');
                return;
            }
            
            // Show results modal
            document.getElementById('myResultsModal').style.display = 'flex';
            
            // Go to summary page directly
            showResultsSummary();
            
            updateBottomNavActive('willpower');
        }
        
        function showPsychoEducation() {
            alert('üéì ·É§·É°·Éò·É•·Éù·Éí·Éê·Éú·Éê·Éó·Éö·Éî·Éë·Éê ·Éõ·Éê·Éö·Éî ·Éì·Éê·Éî·Éõ·Éê·É¢·Éî·Éë·Éê!');
        }
        
        function submitFeedback() {
            const feedbackText = document.getElementById('feedbackText').value.trim();
            if (!feedbackText) {
                alert('·Éí·Éó·ÉÆ·Éù·Éï·Éó ·Éì·Éê·É¨·Éî·É†·Éù·Éó ·É®·Éî·É¢·Éß·Éù·Éë·Éò·Éú·Éî·Éë·Éê');
                return;
            }
            
            // Save feedback to localStorage
            if (!app.feedbacks) app.feedbacks = [];
            app.feedbacks.push({
                email: user.email,
                text: feedbackText,
                timestamp: new Date().toISOString()
            });
            save();
            
            document.getElementById('feedbackText').value = '';
            alert('‚úÖ ·Éí·Éõ·Éê·Éì·Éö·Éù·Éë·Éó! ·Éó·É•·Éï·Éî·Éú·Éò ·É®·Éî·É¢·Éß·Éù·Éë·Éò·Éú·Éî·Éë·Éê ·Éõ·Éò·É¶·Éî·Éë·É£·Éö·Éò·Éê!');
        }

        function renderCalendar() {
            let u = app.users[user.email];
            let grid = document.getElementById('calendarGrid');
            grid.innerHTML = '';
            let today = new Date();
            
            for (let i = 27; i >= 0; i--) {
                let date = new Date(today);
                date.setDate(date.getDate() - i);
                date.setHours(0, 0, 0, 0);
                let dateStr = date.toISOString().split('T')[0];
                let checkIn = u.checkIns.find(c => c.date === dateStr);
                let dot = document.createElement('div');
                dot.className = 'day-dot';
                if (i === 0) dot.classList.add('today');
                if (checkIn) {
                    if (checkIn.sober) { dot.classList.add('sober'); dot.textContent = '‚úì'; }
                    else { dot.classList.add('relapse'); dot.textContent = '‚úó'; }
                } else {
                    let lastUse = new Date(u.lastUse);
                    lastUse.setHours(0, 0, 0, 0);
                    if (date > lastUse) { dot.classList.add('sober'); dot.textContent = '‚úì'; }
                    else { dot.classList.add('empty'); dot.textContent = date.getDate(); }
                }
                grid.appendChild(dot);
            }
        }

        function doCheckIn(sober) {
            let u = app.users[user.email];
            let todayStr = new Date().toISOString().split('T')[0];
            if (u.checkIns.find(c => c.date === todayStr)) return;
            u.checkIns.push({date: todayStr, sober: sober});
            if (!sober) {
                u.lastUse = todayStr;
                showCongrats('·É©·Éê·Éï·Éê·É†·Éì·Éú·Éê ·Éê·É† ·Éú·Éò·É®·Éú·Éê·Éï·É° ·É¨·Éê·É†·É£·Éõ·Éê·É¢·Éî·Éë·Éö·Éù·Éë·Éê·É°. ·Éí·É≠·Éò·É†·Éì·Éî·Éë·Éê ·É°·Éê·Éô·É£·Éó·Éê·É†·Éò ·Éó·Éê·Éï·Éò·É° ·Éí·Éê·É´·Éö·Éò·Éî·É†·Éî·Éë·Éê.');
            } else {
                let days = calcDays();
                let isSobriety = (u.addiction === '·Éê·Éö·Éô·Éù·É∞·Éù·Éö·Éò' || u.addiction === '·Éú·Éê·É†·Éô·Éù·É¢·Éò·Éô·Éî·Éë·Éò');
                if (days === 0 || days === 1) showCongrats('·Éí·Éò·Éö·Éù·É™·Éê·Éï! ·Éô·Éò·Éì·Éî·Éï ·Éî·É†·Éó·Éò ·É¨·Éê·É†·Éõ·Éê·É¢·Éî·Éë·É£·Éö·Éò ·Éú·Éê·Éë·Éò·ÉØ·Éò ·Éê·Éõ ·É¶·Éò·É†·É°·Éî·É£·Éö ·Éí·Éñ·Éê·Éñ·Éî! üéØ');
                else if (days === 7) showCongrats(isSobriety ? '·Éí·Éò·Éö·Éù·É™·Éê·Éï·Éó! 1 ·Éô·Éï·Éò·É†·Éê ·É°·Éò·É§·ÉÆ·Éò·Éñ·Éö·Éî·É®·Éò! ·Éô·Éò·Éì·Éî·Éï ·Éî·É†·Éó·Éò ·É¨·Éê·É†·Éõ·Éê·É¢·Éî·Éë·É£·Éö·Éò ·Éú·Éê·Éë·Éò·ÉØ·Éò! üåü' : '·Éí·Éò·Éö·Éù·É™·Éê·Éï·Éó! ·É°·Éò·ÉØ·Éê·Éú·É°·Éê·É¶·Éò·É° 1 ·Éô·Éï·Éò·É†·Éê! ·Éô·Éò·Éì·Éî·Éï ·Éî·É†·Éó·Éò ·É¨·Éê·É†·Éõ·Éê·É¢·Éî·Éë·É£·Éö·Éò ·Éú·Éê·Éë·Éò·ÉØ·Éò! üåü');
                else if (days === 30) showCongrats(isSobriety ? '·É°·Éê·Éù·É™·Éê·É†·Éò·Éê! 1 ·Éó·Éï·Éî ·É°·Éò·É§·ÉÆ·Éò·Éñ·Éö·Éî·É®·Éò! ·Éô·Éò·Éì·Éî·Éï ·Éî·É†·Éó·Éò ·É¨·Éê·É†·Éõ·Éê·É¢·Éî·Éë·É£·Éö·Éò ·Éú·Éê·Éë·Éò·ÉØ·Éò! üí™' : '·É°·Éê·Éù·É™·Éê·É†·Éò·Éê! ·É°·Éò·ÉØ·Éê·Éú·É°·Éê·É¶·Éò·É° 1 ·Éó·Éï·Éî! ·Éô·Éò·Éì·Éî·Éï ·Éî·É†·Éó·Éò ·É¨·Éê·É†·Éõ·Éê·É¢·Éî·Éë·É£·Éö·Éò ·Éú·Éê·Éë·Éò·ÉØ·Éò! üí™');
                else if (days === 90) showCongrats(isSobriety ? '·É¨·Éê·É†·Éõ·Éê·É¢·Éî·Éë·Éê! 3 ·Éó·Éï·Éî ·É°·Éò·É§·ÉÆ·Éò·Éñ·Éö·Éî·É®·Éò! ·Éô·Éò·Éì·Éî·Éï ·Éî·É†·Éó·Éò ·É¨·Éê·É†·Éõ·Éê·É¢·Éî·Éë·É£·Éö·Éò ·Éú·Éê·Éë·Éò·ÉØ·Éò! üèÜ' : '·É¨·Éê·É†·Éõ·Éê·É¢·Éî·Éë·Éê! ·É°·Éò·ÉØ·Éê·Éú·É°·Éê·É¶·Éò·É° 3 ·Éó·Éï·Éî! ·Éô·Éò·Éì·Éî·Éï ·Éî·É†·Éó·Éò ·É¨·Éê·É†·Éõ·Éê·É¢·Éî·Éë·É£·Éö·Éò ·Éú·Éê·Éë·Éò·ÉØ·Éò! üèÜ');
                else if (days === 180) showCongrats(isSobriety ? '·É®·Éî·É£·Éì·Éê·É†·Éî·Éë·Éî·Éö·Éò·Éê! 6 ·Éó·Éï·Éî ·É°·Éò·É§·ÉÆ·Éò·Éñ·Éö·Éî·É®·Éò! ·Éô·Éò·Éì·Éî·Éï ·Éî·É†·Éó·Éò ·É¨·Éê·É†·Éõ·Éê·É¢·Éî·Éë·É£·Éö·Éò ·Éú·Éê·Éë·Éò·ÉØ·Éò! üíé' : '·É®·Éî·É£·Éì·Éê·É†·Éî·Éë·Éî·Éö·Éò·Éê! ·É°·Éò·ÉØ·Éê·Éú·É°·Éê·É¶·Éò·É° 6 ·Éó·Éï·Éî! ·Éô·Éò·Éì·Éî·Éï ·Éî·É†·Éó·Éò ·É¨·Éê·É†·Éõ·Éê·É¢·Éî·Éë·É£·Éö·Éò ·Éú·Éê·Éë·Éò·ÉØ·Éò! üíé');
                else if (days === 365) showCongrats(isSobriety ? '·Éö·Éî·Éí·Éî·Éú·Éì·Éê·É†·É£·Éö·Éò! 1 ·É¨·Éî·Éö·Éò ·É°·Éò·É§·ÉÆ·Éò·Éñ·Éö·Éî·É®·Éò! ·Éô·Éò·Éì·Éî·Éï ·Éî·É†·Éó·Éò ·É¨·Éê·É†·Éõ·Éê·É¢·Éî·Éë·É£·Éö·Éò ·Éú·Éê·Éë·Éò·ÉØ·Éò! üëë' : '·Éö·Éî·Éí·Éî·Éú·Éì·Éê·É†·É£·Éö·Éò! ·É°·Éò·ÉØ·Éê·Éú·É°·Éê·É¶·Éò·É° 1 ·É¨·Éî·Éö·Éò! ·Éô·Éò·Éì·Éî·Éï ·Éî·É†·Éó·Éò ·É¨·Éê·É†·Éõ·Éê·É¢·Éî·Éë·É£·Éö·Éò ·Éú·Éê·Éë·Éò·ÉØ·Éò! üëë');
                else showCongrats('·Éí·Éò·Éö·Éù·É™·Éê·Éï! ·Éô·Éò·Éì·Éî·Éï ·Éî·É†·Éó·Éò ·É¨·Éê·É†·Éõ·Éê·É¢·Éî·Éë·É£·Éö·Éò ·Éú·Éê·Éë·Éò·ÉØ·Éò ·Éê·Éõ ·É¶·Éò·É†·É°·Éî·É£·Éö ·Éí·Éñ·Éê·Éñ·Éî! üî•');
            }
            save();
            loadDashboard();
        }

        function calcDays() {
            let u = app.users[user.email];
            let last = new Date(u.lastUse);
            let today = new Date();
            last.setHours(0, 0, 0, 0);
            today.setHours(0, 0, 0, 0);
            let days = Math.floor((today - last) / 86400000);
            return days >= 0 ? days : 0;
        }

        function showCongrats(msg) {
            document.getElementById('congratsText').textContent = msg;
            document.getElementById('congratsMsg').classList.add('show');
            setTimeout(() => { document.getElementById('congratsMsg').classList.remove('show'); }, 8000);
        }

        function editProf() {
            let u = app.users[user.email];
            let a = prompt('·Éì·Éê·Éõ·Éù·Éô·Éò·Éì·Éî·Éë·É£·Éö·Éî·Éë·Éê:', u.addiction);
            if (a) u.addiction = a;
            let d = prompt('·Éë·Éù·Éö·Éù ·Éõ·Éù·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê (YYYY-MM-DD):', u.lastUse);
            if (d && d.match(/^\d{4}-\d{2}-\d{2}$/)) u.lastUse = d;
            save();
            loadDashboard();
        }

        function doLogout() {
            localStorage.removeItem('currentUser');
            user = null;
            showSection('login');
        }

        function showMotivations() {
            renderMotivationsView();
            showSection('motivations');
        }
        
        function showUsageMotivationsView() {
            renderMotivationsView();
            showSection('usageMotivationsView');
        }
        
        function showRecoveryMotivationsView() {
            renderMotivationsView();
            showSection('recoveryMotivationsView');
        }
        
        function showFutureVision() {
            loadFutureVision();
            showSection('futureVision');
        }
        
        function loadFutureVision() {
            if (!user || !user.email) return;
            
            let u = app.users[user.email];
            if (!u) return;
            
            if (!u.futureVision) {
                u.futureVision = {ifContinued: '', ifRecovered: ''};
            }
            document.getElementById('futureIfContinued').value = u.futureVision.ifContinued || '';
            document.getElementById('futureIfRecovered').value = u.futureVision.ifRecovered || '';
        }
        
        function saveFutureVision() {
            let u = app.users[user.email];
            if (!u.futureVision) u.futureVision = {};
            
            u.futureVision.ifContinued = document.getElementById('futureIfContinued').value;
            u.futureVision.ifRecovered = document.getElementById('futureIfRecovered').value;
            
            save();
            alert('‚úÖ ·É®·Éî·Éú·Éê·ÉÆ·É£·Éö·Éò·Éê!');
        }

        function backToDashboard() {
            // Reset SOS intro flag so it shows again next time
            sosShowedIntro = false;
            
            document.querySelector(".container").scrollTop = 0;
            showSection('dashboard');
            loadDashboard();
        }

        // === MODAL FUNCTIONS ===
        let tempUsageSelection = [];
        let tempRecoverySelection = [];

        function showUsageModal() {
            let u = app.users[user.email];
            if (!u.motivations) u.motivations = {usage: [], recovery: []};
            
            // Copy current selection to temp
            tempUsageSelection = u.motivations.usage.map(m => m.id);
            
            // Render checkboxes
            let html = '';
            DEFAULT_MOTIVATIONS.forEach(mot => {
                let checked = tempUsageSelection.includes(mot.id) ? 'checked' : '';
                html += '<label style="display: flex; align-items: flex-start; padding: 12px; background: #f8f9fa; border-radius: 8px; margin-bottom: 10px; cursor: pointer;">';
                html += '<input type="checkbox" ' + checked + ' data-id="' + mot.id + '" class="usage-checkbox" style="margin-right: 10px; margin-top: 3px; width: 18px; height: 18px;">';
                html += '<span style="flex: 1; font-size: 14px;">' + mot.text + '</span>';
                html += '</label>';
            });
            
            document.getElementById('usageModalList').innerHTML = html;
            document.getElementById('usageModal').style.display = 'block';
            
            // Attach handlers
            document.querySelectorAll('.usage-checkbox').forEach(cb => {
                cb.addEventListener('change', function() {
                    let id = this.getAttribute('data-id');
                    if (this.checked) {
                        if (!tempUsageSelection.includes(id)) tempUsageSelection.push(id);
                    } else {
                        tempUsageSelection = tempUsageSelection.filter(i => i !== id);
                    }
                });
            });
        }

        function closeUsageModal() {
            document.getElementById('usageModal').style.display = 'none';
        }

        function saveUsageSelection() {
            let u = app.users[user.email];
            if (!u.motivations) u.motivations = {usage: [], recovery: []};
            
            // Build new usage array from selection
            let newUsage = [];
            tempUsageSelection.forEach(id => {
                let mot = DEFAULT_MOTIVATIONS.find(m => m.id === id);
                if (mot) {
                    // Check if already exists
                    let existing = u.motivations.usage.find(m => m.id === id);
                    if (existing) {
                        newUsage.push(existing); // Keep existing with edits
                    } else {
                        newUsage.push({
                            id: mot.id,
                            text: mot.text,
                            consequences: mot.consequences,
                            recovery: mot.recovery
                        });
                    }
                }
            });
            
            u.motivations.usage = newUsage;
            save();
            closeUsageModal();
            renderMotivationsView();
        }

        function showRecoveryModal() {
            let u = app.users[user.email];
            if (!u.motivations) u.motivations = {usage: [], recovery: []};
            
            // Copy current selection to temp
            tempRecoverySelection = [...(u.motivations.recovery || [])];
            
            renderRecoveryModal();
        }

        function renderRecoveryModal() {
            // Render checkboxes
            let html = '';
            DEFAULT_RECOVERY_MOTIVATIONS.forEach(text => {
                let checked = tempRecoverySelection.includes(text) ? 'checked' : '';
                html += '<label style="display: flex; align-items: center; padding: 12px; background: #f8f9fa; border-radius: 8px; margin-bottom: 10px; cursor: pointer;">';
                html += '<input type="checkbox" ' + checked + ' data-text="' + text.replace(/"/g, '&quot;') + '" class="recovery-modal-check" style="margin-right: 10px; width: 18px; height: 18px;">';
                html += '<span style="flex: 1; font-size: 14px;">' + text + '</span>';
                html += '</label>';
            });
            
            // Show custom ones
            tempRecoverySelection.forEach(text => {
                if (!DEFAULT_RECOVERY_MOTIVATIONS.includes(text)) {
                    html += '<label style="display: flex; align-items: center; padding: 12px; background: #fff3cd; border-radius: 8px; margin-bottom: 10px; cursor: pointer;">';
                    html += '<input type="checkbox" checked data-text="' + text.replace(/"/g, '&quot;') + '" class="recovery-modal-check" style="margin-right: 10px; width: 18px; height: 18px;">';
                    html += '<span style="flex: 1; font-size: 14px;">' + text + ' (·É°·Éê·Éô·É£·Éó·Éê·É†·Éò)</span>';
                    html += '</label>';
                }
            });
            
            document.getElementById('recoveryModalList').innerHTML = html;
            document.getElementById('recoveryModal').style.display = 'block';
            
            // Attach handlers
            document.querySelectorAll('.recovery-modal-check').forEach(cb => {
                cb.addEventListener('change', function() {
                    let text = this.getAttribute('data-text');
                    if (this.checked) {
                        if (!tempRecoverySelection.includes(text)) tempRecoverySelection.push(text);
                    } else {
                        tempRecoverySelection = tempRecoverySelection.filter(t => t !== text);
                    }
                });
            });
        }

        function addCustomToModal() {
            let input = document.getElementById('customRecoveryInput');
            let text = input.value.trim();
            if (!text) return;
            
            if (tempRecoverySelection.includes(text)) {
                alert('·Éî·É° ·Éõ·Éù·É¢·Éò·Éï·Éê·É™·Éò·Éê ·É£·Éô·Éï·Éî ·Éê·É†·É°·Éî·Éë·Éù·Éë·É°');
                return;
            }
            
            tempRecoverySelection.push(text);
            input.value = '';
            renderRecoveryModal();
        }

        function closeRecoveryModal() {
            document.getElementById('recoveryModal').style.display = 'none';
            document.getElementById('customRecoveryInput').value = '';
        }

        function saveRecoverySelection() {
            let u = app.users[user.email];
            if (!u.motivations) u.motivations = {usage: [], recovery: []};
            
            u.motivations.recovery = [...tempRecoverySelection];
            save();
            closeRecoveryModal();
            renderMotivationsView();
        }

        function renderMotivationsView() {
            if (!user || !user.email) {
                console.error('No user logged in');
                return;
            }
            
            let u = app.users[user.email];
            if (!u) {
                console.error('User data not found');
                return;
            }
            
            if (!u.motivations) {
                u.motivations = {usage: [], recovery: []};
                save();
            }
            
            // === USAGE MOTIVATIONS ===
            let usageContainer = document.getElementById('viewUsageMotivations');
            if (!usageContainer) return;
            
            if (!u.motivations.usage || u.motivations.usage.length === 0) {
                usageContainer.innerHTML = '<p style="color: #999; font-style: italic; padding: 12px; background: #f8f9fa; border-radius: 8px;">·Éì·Éê·Éê·É≠·Éò·É†·Éî·Éó "+ ·Éì·Éê·Éõ·Éê·É¢·Éî·Éë·Éê" ·É†·Éù·Éõ ·Éê·Éò·É†·É©·Éò·Éù·Éó</p>';
            } else {
                let allHtml = '';
                u.motivations.usage.forEach((mot, idx) => {
                    let html = '<div style="background: #e5e7eb; padding: 12px; border-radius: 10px; margin-bottom: 15px; border-left: 4px solid #9ca3af;">';
                    html += '<div style="font-weight: 600; color: #333; margin-bottom: 10px;">';
                    html += '<span>' + (mot.text || '·É£·É°·Éê·ÉÆ·Éî·Éö·Éù') + '</span>';
                    html += '</div>';
                    
                    // ·É†·Éê·É° ·Éõ·Éê·É†·Éó·Éõ·Éî·Éï·É°
                    html += '<div style="margin-top: 10px; padding: 10px; background: white; border-radius: 6px;">';
                    html += '<div style="font-size: 12px; color: #ef4444; font-weight: 600; margin-bottom: 5px; display: flex; justify-content: space-between; align-items: center;">';
                    html += '<span>·É†·Éê·É° ·Éõ·Éê·É†·Éó·Éõ·Éî·Éï·É°:</span>';
                    html += '<button class="edit-btn" data-idx="' + idx + '" data-field="consequences" style="font-size: 12px; padding: 4px 8px;">‚úèÔ∏è ·É†·Éî·Éì·Éê·É•·É¢·Éò·É†·Éî·Éë·Éê</button>';
                    html += '</div>';
                    html += '<div class="text-view-' + idx + '-consequences" style="font-size: 14px; color: #666;">' + (mot.consequences || '') + '</div>';
                    html += '<textarea class="text-edit-' + idx + '-consequences" style="display: none; width: 100%; padding: 8px; border: 2px solid #667eea; border-radius: 6px; font-size: 14px;" rows="3">' + (mot.consequences || '') + '</textarea>';
                    html += '</div>';
                    
                    // ·É†·Éê·É° ·Éõ·Éù·Éõ·É™·Éî·Éõ·É°
                    html += '<div style="margin-top: 10px; padding: 10px; background: white; border-radius: 6px;">';
                    html += '<div style="font-size: 12px; color: #10b981; font-weight: 600; margin-bottom: 5px; display: flex; justify-content: space-between; align-items: center;">';
                    html += '<span>·É†·Éê·É° ·Éõ·Éù·Éõ·É™·Éî·Éõ·É° ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éê:</span>';
                    html += '<button class="edit-btn" data-idx="' + idx + '" data-field="recovery" style="font-size: 12px; padding: 4px 8px;">‚úèÔ∏è ·É†·Éî·Éì·Éê·É•·É¢·Éò·É†·Éî·Éë·Éê</button>';
                    html += '</div>';
                    html += '<div class="text-view-' + idx + '-recovery" style="font-size: 14px; color: #666;">' + (mot.recovery || '') + '</div>';
                    html += '<textarea class="text-edit-' + idx + '-recovery" style="display: none; width: 100%; padding: 8px; border: 2px solid #10b981; border-radius: 6px; font-size: 14px;" rows="3">' + (mot.recovery || '') + '</textarea>';
                    html += '</div>';
                    
                    html += '</div>';
                    allHtml += html;
                });
                
                usageContainer.innerHTML = allHtml;
                
                // Attach edit handlers
                document.querySelectorAll('.edit-btn').forEach(btn => {
                    btn.addEventListener('click', function() {
                        let idx = parseInt(this.getAttribute('data-idx'));
                        let field = this.getAttribute('data-field');
                        toggleEdit(idx, field);
                    });
                });
            }
            
            // === RECOVERY MOTIVATIONS ===
            let recoveryContainer = document.getElementById('viewRecoveryMotivations');
            if (!recoveryContainer) return;
            recoveryContainer.innerHTML = '';
            
            if (!u.motivations.recovery || u.motivations.recovery.length === 0) {
                recoveryContainer.innerHTML = '<p style="color: #999; font-style: italic; padding: 12px; background: #f8f9fa; border-radius: 8px;">·Éì·Éê·Éê·É≠·Éò·É†·Éî·Éó "+ ·Éì·Éê·Éõ·Éê·É¢·Éî·Éë·Éê" ·É†·Éù·Éõ ·Éê·Éò·É†·É©·Éò·Éù·Éó</p>';
            } else {
                let allHtml = '';
                u.motivations.recovery.forEach((text, idx) => {
                    let isDefault = DEFAULT_RECOVERY_MOTIVATIONS.includes(text);
                    let bgColor = isDefault ? '#d1fae5' : '#fff3cd';
                    let html = '<div style="background: ' + bgColor + '; padding: 12px 15px; border-radius: 8px; margin-bottom: 8px; display: flex; align-items: center; border-left: 3px solid #10b981;">';
                    html += '<span style="flex: 1; font-weight: 500;">' + text + (!isDefault ? ' (·É°·Éê·Éô·É£·Éó·Éê·É†·Éò)' : '') + '</span>';
                    html += '</div>';
                    allHtml += html;
                });
                recoveryContainer.innerHTML = allHtml;
            }
        }

        function toggleEdit(idx, field) {
            let viewEl = document.querySelector('.text-view-' + idx + '-' + field);
            let editEl = document.querySelector('.text-edit-' + idx + '-' + field);
            
            if (editEl.style.display === 'none') {
                // Show edit mode
                viewEl.style.display = 'none';
                editEl.style.display = 'block';
                editEl.focus();
                
                // Add save/cancel buttons
                let parent = editEl.parentElement;
                if (!parent.querySelector('.edit-actions')) {
                    let actionsDiv = document.createElement('div');
                    actionsDiv.className = 'edit-actions';
                    actionsDiv.style.cssText = 'margin-top: 8px; display: flex; gap: 8px;';
                    actionsDiv.innerHTML = '<button class="btn btn-primary save-edit-btn" data-idx="' + idx + '" data-field="' + field + '" style="flex: 1; padding: 6px 12px; font-size: 13px;">üíæ ·É®·Éî·Éú·Éê·ÉÆ·Éï·Éê</button>' +
                                          '<button class="btn btn-secondary cancel-edit-btn" data-idx="' + idx + '" data-field="' + field + '" style="flex: 1; padding: 6px 12px; font-size: 13px;">‚úñÔ∏è ·Éí·Éê·É£·É•·Éõ·Éî·Éë·Éê</button>';
                    parent.appendChild(actionsDiv);
                    
                    // Attach handlers
                    actionsDiv.querySelector('.save-edit-btn').addEventListener('click', function() {
                        saveEdit(idx, field);
                    });
                    actionsDiv.querySelector('.cancel-edit-btn').addEventListener('click', function() {
                        cancelEdit(idx, field);
                    });
                }
            }
        }

        function saveEdit(idx, field) {
            let u = app.users[user.email];
            let editEl = document.querySelector('.text-edit-' + idx + '-' + field);
            let newValue = editEl.value.trim();
            
            u.motivations.usage[idx][field] = newValue;
            save();
            renderMotivationsView();
        }

        function cancelEdit(idx, field) {
            renderMotivationsView();
        }

        function deleteUsageMotivation(index) {
            if (!confirm('·Éú·Éê·Éõ·Éì·Éï·Éò·Éö·Éê·Éì ·Éí·Éò·Éú·Éì·Éê ·Éê·Éõ ·Éõ·Éù·É¢·Éò·Éï·Éê·É™·Éò·Éò·É° ·É¨·Éê·É®·Éö·Éê?')) return;
            let u = app.users[user.email];
            if (!u.motivations || !u.motivations.usage) return;
            u.motivations.usage.splice(index, 1);
            save();
            renderMotivationsView();
        }

        function deleteRecoveryMotivation(index) {
            alert('·É¨·Éê·É®·Éö·Éê ·Éì·Éê·Éò·É¨·Éß·Éù - index: ' + index);
            if (!confirm('·Éú·Éê·Éõ·Éì·Éï·Éò·Éö·Éê·Éì ·Éí·Éò·Éú·Éì·Éê ·Éê·Éõ ·Éõ·Éù·É¢·Éò·Éï·Éê·É™·Éò·Éò·É° ·É¨·Éê·É®·Éö·Éê?')) return;
            let u = app.users[user.email];
            if (!u.motivations || !u.motivations.recovery) {
                alert('·É®·Éî·É™·Éì·Éù·Éõ·Éê: recovery ·Éê·É† ·Éê·É†·É°·Éî·Éë·Éù·Éë·É°');
                return;
            }
            u.motivations.recovery.splice(index, 1);
            save();
            renderMotivationsView();
            alert('·É¨·Éê·É®·Éö·Éò·Éö·Éò·Éê!');
        }

        function addNewRecoveryMotivation() {
            alert('·Éì·Éê·Éõ·Éê·É¢·Éî·Éë·Éê ·Éì·Éê·Éò·É¨·Éß·Éù');
            let input = document.getElementById('addRecoveryInput');
            if (!input) {
                alert('·É®·Éî·É™·Éì·Éù·Éõ·Éê: input ·Éê·É† ·Éõ·Éù·Éò·É´·Éî·Éë·Éú·Éê!');
                return;
            }
            let text = input.value.trim();
            if (!text) {
                alert('·É®·Éî·É™·Éì·Éù·Éõ·Éê: ·É¢·Éî·É•·É°·É¢·Éò ·É™·Éê·É†·Éò·Éî·Éö·Éò·Éê!');
                return;
            }
            
            let u = app.users[user.email];
            if (!u.motivations) u.motivations = {usage: [], recovery: []};
            if (!u.motivations.recovery) u.motivations.recovery = [];
            u.motivations.recovery.push({text: text});
            save();
            input.value = '';
            renderMotivationsView();
            alert('·Éì·Éê·Éõ·Éê·É¢·Éî·Éë·É£·Éö·Éò·Éê: ' + text);
        }

        // ===== NEW DASHBOARD FUNCTIONS =====
        
        // Show results flow (check-in or direct view)
        function showResultsFlow() {
            if (hasCheckedInToday()) {
                showFullResultsDirect();
            } else {
                document.getElementById('checkInModal').classList.add('active');
            }
        }
        
        // Check if already checked in today
        function hasCheckedInToday() {
            let u = app.users[user.email];
            if (!u.lastCheckIn) return false;
            let today = new Date().toISOString().split('T')[0];
            return u.lastCheckIn === today;
        }
        
        // Get current streak
        function getStreak() {
            let u = app.users[user.email];
            return u.streak || 0;
        }
        
        // Check-in YES (kept sobriety)
        function checkInYes() {
            document.getElementById('checkInModal').classList.remove('active');
            let u = app.users[user.email];
            u.streak = (u.streak || 0) + 1;
            u.lastCheckIn = new Date().toISOString().split('T')[0];
            save();
            updateDashboardStreak();
            document.getElementById('messageModal').classList.add('active');
        }
        
        // Check-in NO (relapse)
        function checkInNo() {
            document.getElementById('checkInModal').classList.remove('active');
            let u = app.users[user.email];
            u.streak = 0;
            u.lastCheckIn = new Date().toISOString().split('T')[0];
            save();
            updateDashboardStreak();
            document.getElementById('relapseMessageModal').classList.add('active');
        }
        
        // Show full results after message
        function showFullResults(isSuccess) {
            document.getElementById('messageModal').classList.remove('active');
            document.getElementById('relapseMessageModal').classList.remove('active');
            showFullResultsDirect();
        }
        
        // Show full results directly
        function showResults() {
            showSection('results');
            loadResultsPage();
        }
        
        function loadResultsPage() {
            const u = app.users[user.email];
            if (!u.goals || u.goals.length === 0) {
                document.getElementById('resultsGoalsList').innerHTML = `
                    <p style="color: #999; text-align: center; padding: 20px;">·ÉØ·Éî·É† ·Éê·É† ·Éí·Éê·É•·Éï·É° ·Éì·Éê·Éõ·Éê·É¢·Éî·Éë·É£·Éö·Éò ·Éõ·Éò·Éñ·Éú·Éî·Éë·Éò</p>
                `;
                document.getElementById('resultsWillpowerTotal').textContent = '0%';
                document.getElementById('resultsWillpowerBar').style.width = '0%';
                return;
            }
            
            const today = new Date();
            const currentWeekKey = getWeekKey(today);
            
            let totalPercent = 0;
            let goalCount = 0;
            let html = '';
            
            // Add recovery/sobriety section
            const soberDays = calculateSoberDays(u);
            const soberPercent = Math.min(100, (soberDays / 7) * 100);
            totalPercent += soberPercent;
            goalCount++;
            
            html += `
                <div style="background: linear-gradient(135deg, #FEF3C7 0%, #FDE68A 100%); border-radius: 12px; padding: 15px; margin-bottom: 12px;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                        <span style="color: #92400E; font-weight: 600; font-size: 15px;">üéØ ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éê</span>
                        <span style="color: #92400E; font-weight: 600; font-size: 15px;">${Math.round(soberPercent)}%</span>
                    </div>
                    <div style="display: flex; gap: 3px; margin-bottom: 5px;">
                        ${generateLast7DaysDisplay(u, 'sobriety')}
                    </div>
                    <p style="color: #78350F; font-size: 13px; margin: 0;">${soberDays}/7 ·É°·Éò·É§·ÉÆ·Éò·Éñ·Éö·Éò·É° ·Éì·É¶·Éî</p>
                </div>
            `;
            
            // Add each goal
            u.goals.forEach((goal) => {
                const weekProgress = goal.weeklyProgress[currentWeekKey] || [];
                const completed = weekProgress.filter(x => x === true).length;
                
                // Calculate target (with first week adjustment)
                const goalStartDate = new Date(goal.startDate);
                const goalStartWeek = getWeekKey(goalStartDate);
                const isFirstWeek = goalStartWeek === currentWeekKey;
                
                let target = goal.perWeek;
                if (isFirstWeek) {
                    // Use saved firstWeekMaxDays if exists, otherwise calculate
                    if (goal.firstWeekMaxDays !== undefined) {
                        target = goal.firstWeekMaxDays;
                    } else {
                        // Fallback for old goals without firstWeekMaxDays
                        const startDayOfWeek = (goalStartDate.getDay() + 6) % 7;
                        const daysRemainingInWeek = 7 - startDayOfWeek;
                        const proportionalTarget = (goal.perWeek / 7) * daysRemainingInWeek;
                        target = Math.floor(proportionalTarget);
                        if (target === 0) target = 1;
                    }
                }
                
                const percentage = Math.round((completed / target) * 100);
                totalPercent += Math.min(100, percentage);
                goalCount++;
                
                html += `
                    <div style="background: #f9fafb; border-radius: 12px; padding: 15px; margin-bottom: 12px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                            <span style="color: #374151; font-weight: 600; font-size: 15px;">${goal.emoji} ${goal.name}</span>
                            <span style="color: #374151; font-weight: 600; font-size: 15px;">${Math.min(100, percentage)}%</span>
                        </div>
                        <div style="display: flex; gap: 3px; margin-bottom: 5px;">
                            ${generateLast7DaysDisplay(u, 'goal', goal, currentWeekKey)}
                        </div>
                        <p style="color: #6b7280; font-size: 13px; margin: 0;">${completed}/${target} - ·Éô·Éï·Éò·É†·Éê·É®·Éò ${goal.perWeek}-·ÉØ·Éî·É†</p>
                    </div>
                `;
            });
            
            const avgPercent = Math.round(totalPercent / goalCount);
            
            // Update UI
            document.getElementById('resultsWillpowerTotal').textContent = avgPercent + '%';
            document.getElementById('resultsWillpowerBar').style.width = avgPercent + '%';
            document.getElementById('resultsGoalsList').innerHTML = html;
        }
        
        function showFullResultsDirect() {
            document.querySelector(".container").scrollTop = 0;
            let streak = getStreak();
            document.getElementById('fullResultsStreakDisplay').textContent = streak;
            generateMilestones(streak);
            generateCalendarView(streak);
            generateBadgesPage(streak); // Generate badges page
            generateSavingsPage(streak); // Generate savings page
            generateWillpowerPage(); // Generate willpower page
            document.getElementById('fullResultsModal').classList.add('active');
            
            // Initialize swipe
            initResultsSwipe();
        }
        
        // Calculate current week percentage for a goal
        function calculateWeeklyPercent(goal, currentWeekKey) {
            const weekProgress = goal.weeklyProgress[currentWeekKey] || [];
            const completed = weekProgress.filter(x => x === true).length;
            
            // Check if this is the first week
            const goalStartDate = new Date(goal.startDate);
            const goalStartWeek = getWeekKey(goalStartDate);
            const isFirstWeek = goalStartWeek === currentWeekKey;
            
            let target = goal.perWeek;
            
            if (isFirstWeek) {
                // Use saved firstWeekMaxDays if exists
                if (goal.firstWeekMaxDays !== undefined) {
                    target = goal.firstWeekMaxDays;
                } else {
                    // Fallback for old goals
                    const startDayOfWeek = (goalStartDate.getDay() + 6) % 7;
                    const daysRemainingInWeek = 7 - startDayOfWeek;
                    const proportionalTarget = (goal.perWeek / 7) * daysRemainingInWeek;
                    target = Math.floor(proportionalTarget);
                    if (target === 0) target = 1;
                }
            }
            
            // Calculate percentage
            if (target === 0) return 100; // If target is 0, auto 100%
            const percentage = Math.round((completed / target) * 100);
            return Math.min(100, percentage);
        }
        
        // Calculate total (weighted average) from history
        function calculateTotalPercent(goal) {
            if (!goal.weeklyHistory || Object.keys(goal.weeklyHistory).length === 0) {
                return 100; // Default 100% for new goals
            }
            
            const weeks = Object.values(goal.weeklyHistory);
            const sum = weeks.reduce((a, b) => a + b, 0);
            return Math.round(sum / weeks.length);
        }
        
        // Finalize week - called on Monday 00:00
        function finalizeWeek(goal, weekKey) {
            const weekProgress = goal.weeklyProgress[weekKey] || [];
            const completed = weekProgress.filter(x => x === true).length;
            const percentage = Math.round((completed / goal.perWeek) * 100);
            
            if (!goal.weeklyHistory) goal.weeklyHistory = {};
            goal.weeklyHistory[weekKey] = Math.min(100, percentage);
        }
        
        // Handle relapse - reset history
        function handleRelapse(user) {
            // Reset all goal histories
            if (user.goals) {
                user.goals.forEach(goal => {
                    goal.weeklyHistory = {};
                });
            }
        }
        
        function generateWillpowerPage() {
            const u = app.users[user.email];
            const container = document.getElementById('resultsWillpowerContent');
            
            const today = new Date();
            const currentWeekKey = getWeekKey(today);
            const currentDayOfWeek = (today.getDay() + 6) % 7; // Monday=0
            const daysRemainingThisWeek = 7 - currentDayOfWeek;
            
            // Check if there was a relapse (reset history)
            const soberDays = calculateSoberDays(u);
            const hasRelapse = soberDays < daysRemainingThisWeek;
            
            if (hasRelapse && !u.relapseHandled) {
                handleRelapse(u);
                u.relapseHandled = true;
                save();
            } else if (!hasRelapse) {
                u.relapseHandled = false;
            }
            
            let totalWeightedSum = 0;
            let totalWeight = 0;
            let currentWeekSum = 0;
            let currentWeekWeight = 0;
            let html = '';
            
            // Check if there was a relapse TODAY (lastUse updated to today)
            const todayDate = new Date().toISOString().split('T')[0];
            const hadRelapseToday = u.lastUse === todayDate;
            
            // Sobriety: calculate total and current
            let sobrietyTotal = 100; // Default
            if (u.sobrietyHistory && Object.keys(u.sobrietyHistory).length > 0) {
                const weeks = Object.values(u.sobrietyHistory);
                sobrietyTotal = Math.round(weeks.reduce((a, b) => a + b, 0) / weeks.length);
            }
            
            // If there was a relapse today, sobriety should be 0
            if (hadRelapseToday) {
                sobrietyTotal = 0;
            }
            
            // Current week sobriety - based on lastUse date
            const lastUseDate = u.lastUse ? new Date(u.lastUse) : new Date();
            const startDate = new Date(lastUseDate);
            startDate.setDate(startDate.getDate() + 1); // Day after lastUse
            
            // Get Monday of current week
            const monday = new Date(today);
            const currentDayOfWeekForMonday = (today.getDay() + 6) % 7;
            monday.setDate(monday.getDate() - currentDayOfWeekForMonday);
            monday.setHours(0, 0, 0, 0);
            
            let startDayOfWeek;
            let maxDays;
            
            if (startDate < monday) {
                // Started before this week ‚Üí full week available
                startDayOfWeek = 0; // Monday
                maxDays = 7;
            } else {
                // Started this week
                startDayOfWeek = (startDate.getDay() + 6) % 7;
                maxDays = 7 - startDayOfWeek;
            }
            
            // Calculate passed days (from start day to today)
            const passedDays = currentDayOfWeek - startDayOfWeek + 1;
            
            // Percentage
            let sobrietyCurrent = 100;
            if (maxDays > 0 && passedDays > 0) {
                sobrietyCurrent = Math.round((passedDays / maxDays) * 100);
            }
            
            // If there was a relapse today, current is also 0
            if (hadRelapseToday) {
                sobrietyCurrent = 0;
            }
            
            // Count for display (how many days lit up this week)
            // Use local dates to avoid timezone issues
            const todayStr = getTodayLocal();
            
            // Get startDate in local timezone
            const startDateLocal = new Date(startDate);
            const startStr = `${startDateLocal.getFullYear()}-${String(startDateLocal.getMonth() + 1).padStart(2, '0')}-${String(startDateLocal.getDate()).padStart(2, '0')}`;
            
            let soberDaysCount = 0;
            for (let i = 0; i < 7; i++) {
                const date = new Date(today);
                const daysBack = currentDayOfWeek - i;
                date.setDate(date.getDate() - daysBack);
                // Use local date format
                const dateStr = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}`;
                
                if (dateStr >= startStr && dateStr <= todayStr) {
                    const checkin = u.dailyCheckins?.find(c => c.date === dateStr);
                    if (!checkin || !checkin.relapse) {
                        soberDaysCount++;
                    }
                }
            }
            
            totalWeightedSum += sobrietyTotal * 7;
            totalWeight += 7;
            currentWeekSum += sobrietyCurrent * 7;
            currentWeekWeight += 7;
            
            html += `
                <div style="background: linear-gradient(135deg, #FEF3C7 0%, #FDE68A 100%); border-radius: 12px; padding: 15px; margin-bottom: 15px;">
                    <div style="display: flex; gap: 12px;">
                        <div style="display: flex; flex-direction: column; justify-content: center; text-align: center; min-width: 60px;">
                            <div style="color: #92400E; font-size: 10px; line-height: 1.3;">·Éú·Éî·Éë·Éò·É°</div>
                            <div style="color: #92400E; font-size: 10px; line-height: 1.3;">·É´·Éê·Éö·Éê:</div>
                            <div style="color: #92400E; font-weight: 600; font-size: 16px; margin-top: 2px;">${sobrietyTotal}%</div>
                        </div>
                        
                        <div style="flex: 1;">
                            <div style="color: #92400E; font-weight: 600; font-size: 15px; margin-bottom: 8px; text-align: center;">üéØ ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éê</div>
                            <div style="display: flex; gap: 3px; margin-bottom: 8px;">
                                ${generateLast7DaysDisplay(u, 'sobriety')}
                            </div>
                            <p style="color: #78350F; font-size: 13px; margin: 0; text-align: center;">${soberDaysCount}/${maxDays} ·É°·Éò·É§·ÉÆ·Éò·Éñ·Éö·Éò·É° ·Éì·É¶·Éî</p>
                        </div>
                        
                        <div style="display: flex; flex-direction: column; justify-content: center; text-align: center; min-width: 60px;">
                            <div style="color: #92400E; font-size: 10px; line-height: 1.3;">·Éõ·Éò·Éõ·Éì·Éò·Éú·Éê·É†·Éî</div>
                            <div style="color: #92400E; font-size: 10px; line-height: 1.3;">·Éô·Éï·Éò·É†·Éê:</div>
                            <div style="color: #92400E; font-weight: 600; font-size: 16px; margin-top: 2px;">${sobrietyCurrent}%</div>
                        </div>
                    </div>
                </div>
            `;
            
            // Add each goal
            if (u.goals && u.goals.length > 0) {
                u.goals.forEach((goal) => {
                    // Calculate total (weighted average from history)
                    const totalPercent = calculateTotalPercent(goal);
                    
                    // Calculate current week percentage
                    const currentPercent = calculateWeeklyPercent(goal, currentWeekKey);
                    
                    totalWeightedSum += totalPercent * goal.perWeek;
                    totalWeight += goal.perWeek;
                    currentWeekSum += currentPercent * goal.perWeek;
                    currentWeekWeight += goal.perWeek;
                    
                    const weekProgress = goal.weeklyProgress[currentWeekKey] || [];
                    const completed = weekProgress.filter(x => x === true).length;
                    
                    // Get target for display - check if first week
                    const goalStartDate = new Date(goal.startDate);
                    const goalStartWeek = getWeekKey(goalStartDate);
                    const isFirstWeek = goalStartWeek === currentWeekKey;
                    
                    let target = goal.perWeek;
                    if (isFirstWeek) {
                        if (goal.firstWeekMaxDays !== undefined) {
                            target = goal.firstWeekMaxDays;
                        } else {
                            const startDayOfWeek = (goalStartDate.getDay() + 6) % 7;
                            const daysRemainingInWeek = 7 - startDayOfWeek;
                            const proportionalTarget = (goal.perWeek / 7) * daysRemainingInWeek;
                            target = Math.floor(proportionalTarget);
                            if (target === 0) target = 1;
                        }
                    }
                    
                    html += `
                        <div style="background: #f9fafb; border-radius: 12px; padding: 15px; margin-bottom: 15px;">
                            <div style="display: flex; gap: 12px;">
                                <div style="display: flex; flex-direction: column; justify-content: center; text-align: center; min-width: 60px;">
                                    <div style="color: #374151; font-size: 10px; line-height: 1.3;">·Éú·Éî·Éë·Éò·É°</div>
                                    <div style="color: #374151; font-size: 10px; line-height: 1.3;">·É´·Éê·Éö·Éê:</div>
                                    <div style="color: #374151; font-weight: 600; font-size: 16px; margin-top: 2px;">${totalPercent}%</div>
                                </div>
                                
                                <div style="flex: 1;">
                                    <div style="color: #374151; font-weight: 600; font-size: 15px; margin-bottom: 8px; text-align: center;">${goal.emoji} ${goal.name}</div>
                                    <div style="display: flex; gap: 3px; margin-bottom: 8px;">
                                        ${generateLast7DaysDisplay(u, 'goal', goal, currentWeekKey)}
                                    </div>
                                    <p style="color: #6b7280; font-size: 13px; margin: 0; text-align: center;">${completed}/${target} - ·Éô·Éï·Éò·É†·Éê·É®·Éò ${goal.perWeek}-·ÉØ·Éî·É†</p>
                                </div>
                                
                                <div style="display: flex; flex-direction: column; justify-content: center; text-align: center; min-width: 60px;">
                                    <div style="color: #374151; font-size: 10px; line-height: 1.3;">·Éõ·Éò·Éõ·Éì·Éò·Éú·Éê·É†·Éî</div>
                                    <div style="color: #374151; font-size: 10px; line-height: 1.3;">·Éô·Éï·Éò·É†·Éê:</div>
                                    <div style="color: #374151; font-weight: 600; font-size: 16px; margin-top: 2px;">${currentPercent}%</div>
                                </div>
                            </div>
                        </div>
                    `;
                });
            }
            
            const avgPercent = totalWeight > 0 ? Math.round(totalWeightedSum / totalWeight) : 0;
            const currentWeekPercent = currentWeekWeight > 0 ? Math.round(currentWeekSum / currentWeekWeight) : 0;
            
            // Overall percentage bars
            const overallHtml = `
                <div style="background: white; border-radius: 12px; padding: 20px; margin-bottom: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                        <span style="color: #6b7280; font-size: 16px;">üí™ ·Éú·Éî·Éë·Éò·É° ·É´·Éê·Éö·Éê:</span>
                        <span style="color: #374151; font-weight: 600; font-size: 20px;">${avgPercent}%</span>
                    </div>
                    <div style="background: #e5e7eb; border-radius: 8px; height: 16px; overflow: hidden;">
                        <div style="background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); height: 100%; width: ${avgPercent}%; transition: width 0.3s;"></div>
                    </div>
                </div>
                
                <div style="background: white; border-radius: 12px; padding: 20px; margin-bottom: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                        <span style="color: #6b7280; font-size: 16px;">üí™ ·Éõ·Éò·Éõ·Éì·Éò·Éú·Éê·É†·Éî ·Éô·Éï·Éò·É†·Éê:</span>
                        <span style="color: #374151; font-weight: 600; font-size: 20px;">${currentWeekPercent}%</span>
                    </div>
                    <div style="background: #e5e7eb; border-radius: 8px; height: 16px; overflow: hidden;">
                        <div style="background: linear-gradient(135deg, #10b981 0%, #3b82f6 100%); height: 100%; width: ${currentWeekPercent}%; transition: width 0.3s;"></div>
                    </div>
                </div>
            `;
            
            container.innerHTML = overallHtml + html;
        }
        
        // Standalone willpower page (for bottom nav)
        function generateWillpowerPageStandalone() {
            const u = app.users[user.email];
            const container = document.getElementById('willpowerPageContent');
            
            const today = new Date();
            const currentWeekKey = getWeekKey(today);
            const currentDayOfWeek = (today.getDay() + 6) % 7; // Monday=0
            const daysRemainingThisWeek = 7 - currentDayOfWeek;
            
            // Check if there was a relapse (reset history)
            const soberDays = calculateSoberDays(u);
            const hasRelapse = soberDays < daysRemainingThisWeek;
            
            if (hasRelapse && !u.relapseHandled) {
                handleRelapse(u);
                u.relapseHandled = true;
                save();
            } else if (!hasRelapse) {
                u.relapseHandled = false;
            }
            
            let totalWeightedSum = 0;
            let totalWeight = 0;
            let currentWeekSum = 0;
            let currentWeekWeight = 0;
            let html = '';
            
            // Check if there was a relapse TODAY (lastUse updated to today)
            const todayDate = new Date().toISOString().split('T')[0];
            const hadRelapseToday = u.lastUse === todayDate;
            
            // Sobriety: calculate total and current
            let sobrietyTotal = 100; // Default
            if (u.sobrietyHistory && Object.keys(u.sobrietyHistory).length > 0) {
                const weeks = Object.values(u.sobrietyHistory);
                sobrietyTotal = Math.round(weeks.reduce((a, b) => a + b, 0) / weeks.length);
            }
            
            // If there was a relapse today, sobriety should be 0
            if (hadRelapseToday) {
                sobrietyTotal = 0;
            }
            
            // Current week sobriety - based on lastUse date
            const lastUseDate = u.lastUse ? new Date(u.lastUse) : new Date();
            const startDate = new Date(lastUseDate);
            startDate.setDate(startDate.getDate() + 1); // Day after lastUse
            
            // Get Monday of current week
            const monday = new Date(today);
            const currentDayOfWeekForMonday = (today.getDay() + 6) % 7;
            monday.setDate(monday.getDate() - currentDayOfWeekForMonday);
            monday.setHours(0, 0, 0, 0);
            
            let startDayOfWeek;
            let maxDays;
            
            if (startDate < monday) {
                // Started before this week ‚Üí full week available
                startDayOfWeek = 0; // Monday
                maxDays = 7;
            } else {
                // Started this week
                startDayOfWeek = (startDate.getDay() + 6) % 7;
                maxDays = 7 - startDayOfWeek;
            }
            
            // Calculate passed days (from start day to today)
            const passedDays = currentDayOfWeek - startDayOfWeek + 1;
            
            // Percentage
            let sobrietyCurrent = 100;
            if (maxDays > 0 && passedDays > 0) {
                sobrietyCurrent = Math.round((passedDays / maxDays) * 100);
            }
            
            // If there was a relapse today, current is also 0
            if (hadRelapseToday) {
                sobrietyCurrent = 0;
            }
            
            // Count for display (how many days lit up this week)
            const todayStr = getTodayLocal();
            const startDateLocal = new Date(startDate);
            const startStr = `${startDateLocal.getFullYear()}-${String(startDateLocal.getMonth() + 1).padStart(2, '0')}-${String(startDateLocal.getDate()).padStart(2, '0')}`;
            
            let soberDaysCount = 0;
            for (let i = 0; i < 7; i++) {
                const date = new Date(today);
                const daysBack = currentDayOfWeek - i;
                date.setDate(date.getDate() - daysBack);
                const dateStr = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}`;
                
                if (dateStr >= startStr && dateStr <= todayStr) {
                    const checkin = u.dailyCheckins?.find(c => c.date === dateStr);
                    if (!checkin || !checkin.relapse) {
                        soberDaysCount++;
                    }
                }
            }
            
            totalWeightedSum += sobrietyTotal * 7;
            totalWeight += 7;
            currentWeekSum += sobrietyCurrent * 7;
            currentWeekWeight += 7;
            
            html += `
                <div style="background: linear-gradient(135deg, #FEF3C7 0%, #FDE68A 100%); border-radius: 12px; padding: 15px; margin-bottom: 15px;">
                    <div style="display: flex; gap: 12px;">
                        <div style="display: flex; flex-direction: column; justify-content: center; text-align: center; min-width: 60px;">
                            <div style="color: #92400E; font-size: 10px; line-height: 1.3;">·Éú·Éî·Éë·Éò·É°</div>
                            <div style="color: #92400E; font-size: 10px; line-height: 1.3;">·É´·Éê·Éö·Éê:</div>
                            <div style="color: #92400E; font-weight: 600; font-size: 16px; margin-top: 2px;">${sobrietyTotal}%</div>
                        </div>
                        
                        <div style="flex: 1;">
                            <div style="color: #92400E; font-weight: 600; font-size: 15px; margin-bottom: 8px; text-align: center;">üéØ ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éê</div>
                            <div style="display: flex; gap: 3px; margin-bottom: 8px;">
                                ${generateLast7DaysDisplay(u, 'sobriety')}
                            </div>
                            <p style="color: #78350F; font-size: 13px; margin: 0; text-align: center;">${soberDaysCount}/${maxDays} ·É°·Éò·É§·ÉÆ·Éò·Éñ·Éö·Éò·É° ·Éì·É¶·Éî</p>
                        </div>
                        
                        <div style="display: flex; flex-direction: column; justify-content: center; text-align: center; min-width: 60px;">
                            <div style="color: #92400E; font-size: 10px; line-height: 1.3;">·Éõ·Éò·Éõ·Éì·Éò·Éú·Éê·É†·Éî</div>
                            <div style="color: #92400E; font-size: 10px; line-height: 1.3;">·Éô·Éï·Éò·É†·Éê:</div>
                            <div style="color: #92400E; font-weight: 600; font-size: 16px; margin-top: 2px;">${sobrietyCurrent}%</div>
                        </div>
                    </div>
                </div>
            `;
            
            // Add each goal
            if (u.goals && u.goals.length > 0) {
                u.goals.forEach((goal) => {
                    // Calculate total (weighted average from history)
                    const totalPercent = calculateTotalPercent(goal);
                    
                    // Calculate current week percentage
                    const currentPercent = calculateWeeklyPercent(goal, currentWeekKey);
                    
                    totalWeightedSum += totalPercent * goal.perWeek;
                    totalWeight += goal.perWeek;
                    currentWeekSum += currentPercent * goal.perWeek;
                    currentWeekWeight += goal.perWeek;
                    
                    const weekProgress = goal.weeklyProgress[currentWeekKey] || [];
                    const completed = weekProgress.filter(x => x === true).length;
                    
                    // Get target for display - check if first week
                    const goalStartDate = new Date(goal.startDate);
                    const goalStartWeek = getWeekKey(goalStartDate);
                    const isFirstWeek = goalStartWeek === currentWeekKey;
                    
                    let target = goal.perWeek;
                    if (isFirstWeek) {
                        if (goal.firstWeekMaxDays !== undefined) {
                            target = goal.firstWeekMaxDays;
                        } else {
                            const startDayOfWeek = (goalStartDate.getDay() + 6) % 7;
                            const daysRemainingInWeek = 7 - startDayOfWeek;
                            const proportionalTarget = (goal.perWeek / 7) * daysRemainingInWeek;
                            target = Math.floor(proportionalTarget);
                            if (target === 0) target = 1;
                        }
                    }
                    
                    html += `
                        <div style="background: linear-gradient(135deg, #E0E7FF 0%, #C7D2FE 100%); border-radius: 12px; padding: 15px; margin-bottom: 15px;">
                            <div style="display: flex; gap: 12px;">
                                <div style="display: flex; flex-direction: column; justify-content: center; text-align: center; min-width: 60px;">
                                    <div style="color: #3730A3; font-size: 10px; line-height: 1.3;">·Éú·Éî·Éë·Éò·É°</div>
                                    <div style="color: #3730A3; font-size: 10px; line-height: 1.3;">·É´·Éê·Éö·Éê:</div>
                                    <div style="color: #3730A3; font-weight: 600; font-size: 16px; margin-top: 2px;">${totalPercent}%</div>
                                </div>
                                
                                <div style="flex: 1;">
                                    <div style="color: #3730A3; font-weight: 600; font-size: 15px; margin-bottom: 8px; text-align: center;">${goal.emoji} ${goal.name}</div>
                                    <div style="display: flex; gap: 3px; margin-bottom: 8px;">
                                        ${generateLast7DaysDisplay(u, 'goal', goal, currentWeekKey)}
                                    </div>
                                    <p style="color: #4338CA; font-size: 13px; margin: 0; text-align: center;">${completed}/${target} - ·Éô·Éï·Éò·É†·Éê·É®·Éò ${goal.perWeek}-·ÉØ·Éî·É†</p>
                                </div>
                                
                                <div style="display: flex; flex-direction: column; justify-content: center; text-align: center; min-width: 60px;">
                                    <div style="color: #3730A3; font-size: 10px; line-height: 1.3;">·Éõ·Éò·Éõ·Éì·Éò·Éú·Éê·É†·Éî</div>
                                    <div style="color: #3730A3; font-size: 10px; line-height: 1.3;">·Éô·Éï·Éò·É†·Éê:</div>
                                    <div style="color: #3730A3; font-weight: 600; font-size: 16px; margin-top: 2px;">${currentPercent}%</div>
                                </div>
                            </div>
                        </div>
                    `;
                });
            }
            
            // Calculate overall percentages
            const avgPercent = totalWeight > 0 
                ? Math.round(totalWeightedSum / totalWeight) 
                : 0;
            
            const currentWeekPercent = currentWeekWeight > 0 
                ? Math.round(currentWeekSum / currentWeekWeight) 
                : 0;
            
            // Overall summary section
            let overallHtml = `
                <div style="background: white; border-radius: 12px; padding: 20px; margin-bottom: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                        <span style="color: #6b7280; font-size: 16px;">‚ö° ·Éú·Éî·Éë·Éò·É° ·É´·Éê·Éö·Éê:</span>
                        <span id="overallPercentText" style="color: #374151; font-weight: 600; font-size: 20px;">0%</span>
                    </div>
                    <div style="background: #e5e7eb; border-radius: 8px; height: 16px; overflow: hidden;">
                        <div id="overallPercentBar" style="background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); height: 100%; width: 0%; transition: width 2s ease-out;"></div>
                    </div>
                </div>
                
                <div style="background: white; border-radius: 12px; padding: 20px; margin-bottom: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                        <span style="color: #6b7280; font-size: 16px;">‚ö° ·Éõ·Éò·Éõ·Éì·Éò·Éú·Éê·É†·Éî ·Éô·Éï·Éò·É†·Éê:</span>
                        <span id="currentWeekPercentText" style="color: #374151; font-weight: 600; font-size: 20px;">0%</span>
                    </div>
                    <div style="background: #e5e7eb; border-radius: 8px; height: 16px; overflow: hidden;">
                        <div id="currentWeekPercentBar" style="background: linear-gradient(135deg, #10b981 0%, #3b82f6 100%); height: 100%; width: 0%; transition: width 2s ease-out;"></div>
                    </div>
                </div>
            `;
            
            container.innerHTML = overallHtml + html;
            
            // Animate progress bars and percentages
            setTimeout(() => {
                // Animate overall willpower
                const overallBar = document.getElementById('overallPercentBar');
                const overallText = document.getElementById('overallPercentText');
                if (overallBar && overallText) {
                    overallBar.style.width = avgPercent + '%';
                    animateNumber(overallText, 0, avgPercent, 2000);
                }
                
                // Animate current week
                const currentBar = document.getElementById('currentWeekPercentBar');
                const currentText = document.getElementById('currentWeekPercentText');
                if (currentBar && currentText) {
                    currentBar.style.width = currentWeekPercent + '%';
                    animateNumber(currentText, 0, currentWeekPercent, 2000);
                }
            }, 50);
        }
        
        // Animate number from start to end over duration
        function animateNumber(element, start, end, duration) {
            const startTime = performance.now();
            const range = end - start;
            
            function update(currentTime) {
                const elapsed = currentTime - startTime;
                const progress = Math.min(elapsed / duration, 1);
                
                // Ease-out function
                const easeOut = 1 - Math.pow(1 - progress, 3);
                const current = Math.round(start + range * easeOut);
                
                element.textContent = current + '%';
                
                if (progress < 1) {
                    requestAnimationFrame(update);
                }
            }
            
            requestAnimationFrame(update);
        }
        
        // Generate badges page (from achievements modal logic)
        function generateBadgesPage(currentStreak) {
            const milestones = [7, 14, 30, 60, 90, 120, 150, 180, 210, 240, 270, 300, 330, 365, 730, 1825, 3650];
            
            // Get earned badges
            const earnedBadges = milestones.filter(m => currentStreak >= m);
            
            // Find next badge (same logic as contact achievements)
            let nextBadge = milestones[0];
            for (let m of milestones) {
                if (currentStreak < m) {
                    nextBadge = m;
                    break;
                }
            }
            
            // Calculate current progress
            const lastBadge = earnedBadges.length > 0 ? earnedBadges[earnedBadges.length - 1] : 0;
            const progressDays = currentStreak - lastBadge;
            const totalDays = nextBadge - lastBadge; // This is current goal
            const daysLeft = nextBadge - currentStreak; // Days remaining
            const percentage = (progressDays / totalDays) * 100;
            
            let html = `
                <div style="padding: 0 10px; height: 100%; display: flex; flex-direction: column; overflow-y: auto;">
                    
                    <!-- Current Goal Title -->
                    <h3 style="color: #1E40AF; margin-bottom: 20px; font-size: 24px; text-align: center;">üìä ·Éõ·Éò·Éõ·Éì·Éò·Éú·Éê·É†·Éî ·Éõ·Éò·Éñ·Éê·Éú·Éò: ${totalDays} ·Éì·É¶·Éî</h3>
                    
                    <!-- Next Badge -->
                    <div style="margin-bottom: 25px;">
                        <h3 style="color: #1E40AF; margin-bottom: 15px; font-size: 18px; font-weight: 600;">üéØ ·Éõ·Éù·Éõ·Éì·Éî·Éï·Éú·Éù ·Éë·Éî·ÉØ·Éò:</h3>
                        <div style="background: linear-gradient(135deg, #DBEAFE 0%, #BFDBFE 100%); padding: 12px 28px; border-radius: 12px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); display: flex; align-items: center; gap: 8px; width: 145px;">
                            <span style="font-size: 24px; flex-shrink: 0;">üèÖ</span>
                            <span style="color: #1E40AF; font-weight: 600; font-size: 16px; white-space: nowrap;">${nextBadge} ·Éì·É¶·Éî</span>
                        </div>
                    </div>
                    
                    <!-- Progress -->
                    <div style="margin-bottom: 25px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                            <h3 style="color: #1E40AF; margin: 0; font-size: 18px; font-weight: 600;">üìà ·Éû·É†·Éù·Éí·É†·Éî·É°·Éò:</h3>
                            <span style="color: #1E40AF; font-size: 16px; font-weight: 600;">${progressDays}/${totalDays} ·Éì·É¶·Éî</span>
                        </div>
                        
                        <div style="display: grid; grid-template-columns: repeat(${Math.min(totalDays, 30)}, 1fr); gap: 3px; margin-bottom: 12px;">
            `;
            
            for (let i = 0; i < Math.min(totalDays, 30); i++) {
                const filled = i < progressDays;
                html += `<div style="height: 20px; background: ${filled ? '#10b981' : '#e5e7eb'}; border-radius: 4px;"></div>`;
            }
            
            html += `
                        </div>
                        
                        <div style="background: #f0f9ff; padding: 12px; border-radius: 8px; border-left: 4px solid #0ea5e9;">
                            <p style="color: #0c4a6e; font-size: 15px; margin: 0; font-weight: 500;">
                                ${Math.round(percentage)}% ·Éí·Éê·Éï·Éö·Éò·Éö·Éò ¬∑ ·Éì·Éê·É†·É©·Éê ${totalDays - progressDays} ·Éì·É¶·Éî
                            </p>
                        </div>
                    </div>
                    
                    <!-- Earned Badges -->
                    <div style="flex: 1; overflow-y: auto;">
                        <h3 style="color: #059669; margin-bottom: 15px; font-size: 18px; font-weight: 600;">‚úÖ ·Éõ·Éò·É¶·Éî·Éë·É£·Éö·Éò ·Éë·Éî·ÉØ·Éî·Éë·Éò:</h3>
            `;
            
            if (earnedBadges.length > 0) {
                html += `<div style="display: flex; flex-direction: column; gap: 10px; padding-bottom: 20px;">`;
                earnedBadges.reverse().forEach(badge => {
                    html += `
                        <div style="background: linear-gradient(135deg, #DBEAFE 0%, #BFDBFE 100%); padding: 8px 20px; border-radius: 12px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); display: flex; align-items: center; gap: 8px; width: 145px;">
                            <span style="font-size: 24px; flex-shrink: 0;">üèÖ</span>
                            <span style="color: #1E40AF; font-weight: 600; font-size: 16px;">${badge} ·Éì·É¶·Éî</span>
                        </div>
                    `;
                });
                html += `</div>`;
            } else {
                html += `<p style="color: #999; text-align: center; padding: 40px 20px; font-size: 16px;">·ÉØ·Éî·É† ·Éê·É† ·Éí·Éê·É•·Éï·É° ·Éõ·Éò·É¶·Éî·Éë·É£·Éö·Éò ·Éë·Éî·ÉØ·Éò üéØ</p>`;
            }
            
            html += `</div></div>`;
            
            document.getElementById('badgesPageContent').innerHTML = html;
        }
        
        // Generate savings page  
        function generateSavingsPage(soberDays) {
            const u = app.users[user.email];
            const s = u.savings;
            
            let html = '';
            
            // Check if any savings are enabled
            const hasMoney = s && s.enableMoney && s.dailyMoneyCost;
            const hasTime = s && s.enableTime && s.dailyTimeHours;
            
            if (!hasMoney && !hasTime) {
                html = `
                    <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; padding: 20px; text-align: center;">
                        <div style="font-size: 64px; margin-bottom: 20px;">üí∞</div>
                        <h3 style="color: #666; margin-bottom: 15px; font-size: 20px;">·Éì·Éê·Éú·Éê·Éñ·Éù·Éí·Éî·Éë·Éò·É° ·Éó·Éï·Éê·Éö·Éó·Éï·Éê·Éö·Éò ·Éí·Éê·Éõ·Éù·É†·Éó·É£·Éö·Éò·Éê</h3>
                        <p style="color: #999; font-size: 16px; line-height: 1.6;">·É©·Éê·É†·Éó·Éî·Éó ·Éì·Éê·Éú·Éê·Éñ·Éù·Éí·Éî·Éë·Éò·É° ·Éõ·Éù·Éì·É£·Éö·Éò ·Éõ·Éù·É¢·Éò·Éï·Éê·É™·Éò·Éî·Éë·Éò·É° ·É°·Éî·É•·É™·Éò·Éê·É®·Éò</p>
                    </div>
                `;
            } else {
                html = '<div style="display: flex; flex-direction: column; gap: 20px; padding: 15px;">';
                
                // Money savings card - minimalist white
                if (hasMoney) {
                    const totalMoney = soberDays * s.dailyMoneyCost;
                    
                    html += `
                        <div style="background: white; padding: 30px; border-radius: 16px; border: 2px solid #e5e7eb; box-shadow: 0 2px 8px rgba(0,0,0,0.06);">
                            <div style="display: flex; flex-direction: column; align-items: center; text-align: center;">
                                <div style="font-size: 48px; margin-bottom: 12px;">üíµ</div>
                                <div style="color: #9ca3af; font-size: 14px; font-weight: 500; margin-bottom: 8px;">·É§·É£·Éö·Éê·Éì·Éò ·Éì·Éê·Éú·Éê·Éñ·Éù·Éí·Éò</div>
                                <div style="color: #1f2937; font-size: 42px; font-weight: 700; margin-bottom: 12px;">${Math.round(totalMoney)} ‚Çæ</div>
                                <div style="color: #9ca3af; font-size: 13px;">${soberDays} ·Éì·É¶·Éî</div>
                            </div>
                        </div>
                    `;
                }
                
                // Time savings card - minimalist white
                if (hasTime) {
                    const totalHours = soberDays * s.dailyTimeHours;
                    
                    html += `
                        <div style="background: white; padding: 30px; border-radius: 16px; border: 2px solid #e5e7eb; box-shadow: 0 2px 8px rgba(0,0,0,0.06);">
                            <div style="display: flex; flex-direction: column; align-items: center; text-align: center;">
                                <div style="font-size: 48px; margin-bottom: 12px;">‚è∞</div>
                                <div style="color: #9ca3af; font-size: 14px; font-weight: 500; margin-bottom: 8px;">·Éì·É†·Éù·Éò·É° ·Éì·Éê·Éú·Éê·Éñ·Éù·Éí·Éò</div>
                                <div style="color: #1f2937; font-size: 42px; font-weight: 700; margin-bottom: 12px;">${Math.round(totalHours)} ·É°·Éê·Éê·Éó·Éò</div>
                                <div style="color: #9ca3af; font-size: 13px;">${soberDays} ·Éì·É¶·Éî</div>
                            </div>
                        </div>
                    `;
                }
                
                html += '</div>';
            }
            
            document.getElementById('resultsSavingsContent').innerHTML = html;
        }
        
        // Initialize swipe functionality
        let currentResultsPage = 0;
        function initResultsSwipe() {
            const container = document.getElementById('resultsSwipeContainer');
            const dots = document.querySelectorAll('.page-dot');
            let startX = 0;
            let currentX = 0;
            let isDragging = false;
            
            currentResultsPage = 0;
            container.style.transform = 'translateX(0%)'; // Reset to first page
            updatePageIndicators();
            
            // Touch events
            container.addEventListener('touchstart', (e) => {
                startX = e.touches[0].clientX;
                isDragging = true;
                container.style.transition = 'none';
            });
            
            container.addEventListener('touchmove', (e) => {
                if (!isDragging) return;
                currentX = e.touches[0].clientX;
                const diff = currentX - startX;
                const pageWidth = 100 / 6; // 16.666% for 6 pages
                const currentTranslate = -(currentResultsPage * pageWidth);
                const newTranslate = currentTranslate + (diff / container.offsetWidth * pageWidth);
                container.style.transform = `translateX(${newTranslate}%)`;
            });
            
            container.addEventListener('touchend', (e) => {
                if (!isDragging) return;
                isDragging = false;
                const diff = currentX - startX;
                const threshold = 50;
                
                container.style.transition = 'transform 0.3s ease';
                
                if (diff > threshold && currentResultsPage > 0) {
                    currentResultsPage--;
                } else if (diff < -threshold && currentResultsPage < 5) {
                    currentResultsPage++;
                }
                
                goToResultsPage(currentResultsPage);
            });
            
            // Click on dots
            dots.forEach(dot => {
                dot.addEventListener('click', () => {
                    const page = parseInt(dot.getAttribute('data-page'));
                    goToResultsPage(page);
                });
            });
        }
        
        function goToResultsPage(page) {
            currentResultsPage = page;
            const container = document.getElementById('resultsSwipeContainer');
            const pageWidth = 100 / 6; // 16.666% for 6 pages
            container.style.transform = `translateX(-${page * pageWidth}%)`;
            updatePageIndicators();
        }
        
        function updatePageIndicators() {
            const dots = document.querySelectorAll('.page-dot');
            dots.forEach((dot, index) => {
                if (index === currentResultsPage) {
                    dot.style.background = '#667eea';
                    dot.style.transform = 'scale(1.2)';
                } else {
                    dot.style.background = '#d1d5db';
                    dot.style.transform = 'scale(1)';
                }
            });
        }
        
        // Close full results
        function closeFullResults() {
            document.getElementById('fullResultsModal').classList.remove('active');
            document.querySelector(".container").scrollTop = 0;
        }
        
        // Generate milestones
        function generateMilestones(streak) {
            const container = document.getElementById('milestonesContainer');
            container.innerHTML = '';
            
            const milestones = [
                { days: 1, icon: 'üéØ', label: '1 ·Éì·É¶·Éî' },
                { days: 7, icon: '‚≠ê', label: '7 ·Éì·É¶·Éî' },
                { days: 14, icon: '‚ú®', label: '14 ·Éì·É¶·Éî' },
                { days: 30, icon: 'üí™', label: '30 ·Éì·É¶·Éî' },
                { days: 60, icon: 'üèÜ', label: '60 ·Éì·É¶·Éî' },
                { days: 90, icon: 'üèÖ', label: '90 ·Éì·É¶·Éî' },
                { days: 180, icon: 'üíé', label: '180 ·Éì·É¶·Éî' },
                { days: 365, icon: 'üëë', label: '365 ·Éì·É¶·Éî' },
                { days: 730, icon: 'üåü', label: '2 ·É¨·Éî·Éö·Éò' },
                { days: 1825, icon: 'üî•', label: '5 ·É¨·Éî·Éö·Éò' },
                { days: 3650, icon: 'üèõÔ∏è', label: '10 ·É¨·Éî·Éö·Éò' }
            ];
            
            let nextMilestone = milestones.find(m => m.days > streak);
            
            milestones.forEach(m => {
                const div = document.createElement('div');
                div.className = 'milestone';
                
                if (streak >= m.days) {
                    div.classList.add('achieved');
                } else if (m.days === nextMilestone?.days) {
                    div.classList.add('next');
                }
                
                div.innerHTML = `
                    <div class="milestone-icon">${m.icon}</div>
                    <div class="milestone-label">${m.label}</div>
                `;
                
                container.appendChild(div);
            });
        }
        
        // Generate calendar view
        function generateCalendarView(streak) {
            const container = document.getElementById('calendarFull');
            container.innerHTML = '';
            
            for (let i = 1; i <= 28; i++) {
                const day = document.createElement('div');
                day.className = 'calendar-day';
                
                const successDays = Math.min(streak, 28);
                if (i > (28 - successDays)) {
                    day.classList.add('success');
                }
                
                if (i === 28) {
                    day.classList.add('today');
                }
                
                day.textContent = i;
                container.appendChild(day);
            }
        }
        
        // Update dashboard streak display
        function updateDashboardStreak() {
            let streak = getStreak();
            document.getElementById('dashboardStreakDisplay').textContent = `üî• ${streak} ·Éì·É¶·Éî`;
        }
        
        // Show SOS
        // === SOS FLOW ===
        let sosCurrentThoughtIndex = -1;
        let sosCurrentStep = 0;
        let sosTempData = { whyRight: '', whyWrong: '', whatToSay: '' };
        let sosShowedIntro = false; // Track if intro screen was shown
        
        function showSOS() {
            // Show intro screen first time
            if (!sosShowedIntro) {
                sosShowIntro();
                return;
            }
            
            // Ensure copingThoughts is loaded
            if (!copingThoughts || copingThoughts.length === 0) {
                copingLoadData();
            }
            
            // RESET all SOS state
            sosCurrentThoughtIndex = -1;
            sosCurrentStep = 0;
            sosPendingThoughtIndex = -1;
            sosShowingAllThoughts = false;
            
            // Reset button text
            const btnText = document.getElementById('sosShowOtherThoughtsBtnText');
            if (btnText) btnText.textContent = 'üëÅÔ∏è ·Éí·Éê·Éõ·Éù·Éê·É©·Éò·Éú·Éî ·Éì·Éê·Éú·Éê·É†·É©·Éî·Éú·Éò ·Éê·Éñ·É†·Éî·Éë·Éò·É™';
            
            // Show dropdown, hide confirmation
            document.getElementById('sosConfirmBox').style.display = 'none';
            document.getElementById('sosDropdownContainer').style.display = 'block';
            document.getElementById('sosThoughtSelect').value = '';
            
            // Show skip button
            document.getElementById('sosSkipBtn').style.display = 'block';
            
            document.getElementById('sosQuestionModal').style.display = 'block';
            sosLoadThoughtOptions();
        }
        
        let sosShowingAllThoughts = false;
        
        function sosLoadThoughtOptions(showAll = false) {
            const select = document.getElementById('sosThoughtSelect');
            const showOtherBtn = document.getElementById('sosShowOtherThoughtsBtn');
            
            if (!select) return;
            
            const allThoughts = copingThoughts && copingThoughts.length > 0 ? copingThoughts : [];
            
            // Separate selected and unselected thoughts
            const selectedThoughts = allThoughts.filter(t => t.selected === true);
            const unselectedThoughts = allThoughts.filter(t => t.selected !== true);
            
            let html = '<option value="">·Éê·Éò·É†·É©·Éò·Éî ·Éê·Éñ·É†·Éò...</option>';
            
            if (showAll) {
                // Show ALL: selected + unselected
                selectedThoughts.forEach((thought) => {
                    const globalIndex = copingThoughts.indexOf(thought);
                    html += `<option value="${globalIndex}">‚úÖ ${thought.text}</option>`;
                });
                
                if (unselectedThoughts.length > 0) {
                    html += '<option disabled>‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ</option>';
                    unselectedThoughts.forEach((thought) => {
                        const globalIndex = copingThoughts.indexOf(thought);
                        html += `<option value="${globalIndex}">‚ö™ ${thought.text}</option>`;
                    });
                }
            } else {
                // Show ONLY selected thoughts
                if (selectedThoughts.length === 0) {
                    html = '<option value="">·Éõ·Éù·Éú·Éò·É®·Éú·É£·Éö·Éò ·Éê·Éñ·É†·Éî·Éë·Éò ·Éê·É† ·Éê·É†·Éò·É°...</option>';
                } else {
                    selectedThoughts.forEach((thought) => {
                        const globalIndex = copingThoughts.indexOf(thought);
                        html += `<option value="${globalIndex}">‚úÖ ${thought.text}</option>`;
                    });
                }
                
                // Show button if there are unselected thoughts
                if (showOtherBtn) {
                    showOtherBtn.style.display = unselectedThoughts.length > 0 ? 'block' : 'none';
                }
            }
            
            select.innerHTML = html;
            
            // Handle selection
            select.onchange = function() {
                if (this.value !== '') {
                    sosShowConfirmation(parseInt(this.value));
                }
            };
        }
        
        function sosToggleAllThoughts() {
            sosShowingAllThoughts = !sosShowingAllThoughts;
            
            // Toggle button text
            const btnText = document.getElementById('sosShowOtherThoughtsBtnText');
            if (sosShowingAllThoughts) {
                btnText.textContent = 'üëÅÔ∏è ·Éì·Éê·Éõ·Éê·Éö·Éî ·Éì·Éê·Éú·Éê·É†·É©·Éî·Éú·Éò ·Éê·Éñ·É†·Éî·Éë·Éò·É™';
            } else {
                btnText.textContent = 'üëÅÔ∏è ·Éí·Éê·Éõ·Éù·Éê·É©·Éò·Éú·Éî ·Éì·Éê·Éú·Éê·É†·É©·Éî·Éú·Éò ·Éê·Éñ·É†·Éî·Éë·Éò·É™';
            }
            
            // Reload dropdown
            sosLoadThoughtOptions(sosShowingAllThoughts);
        }
        
        let sosPendingThoughtIndex = -1;
        
        // SOS Intro Screen
        function sosShowIntro() {
            const modal = document.getElementById('sosQuestionModal');
            const content = modal.querySelector('.sos-modal-content') || modal;
            
            content.innerHTML = `
                <div style="background: white; max-width: 800px; margin: 30px auto; border-radius: 12px; padding: 40px 20px; min-height: 650px; display: flex; flex-direction: column;">
                    <div style="font-size: 60px; margin-bottom: 20px; text-align: center;">‚è∞</div>
                    <p style="font-size: 18px; line-height: 1.8; color: #333; margin-bottom: 30px; text-align: center;">
                        <strong>·Éõ·Éù·Éõ·Éî·Éú·É¢·Éò, ·É†·Éù·Éì·Éî·É°·Éê·É™ ·Éõ·Éù·Éò·ÉÆ·Éõ·Éê·É† ·Éê·É†·Éê ·Éò·Éõ·Éò·É°·Éó·Éï·Éò·É°, ·É†·Éù·Éõ ·Éô·Éê·É†·Éí·Éê·Éì ·Éò·Éß·Éù, ·Éê·É†·Éê·Éõ·Éî·Éì ·Éò·Éõ·Éò·É°·Éó·Éï·Éò·É°, ·É†·Éù·Éõ ·É™·É£·Éì·Éê·Éì ·Éê·É† ·Éò·Éß·Éù, ·Éì·Éí·Éî·Éë·Éê ·É´·Éê·Éö·Éò·Éê·Éú ·Éõ·Éê·Éö·Éî!</strong>
                    </p>
                    <div style="text-align: center; margin-top: auto;">
                        <button onclick="sosIntroNext()" 
                                style="width: 100%; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; padding: 15px; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 16px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">
                            ·É®·Éî·Éõ·Éì·Éî·Éí·Éò ‚Üí
                        </button>
                    </div>
                </div>
            `;
            
            modal.style.display = 'block';
        }
        
        function sosIntroNext() {
            sosShowedIntro = true;
            
            // Restore original modal structure
            const modal = document.getElementById('sosQuestionModal');
            modal.innerHTML = `
                <div style="background: white; max-width: 800px; margin: 30px auto; border-radius: 12px; padding: 40px 20px; min-height: 650px; display: flex; flex-direction: column;">
                    <h2 style="color: #333; margin-bottom: 25px; text-align: center; font-size: 24px;">üÜò ·É†·Éê ·Éê·Éñ·É†·Éò ·Éí·Éò·É©·Éú·Éì·Éî·Éë·Éê ·Éê·ÉÆ·Éö·Éê?</h2>
                    
                    <!-- Dropdown Container -->
                    <div id="sosDropdownContainer">
                        <!-- Dropdown for filled thoughts only -->
                        <div style="margin-bottom: 20px;">
                            <select id="sosThoughtSelect" style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 16px; background: white;">
                                <option value="">·Éê·Éò·É†·É©·Éò·Éî ·Éê·Éñ·É†·Éò...</option>
                            </select>
                        </div>
                        
                        <!-- Show Other Thoughts Button -->
                        <button id="sosShowOtherThoughtsBtn" class="btn btn-secondary" onclick="sosToggleAllThoughts()" style="width: 100%; margin-bottom: 15px; padding: 12px; display: none;">
                            <span id="sosShowOtherThoughtsBtnText">üëÅÔ∏è ·Éí·Éê·Éõ·Éù·Éê·É©·Éò·Éú·Éî ·Éì·Éê·Éú·Éê·É†·É©·Éî·Éú·Éò ·Éê·Éñ·É†·Éî·Éë·Éò·É™</span>
                        </button>
                        <!-- Add New Button -->
                        <button id="sosAddNewBtn" class="btn btn-primary" onclick="sosAddNewThought()" style="width: 100%; margin-bottom: 15px; padding: 12px;">
                            ‚ûï ·Éê·ÉÆ·Éê·Éö·Éò ·Éê·Éñ·É†·Éò·É° ·Éì·Éê·Éõ·Éê·É¢·Éî·Éë·Éê
                        </button>
                    </div>
                    
                    <!-- Skip Button - Outside container to use margin-top: auto -->
                    <button id="sosSkipBtn" onclick="sosSkipThoughts()" style="width: 100%; padding: 15px; margin-top: auto; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 16px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">
                        ‚è≠Ô∏è ·Éí·Éê·Éõ·Éù·É¢·Éù·Éï·Éî·Éë·Éê
                    </button>
                    
                    <!-- Confirmation Box (hidden by default) -->
                    <div id="sosConfirmBox" style="display: none; margin-bottom: 20px; padding: 20px; background: #f8f9fa; border-radius: 8px;">
                        <h3 style="color: #667eea; margin-bottom: 15px; font-size: 18px;">·Éê·É†·É©·Éî·É£·Éö·Éò ·Éê·Éñ·É†·Éò:</h3>
                        <p id="sosConfirmText" style="color: #333; margin-bottom: 20px; line-height: 1.6; font-size: 16px;"></p>
                        
                        <div style="display: flex; gap: 15px; margin-top: auto;">
                            <button onclick="sosConfirmSelection()" style="flex: 1; padding: 12px; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 14px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">·Éê·É†·É©·Éî·Éï·Éê</button>
                            <button onclick="sosCancelSelection()" style="flex: 1; padding: 12px; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 14px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">‚Üê ·É£·Éô·Éê·Éú</button>
                        </div>
                    </div>
                </div>
            `;
            
            showSOS(); // Now show the actual SOS flow
        }
        
        // SOS Final Screen (before motivations)
        function sosShowFinalScreen() {
            const modal = document.getElementById('sosQuestionModal');
            const content = modal.querySelector('.sos-modal-content') || modal;
            
            content.innerHTML = `
                <div style="background: white; max-width: 800px; margin: 30px auto; border-radius: 12px; padding: 40px 20px; min-height: 650px; display: flex; flex-direction: column;">
                    <div style="font-size: 60px; margin-bottom: 20px; text-align: center;">‚öñÔ∏è</div>
                    <p style="font-size: 18px; line-height: 1.8; color: #333; margin-bottom: 15px; text-align: center;">
                        <strong>·Éú·Éò·Éï·Éó·Éò·Éî·É†·Éî·Éë·Éê ·É†·Éò·É° ·Éõ·Éù·É™·Éî·Éõ·Éê·É°·Éê·É™ ·Éõ·Éù·Éô·Éö·Éî·Éï·Éê·Éì·Éò·Éê·Éú ·Éû·Éî·É†·É°·Éû·Éî·É•·É¢·Éò·Éï·Éê·É®·Éò ·Éí·Éû·Éò·É†·Éì·Éî·Éë·Éê, ·É°·É¨·Éù·É†·Éî·Éì ·Éò·Éõ·Éê·É° ·Éí·Éê·É†·Éó·Éõ·Éî·Éï·É° ·Éí·É†·É´·Éî·Éö·Éï·Éê·Éì·Éò·Éê·Éú ·Éû·Éî·É†·É°·Éû·Éî·É•·É¢·Éò·Éï·Éê·É®·Éò.</strong>
                    </p>
                    <p style="font-size: 18px; line-height: 1.8; color: #333; margin-bottom: 30px; text-align: center;">
                        ·Éí·Éû·Éò·É†·Éì·Éî·Éë·Éê ·Éì·Éê·Éõ·É®·Éï·Éò·Éì·Éî·Éë·Éê·É° ·Éê·ÉÆ·Éö·Éê? ·É°·Éê·Éõ·É£·Éì·Éê·Éõ·Éù·Éì ·Éê·É•·É†·Éù·Éë·É° ·Éú·Éê·Éõ·Éì·Éï·Éò·Éö·Éò ·É°·Éò·Éõ·É®·Éï·Éò·Éì·Éò·É° ·É®·Éî·Éí·É†·É´·Éú·Éî·Éë·Éê·É° ·É®·Éî·Éú·Éò ·É™·ÉÆ·Éù·Éï·É†·Éî·Éë·Éò·Éì·Éê·Éú.
                    </p>
                    <div style="text-align: center; margin-top: auto;">
                        <button onclick="sosFinalNext()" 
                                style="width: 100%; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; padding: 15px; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 16px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">
                            ·É®·Éî·Éõ·Éì·Éî·Éí·Éò ‚Üí
                        </button>
                    </div>
                </div>
            `;
            
            modal.style.display = 'block';
        }
        
        function sosFinalNext() {
            document.getElementById('sosQuestionModal').style.display = 'none';
            sosShowMotivations(); // Go to motivations
        }
        
        function sosShowConfirmation(index) {
            sosPendingThoughtIndex = index;
            const thought = copingThoughts[index];
            
            // Show confirmation box with full text
            document.getElementById('sosConfirmText').textContent = thought.text;
            document.getElementById('sosConfirmBox').style.display = 'block';
            
            // Hide dropdown and buttons
            document.getElementById('sosDropdownContainer').style.display = 'none';
            document.getElementById('sosSkipBtn').style.display = 'none';
        }
        
        function sosConfirmSelection() {
            // User confirmed - proceed with thought processing
            sosSelectThought(sosPendingThoughtIndex);
        }
        
        function sosCancelSelection() {
            // User cancelled - go back to dropdown
            sosPendingThoughtIndex = -1;
            
            // Hide confirmation box
            document.getElementById('sosConfirmBox').style.display = 'none';
            
            // Show dropdown and buttons
            document.getElementById('sosDropdownContainer').style.display = 'block';
            document.getElementById('sosSkipBtn').style.display = 'block';
            
            // Reset dropdown
            document.getElementById('sosThoughtSelect').value = '';
        }
        
        function sosSelectThought(index) {
            sosCurrentThoughtIndex = index;
            sosCurrentStep = 0;
            
            const thought = copingThoughts[index];
            sosTempData = {
                whyRight: thought.whyRight || '',
                whyWrong: thought.whyWrong || '',
                whatToSay: thought.whatToSay || ''
            };
            
            document.getElementById('sosQuestionModal').style.display = 'none';
            sosShowStep();
        }
        
        function sosShowStep() {
            const thought = copingThoughts[sosCurrentThoughtIndex];
            const modal = document.getElementById('sosStepModal');
            const title = document.getElementById('sosStepTitle');
            const label = document.getElementById('sosStepLabel');
            const textarea = document.getElementById('sosStepTextarea');
            const backBtn = document.getElementById('sosBackBtn');
            const nextBtn = document.getElementById('sosNextBtn');
            
            title.textContent = `üí≠ ${thought.text}`;
            
            if (sosCurrentStep === 0) {
                label.textContent = '·É†·Éê·É¢·Éù·Éõ ·Éõ·Éí·Éù·Éú·Éò·Éê ·É†·Éù·Éõ ·É°·É¨·Éù·É†·Éò·Éê?';
                textarea.value = sosTempData.whyRight;
                textarea.placeholder = '·É†·Éê·É¢·Éù·Éõ ·É®·Éî·Éò·É´·Éö·Éî·Éë·Éê ·Éò·Éß·Éù·É° ·Éî·É° ·Éê·Éñ·É†·Éò ·É°·É¨·Éù·É†·Éò?';
                backBtn.style.display = 'none';
                nextBtn.textContent = '·É®·Éî·Éõ·Éì·Éî·Éí·Éò ‚Üí';
            } else if (sosCurrentStep === 1) {
                label.textContent = '·É†·Éê·É¢·Éù·Éõ ·Éï·Éó·Éï·Éö·Éò, ·É†·Éù·Éõ ·Éê·É†·Éê·É°·É¨·Éù·É†·Éò·Éê, ·Éñ·Éî·Éì·Éê·Éû·Éò·É†·É£·Éö·Éò ·Éê·Éú ·É°·Éê·ÉÆ·Éò·É§·Éê·Éó·Éù?';
                textarea.value = sosTempData.whyWrong;
                textarea.placeholder = '·É†·Éê·É¢·Éù·Éõ ·É®·Éî·Éò·É´·Éö·Éî·Éë·Éê ·Éò·Éß·Éù·É° ·Éî·É° ·Éê·Éñ·É†·Éò ·Éõ·É™·Éì·Éê·É†·Éò?';
                backBtn.style.display = 'block';
                nextBtn.textContent = '·É®·Éî·Éõ·Éì·Éî·Éí·Éò ‚Üí';
            } else if (sosCurrentStep === 2) {
                label.textContent = '·É†·Éê ·É®·Éî·Éõ·Éò·É´·Éö·Éò·Éê ·É©·Éî·Éõ·É° ·Éó·Éê·Éï·É° ·Éï·É£·Éó·ÉÆ·É†·Éê ·É†·Éê·Éó·Éê ·Éì·Éê·Éï·Éë·É†·É£·Éú·Éì·Éî ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éò·É° ·Éí·Éê·Éú·É¨·Éß·Éù·Éë·Éê·Éñ·Éî?';
                textarea.value = sosTempData.whatToSay;
                textarea.placeholder = '·É†·Éê ·É£·Éú·Éì·Éê ·Éï·É£·Éó·ÉÆ·É†·Éê ·É°·Éê·Éô·É£·Éó·Éê·É† ·Éó·Éê·Éï·É° ·Éê·Éõ·Éò·É° ·Éõ·Éê·Éí·Éò·Éï·É†·Éê·Éì?';
                backBtn.style.display = 'block';
                nextBtn.textContent = '·Éì·Éê·É°·É†·É£·Éö·Éî·Éë·Éê ‚úì';
            }
            
            modal.style.display = 'block';
        }
        
        function sosStepBack() {
            const textarea = document.getElementById('sosStepTextarea');
            
            // Save current step data before going back
            if (sosCurrentStep === 1) {
                sosTempData.whyWrong = textarea.value;  // Save step 1 data
            } else if (sosCurrentStep === 2) {
                sosTempData.whatToSay = textarea.value;  // Save step 2 data
            }
            
            sosCurrentStep--;
            sosShowStep();
        }
        
        function sosStepNext() {
            const textarea = document.getElementById('sosStepTextarea');
            
            if (sosCurrentStep === 0) {
                sosTempData.whyRight = textarea.value;
                sosCurrentStep++;
                sosShowStep();
            } else if (sosCurrentStep === 1) {
                sosTempData.whyWrong = textarea.value;
                sosCurrentStep++;
                sosShowStep();
            } else if (sosCurrentStep === 2) {
                // CRITICAL: Last step - save and show completion
                sosTempData.whatToSay = textarea.value;
                
                // Save to actual thought
                copingThoughts[sosCurrentThoughtIndex].whyRight = sosTempData.whyRight;
                copingThoughts[sosCurrentThoughtIndex].whyWrong = sosTempData.whyWrong;
                copingThoughts[sosCurrentThoughtIndex].whatToSay = sosTempData.whatToSay;
                copingThoughts[sosCurrentThoughtIndex].selected = true; // Mark as selected
                
                // IMPORTANT: Use correct function name
                copingSaveData();
                
                // Show completion
                document.getElementById('sosStepModal').style.display = 'none';
                document.getElementById('sosCompletionModal').style.display = 'block';
            }
        }
        
        function sosProcessAnother() {
            // Close completion modal
            document.getElementById('sosCompletionModal').style.display = 'none';
            
            // Reset intro flag so user sees intro again on next SOS
            sosShowedIntro = false;
            
            // Reset state
            sosCurrentThoughtIndex = -1;
            sosCurrentStep = 0;
            sosPendingThoughtIndex = -1;
            sosShowingAllThoughts = false;
            
            // Reset button text
            const btnText = document.getElementById('sosShowOtherThoughtsBtnText');
            if (btnText) btnText.textContent = 'üëÅÔ∏è ·Éí·Éê·Éõ·Éù·Éê·É©·Éò·Éú·Éî ·Éì·Éê·Éú·Éê·É†·É©·Éî·Éú·Éò ·Éê·Éñ·É†·Éî·Éë·Éò·É™';
            
            // Show question modal directly with dropdown
            document.getElementById('sosConfirmBox').style.display = 'none';
            document.getElementById('sosDropdownContainer').style.display = 'block';
            document.getElementById('sosThoughtSelect').value = '';
            
            // Show skip button
            document.getElementById('sosSkipBtn').style.display = 'block';
            
            document.getElementById('sosQuestionModal').style.display = 'block';
            
            // IMPORTANT: Reload dropdown to show newly added thought
            sosLoadThoughtOptions();
        }
        
        function sosNextStage() {
            // Go to final screen before motivations
            document.getElementById('sosCompletionModal').style.display = 'none';
            sosShowFinalScreen();
        }
        
        function sosSkipThoughts() {
            // Skip thoughts and go to final screen
            document.getElementById('sosQuestionModal').style.display = 'none';
            sosShowFinalScreen();
        }
        
        function sosAddNewThought() {
            document.getElementById('sosQuestionModal').style.display = 'none';
            document.getElementById('sosNewThoughtText').value = '';
            document.getElementById('sosNewThoughtModal').style.display = 'block';
        }
        
        function sosCancelNewThought() {
            document.getElementById('sosNewThoughtModal').style.display = 'none';
            document.getElementById('sosQuestionModal').style.display = 'block';
            
            // Show skip button
            document.getElementById('sosSkipBtn').style.display = 'block';
        }
        
        function sosCreateNewThought() {
            const text = document.getElementById('sosNewThoughtText').value.trim();
            
            if (!text) {
                alert('·Éí·Éó·ÉÆ·Éù·Éï·Éó ·É®·Éî·Éò·Éß·Éï·Éê·Éú·Éù·Éó ·Éê·Éñ·É†·Éò');
                return;
            }
            
            // Add new thought to copingThoughts array
            const newThought = {
                text: text,
                whyRight: '',
                whyWrong: '',
                whatToSay: '',
                custom: true,
                timestamp: new Date().toISOString()
            };
            
            copingThoughts.push(newThought);
            sosCurrentThoughtIndex = copingThoughts.length - 1;
            
            // Close new thought modal and start step-by-step
            document.getElementById('sosNewThoughtModal').style.display = 'none';
            sosCurrentStep = 0;
            sosTempData = { whyRight: '', whyWrong: '', whatToSay: '' };
            sosShowStep();
        }
        
        // === SOS MOTIVATIONS ===
        let sosCurrentMotivationId = null;
        let sosCurrentMotivationStep = 0;
        let sosMotivationTempData = { consequences: '', recovery: '' };
        
        function sosShowMotivations() {
            // RESET all motivation state
            sosCurrentMotivationId = null;
            sosCurrentMotivationStep = 0;
            sosPendingMotivationId = null;
            sosShowingAllMotivations = false;
            
            // Reset button text
            const btnText = document.getElementById('sosShowOtherMotivationsBtnText');
            if (btnText) btnText.textContent = 'üëÅÔ∏è ·Éí·Éê·Éõ·Éù·Éê·É©·Éò·Éú·Éî ·Éì·Éê·Éú·Éê·É†·É©·Éî·Éú·Éò ·É°·É£·É†·Éï·Éò·Éö·Éî·Éë·Éò·É™';
            
            // Show dropdown, hide confirmation
            document.getElementById('sosMotivationConfirmBox').style.display = 'none';
            document.getElementById('sosMotivationDropdownContainer').style.display = 'block';
            document.getElementById('sosMotivationSelect').value = '';
            
            // Show skip button
            document.getElementById('sosMotivationSkipBtn').style.display = 'block';
            
            document.getElementById('sosMotivationModal').style.display = 'block';
            sosLoadMotivationOptions();
        }
        
        function sosLoadMotivationOptions(showAll = false) {
            const select = document.getElementById('sosMotivationSelect');
            const showOtherBtn = document.getElementById('sosShowOtherMotivationsBtn');
            
            if (!select) {
                return;
            }
            
            const u = app.users[user.email];
            
            // Get user's selected motivations (from usage array)
            const userMotivations = (u && u.motivations && u.motivations.usage) ? u.motivations.usage : [];
            
            // Get IDs of selected DEFAULT motivations
            const selectedDefaultIds = userMotivations
                .filter(m => !m.custom)  // Only DEFAULT (not custom)
                .map(m => m.id);
            
            // Get unselected DEFAULT motivations
            const unselectedDefaults = DEFAULT_MOTIVATIONS.filter(m => !selectedDefaultIds.includes(m.id));
            
            
            let html = '<option value="">·Éê·Éò·É†·É©·Éò·Éî ·Éõ·Éù·É¢·Éò·Éï·Éê·É™·Éò·Éê...</option>';
            
            if (showAll) {
                // Show ALL: user's motivations (selected) + unselected defaults
                userMotivations.forEach((mot) => {
                    html += `<option value="${mot.id}">‚úì ${mot.text}</option>`;
                });
                
                if (unselectedDefaults.length > 0) {
                    html += '<option disabled>‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ</option>';
                    unselectedDefaults.forEach((mot) => {
                        html += `<option value="${mot.id}">${mot.text}</option>`;
                    });
                }
                
                // Keep button visible - don't hide it
            } else {
                // Show ONLY selected (user's motivations)
                if (userMotivations.length === 0) {
                    html = '<option value="">·Éõ·Éù·É¢·Éò·Éï·Éê·É™·Éò·Éî·Éë·Éò ·Éê·É† ·Éê·É†·Éò·É° ·Éê·É†·É©·Éî·É£·Éö·Éò...</option>';
                } else {
                    userMotivations.forEach((mot) => {
                        html += `<option value="${mot.id}">‚úì ${mot.text}</option>`;
                    });
                }
                
                // Show button if there are unselected defaults
                if (showOtherBtn) {
                    showOtherBtn.style.display = unselectedDefaults.length > 0 ? 'block' : 'none';
                }
            }
            
            select.innerHTML = html;
            
            // Show confirmation first when selecting
            select.onchange = function() {
                if (this.value !== '') {
                    sosShowMotivationConfirmation(this.value);
                }
            };
        }
        
        let sosShowingAllMotivations = false;
        
        function sosToggleOtherMotivations() {
            sosShowingAllMotivations = !sosShowingAllMotivations;
            
            // Toggle button text
            const btnText = document.getElementById('sosShowOtherMotivationsBtnText');
            if (sosShowingAllMotivations) {
                btnText.textContent = 'üëÅÔ∏è ·Éì·Éê·Éõ·Éê·Éö·Éî ·Éì·Éê·Éú·Éê·É†·É©·Éî·Éú·Éò ·É°·É£·É†·Éï·Éò·Éö·Éî·Éë·Éò';
            } else {
                btnText.textContent = 'üëÅÔ∏è ·Éí·Éê·Éõ·Éù·Éê·É©·Éò·Éú·Éî ·Éì·Éê·Éú·Éê·É†·É©·Éî·Éú·Éò ·É°·É£·É†·Éï·Éò·Éö·Éî·Éë·Éò·É™';
            }
            
            // Reload dropdown
            sosLoadMotivationOptions(sosShowingAllMotivations);
        }
        
        let sosPendingMotivationId = null;
        
        function sosShowMotivationConfirmation(motivationId) {
            sosPendingMotivationId = motivationId;
            const u = app.users[user.email];
            
            // Try to find in user's motivations first
            let motivation = (u.motivations && u.motivations.usage) ? u.motivations.usage.find(m => m.id === motivationId) : null;
            
            // If not found, it's from DEFAULT_MOTIVATIONS
            if (!motivation) {
                motivation = DEFAULT_MOTIVATIONS.find(m => m.id === motivationId);
            }
            
            if (!motivation) return;
            
            // Show confirmation box with full text
            document.getElementById('sosMotivationConfirmText').textContent = motivation.text;
            document.getElementById('sosMotivationConfirmBox').style.display = 'block';
            
            // Hide dropdown and skip button
            document.getElementById('sosMotivationDropdownContainer').style.display = 'none';
            document.getElementById('sosMotivationSkipBtn').style.display = 'none';
        }
        
        function sosConfirmMotivationSelection() {
            // User confirmed - proceed with motivation processing
            sosSelectMotivation(sosPendingMotivationId);
        }
        
        function sosCancelMotivationSelection() {
            // User cancelled - go back to dropdown
            sosPendingMotivationId = null;
            
            // Hide confirmation box
            document.getElementById('sosMotivationConfirmBox').style.display = 'none';
            
            // Show dropdown and skip button
            document.getElementById('sosMotivationDropdownContainer').style.display = 'block';
            document.getElementById('sosMotivationSkipBtn').style.display = 'block';
            
            // Reset dropdown
            document.getElementById('sosMotivationSelect').value = '';
        }
        
        function sosSelectMotivation(motivationId) {
            sosCurrentMotivationId = motivationId;
            sosCurrentMotivationStep = 0;
            
            const u = app.users[user.email];
            
            // Try to find in user's motivations
            let motivation = (u.motivations && u.motivations.usage) ? u.motivations.usage.find(m => m.id === motivationId) : null;
            
            // If not found, it's a new DEFAULT motivation
            if (!motivation) {
                const defaultMot = DEFAULT_MOTIVATIONS.find(m => m.id === motivationId);
                if (defaultMot) {
                    // Add to user's motivations now (will be fully saved after step completion)
                    if (!u.motivations) u.motivations = {usage: [], recovery: []};
                    motivation = {
                        id: defaultMot.id,
                        text: defaultMot.text,
                        consequences: defaultMot.consequences || '',
                        recovery: defaultMot.recovery || '',
                        selected: true
                    };
                    u.motivations.usage.push(motivation);
                }
            }
            
            if (!motivation) return;
            
            // Load existing data
            let consequences = '';
            let recovery = '';
            
            if (typeof motivation.consequences === 'string') {
                consequences = motivation.consequences;
            } else if (motivation.consequences) {
                consequences = motivation.consequences.useCustom ? motivation.consequences.custom : motivation.consequences.default;
            }
            
            if (typeof motivation.recovery === 'string') {
                recovery = motivation.recovery;
            } else if (motivation.recovery) {
                recovery = motivation.recovery.useCustom ? motivation.recovery.custom : motivation.recovery.default;
            }
            
            sosMotivationTempData = {
                consequences: consequences,
                recovery: recovery
            };
            
            document.getElementById('sosMotivationModal').style.display = 'none';
            sosShowMotivationStep();
        }
        
        function sosShowMotivationStep() {
            const u = app.users[user.email];
            let motivation = (u.motivations && u.motivations.usage) ? u.motivations.usage.find(m => m.id === sosCurrentMotivationId) : null;
            
            // Fallback to DEFAULT if not found
            if (!motivation) {
                motivation = DEFAULT_MOTIVATIONS.find(m => m.id === sosCurrentMotivationId);
            }
            
            if (!motivation) return;
            
            const modal = document.getElementById('sosMotivationStepModal');
            const title = document.getElementById('sosMotivationStepTitle');
            const label = document.getElementById('sosMotivationStepLabel');
            const textarea = document.getElementById('sosMotivationStepTextarea');
            const backBtn = document.getElementById('sosMotivationBackBtn');
            const nextBtn = document.getElementById('sosMotivationNextBtn');
            
            title.textContent = `üéØ ${motivation.text}`;
            
            if (sosCurrentMotivationStep === 0) {
                label.textContent = '·É†·Éê·É° ·Éõ·Éê·É†·Éó·Éõ·Éî·Éï·É°?';
                textarea.value = sosMotivationTempData.consequences;
                backBtn.style.display = 'none';
                nextBtn.textContent = '·É®·Éî·Éõ·Éì·Éî·Éí·Éò ‚Üí';
            } else if (sosCurrentMotivationStep === 1) {
                label.textContent = '·É†·Éê·É° ·Éõ·Éù·Éõ·É™·Éî·Éõ·É° ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éê?';
                textarea.value = sosMotivationTempData.recovery;
                backBtn.style.display = 'block';
                nextBtn.textContent = '·Éì·Éê·É°·É†·É£·Éö·Éî·Éë·Éê ‚úì';
            }
            
            modal.style.display = 'block';
        }
        
        function sosMotivationStepBack() {
            const textarea = document.getElementById('sosMotivationStepTextarea');
            
            // Save current step data before going back
            if (sosCurrentMotivationStep === 1) {
                sosMotivationTempData.recovery = textarea.value;  // Step 1 is recovery
            }
            
            sosCurrentMotivationStep--;
            sosShowMotivationStep();
        }
        
        function sosMotivationStepNext() {
            const textarea = document.getElementById('sosMotivationStepTextarea');
            const u = app.users[user.email];
            const motivation = u.motivations.usage.find(m => m.id === sosCurrentMotivationId);
            
            if (!motivation) return;
            
            if (sosCurrentMotivationStep === 0) {
                // Save consequences and go to next step
                sosMotivationTempData.consequences = textarea.value;
                sosCurrentMotivationStep++;
                sosShowMotivationStep();
            } else if (sosCurrentMotivationStep === 1) {
                // CRITICAL: Last step - save and show completion
                sosMotivationTempData.recovery = textarea.value;
                
                // Find original default values for comparison
                const defaultMot = DEFAULT_MOTIVATIONS.find(m => m.id === sosCurrentMotivationId);
                
                // Save edited values back to motivation (keep simple structure for now)
                motivation.consequences = sosMotivationTempData.consequences;
                motivation.recovery = sosMotivationTempData.recovery;
                
                // Mark as selected/processed
                motivation.selected = true;
                
                // Save to localStorage
                save();
                
                // Show completion
                document.getElementById('sosMotivationStepModal').style.display = 'none';
                document.getElementById('sosMotivationCompletionModal').style.display = 'block';
            }
        }
        
        function sosProcessAnotherMotivation() {
            // Close completion modal
            document.getElementById('sosMotivationCompletionModal').style.display = 'none';
            
            // Reset state
            sosCurrentMotivationId = null;
            sosCurrentMotivationStep = 0;
            sosPendingMotivationId = null;
            sosShowingAllMotivations = false;
            
            // Reset button text
            const btnText = document.getElementById('sosShowOtherMotivationsBtnText');
            if (btnText) btnText.textContent = 'üëÅÔ∏è ·Éí·Éê·Éõ·Éù·Éê·É©·Éò·Éú·Éî ·Éì·Éê·Éú·Éê·É†·É©·Éî·Éú·Éò ·É°·É£·É†·Éï·Éò·Éö·Éî·Éë·Éò·É™';
            
            // Show motivation modal directly with dropdown
            document.getElementById('sosMotivationConfirmBox').style.display = 'none';
            document.getElementById('sosMotivationDropdownContainer').style.display = 'block';
            document.getElementById('sosMotivationSelect').value = '';
            
            // Show skip button
            document.getElementById('sosMotivationSkipBtn').style.display = 'block';
            
            document.getElementById('sosMotivationModal').style.display = 'block';
            sosLoadMotivationOptions();
        }
        
        function sosMotivationNextStage() {
            document.getElementById('sosMotivationCompletionModal').style.display = 'none';
            sosShowWave(); // Show wave screen
        }
        
        function sosSkipMotivations() {
            document.getElementById('sosMotivationModal').style.display = 'none';
            sosShowWave(); // Show wave screen
        }
        
        // ============ WAVE SCREEN FUNCTIONS ============
        
        function sosShowWave() {
            document.getElementById('sosWaveModal').style.display = 'block';
        }
        
        function sosWaveNext() {
            document.getElementById('sosWaveModal').style.display = 'none';
            sosShowMechanisms();
        }
        
        // ============ END WAVE FUNCTIONS ============
        
        // ============ MECHANISMS FUNCTIONS ============
        
        let sosMechanismQueue = [];
        let sosMechanismCurrentIndex = 0;
        
        function sosShowMechanisms() {
            // Get selected mechanisms
            const selectedMechanisms = selectedCopingMechanisms || [];
            
            // Filter to get actual mechanism objects
            sosMechanismQueue = COPING_MECHANISMS.filter(m => selectedMechanisms.includes(m.id));
            
            sosMechanismCurrentIndex = 0;
            
            if (sosMechanismQueue.length > 0) {
                // Show first selected mechanism
                sosShowCurrentMechanism();
            } else {
                // No selected mechanisms - go directly to other mechanisms screen
                sosShowOtherMechanisms();
            }
        }
        
        function sosShowCurrentMechanism() {
            if (sosMechanismCurrentIndex >= sosMechanismQueue.length) {
                // All done - show other mechanisms
                sosShowOtherMechanisms();
                return;
            }
            
            const mechanism = sosMechanismQueue[sosMechanismCurrentIndex];
            const total = sosMechanismQueue.length;
            const current = sosMechanismCurrentIndex + 1;
            
            document.getElementById('sosMechanismIcon').textContent = mechanism.icon;
            document.getElementById('sosMechanismProgress').textContent = `${current}/${total}`;
            document.getElementById('sosMechanismText').textContent = mechanism.text;
            
            document.getElementById('sosMechanismModal').style.display = 'block';
        }
        
        function sosMechanismHelped() {
            // User says this mechanism helped - close SOS
            document.getElementById('sosMechanismModal').style.display = 'none';
            alert('·É®·Éî·É°·Éê·Éú·Éò·É®·Éú·Éê·Éï·Éò·Éê! ·É®·Éî·Éú ·Éí·Éê·Éê·É†·Éó·Éï·Éò ·Éó·Éê·Éï·Éò ·Éö·É¢·Éù·Éö·Éï·Éê·É°! üí™‚ú®');
            backToDashboard();
        }
        
        function sosMechanismNext() {
            // Move to next mechanism
            sosMechanismCurrentIndex++;
            sosShowCurrentMechanism();
        }
        
        function sosShowOtherMechanisms() {
            document.getElementById('sosMechanismModal').style.display = 'none';
            
            // Populate list with unselected mechanisms
            const selectedIds = selectedCopingMechanisms || [];
            const unselectedMechanisms = COPING_MECHANISMS.filter(m => !selectedIds.includes(m.id));
            
            const list = document.getElementById('sosOtherMechanismsList');
            let html = '';
            
            unselectedMechanisms.forEach(m => {
                html += `
                    <div style="background: white; padding: 15px; border-radius: 10px; margin-bottom: 12px; border: 2px solid #e5e7eb; display: flex; align-items: center; gap: 15px;">
                        <div style="font-size: 32px; flex-shrink: 0;">${m.icon}</div>
                        <div style="flex: 1; color: #333; font-size: 15px; line-height: 1.5;">${m.text}</div>
                    </div>
                `;
            });
            
            list.innerHTML = html;
            
            document.getElementById('sosOtherMechanismsModal').style.display = 'block';
        }
        
        function sosShowFinalReminder() {
            document.getElementById('sosOtherMechanismsModal').style.display = 'none';
            document.getElementById('sosFinalReminderModal').style.display = 'block';
        }
        
        function sosGoToMotivations() {
            // Go to recovery motivations section (not SOS motivations)
            document.getElementById('sosOtherMechanismsModal').style.display = 'none';
            document.getElementById('sosFinalReminderModal').style.display = 'none';
            document.querySelector('.container').scrollTop = 0;
            showMotivations(); // Main motivations section
        }
        
        function sosFinish() {
            // Finish SOS
            document.getElementById('sosOtherMechanismsModal').style.display = 'none';
            document.getElementById('sosFinalReminderModal').style.display = 'none';
            document.querySelector('.container').scrollTop = 0;
            alert('·É®·Éî·É°·Éê·Éú·Éò·É®·Éú·Éê·Éï·Éò·Éê! ·É®·Éî·Éú ·Éí·Éê·Éê·É†·Éó·Éï·Éò ·Éó·Éê·Éï·Éò ·Éö·É¢·Éù·Éö·Éï·Éê·É°! üí™‚ú®');
            backToDashboard();
        }
        
        // ============ END MECHANISMS FUNCTIONS ============
        
        function sosAddNewMotivation() {
            document.getElementById('sosMotivationModal').style.display = 'none';
            document.getElementById('sosNewMotivationText').value = '';
            document.getElementById('sosNewMotivationModal').style.display = 'block';
        }
        
        function sosCancelNewMotivation() {
            document.getElementById('sosNewMotivationModal').style.display = 'none';
            document.getElementById('sosMotivationModal').style.display = 'block';
            
            // Show skip button
            document.getElementById('sosMotivationSkipBtn').style.display = 'block';
        }
        
        function sosCreateNewMotivation() {
            const text = document.getElementById('sosNewMotivationText').value.trim();
            
            if (!text) {
                alert('·Éí·Éó·ÉÆ·Éù·Éï·Éó ·É®·Éî·Éò·Éß·Éï·Éê·Éú·Éù·Éó ·Éõ·Éù·É¢·Éò·Éï·Éê·É™·Éò·Éê');
                return;
            }
            
            const u = app.users[user.email];
            if (!u.motivations) u.motivations = {usage: [], recovery: []};
            
            // Create new motivation with custom flag
            const newMotivation = {
                id: 'custom_' + Date.now(),
                text: text,
                consequences: '',
                recovery: '',
                custom: true,
                selected: true,
                timestamp: new Date().toISOString()
            };
            
            // Add to user's motivations
            u.motivations.usage.push(newMotivation);
            sosCurrentMotivationId = newMotivation.id;
            
            // Close new motivation modal and start step-by-step
            document.getElementById('sosNewMotivationModal').style.display = 'none';
            sosCurrentMotivationStep = 0;
            sosMotivationTempData = { consequences: '', recovery: '' };
            sosShowMotivationStep();
        }
        
        
        // Show coping mechanisms


        // ============ READINESS ASSESSMENT FUNCTIONS ============
        
        function showReadinessAssessment() {
            showSection('readiness');
            
            const u = app.users[user.email];
            
            // Always show the initial menu
            document.getElementById('readinessInitialMenu').style.display = 'block';
            
            // Hide all steps
            document.getElementById('readinessStep1').style.display = 'none';
            document.getElementById('readinessStep2a').style.display = 'none';
            document.getElementById('readinessStep2b').style.display = 'none';
            document.getElementById('readinessStep3').style.display = 'none';
            document.getElementById('readinessStep4').style.display = 'none';
            document.getElementById('readinessStep5').style.display = 'none';
            document.getElementById('readinessStep6').style.display = 'none';
            
            // If already completed, replace the assessment button with summary
            if (u.readiness && u.readiness.stage) {
                loadReadinessData();
                showReadinessSummaryInMenu();
            }
        }
        
        function startReadinessAssessment() {
            // Hide menu and start the assessment
            document.getElementById('readinessInitialMenu').style.display = 'none';
            document.getElementById('readinessStep1').style.display = 'block';
        }
        
        function showReadinessSummaryInMenu() {
            // Replace the button with the detailed summary view
            const container = document.getElementById('readinessAssessmentContainer');
            const u = app.users[user.email];
            const r = u.readiness;
            
            const stageLabels = {
                'precontemplation': '1. ·Éû·É†·Éî·Éí·Éê·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî·Éë·Éê',
                'contemplation': '2. ·Éõ·É°·ÉØ·Éî·Éö·Éù·Éë·Éê',
                'preparation': '3. ·Éì·Éê·Éí·Éî·Éí·Éõ·Éï·Éê',
                'action': '4. ·Éõ·Éù·É•·Éõ·Éî·Éì·Éî·Éë·Éê',
                'maintenance': '5. ·É™·Éï·Éö·Éò·Éö·Éî·Éë·Éò·É° ·É®·Éî·Éú·Éê·É†·É©·É£·Éú·Éî·Éë·Éê'
            };
            
            const stageDescriptions = {
                'precontemplation': '·Éê·Éõ ·Éì·É†·Éù·É° ·É®·Éî·Éú ·Éï·Éî·É†·É™ ·Éô·Éò ·Éê·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî·Éë, ·É†·Éù·Éõ ·É®·Éî·Éú ·É†·Éê·Éõ·Éî·Éú·Éê·Éò·É†·Éê·Éì ·É£·Éú·Éì·Éê ·É®·Éî·É™·Éï·Éê·Éö·Éù ·É®·Éî·Éú·Éò ·É•·É™·Éî·Éï·Éê. ·Éò·É•·Éú·Éî·Éë ·Éí·Éê·É†·É®·Éî·Éõ·Éù·Éõ·Éß·Éù·É§·Éî·Éë·Éõ·Éê ·É®·Éî·Éú·Éò·É®·Éú·Éî·É°, ·É†·Éù·Éõ ·É®·Éî·Éú ·Éõ·Éù·Éò·ÉÆ·Éõ·Éê·É† ·Éú·Éò·Éï·Éó·Éò·Éî·É†·Éî·Éë·Éê·É° ·Éì·Éê ·Éí·Éê·Éõ·Éù·ÉÆ·Éê·É¢·Éî·É° ·Éê·É¶·Éî·Éö·Éï·Éî·Éë·Éê, ·Éõ·Éê·Éí·É†·Éê·Éõ ·Éû·Éò·É†·Éê·Éì·Éê·Éì ·É®·Éî·Éú ·Éï·Éî·É†·Éê·É§·Éî·É†·É° ·Éï·Éî·É† ·Éê·Éõ·É©·Éú·Éî·Éï.',
                'contemplation': '·Éî·É° ·Éê·É†·Éò·É° ·Éì·É†·Éù, ·É†·Éù·Éì·Éî·É°·Éê·É™ ·É®·Éî·Éú ·Éò·É¨·Éß·Éî·Éë ·É©·Éê·É§·Éò·É•·É†·Éî·Éë·Éê·É° ·É®·Éî·É™·Éï·Éö·Éò·É° ·É®·Éî·É°·Éê·É´·Éö·Éî·Éë·Éö·Éù·Éë·Éê·Éñ·Éî. ‚Äû·Éò·É•·Éú·Éî·Éë ·Éõ·Éî ·Éõ·É≠·Éò·É†·Éì·Éî·Éë·Éê, ·É†·Éù·Éõ ·É™·Éù·É¢·Éê ·É®·Éî·Éï·Éò·É™·Éï·Éê·Éö·Éù", ·Éê·Éú ‚Äû·Éõ·Éî·Éõ·Éí·Éù·Éú·Éò ·Éõ·Éî ·É£·Éô·Éï·Éî ·Éï·Éî·É¶·Éê·É† ·Éï·Éê·Éô·Éù·Éú·É¢·É†·Éù·Éö·Éî·Éë ·Éõ·Éù·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê·É°". ·Éê·Éõ ·Éî·É¢·Éê·Éû·Éñ·Éî ·É®·Éî·Éú ·É£·Éô·Éï·Éî ·Éò·É¨·Éß·Éî·Éë ·Éò·Éõ·Éò·É° ·Éí·Éê·Éê·Éñ·É†·Éî·Éë·Éê·É°, ·É†·Éù·Éõ ·É®·Éî·Éú·Éò ·É•·É™·Éî·Éï·Éê ·Éê·É† ·É®·Éî·Éî·É°·Éê·Éë·Éê·Éõ·Éî·Éë·Éê ·Éò·Éõ ·É™·ÉÆ·Éù·Éï·É†·Éî·Éë·Éê·É°, ·É†·Éù·Éõ·Éî·Éö·Éò·É™ ·Éí·Éò·Éú·Éì·Éù·Éì·Éê, ·É†·Éù·Éõ ·É¨·Éê·Éí·Éî·Éõ·Éê·É†·Éó·Éê.',
                'preparation': '·Éõ·Éî·É°·Éê·Éõ·Éî ·Éî·É¢·Éê·Éû·Éñ·Éî ·Éí·Éê·Éì·Éê·É°·Éï·Éö·Éò·É°·Éê·É° ·É®·Éî·Éú ·Éì·Éê·É†·É¨·Éõ·É£·Éú·Éî·Éë·É£·Éö·Éò ·ÉÆ·Éê·É†, ·É†·Éù·Éõ ·É£·Éú·Éì·Éê ·É®·Éî·É™·Éï·Éê·Éö·Éù ·É®·Éî·Éú·Éò ·É•·É™·Éî·Éï·Éê ·Éì·Éê ·Éò·É¨·Éß·Éî·Éë ·Éê·Éõ ·É™·Éï·Éö·Éò·Éö·Éî·Éë·Éî·Éë·Éò·É° ·Éì·Éê·Éí·Éî·Éí·Éõ·Éï·Éê·É°. ·Éê·Éõ ·Éî·É¢·Éê·Éû·Éñ·Éî ·É®·Éî·Éú ·Éí·Éê·Éú·Éò·ÉÆ·Éò·Éö·Éê·Éï ·Éí·Éñ·Éî·Éë·É°, ·É†·Éù·Éõ·Éö·Éî·Éë·Éò·É™ ·Éí·Éê·Éõ·Éù·Éí·Éê·Éì·Éí·Éî·Éë·Éù·Éì·Éê ·Éõ·Éù·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê·É°·Éó·Éê·Éú ·Éë·É†·É´·Éù·Éö·Éê·É®·Éò.',
                'action': '·Éê·Éõ ·Éî·É¢·Éê·Éû·Éñ·Éî ·É®·Éî·Éú ·Éõ·Éò·É∞·Éß·Éï·Éî·Éë·Éò ·Éí·Éî·Éí·Éõ·Éê·É°, ·É†·Éù·Éõ·Éî·Éö·Éò·É™ ·É¨·Éò·Éú·Éê ·Éî·É¢·Éê·Éû·Éñ·Éî ·É®·Éî·Éò·Éõ·É£·É®·Éê·Éï·Éî. ·É®·Éî·Éú ·Éò·É¨·Éß·Éî·Éë ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éê·É°.',
                'maintenance': '·Éó·É£ ·É®·Éî·Éú ·É®·Éî·É´·Éî·Éö·Éò 6 ·Éó·Éï·Éò·É° ·Éê·Éú ·Éõ·Éî·É¢·Éò·É° ·Éí·Éê·Éú·Éõ·Éê·Éï·Éö·Éù·Éë·Éê·É®·Éò ·Éó·Éê·Éú·Éõ·Éò·Éõ·Éì·Éî·Éï·É†·É£·Éö·Éê·Éì ·Éì·Éê·É†·É©·Éî·Éú·Éò·Éö·Éò·Éß·Éê·Éï·Éò ·É¨·Éò·Éú·Éê ·Éî·É¢·Éê·Éû·Éî·Éë·Éñ·Éî ·É®·Éî·Éõ·É£·É®·Éê·Éï·Éî·Éë·É£·Éö·Éò ·Éõ·Éù·É•·Éõ·Éî·Éì·Éî·Éë·Éò·É° ·Éí·Éî·Éí·Éõ·Éò·É° ·É§·Éê·É†·Éí·Éö·Éî·Éë·É®·Éò, ·É®·Éî·Éú ·Éí·Éê·Éì·Éê·ÉÆ·Éï·Éî·Éì·Éò ·É™·Éï·Éö·Éò·Éö·Éî·Éë·Éî·Éë·Éò·É° ·É®·Éî·Éú·Éê·É†·É©·É£·Éú·Éî·Éë·Éò·É° ·Éî·É¢·Éê·Éû·Éñ·Éî.'
            };
            
            let html = '';
            
            // Stage (clickable to expand)
            html += '<div onclick="toggleStageDetailsInMenu()" style="margin-bottom: 20px; padding: 12px; background: #f0f4ff; border-radius: 8px; border-left: 4px solid #667eea; cursor: pointer; transition: all 0.2s;" onmouseover="this.style.background=\'#e0e7ff\'" onmouseout="this.style.background=\'#f0f4ff\'">';
            html += '<div style="color: #667eea; font-weight: 600; margin-bottom: 5px; font-size: 14px;">·É®·Éî·Éú·Éò ·Éî·É¢·Éê·Éû·Éò: <span style="font-size: 12px; color: #999;">(·Éì·Éê·Éê·É≠·Éò·É†·Éî ·Éì·Éî·É¢·Éê·Éö·Éî·Éë·Éò·É°·Éó·Éï·Éò·É°)</span></div>';
            html += '<div style="color: #1f2937; font-size: 16px;">' + stageLabels[r.stage] + '</div>';
            html += '</div>';
            
            // All stages details (hidden by default)
            html += '<div id="allStagesDetailsInMenu" style="display: none; margin-bottom: 20px; padding: 20px; background: white; border-radius: 8px; border: 2px solid #e0e7ff;">';
            html += '<h4 style="color: #667eea; margin-bottom: 15px; font-size: 16px;">·Éß·Éï·Éî·Éö·Éê ·Éî·É¢·Éê·Éû·Éò:</h4>';
            
            for (let stageKey in stageLabels) {
                const isCurrentStage = stageKey === r.stage;
                html += '<div style="margin-bottom: 15px; padding: 12px; background: ' + (isCurrentStage ? '#f0f4ff' : '#f9fafb') + '; border-radius: 6px; border-left: 3px solid ' + (isCurrentStage ? '#667eea' : '#e5e7eb') + ';">';
                html += '<div style="font-weight: 600; color: #1f2937; margin-bottom: 5px; font-size: 14px;">' + stageLabels[stageKey] + (isCurrentStage ? ' ‚≠ê' : '') + '</div>';
                html += '<div style="color: #666; font-size: 13px; line-height: 1.6; text-align: justify;">' + stageDescriptions[stageKey] + '</div>';
                html += '</div>';
            }
            
            html += '</div>';
            
            // Cycle awareness (clickable to expand)
            html += '<div onclick="toggleCycleDetailsInMenu()" style="margin-bottom: 20px; padding: 12px; background: #f0f4ff; border-radius: 8px; border-left: 4px solid #667eea; cursor: pointer; transition: all 0.2s;" onmouseover="this.style.background=\'#e0e7ff\'" onmouseout="this.style.background=\'#f0f4ff\'">';
            html += '<div style="color: #667eea; font-weight: 600; margin-bottom: 5px; font-size: 14px;">·Éõ·Éù·É¢·Éò·Éï·Éê·É™·Éò·Éò·É° ·Éë·É£·Éú·Éî·Éë·Éò·É° ·Éõ·Éù·Éú·Éê·É™·Éï·Éö·Éî·Éù·Éë·Éê: <span style="font-size: 12px; color: #999;">(·Éì·Éê·Éê·É≠·Éò·É†·Éî ·Éì·Éî·É¢·Éê·Éö·Éî·Éë·Éò·É°·Éó·Éï·Éò·É°)</span></div>';
            html += '<div style="color: #1f2937; font-size: 16px;">' + (r.cycleAwareness === 'yes' ? '·Éô·Éò, ·Éí·Éê·Éõ·Éù·Éõ·Éò·É™·Éì·Éò·Éê' : '·Éê·É†·Éê, ·Éê·É† ·É®·Éî·Éõ·Éò·Éõ·É©·Éú·Éî·Éï·Éò·Éê') + '</div>';
            html += '</div>';
            
            // Cycle explanation (hidden by default)
            html += '<div id="cycleExplanationInMenu" style="display: none; margin-bottom: 20px; padding: 20px; background: white; border-radius: 8px; border: 2px solid #e0e7ff;">';
            html += '<p style="color: #333; line-height: 1.8; margin-bottom: 15px; text-align: justify;">·Éí·Éê·Éú·Éô·É£·É†·Éú·Éî·Éë·Éò·É° ·Éû·É†·Éù·É™·Éî·É°·É°, ·Éò·É°·Éî·Éï·Éî ·É†·Éù·Éí·Éù·É†·É™ ·Éñ·Éù·Éí·Éê·Éì·Éê·Éì ·É™·ÉÆ·Éù·Éï·É†·Éî·Éë·Éê·É° ·Éê·É•·Éï·É° ·Éó·Éê·Éï·Éò·É°·Éò ·Éê·É¶·Éõ·Éê·Éï·Éê·Éö·Éò ·Éì·Éê ·Éì·Éê·É¶·Éõ·Éê·Éï·Éê·Éö·Éò ·Éî·É¢·Éê·Éû·Éî·Éë·Éò (·Éê·É§·É†·Éî·Éú·Éî·Éë·Éò ·Éì·Éê ·Éï·Éê·É†·Éì·Éú·Éî·Éë·Éò). ·Éê·É•·Éî·Éì·Éê·Éú ·Éí·Éê·Éõ·Éù·Éõ·Éì·Éò·Éú·Éê·É†·Éî ·Éê·Éë·É°·Éù·Éö·É£·É¢·É£·É†·Éê·Éì ·Éú·Éù·É†·Éõ·Éê·Éö·É£·É†·Éò·Éê, ·É†·Éù·Éõ ·É®·Éî·Éú ·Éí·É•·Éù·Éú·Éì·Éî·É° ·Éì·É¶·Éî·Éî·Éë·Éò, ·É†·Éù·Éõ·Éö·Éî·Éë·É®·Éò·É™ ·É®·Éî·Éú ·É™·ÉÆ·Éê·Éì·Éê·Éì ·Éí·Éî·É™·Éù·Éì·Éò·Éú·Éî·Éë·Éê ·É†·Éê·É¢·Éù·Éõ ·Éê·É†·Éò·É° ·Éê·É£·É™·Éò·Éö·Éî·Éë·Éî·Éö·Éò ·Éì·Éê·Éú·Éî·Éë·Éî·Éë·Éê, ·É®·Éî·Éú·Éò ·Éê·ÉÆ·Éê·Éö·Éò ·ÉØ·Éê·Éú·É°·Éê·É¶·Éò ·É™·ÉÆ·Éù·Éï·É†·Éî·Éë·Éò·É° ·É®·Éî·É•·Éõ·Éú·Éò·É°·Éê·Éó·Éï·Éò·É° ·Éì·Éê ·Éî·É° ·Éì·É¶·Éî·Éî·Éë·Éò ·É®·Éî·Éò·É´·Éö·Éî·Éë·Éê ·É®·Éî·É™·Éï·Éê·Éö·Éù·Éú ·Éì·É¶·Éî·Éî·Éë·Éõ·Éê, ·É†·Éù·Éì·Éî·É°·Éê·É™ ·É®·Éî·Éú ·Éó·Éê·Éï·É° ·Éì·Éê·É£·É°·Éï·Éê·Éõ ·Éô·Éò·Éó·ÉÆ·Éï·Éî·Éë·É° ·É°·Éê·Éî·É†·Éó·Éù·Éì ·É†·Éê·É®·Éò ·Éí·É≠·Éò·É†·Éì·Éî·Éë·Éê ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éê·É°·Éó·Éê·Éú ·Éì·Éê·Éô·Éê·Éï·É®·Éò·É†·Éî·Éë·É£·Éö·Éò ·Éõ·Éó·Éî·Éö·Éò ·Éî·É° ·Éû·É†·Éù·Éë·Éö·Éî·Éõ·Éî·Éë·Éò.</p>';
            html += '<p style="color: #333; line-height: 1.8; margin-bottom: 15px; text-align: justify;">·É©·Éï·Éî·Éú·Éò ·Éõ·Éò·Éñ·Éê·Éú·Éò·Éê ·Éê·Éõ ·É†·Éó·É£·Éö ·Éû·Éî·É†·Éò·Éù·Éì·Éî·Éë·É®·Éò ·Éï·Éò·Éß·Éù·Éó ·Éì·Éê·Éõ·ÉÆ·Éõ·Éê·É†·Éî, ·É†·Éê·Éó·Éê ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éò·É° ·Éû·É†·Éù·É™·Éî·É°·Éò ·Éí·Éê·Éí·É†·É´·Éî·Éö·Éì·Éî·É° ·Éó·Éê·Éú·Éõ·Éò·Éõ·Éì·Éî·Éï·É†·É£·Éö·Éê·Éì.</p>';
            html += '<p style="color: #667eea; font-weight: 600; line-height: 1.8; text-align: justify;">·É†·Éù·Éì·Éî·É°·Éê·É™ ·É´·Éê·Éö·Éò·Éê·Éú ·Éê·ÉÆ·Éö·Éù·É° ·ÉÆ·Éê·É† ·Éì·Éê·Éú·Éî·Éë·Éî·Éë·Éê·É°·Éó·Éê·Éú, ·Éí·Éê·Éò·ÉÆ·É°·Éî·Éú·Éî ·É†·Éê·É¢·Éù·Éõ ·Éò·É¨·Éß·Éî·Éë·Éì·Éò!</p>';
            html += '</div>';
            
            // Motivation score (read-only)
            html += '<div style="margin-bottom: 20px; padding: 12px; background: #f0f4ff; border-radius: 8px; border-left: 4px solid #10b981;">';
            html += '<div style="color: #10b981; font-weight: 600; margin-bottom: 5px; font-size: 14px;">·Éõ·Éù·É¢·Éò·Éï·Éê·É™·Éò·Éò·É° ·É•·É£·Éö·Éê:</div>';
            html += '<div style="color: #1f2937; font-size: 24px; font-weight: bold;">' + r.motivationScore + '/10</div>';
            html += '</div>';
            
            // Times (editable)
            html += '<div style="margin-bottom: 20px; padding: 20px; background: #fff7ed; border-radius: 8px; border-left: 4px solid #f59e0b;">';
            html += '<div style="color: #f59e0b; font-weight: 600; margin-bottom: 15px; font-size: 14px;">·É®·Éî·Éõ·Éù·É¨·Éõ·Éî·Éë·Éò·É° ·Éì·É†·Éù (·É†·Éî·Éì·Éê·É•·É¢·Éò·É†·Éî·Éë·Éê·Éì·Éò):</div>';
            
            html += '<div style="margin-bottom: 15px;">';
            html += '<label style="display: block; margin-bottom: 8px; color: #666; font-size: 14px;">‚è∞ ·Éõ·Éù·É¢·Éò·Éï·Éê·É™·Éò·Éò·É° ·É®·Éî·Éõ·Éù·É¨·Éõ·Éî·Éë·Éê:</label>';
            html += '<input type="time" id="editMotivationCheckTimeInMenu" value="' + r.motivationCheckTime + '" style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 15px;">';
            html += '</div>';
            
            html += '<div>';
            html += '<label style="display: block; margin-bottom: 8px; color: #666; font-size: 14px;">üìä ·É®·Éî·Éì·Éî·Éí·Éî·Éë·Éò·É° ·É®·Éî·Éõ·Éù·É¨·Éõ·Éî·Éë·Éê:</label>';
            html += '<input type="time" id="editResultsCheckTimeInMenu" value="' + r.resultsCheckTime + '" style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 15px;">';
            html += '</div>';
            
            html += '</div>';
            
            html += '<button class="btn btn-secondary" onclick="editReadinessAssessment()" style="width: 100%; margin-top: 10px;">‚úèÔ∏è ·É†·Éî·Éì·Éê·É•·É¢·Éò·É†·Éî·Éë·Éê</button>';
            
            container.innerHTML = html;
            
            // Add onchange events
            setTimeout(() => {
                const motTimeInput = document.getElementById('editMotivationCheckTimeInMenu');
                const resTimeInput = document.getElementById('editResultsCheckTimeInMenu');
                if (motTimeInput) motTimeInput.onchange = saveReadinessTimesInMenu;
                if (resTimeInput) resTimeInput.onchange = saveReadinessTimesInMenu;
            }, 100);
        }
        
        
        function saveReadinessTimesInMenu() {
            const u = app.users[user.email];
            if (!u.readiness) return;
            
            const motivationCheckTime = document.getElementById('editMotivationCheckTimeInMenu').value;
            const resultsCheckTime = document.getElementById('editResultsCheckTimeInMenu').value;
            
            u.readiness.motivationCheckTime = motivationCheckTime;
            u.readiness.resultsCheckTime = resultsCheckTime;
            u.readiness.updatedAt = new Date().toISOString();
            
            save();
        }
        
        function toggleStageDetailsInMenu() {
            const details = document.getElementById('allStagesDetailsInMenu');
            if (details.style.display === 'none') {
                details.style.display = 'block';
            } else {
                details.style.display = 'none';
            }
        }
        
        function toggleCycleDetailsInMenu() {
            const explanation = document.getElementById('cycleExplanationInMenu');
            if (explanation.style.display === 'none') {
                explanation.style.display = 'block';
            } else {
                explanation.style.display = 'none';
            }
        }
        
        function editReadinessAssessment() {
            // Go back to the assessment form
            document.getElementById('readinessInitialMenu').style.display = 'none';
            loadReadinessData();
            document.getElementById('readinessStep1').style.display = 'block';
        }
        
        function loadReadinessData() {
            const u = app.users[user.email];
            if (!u.readiness) return;
            
            // Load saved data if exists
            const r = u.readiness;
            if (r.stage) {
                const stageRadio = document.querySelector(`input[name="readinessStage"][value="${r.stage}"]`);
                if (stageRadio) stageRadio.checked = true;
            }
            if (r.cycleAwareness) {
                const cycleRadio = document.querySelector(`input[name="cycleAwareness"][value="${r.cycleAwareness}"]`);
                if (cycleRadio) cycleRadio.checked = true;
            }
            if (r.motivationScore) {
                document.getElementById('motivationScore').value = r.motivationScore;
                document.getElementById('motivationScoreDisplay').textContent = r.motivationScore;
            }
            if (r.motivationCheckTime) {
                document.getElementById('motivationCheckTime').value = r.motivationCheckTime;
            }
            if (r.resultsCheckTime) {
                document.getElementById('resultsCheckTime').value = r.resultsCheckTime;
            }
        }
        
        // ============ ADDICTION SYMPTOMS FUNCTIONS ============
        
        function showAddictionSymptoms() {
            showSection('addictionSymptoms');
            renderSymptomsList();
            
            // Load saved selections if exist
            const u = app.users[user.email];
            if (u.addictionSymptoms && u.addictionSymptoms.selected) {
                u.addictionSymptoms.selected.forEach(index => {
                    const checkbox = document.getElementById('symptom-' + index);
                    if (checkbox) checkbox.checked = true;
                });
                
                // Show result if already calculated
                if (u.addictionSymptoms.totalCount !== undefined) {
                    document.getElementById('symptomsResult').style.display = 'block';
                    updateSymptomsResult(u.addictionSymptoms.totalCount);
                }
            }
        }
        
        function renderSymptomsList() {
            const container = document.getElementById('symptomsList');
            let html = '';
            let symptomIndex = 0;
            
            DEFAULT_SYMPTOMS.forEach(categoryObj => {
                html += '<div style="margin-bottom: 25px;">';
                html += '<h3 style="color: white; margin-bottom: 15px; font-size: 16px; font-weight: 600;">' + categoryObj.category + '</h3>';
                
                categoryObj.symptoms.forEach(symptom => {
                    html += '<label style="display: flex; align-items: start; padding: 12px; background: white; border-radius: 8px; cursor: pointer; margin-bottom: 10px; border: 2px solid #e5e7eb; transition: all 0.2s;">';
                    html += '<input type="checkbox" id="symptom-' + symptomIndex + '" value="' + symptomIndex + '" style="margin-top: 4px; margin-right: 12px; width: 18px; height: 18px; flex-shrink: 0;">';
                    html += '<div style="color: #333; line-height: 1.6; font-size: 14px;">' + symptom + '</div>';
                    html += '</label>';
                    symptomIndex++;
                });
                
                html += '</div>';
            });
            
            container.innerHTML = html;
        }
        
        function calculateSymptoms() {
            const u = app.users[user.email];
            if (!u.addictionSymptoms) u.addictionSymptoms = {};
            
            // Count checked symptoms
            const checkboxes = document.querySelectorAll('#symptomsList input[type="checkbox"]');
            const selected = [];
            let count = 0;
            
            checkboxes.forEach((cb, index) => {
                if (cb.checked) {
                    selected.push(index);
                    count++;
                }
            });
            
            // Save to user data
            u.addictionSymptoms.selected = selected;
            u.addictionSymptoms.totalCount = count;
            u.addictionSymptoms.timestamp = new Date().toISOString();
            save();
            
            // Show result
            document.getElementById('symptomsResult').style.display = 'block';
            updateSymptomsResult(count);
            
            // Scroll to result
            document.getElementById('symptomsResult').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }
        
        function updateSymptomsResult(count) {
            const resultText = document.getElementById('symptomsResultText');
            
            let message = '<div style="margin-bottom: 15px;"><strong>·Éõ·Éù·Éú·Éò·É®·Éú·É£·Éö·Éò ·É°·Éò·Éõ·Éû·É¢·Éù·Éõ·Éî·Éë·Éò·É° ·É†·Éê·Éù·Éì·Éî·Éú·Éù·Éë·Éê:</strong> ' + count + '</div>';
            message += '<div style="line-height: 1.8;">';
            message += '·Éõ·Éò·Éú·Éò·Éõ·É£·Éõ ·Éî·É†·Éó·Éò ·Éõ·Éù·Éú·Éò·É®·Éú·É£·Éö·Éò ·Éû·Éê·É°·É£·ÉÆ·Éò ·É®·Éî·É°·Éê·É´·Éö·Éù·Éê ·Éò·Éß·Éù·É° ·Éì·Éê·Éõ·Éù·Éô·Éò·Éì·Éî·Éë·É£·Éö·Éî·Éë·Éò·É° ·É†·Éò·É°·Éô·Éò·É° ·Éõ·Éê·É©·Éï·Éî·Éú·Éî·Éë·Éî·Éö·Éò. ';
            message += '<strong>·É†·Éê·É™ ·É£·É§·É†·Éù ·Éõ·Éê·É¶·Éê·Éö·Éò·Éê ·É®·Éî·Éì·Éî·Éí·Éò, ·Éõ·Éò·Éó ·Éõ·Éê·É¶·Éê·Éö·Éò·Éê ·Éì·Éê·Éõ·Éù·Éô·Éò·Éì·Éî·Éë·É£·Éö·Éî·Éë·Éò·É° ·Éê·É†·É°·Éî·Éë·Éù·Éë·Éò·É° ·Éê·Éö·Éë·Éê·Éó·Éù·Éë·Éê.</strong>';
            message += '</div>';
            
            resultText.innerHTML = message;
        }
        
        function backToReadinessMenu() {
            showSection('readiness');
        }
        
        // ============ READINESS SUMMARY VIEW ============
        
        function showReadinessSummaryView() {
            // Hide all steps
            document.getElementById('readinessStep1').style.display = 'none';
            document.getElementById('readinessStep2a').style.display = 'none';
            document.getElementById('readinessStep2b').style.display = 'none';
            document.getElementById('readinessStep3').style.display = 'none';
            document.getElementById('readinessStep4').style.display = 'none';
            document.getElementById('readinessStep5').style.display = 'none';
            
            // Show summary
            displayReadinessSummaryView();
            document.getElementById('readinessStep6').style.display = 'block';
        }
        
        function displayReadinessSummaryView() {
            const u = app.users[user.email];
            const r = u.readiness;
            
            const stageLabels = {
                'precontemplation': '1. ·Éû·É†·Éî·Éí·Éê·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî·Éë·Éê',
                'contemplation': '2. ·Éõ·É°·ÉØ·Éî·Éö·Éù·Éë·Éê',
                'preparation': '3. ·Éì·Éê·Éí·Éî·Éí·Éõ·Éï·Éê',
                'action': '4. ·Éõ·Éù·É•·Éõ·Éî·Éì·Éî·Éë·Éê',
                'maintenance': '5. ·É™·Éï·Éö·Éò·Éö·Éî·Éë·Éò·É° ·É®·Éî·Éú·Éê·É†·É©·É£·Éú·Éî·Éë·Éê'
            };
            
            const stageDescriptions = {
                'precontemplation': '·Éê·Éõ ·Éì·É†·Éù·É° ·É®·Éî·Éú ·Éï·Éî·É†·É™ ·Éô·Éò ·Éê·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî·Éë, ·É†·Éù·Éõ ·É®·Éî·Éú ·É†·Éê·Éõ·Éî·Éú·Éê·Éò·É†·Éê·Éì ·É£·Éú·Éì·Éê ·É®·Éî·É™·Éï·Éê·Éö·Éù ·É®·Éî·Éú·Éò ·É•·É™·Éî·Éï·Éê. ·Éò·É•·Éú·Éî·Éë ·Éí·Éê·É†·É®·Éî·Éõ·Éù·Éõ·Éß·Éù·É§·Éî·Éë·Éõ·Éê ·É®·Éî·Éú·Éò·É®·Éú·Éî·É°, ·É†·Éù·Éõ ·É®·Éî·Éú ·Éõ·Éù·Éò·ÉÆ·Éõ·Éê·É† ·Éú·Éò·Éï·Éó·Éò·Éî·É†·Éî·Éë·Éê·É° ·Éì·Éê ·Éí·Éê·Éõ·Éù·ÉÆ·Éê·É¢·Éî·É° ·Éê·É¶·Éî·Éö·Éï·Éî·Éë·Éê, ·Éõ·Éê·Éí·É†·Éê·Éõ ·Éû·Éò·É†·Éê·Éì·Éê·Éì ·É®·Éî·Éú ·Éï·Éî·É†·Éê·É§·Éî·É†·É° ·Éï·Éî·É† ·Éê·Éõ·É©·Éú·Éî·Éï.',
                'contemplation': '·Éî·É° ·Éê·É†·Éò·É° ·Éì·É†·Éù, ·É†·Éù·Éì·Éî·É°·Éê·É™ ·É®·Éî·Éú ·Éò·É¨·Éß·Éî·Éë ·É©·Éê·É§·Éò·É•·É†·Éî·Éë·Éê·É° ·É®·Éî·É™·Éï·Éö·Éò·É° ·É®·Éî·É°·Éê·É´·Éö·Éî·Éë·Éö·Éù·Éë·Éê·Éñ·Éî. ‚Äû·Éò·É•·Éú·Éî·Éë ·Éõ·Éî ·Éõ·É≠·Éò·É†·Éì·Éî·Éë·Éê, ·É†·Éù·Éõ ·É™·Éù·É¢·Éê ·É®·Éî·Éï·Éò·É™·Éï·Éê·Éö·Éù", ·Éê·Éú ‚Äû·Éõ·Éî·Éõ·Éí·Éù·Éú·Éò ·Éõ·Éî ·É£·Éô·Éï·Éî ·Éï·Éî·É¶·Éê·É† ·Éï·Éê·Éô·Éù·Éú·É¢·É†·Éù·Éö·Éî·Éë ·Éõ·Éù·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê·É°". ·Éê·Éõ ·Éî·É¢·Éê·Éû·Éñ·Éî ·É®·Éî·Éú ·É£·Éô·Éï·Éî ·Éò·É¨·Éß·Éî·Éë ·Éò·Éõ·Éò·É° ·Éí·Éê·Éê·Éñ·É†·Éî·Éë·Éê·É°, ·É†·Éù·Éõ ·É®·Éî·Éú·Éò ·É•·É™·Éî·Éï·Éê ·Éê·É† ·É®·Éî·Éî·É°·Éê·Éë·Éê·Éõ·Éî·Éë·Éê ·Éò·Éõ ·É™·ÉÆ·Éù·Éï·É†·Éî·Éë·Éê·É°, ·É†·Éù·Éõ·Éî·Éö·Éò·É™ ·Éí·Éò·Éú·Éì·Éù·Éì·Éê, ·É†·Éù·Éõ ·É¨·Éê·Éí·Éî·Éõ·Éê·É†·Éó·Éê.',
                'preparation': '·Éõ·Éî·É°·Éê·Éõ·Éî ·Éî·É¢·Éê·Éû·Éñ·Éî ·Éí·Éê·Éì·Éê·É°·Éï·Éö·Éò·É°·Éê·É° ·É®·Éî·Éú ·Éì·Éê·É†·É¨·Éõ·É£·Éú·Éî·Éë·É£·Éö·Éò ·ÉÆ·Éê·É†, ·É†·Éù·Éõ ·É£·Éú·Éì·Éê ·É®·Éî·É™·Éï·Éê·Éö·Éù ·É®·Éî·Éú·Éò ·É•·É™·Éî·Éï·Éê ·Éì·Éê ·Éò·É¨·Éß·Éî·Éë ·Éê·Éõ ·É™·Éï·Éö·Éò·Éö·Éî·Éë·Éî·Éë·Éò·É° ·Éì·Éê·Éí·Éî·Éí·Éõ·Éï·Éê·É°. ·Éê·Éõ ·Éî·É¢·Éê·Éû·Éñ·Éî ·É®·Éî·Éú ·Éí·Éê·Éú·Éò·ÉÆ·Éò·Éö·Éê·Éï ·Éí·Éñ·Éî·Éë·É°, ·É†·Éù·Éõ·Éö·Éî·Éë·Éò·É™ ·Éí·Éê·Éõ·Éù·Éí·Éê·Éì·Éí·Éî·Éë·Éù·Éì·Éê ·Éõ·Éù·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê·É°·Éó·Éê·Éú ·Éë·É†·É´·Éù·Éö·Éê·É®·Éò.',
                'action': '·Éê·Éõ ·Éî·É¢·Éê·Éû·Éñ·Éî ·É®·Éî·Éú ·Éõ·Éò·É∞·Éß·Éï·Éî·Éë·Éò ·Éí·Éî·Éí·Éõ·Éê·É°, ·É†·Éù·Éõ·Éî·Éö·Éò·É™ ·É¨·Éò·Éú·Éê ·Éî·É¢·Éê·Éû·Éñ·Éî ·É®·Éî·Éò·Éõ·É£·É®·Éê·Éï·Éî. ·É®·Éî·Éú ·Éò·É¨·Éß·Éî·Éë ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éê·É°.',
                'maintenance': '·Éó·É£ ·É®·Éî·Éú ·É®·Éî·É´·Éî·Éö·Éò 6 ·Éó·Éï·Éò·É° ·Éê·Éú ·Éõ·Éî·É¢·Éò·É° ·Éí·Éê·Éú·Éõ·Éê·Éï·Éö·Éù·Éë·Éê·É®·Éò ·Éó·Éê·Éú·Éõ·Éò·Éõ·Éì·Éî·Éï·É†·É£·Éö·Éê·Éì ·Éì·Éê·É†·É©·Éî·Éú·Éò·Éö·Éò·Éß·Éê·Éï·Éò ·É¨·Éò·Éú·Éê ·Éî·É¢·Éê·Éû·Éî·Éë·Éñ·Éî ·É®·Éî·Éõ·É£·É®·Éê·Éï·Éî·Éë·É£·Éö·Éò ·Éõ·Éù·É•·Éõ·Éî·Éì·Éî·Éë·Éò·É° ·Éí·Éî·Éí·Éõ·Éò·É° ·É§·Éê·É†·Éí·Éö·Éî·Éë·É®·Éò, ·É®·Éî·Éú ·Éí·Éê·Éì·Éê·ÉÆ·Éï·Éî·Éì·Éò ·É™·Éï·Éö·Éò·Éö·Éî·Éë·Éî·Éë·Éò·É° ·É®·Éî·Éú·Éê·É†·É©·É£·Éú·Éî·Éë·Éò·É° ·Éî·É¢·Éê·Éû·Éñ·Éî.'
            };
            
            let html = '';
            
            // Stage (clickable to expand)
            html += '<div onclick="toggleStageDetails()" style="margin-bottom: 20px; padding: 12px; background: #f0f4ff; border-radius: 8px; border-left: 4px solid #667eea; cursor: pointer; transition: all 0.2s;" onmouseover="this.style.background=\'#e0e7ff\'" onmouseout="this.style.background=\'#f0f4ff\'">';
            html += '<div style="color: #667eea; font-weight: 600; margin-bottom: 5px; font-size: 14px;">·É®·Éî·Éú·Éò ·Éî·É¢·Éê·Éû·Éò: <span style="font-size: 12px; color: #999;">(·Éì·Éê·Éê·É≠·Éò·É†·Éî ·Éì·Éî·É¢·Éê·Éö·Éî·Éë·Éò·É°·Éó·Éï·Éò·É°)</span></div>';
            html += '<div style="color: #1f2937; font-size: 16px;">' + stageLabels[r.stage] + '</div>';
            html += '</div>';
            
            // All stages details (hidden by default)
            html += '<div id="allStagesDetails" style="display: none; margin-bottom: 20px; padding: 20px; background: white; border-radius: 8px; border: 2px solid #e0e7ff;">';
            html += '<h4 style="color: #667eea; margin-bottom: 15px; font-size: 16px;">·Éß·Éï·Éî·Éö·Éê ·Éî·É¢·Éê·Éû·Éò:</h4>';
            
            for (let stageKey in stageLabels) {
                const isCurrentStage = stageKey === r.stage;
                html += '<div style="margin-bottom: 15px; padding: 12px; background: ' + (isCurrentStage ? '#f0f4ff' : '#f9fafb') + '; border-radius: 6px; border-left: 3px solid ' + (isCurrentStage ? '#667eea' : '#e5e7eb') + ';">';
                html += '<div style="font-weight: 600; color: #1f2937; margin-bottom: 5px; font-size: 14px;">' + stageLabels[stageKey] + (isCurrentStage ? ' ‚≠ê' : '') + '</div>';
                html += '<div style="color: #666; font-size: 13px; line-height: 1.6; text-align: justify;">' + stageDescriptions[stageKey] + '</div>';
                html += '</div>';
            }
            
            html += '</div>';
            
            // Cycle awareness (clickable to expand)
            html += '<div onclick="toggleCycleDetails()" style="margin-bottom: 20px; padding: 12px; background: #f0f4ff; border-radius: 8px; border-left: 4px solid #667eea; cursor: pointer; transition: all 0.2s;" onmouseover="this.style.background=\'#e0e7ff\'" onmouseout="this.style.background=\'#f0f4ff\'">';
            html += '<div style="color: #667eea; font-weight: 600; margin-bottom: 5px; font-size: 14px;">·Éõ·Éù·É¢·Éò·Éï·Éê·É™·Éò·Éò·É° ·Éë·É£·Éú·Éî·Éë·Éò·É° ·Éõ·Éù·Éú·Éê·É™·Éï·Éö·Éî·Éù·Éë·Éê: <span style="font-size: 12px; color: #999;">(·Éì·Éê·Éê·É≠·Éò·É†·Éî ·Éì·Éî·É¢·Éê·Éö·Éî·Éë·Éò·É°·Éó·Éï·Éò·É°)</span></div>';
            html += '<div style="color: #1f2937; font-size: 16px;">' + (r.cycleAwareness === 'yes' ? '·Éô·Éò, ·Éí·Éê·Éõ·Éù·Éõ·Éò·É™·Éì·Éò·Éê' : '·Éê·É†·Éê, ·Éê·É† ·É®·Éî·Éõ·Éò·Éõ·É©·Éú·Éî·Éï·Éò·Éê') + '</div>';
            html += '</div>';
            
            // Cycle explanation (hidden by default)
            html += '<div id="cycleExplanation" style="display: none; margin-bottom: 20px; padding: 20px; background: white; border-radius: 8px; border: 2px solid #e0e7ff;">';
            html += '<p style="color: #333; line-height: 1.8; margin-bottom: 15px; text-align: justify;">·Éí·Éê·Éú·Éô·É£·É†·Éú·Éî·Éë·Éò·É° ·Éû·É†·Éù·É™·Éî·É°·É°, ·Éò·É°·Éî·Éï·Éî ·É†·Éù·Éí·Éù·É†·É™ ·Éñ·Éù·Éí·Éê·Éì·Éê·Éì ·É™·ÉÆ·Éù·Éï·É†·Éî·Éë·Éê·É° ·Éê·É•·Éï·É° ·Éó·Éê·Éï·Éò·É°·Éò ·Éê·É¶·Éõ·Éê·Éï·Éê·Éö·Éò ·Éì·Éê ·Éì·Éê·É¶·Éõ·Éê·Éï·Éê·Éö·Éò ·Éî·É¢·Éê·Éû·Éî·Éë·Éò (·Éê·É§·É†·Éî·Éú·Éî·Éë·Éò ·Éì·Éê ·Éï·Éê·É†·Éì·Éú·Éî·Éë·Éò). ·Éê·É•·Éî·Éì·Éê·Éú ·Éí·Éê·Éõ·Éù·Éõ·Éì·Éò·Éú·Éê·É†·Éî ·Éê·Éë·É°·Éù·Éö·É£·É¢·É£·É†·Éê·Éì ·Éú·Éù·É†·Éõ·Éê·Éö·É£·É†·Éò·Éê, ·É†·Éù·Éõ ·É®·Éî·Éú ·Éí·É•·Éù·Éú·Éì·Éî·É° ·Éì·É¶·Éî·Éî·Éë·Éò, ·É†·Éù·Éõ·Éö·Éî·Éë·É®·Éò·É™ ·É®·Éî·Éú ·É™·ÉÆ·Éê·Éì·Éê·Éì ·Éí·Éî·É™·Éù·Éì·Éò·Éú·Éî·Éë·Éê ·É†·Éê·É¢·Éù·Éõ ·Éê·É†·Éò·É° ·Éê·É£·É™·Éò·Éö·Éî·Éë·Éî·Éö·Éò ·Éì·Éê·Éú·Éî·Éë·Éî·Éë·Éê, ·É®·Éî·Éú·Éò ·Éê·ÉÆ·Éê·Éö·Éò ·ÉØ·Éê·Éú·É°·Éê·É¶·Éò ·É™·ÉÆ·Éù·Éï·É†·Éî·Éë·Éò·É° ·É®·Éî·É•·Éõ·Éú·Éò·É°·Éê·Éó·Éï·Éò·É° ·Éì·Éê ·Éî·É° ·Éì·É¶·Éî·Éî·Éë·Éò ·É®·Éî·Éò·É´·Éö·Éî·Éë·Éê ·É®·Éî·É™·Éï·Éê·Éö·Éù·Éú ·Éì·É¶·Éî·Éî·Éë·Éõ·Éê, ·É†·Éù·Éì·Éî·É°·Éê·É™ ·É®·Éî·Éú ·Éó·Éê·Éï·É° ·Éì·Éê·É£·É°·Éï·Éê·Éõ ·Éô·Éò·Éó·ÉÆ·Éï·Éî·Éë·É° ·É°·Éê·Éî·É†·Éó·Éù·Éì ·É†·Éê·É®·Éò ·Éí·É≠·Éò·É†·Éì·Éî·Éë·Éê ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éê·É°·Éó·Éê·Éú ·Éì·Éê·Éô·Éê·Éï·É®·Éò·É†·Éî·Éë·É£·Éö·Éò ·Éõ·Éó·Éî·Éö·Éò ·Éî·É° ·Éû·É†·Éù·Éë·Éö·Éî·Éõ·Éî·Éë·Éò.</p>';
            html += '<p style="color: #333; line-height: 1.8; margin-bottom: 15px; text-align: justify;">·É©·Éï·Éî·Éú·Éò ·Éõ·Éò·Éñ·Éê·Éú·Éò·Éê ·Éê·Éõ ·É†·Éó·É£·Éö ·Éû·Éî·É†·Éò·Éù·Éì·Éî·Éë·É®·Éò ·Éï·Éò·Éß·Éù·Éó ·Éì·Éê·Éõ·ÉÆ·Éõ·Éê·É†·Éî, ·É†·Éê·Éó·Éê ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éò·É° ·Éû·É†·Éù·É™·Éî·É°·Éò ·Éí·Éê·Éí·É†·É´·Éî·Éö·Éì·Éî·É° ·Éó·Éê·Éú·Éõ·Éò·Éõ·Éì·Éî·Éï·É†·É£·Éö·Éê·Éì.</p>';
            html += '<p style="color: #667eea; font-weight: 600; line-height: 1.8; text-align: justify;">·É†·Éù·Éì·Éî·É°·Éê·É™ ·É´·Éê·Éö·Éò·Éê·Éú ·Éê·ÉÆ·Éö·Éù·É° ·ÉÆ·Éê·É† ·Éì·Éê·Éú·Éî·Éë·Éî·Éë·Éê·É°·Éó·Éê·Éú, ·Éí·Éê·Éò·ÉÆ·É°·Éî·Éú·Éî ·É†·Éê·É¢·Éù·Éõ ·Éò·É¨·Éß·Éî·Éë·Éì·Éò!</p>';
            html += '</div>';
            
            // Motivation score (read-only)
            html += '<div style="margin-bottom: 20px; padding: 12px; background: #f0f4ff; border-radius: 8px; border-left: 4px solid #10b981;">';
            html += '<div style="color: #10b981; font-weight: 600; margin-bottom: 5px; font-size: 14px;">·Éõ·Éù·É¢·Éò·Éï·Éê·É™·Éò·Éò·É° ·É•·É£·Éö·Éê:</div>';
            html += '<div style="color: #1f2937; font-size: 24px; font-weight: bold;">' + r.motivationScore + '/10</div>';
            html += '</div>';
            
            // Times (editable)
            html += '<div style="margin-bottom: 20px; padding: 20px; background: #fff7ed; border-radius: 8px; border-left: 4px solid #f59e0b;">';
            html += '<div style="color: #f59e0b; font-weight: 600; margin-bottom: 15px; font-size: 14px;">·É®·Éî·Éõ·Éù·É¨·Éõ·Éî·Éë·Éò·É° ·Éì·É†·Éù (·É†·Éî·Éì·Éê·É•·É¢·Éò·É†·Éî·Éë·Éê·Éì·Éò):</div>';
            
            html += '<div style="margin-bottom: 15px;">';
            html += '<label style="display: block; margin-bottom: 8px; color: #666; font-size: 14px;">‚è∞ ·Éõ·Éù·É¢·Éò·Éï·Éê·É™·Éò·Éò·É° ·É®·Éî·Éõ·Éù·É¨·Éõ·Éî·Éë·Éê:</label>';
            html += '<input type="time" id="editMotivationCheckTime" value="' + r.motivationCheckTime + '" style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 15px;">';
            html += '</div>';
            
            html += '<div>';
            html += '<label style="display: block; margin-bottom: 8px; color: #666; font-size: 14px;\">üìä ·É®·Éî·Éì·Éî·Éí·Éî·Éë·Éò·É° ·É®·Éî·Éõ·Éù·É¨·Éõ·Éî·Éë·Éê:</label>';
            html += '<input type="time" id="editResultsCheckTime" value="' + r.resultsCheckTime + '" onchange="saveReadinessTimes()" style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 15px;">';
            html += '</div>';
            
            html += '</div>';
            
            document.getElementById('readinessSummary').innerHTML = html;
            
            // Add onchange to motivation time as well
            setTimeout(() => {
                const motTimeInput = document.getElementById('editMotivationCheckTime');
                if (motTimeInput) {
                    motTimeInput.onchange = saveReadinessTimes;
                }
            }, 100);
        }
        
        function saveReadinessTimes() {
            const u = app.users[user.email];
            if (!u.readiness) return;
            
            const motivationCheckTime = document.getElementById('editMotivationCheckTime').value;
            const resultsCheckTime = document.getElementById('editResultsCheckTime').value;
            
            u.readiness.motivationCheckTime = motivationCheckTime;
            u.readiness.resultsCheckTime = resultsCheckTime;
            u.readiness.updatedAt = new Date().toISOString();
            
            save();
        }
        
        function toggleStageDetails() {
            const details = document.getElementById('allStagesDetails');
            if (details.style.display === 'none') {
                details.style.display = 'block';
            } else {
                details.style.display = 'none';
            }
        }
        
        function toggleCycleDetails() {
            const explanation = document.getElementById('cycleExplanation');
            if (explanation.style.display === 'none') {
                explanation.style.display = 'block';
            } else {
                explanation.style.display = 'none';
            }
        }
        
        // Step navigation
        function readinessNext1() {
            const selected = document.querySelector('input[name="readinessStage"]:checked');
            if (!selected) {
                alert('·Éí·Éó·ÉÆ·Éù·Éï ·Éê·Éò·É†·É©·Éò·Éù ·Éî·É¢·Éê·Éû·Éò');
                return;
            }
            document.getElementById('readinessStep1').style.display = 'none';
            document.getElementById('readinessStep2a').style.display = 'block';
        }
        
        function readinessBack2a() {
            document.getElementById('readinessStep2a').style.display = 'none';
            document.getElementById('readinessStep1').style.display = 'block';
        }
        
        function readinessNext2a() {
            document.getElementById('readinessStep2a').style.display = 'none';
            document.getElementById('readinessStep2b').style.display = 'block';
        }
        
        function readinessBack2b() {
            document.getElementById('readinessStep2b').style.display = 'none';
            document.getElementById('readinessStep2a').style.display = 'block';
        }
        
        function readinessNext2b() {
            const selected = document.querySelector('input[name="cycleAwareness"]:checked');
            if (!selected) {
                alert('·Éí·Éó·ÉÆ·Éù·Éï ·Éê·Éò·É†·É©·Éò·Éù ·Éû·Éê·É°·É£·ÉÆ·Éò');
                return;
            }
            document.getElementById('readinessStep2b').style.display = 'none';
            document.getElementById('readinessStep3').style.display = 'block';
        }
        
        function readinessBack3() {
            document.getElementById('readinessStep3').style.display = 'none';
            document.getElementById('readinessStep2b').style.display = 'block';
        }
        
        function readinessNext3() {
            document.getElementById('readinessStep3').style.display = 'none';
            document.getElementById('readinessStep4').style.display = 'block';
        }
        
        function readinessBack4() {
            document.getElementById('readinessStep4').style.display = 'none';
            document.getElementById('readinessStep3').style.display = 'block';
        }
        
        function readinessNext4() {
            const time = document.getElementById('motivationCheckTime').value;
            if (!time) {
                alert('·Éí·Éó·ÉÆ·Éù·Éï ·Éê·Éò·É†·É©·Éò·Éù ·Éì·É†·Éù');
                return;
            }
            document.getElementById('readinessStep4').style.display = 'none';
            document.getElementById('readinessStep5').style.display = 'block';
        }
        
        function readinessBack5() {
            document.getElementById('readinessStep5').style.display = 'none';
            document.getElementById('readinessStep4').style.display = 'block';
        }
        
        function readinessNext5() {
            const time = document.getElementById('resultsCheckTime').value;
            if (!time) {
                alert('·Éí·Éó·ÉÆ·Éù·Éï ·Éê·Éò·É†·É©·Éò·Éù ·Éì·É†·Éù');
                return;
            }
            
            // Save data first
            const u = app.users[user.email];
            const stage = document.querySelector('input[name="readinessStage"]:checked').value;
            const cycleAwareness = document.querySelector('input[name="cycleAwareness"]:checked').value;
            const motivationScore = parseInt(document.getElementById('motivationScore').value);
            const motivationCheckTime = document.getElementById('motivationCheckTime').value;
            const resultsCheckTime = document.getElementById('resultsCheckTime').value;
            
            if (!u.readiness) u.readiness = {};
            
            u.readiness = {
                stage: stage,
                cycleAwareness: cycleAwareness,
                motivationScore: motivationScore,
                motivationCheckTime: motivationCheckTime,
                resultsCheckTime: resultsCheckTime,
                updatedAt: new Date().toISOString()
            };
            
            // Add to motivation history
            if (!u.motivationHistory) u.motivationHistory = [];
            u.motivationHistory.push({
                date: new Date().toISOString(),
                score: motivationScore
            });
            
            save();
            
            // Hide step 5 and show menu with summary
            document.getElementById('readinessStep5').style.display = 'none';
            document.getElementById('readinessInitialMenu').style.display = 'block';
            showReadinessSummaryInMenu();
            
            alert('‚úì ·É®·Éî·Éú·Éê·ÉÆ·É£·Éö·Éò·Éê ·É¨·Éê·É†·Éõ·Éê·É¢·Éî·Éë·Éò·Éó!');
        }
        
        function readinessBack6() {
            // Go back to full flow (restart from step 1)
            document.getElementById('readinessStep6').style.display = 'none';
            document.getElementById('readinessStep1').style.display = 'block';
        }
        
        function displayReadinessSummary() {
            const stageLabels = {
                'precontemplation': '1. ·Éû·É†·Éî·Éí·Éê·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî·Éë·Éê',
                'contemplation': '2. ·Éõ·É°·ÉØ·Éî·Éö·Éù·Éë·Éê',
                'preparation': '3. ·Éì·Éê·Éí·Éî·Éí·Éõ·Éï·Éê',
                'action': '4. ·Éõ·Éù·É•·Éõ·Éî·Éì·Éî·Éë·Éê',
                'maintenance': '5. ·É™·Éï·Éö·Éò·Éö·Éî·Éë·Éò·É° ·É®·Éî·Éú·Éê·É†·É©·É£·Éú·Éî·Éë·Éê'
            };
            
            const stage = document.querySelector('input[name="readinessStage"]:checked').value;
            const cycleAwareness = document.querySelector('input[name="cycleAwareness"]:checked').value;
            const motivationScore = document.getElementById('motivationScore').value;
            const motivationCheckTime = document.getElementById('motivationCheckTime').value;
            const resultsCheckTime = document.getElementById('resultsCheckTime').value;
            
            let html = '';
            
            // Stage
            html += '<div style="margin-bottom: 20px; padding: 12px; background: #f0f4ff; border-radius: 8px; border-left: 4px solid #667eea;">';
            html += '<div style="color: #667eea; font-weight: 600; margin-bottom: 5px; font-size: 14px;">·É®·Éî·Éú·Éò ·Éî·É¢·Éê·Éû·Éò:</div>';
            html += '<div style="color: #1f2937; font-size: 16px;">' + stageLabels[stage] + '</div>';
            html += '</div>';
            
            // Cycle awareness
            html += '<div style="margin-bottom: 20px; padding: 12px; background: #f0f4ff; border-radius: 8px; border-left: 4px solid #667eea;">';
            html += '<div style="color: #667eea; font-weight: 600; margin-bottom: 5px; font-size: 14px;">·Éõ·Éù·É¢·Éò·Éï·Éê·É™·Éò·Éò·É° ·Éë·É£·Éú·Éî·Éë·Éò·É° ·Éõ·Éù·Éú·Éê·É™·Éï·Éö·Éî·Éù·Éë·Éê:</div>';
            html += '<div style="color: #1f2937; font-size: 16px;">' + (cycleAwareness === 'yes' ? '·Éô·Éò, ·Éí·Éê·Éõ·Éù·Éõ·Éò·É™·Éì·Éò·Éê' : '·Éê·É†·Éê, ·Éê·É† ·É®·Éî·Éõ·Éò·Éõ·É©·Éú·Éî·Éï·Éò·Éê') + '</div>';
            html += '</div>';
            
            // Motivation score
            html += '<div style="margin-bottom: 20px; padding: 12px; background: #f0f4ff; border-radius: 8px; border-left: 4px solid #10b981;">';
            html += '<div style="color: #10b981; font-weight: 600; margin-bottom: 5px; font-size: 14px;">·Éõ·Éù·É¢·Éò·Éï·Éê·É™·Éò·Éò·É° ·É•·É£·Éö·Éê:</div>';
            html += '<div style="color: #1f2937; font-size: 24px; font-weight: bold;">' + motivationScore + '/10</div>';
            html += '</div>';
            
            // Times
            html += '<div style="margin-bottom: 20px; padding: 12px; background: #fff7ed; border-radius: 8px; border-left: 4px solid #f59e0b;">';
            html += '<div style="color: #f59e0b; font-weight: 600; margin-bottom: 10px; font-size: 14px;">·É®·Éî·Éõ·Éù·É¨·Éõ·Éî·Éë·Éò·É° ·Éì·É†·Éù:</div>';
            html += '<div style="color: #1f2937; font-size: 15px; margin-bottom: 8px;">‚è∞ ·Éõ·Éù·É¢·Éò·Éï·Éê·É™·Éò·Éò·É° ·É®·Éî·Éõ·Éù·É¨·Éõ·Éî·Éë·Éê: <strong>' + motivationCheckTime + '</strong></div>';
            html += '<div style="color: #1f2937; font-size: 15px;">üìä ·É®·Éî·Éì·Éî·Éí·Éî·Éë·Éò·É° ·É®·Éî·Éõ·Éù·É¨·Éõ·Éî·Éë·Éê: <strong>' + resultsCheckTime + '</strong></div>';
            html += '</div>';
            
            document.getElementById('readinessSummary').innerHTML = html;
        }
        
        function readinessSave() {
            const u = app.users[user.email];
            
            // Get times from editable fields (in summary view)
            let motivationCheckTime, resultsCheckTime;
            
            const editMotivationTime = document.getElementById('editMotivationCheckTime');
            const editResultsTime = document.getElementById('editResultsCheckTime');
            
            if (editMotivationTime && editResultsTime) {
                // Saving from summary view (editable fields exist)
                motivationCheckTime = editMotivationTime.value;
                resultsCheckTime = editResultsTime.value;
            } else {
                // First time save (from step flow)
                motivationCheckTime = document.getElementById('motivationCheckTime').value;
                resultsCheckTime = document.getElementById('resultsCheckTime').value;
            }
            
            // Only get these on first save (when going through full flow)
            const isFirstSave = !u.readiness || !u.readiness.stage;
            
            let stage, cycleAwareness, motivationScore;
            
            if (isFirstSave) {
                stage = document.querySelector('input[name="readinessStage"]:checked').value;
                cycleAwareness = document.querySelector('input[name="cycleAwareness"]:checked').value;
                motivationScore = parseInt(document.getElementById('motivationScore').value);
            } else {
                // Keep existing values
                stage = u.readiness.stage;
                cycleAwareness = u.readiness.cycleAwareness;
                motivationScore = u.readiness.motivationScore;
            }
            
            // Check if motivation score changed (only on first save)
            const isNewScore = isFirstSave || !u.readiness || u.readiness.motivationScore !== motivationScore;
            
            if (!u.readiness) u.readiness = {};
            
            u.readiness = {
                stage: stage,
                cycleAwareness: cycleAwareness,
                motivationScore: motivationScore,
                motivationCheckTime: motivationCheckTime,
                resultsCheckTime: resultsCheckTime,
                updatedAt: new Date().toISOString()
            };
            
            // Add to motivation history ONLY if score changed
            if (isNewScore) {
                if (!u.motivationHistory) u.motivationHistory = [];
                u.motivationHistory.push({
                    date: new Date().toISOString(),
                    score: motivationScore
                });
            }
            
            save();
            
            // Reset to step 1 (but next time will show summary)
            document.getElementById('readinessStep6').style.display = 'none';
            document.getElementById('readinessStep1').style.display = 'block';
            
            alert('‚úì ·É®·Éî·Éú·Éê·ÉÆ·É£·Éö·Éò·Éê ·É¨·Éê·É†·Éõ·Éê·É¢·Éî·Éë·Éò·Éó!');
            showSection('motivations');
        }
        
        // Radio button visual feedback
        document.addEventListener('DOMContentLoaded', function() {
            // Stage selection radio styling
            document.querySelectorAll('input[name="readinessStage"]').forEach(radio => {
                radio.addEventListener('change', function() {
                    document.querySelectorAll('input[name="readinessStage"]').forEach(r => {
                        r.parentElement.style.borderColor = '#e5e7eb';
                        r.parentElement.style.background = 'white';
                    });
                    if (this.checked) {
                        this.parentElement.style.borderColor = '#667eea';
                        this.parentElement.style.background = '#f0f4ff';
                    }
                });
            });
            
            // Cycle awareness radio styling
            document.querySelectorAll('input[name="cycleAwareness"]').forEach(radio => {
                radio.addEventListener('change', function() {
                    document.querySelectorAll('input[name="cycleAwareness"]').forEach(r => {
                        r.parentElement.style.borderColor = '#e5e7eb';
                        r.parentElement.style.background = 'white';
                    });
                    if (this.checked) {
                        this.parentElement.style.borderColor = '#667eea';
                        this.parentElement.style.background = '#f0f4ff';
                    }
                });
            });
        });


        // ============ SAVINGS FUNCTIONS ============
        
        function showSavings() {
            showSection('savings');
            const u = app.users[user.email];
            
            // Check if savings config exists
            if (u.savings && (u.savings.enableMoney || u.savings.enableTime)) {
                // Show display view
                document.getElementById('savingsConfig').style.display = 'none';
                document.getElementById('savingsDisplay').style.display = 'block';
                calculateSavings();
            } else {
                // Show config view (first time)
                document.getElementById('savingsConfig').style.display = 'block';
                document.getElementById('savingsDisplay').style.display = 'none';
                loadSavingsConfig();
            }
        }
        
        function loadSavingsConfig() {
            const u = app.users[user.email];
            if (!u.savings) return;
            
            const s = u.savings;
            
            // Load money config
            if (s.enableMoney) {
                document.getElementById('enableMoneySavings').checked = true;
                document.getElementById('moneyInputSection').style.display = 'block';
                if (s.dailyMoneyCost) {
                    document.getElementById('dailyMoneyCost').value = s.dailyMoneyCost;
                }
            }
            
            // Load time config
            if (s.enableTime) {
                document.getElementById('enableTimeSavings').checked = true;
                document.getElementById('timeInputSection').style.display = 'block';
                if (s.dailyTimeHours) {
                    document.getElementById('dailyTimeHours').value = s.dailyTimeHours;
                }
            }
        }
        
        function toggleMoneySavings() {
            const checked = document.getElementById('enableMoneySavings').checked;
            document.getElementById('moneyInputSection').style.display = checked ? 'block' : 'none';
        }
        
        function toggleTimeSavings() {
            const checked = document.getElementById('enableTimeSavings').checked;
            document.getElementById('timeInputSection').style.display = checked ? 'block' : 'none';
        }
        
        function saveSavingsConfig() {
            const u = app.users[user.email];
            
            const enableMoney = document.getElementById('enableMoneySavings').checked;
            const enableTime = document.getElementById('enableTimeSavings').checked;
            
            if (!enableMoney && !enableTime) {
                alert('·Éí·Éó·ÉÆ·Éù·Éï ·É©·Éê·É†·Éó·Éî ·Éõ·Éò·Éú·Éò·Éõ·É£·Éõ ·Éî·É†·Éó·Éò ·Éù·É§·É™·Éò·Éê');
                return;
            }
            
            let dailyMoneyCost = 0;
            let dailyTimeHours = 0;
            
            if (enableMoney) {
                dailyMoneyCost = parseFloat(document.getElementById('dailyMoneyCost').value) || 0;
                if (dailyMoneyCost <= 0) {
                    alert('·Éí·Éó·ÉÆ·Éù·Éï ·É®·Éî·Éò·Éß·Éï·Éê·Éú·Éù ·Éß·Éù·Éï·Éî·Éö·Éì·É¶·Éò·É£·É†·Éò ·ÉÆ·Éê·É†·ÉØ·Éò');
                    return;
                }
            }
            
            if (enableTime) {
                dailyTimeHours = parseFloat(document.getElementById('dailyTimeHours').value) || 0;
                if (dailyTimeHours <= 0) {
                    alert('·Éí·Éó·ÉÆ·Éù·Éï ·É®·Éî·Éò·Éß·Éï·Éê·Éú·Éù ·Éß·Éù·Éï·Éî·Éö·Éì·É¶·Éò·É£·É†·Éò ·Éì·É†·Éù');
                    return;
                }
            }
            
            if (!u.savings) u.savings = {};
            
            u.savings = {
                enableMoney: enableMoney,
                enableTime: enableTime,
                dailyMoneyCost: dailyMoneyCost,
                dailyTimeHours: dailyTimeHours,
                updatedAt: new Date().toISOString()
            };
            
            save();
            
            // Hide config, show display
            document.getElementById('savingsConfig').style.display = 'none';
            calculateSavings();
            document.getElementById('savingsDisplay').style.display = 'block';
            
            alert('‚úì ·É®·Éî·Éú·Éê·ÉÆ·É£·Éö·Éò·Éê ·É¨·Éê·É†·Éõ·Éê·É¢·Éî·Éë·Éò·Éó!');
        }
        
        function editSavingsConfig() {
            // Hide display, show config
            document.getElementById('savingsDisplay').style.display = 'none';
            document.getElementById('savingsConfig').style.display = 'block';
            
            // Load existing values
            loadSavingsConfig();
        }
        
        function calculateSavings() {
            const u = app.users[user.email];
            if (!u.savings) return;
            
            const s = u.savings;
            
            // Get sober days from streak
            let soberDays = 0;
            if (u.streak) {
                if (typeof u.streak === 'number') {
                    soberDays = u.streak;
                } else if (u.streak.current > 0) {
                    soberDays = u.streak.current;
                }
            }
            
            // Calculate money savings
            if (s.enableMoney && s.dailyMoneyCost) {
                const totalMoney = soberDays * s.dailyMoneyCost;
                const yearlyMoney = s.dailyMoneyCost * 365;
                
                document.getElementById('moneySavingsDisplay').style.display = 'block';
                document.getElementById('totalMoneySaved').textContent = totalMoney.toFixed(2) + ' ‚Çæ';
                
                document.getElementById('yearlyMoneyProjection').style.display = 'block';
                document.getElementById('yearlyMoneySaved').textContent = yearlyMoney.toFixed(2) + ' ‚Çæ';
            } else {
                document.getElementById('moneySavingsDisplay').style.display = 'none';
                document.getElementById('yearlyMoneyProjection').style.display = 'none';
            }
            
            // Calculate time savings
            if (s.enableTime && s.dailyTimeHours) {
                const totalHours = soberDays * s.dailyTimeHours;
                const yearlyHours = s.dailyTimeHours * 365;
                
                // Show only in HOURS
                const timeText = `${totalHours.toFixed(1)} ·É°·Éê·Éê·Éó·Éò`;
                const yearlyText = `${yearlyHours.toFixed(1)} ·É°·Éê·Éê·Éó·Éò`;
                
                document.getElementById('timeSavingsDisplay').style.display = 'block';
                document.getElementById('totalTimeSaved').textContent = timeText;
                
                document.getElementById('yearlyTimeProjection').style.display = 'block';
                document.getElementById('yearlyTimeSaved').textContent = yearlyText;
            } else {
                document.getElementById('timeSavingsDisplay').style.display = 'none';
                document.getElementById('yearlyTimeProjection').style.display = 'none';
            }
        }

        // ============ GOALS FUNCTIONS ============
        
        let currentGoalId = null;
        
        function showGoals() {
            if (!user || !user.email) {
                showSection('login');
                return;
            }
            showSection('goals');
            OLD_loadGoalsList();
        }
        
        function OLD_loadGoalsList() {
            if (!user || !user.email) return;
            
            const u = app.users[user.email];
            if (!u) return;
            
            if (!u.goals) u.goals = [];
            
            const container = document.getElementById('goalsList');
            
            if (u.goals.length === 0) {
                container.innerHTML = '<p style="color: #999; text-align: center; padding: 40px 0;">·ÉØ·Éî·É† ·Éê·É† ·Éí·Éê·É•·Éï·É° ·Éì·Éê·Éõ·Éê·É¢·Éî·Éë·É£·Éö·Éò ·Éõ·Éò·Éñ·Éú·Éî·Éë·Éò</p>';
                return;
            }
            
            let html = '';
            u.goals.forEach((goal, idx) => {
                const timeframeText = getTimeframeText(goal.timeframe, goal.customTimeframe);
                const escapedText = goal.text.replace(/'/g, '&#39;').replace(/"/g, '&quot;');
                
                html += '<div style="background: #f9fafb; padding: 20px; border-radius: 12px; margin-bottom: 15px; border-left: 4px solid #667eea;">';
                html += '<div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 15px;">';
                html += '<div style="flex: 1;">';
                html += '<h3 style="color: #1f2937; font-size: 18px; margin-bottom: 8px;">üéØ ' + escapedText + '</h3>';
                html += '<div style="color: #667eea; font-size: 14px; font-weight: 600;">‚è∞ ' + timeframeText + '</div>';
                html += '</div>';
                html += '<div style="display: flex; gap: 8px;">';
                html += '<button onclick="window.editGoal(' + idx + '); return false;" style="background: none; border: none; font-size: 20px; cursor: pointer; padding: 4px;">‚úèÔ∏è</button>';
                html += '<button onclick="window.OLD_deleteGoal(' + idx + '); return false;" style="background: none; border: none; font-size: 20px; cursor: pointer; padding: 4px;">üóëÔ∏è</button>';
                html += '</div>';
                html += '</div>';
                
                if (goal.recoveryConnection) {
                    html += '<div style="background: white; padding: 12px; border-radius: 8px; border-left: 3px solid #10b981;">';
                    html += '<div style="font-size: 13px; color: #10b981; font-weight: 600; margin-bottom: 8px;">üíö ·Éô·Éê·Éï·É®·Éò·É†·Éò ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éê·É°·Éó·Éê·Éú:</div>';
                    html += '<div style="color: #374151; font-size: 14px; line-height: 1.6;">' + goal.recoveryConnection + '</div>';
                    html += '</div>';
                }
                
                html += '</div>';
            });
            
            container.innerHTML = html;
        }
        
        function getTimeframeText(timeframe, customTimeframe) {
            const timeframes = {
                '1_month': '1 ·Éó·Éï·Éî',
                '3_months': '3 ·Éó·Éï·Éî',
                '6_months': '6 ·Éó·Éï·Éî',
                '1_year': '1 ·É¨·Éî·Éö·Éò',
                '2_years': '2 ·É¨·Éî·Éö·Éò',
                '5_years': '5 ·É¨·Éî·Éö·Éò',
                'custom': customTimeframe || '·É°·ÉÆ·Éï·Éê ·Éï·Éê·Éì·Éê'
            };
            return timeframes[timeframe] || timeframe;
        }
        
        function showAddGoalModal() {
            currentGoalId = null;
            document.getElementById('goalModalTitle').textContent = 'üéØ ·Éê·ÉÆ·Éê·Éö·Éò ·Éõ·Éò·Éñ·Éê·Éú·Éò';
            document.getElementById('goalText').value = '';
            document.getElementById('goalTimeframe').value = '';
            document.getElementById('customTimeframe').value = '';
            document.getElementById('goalRecoveryConnection').value = '';
            document.getElementById('customTimeframeDiv').style.display = 'none';
            document.getElementById('goalModal').style.display = 'block';
        }
        
        function editGoal(idx) {
            if (!user || !user.email) return;
            
            const u = app.users[user.email];
            if (!u || !u.goals) return;
            
            const goal = u.goals[idx];
            if (!goal) return;
            
            currentGoalId = idx;
            document.getElementById('goalModalTitle').textContent = '‚úèÔ∏è ·Éõ·Éò·Éñ·Éú·Éò·É° ·É†·Éî·Éì·Éê·É•·É¢·Éò·É†·Éî·Éë·Éê';
            document.getElementById('goalText').value = goal.text;
            document.getElementById('goalTimeframe').value = goal.timeframe;
            document.getElementById('goalRecoveryConnection').value = goal.recoveryConnection || '';
            
            if (goal.timeframe === 'custom') {
                document.getElementById('customTimeframe').value = goal.customTimeframe || '';
                document.getElementById('customTimeframeDiv').style.display = 'block';
            } else {
                document.getElementById('customTimeframeDiv').style.display = 'none';
            }
            
            document.getElementById('goalModal').style.display = 'block';
        }
        window.editGoal = editGoal;
        
        function OLD_deleteGoal(idx) {
            if (!confirm('·Éì·Éê·É†·É¨·Éõ·É£·Éú·Éî·Éë·É£·Éö·Éò ·ÉÆ·Éê·É† ·É†·Éù·Éõ ·Éí·É°·É£·É†·É° ·Éê·Éõ ·Éõ·Éò·Éñ·Éú·Éò·É° ·É¨·Éê·É®·Éö·Éê?')) return;
            
            if (!user || !user.email) return;
            
            const u = app.users[user.email];
            if (!u || !u.goals) return;
            
            u.goals.splice(idx, 1);
            save();
            OLD_loadGoalsList();
        }
        window.OLD_deleteGoal = OLD_deleteGoal;
        
        function saveGoal() {
            if (!user || !user.email) {
                alert('·Éí·Éó·ÉÆ·Éù·Éï ·É®·Éî·Éì·Éò·ÉÆ·Éê·É† ·É°·Éò·É°·É¢·Éî·Éõ·Éê·É®·Éò');
                return;
            }
            
            const text = document.getElementById('goalText').value.trim();
            const timeframe = document.getElementById('goalTimeframe').value;
            const customTimeframe = document.getElementById('customTimeframe').value.trim();
            const recoveryConnection = document.getElementById('goalRecoveryConnection').value.trim();
            
            if (!text) {
                alert('·Éí·Éó·ÉÆ·Éù·Éï ·É®·Éî·Éò·Éß·Éï·Éê·Éú·Éù ·Éõ·Éò·Éñ·Éê·Éú·Éò');
                return;
            }
            
            if (!timeframe) {
                alert('·Éí·Éó·ÉÆ·Éù·Éï ·Éê·Éò·É†·É©·Éò·Éù ·Éï·Éê·Éì·Éê');
                return;
            }
            
            if (timeframe === 'custom' && !customTimeframe) {
                alert('·Éí·Éó·ÉÆ·Éù·Éï ·Éõ·Éò·É£·Éó·Éò·Éó·Éù ·Éó·É•·Éï·Éî·Éú·Éò ·Éï·Éê·Éì·Éê');
                return;
            }
            
            const u = app.users[user.email];
            if (!u) return;
            
            if (!u.goals) u.goals = [];
            
            const goalData = {
                text: text,
                timeframe: timeframe,
                customTimeframe: customTimeframe,
                recoveryConnection: recoveryConnection,
                createdAt: new Date().toISOString()
            };
            
            if (currentGoalId !== null) {
                // Edit existing
                u.goals[currentGoalId] = goalData;
            } else {
                // Add new
                u.goals.push(goalData);
            }
            
            save();
            closeGoalModal();
            loadGoalsList();
        }
        
        function closeGoalModal() {
            document.getElementById('goalModal').style.display = 'none';
            currentGoalId = null;
        }
        
        // Show/hide custom timeframe input
        document.addEventListener('DOMContentLoaded', function() {
            const timeframeSelect = document.getElementById('goalTimeframe');
            if (timeframeSelect) {
                timeframeSelect.addEventListener('change', function() {
                    const customDiv = document.getElementById('customTimeframeDiv');
                    if (this.value === 'custom') {
                        customDiv.style.display = 'block';
                    } else {
                        customDiv.style.display = 'none';
                    }
                });
            }
        });

        // ===== COPING MECHANISMS =====
        
        const DEFAULT_COPING_THOUGHTS = [
            {
                id: "need_to_use",
                thought: "·Éõ·Éî ·É£·Éú·Éì·Éê ·Éõ·Éù·Éï·Éò·ÉÆ·Éõ·Éê·É†·Éù, ·É°·ÉÆ·Éï·Éê ·Éí·Éñ·Éê ·Éê·É† ·Éõ·Éê·É•·Éï·É°",
                whyRight: "·É´·Éö·Éò·Éî·É†·Éò ·É§·Éò·Éñ·Éò·Éô·É£·É†·Éò ·Éê·Éú ·É§·É°·Éò·É•·Éù·Éö·Éù·Éí·Éò·É£·É†·Éò ·Éõ·Éù·Éó·ÉÆ·Éù·Éï·Éú·Éò·Éö·Éî·Éë·Éê ·Éõ·Éê·Éí·É†·É´·Éú·Éù·Éë·Éò·Éú·Éî·Éë·É°, ·É†·Éù·Éõ ·Éî·É° ·Éê·É£·É™·Éò·Éö·Éî·Éë·Éî·Éö·Éò·Éê. ·Éí·É†·É´·Éú·Éù·Éë·Éê ·Éò·É°·Éî·Éó·Éò ·É´·Éö·Éò·Éî·É†·Éò·Éê, ·É†·Éù·Éõ ·Éó·Éò·Éó·É•·Éù·É° ·É°·ÉÆ·Éï·Éê ·Éí·Éê·Éõ·Éù·É°·Éê·Éï·Éê·Éö·Éò ·Éê·É† ·Éê·É†·É°·Éî·Éë·Éù·Éë·É°.",
                whyWrong: "·Éî·É° ·Éê·É†·Éò·É° ·Éì·Éê·Éõ·Éù·Éô·Éò·Éì·Éî·Éë·É£·Éö·Éî·Éë·Éò·É° ·Éò·Éö·É£·Éñ·Éò·Éê. ·É†·Éî·Éê·Éö·É£·É†·Éê·Éì ·Éê·É†·É°·Éî·Éë·Éù·Éë·É° ·É£·Éê·Éõ·É†·Éê·Éï·Éò ·Éê·Éö·É¢·Éî·É†·Éú·Éê·É¢·Éò·Éï·Éê - ·É°·É£·Éú·Éó·É•·Éï·Éò·É° ·Éï·Éê·É†·ÉØ·Éò·É®·Éò, ·É°·Éî·Éò·É†·Éú·Éù·Éë·Éê, ·Éñ·Éê·É†·Éò ·Éõ·Éî·Éí·Éù·Éë·Éê·É†·É°. ·Éõ·Éù·Éó·ÉÆ·Éù·Éï·Éú·Éò·Éö·Éî·Éë·Éê 15-20 ·É¨·É£·Éó·É®·Éò ·Éó·Éê·Éï·Éò·É°·Éò·Éó ·Éí·Éê·Éò·Éï·Éö·Éò·É°.",
                whatToSay: "·Éî·É° ·Éê·É†·Éò·É° ·Éì·É†·Éù·Éî·Éë·Éò·Éó·Éò ·É®·Éî·Éí·É†·É´·Éú·Éî·Éë·Éê, ·Éê·É†·Éê ·É†·Éî·Éê·Éö·É£·É†·Éò ·É°·Éê·É≠·Éò·É†·Éù·Éî·Éë·Éê. ·Éõ·Éî ·É®·Éî·Éõ·Éò·É´·Éö·Éò·Éê ·Éì·Éê·Éï·Éò·É™·Éê·Éì·Éù 15 ·É¨·É£·Éó·Éò. ·Éõ·Éù·Éó·ÉÆ·Éù·Éï·Éú·Éò·Éö·Éî·Éë·Éê ·Éß·Éù·Éï·Éî·Éö·Éó·Éï·Éò·É° ·Éí·Éê·Éì·Éò·É°."
            },
            {
                id: "nobody_will_know",
                thought: "·Éê·É†·Éê·Éï·Éò·Éú ·Éê·É† ·É£·Éú·Éì·Éê ·Éí·Éê·Éò·Éí·Éù·É°",
                whyRight: "·Éó·É£ ·É°·Éê·Éò·Éì·É£·Éõ·Éö·Éù·Éì ·Éõ·Éù·Éï·Éò·ÉÆ·Éõ·Éê·É†, ·Éê·É†·Éê·Éï·Éò·Éú ·Éì·Éê·Éñ·Éò·Éê·Éú·Éì·Éî·Éë·Éê ·Éì·Éê ·Éê·É†·Éê·Éï·Éò·Éú ·Éò·Éõ·É°·ÉØ·Éî·Éö·Éî·Éë·É° ·É©·Éî·Éõ·Éñ·Éî. ·É®·Éî·Éõ·Éò·É´·Éö·Éò·Éê ·Éô·Éù·Éú·É¢·É†·Éù·Éö·Éò.",
                whyWrong: "·É°·Éê·Éò·Éì·É£·Éõ·Éö·Éù·Éî·Éë·Éê ·Éó·Éê·Éï·Éê·Éì ·Éê·É†·Éò·É° ·Éì·Éê·Éõ·Éù·Éô·Éò·Éì·Éî·Éë·É£·Éö·Éî·Éë·Éò·É° ·Éú·Éò·É®·Éê·Éú·Éò. ·Éû·Éê·É¢·Éò·Éù·É°·Éú·Éî·Éë·Éê ·Éê·É†·Éò·É° ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éò·É° ·É°·Éê·É§·É£·É´·Éï·Éî·Éö·Éò. ·É°·Éê·Éò·Éì·É£·Éõ·Éö·Éù·Éì ·Éõ·Éù·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê ·Éú·Éò·É®·Éú·Éê·Éï·É°, ·É†·Éù·Éõ ·Éï·Éò·É™·Éò ·É†·Éù·Éõ ·Éê·É†·Éê·É°·É¨·Éù·É†·Éò·Éê. ·Éò·É° ·Éê·É´·Éö·Éò·Éî·É†·Éî·Éë·É° ·Éì·Éê·Éú·Éê·É®·Éê·É£·Éö·Éò·É° ·É®·Éî·Éí·É†·É´·Éú·Éî·Éë·Éê·É°, ·É°·Éê·Éô·É£·Éó·Éê·É† ·Éó·Éê·Éï·É° ·ÉÆ·Éù·Éõ ·Éï·Éî·É†·Éê·É§·Éî·É†·É° ·Éì·Éê·Éï·É£·Éõ·Éê·Éö·Éê·Éï.",
                whatToSay: "·Éû·Éê·É¢·Éò·Éù·É°·Éú·Éî·Éë·Éê ·Éõ·Éê·Éó·Éó·Éê·Éú ·Éõ·Éò·Éõ·Éê·É†·Éó·Éî·Éë·Éê·É®·Éò ·Éï·Éò·É°·Éê·É™ ·Éï·Éî·Éú·Éì·Éù·Éë·Éò ·Éê·É†·Éò·É° ·É´·Éê·Éö·Éê ·Éì·Éê ·Éê·É†·Éê ·É°·Éò·É°·É£·É°·É¢·Éî. ·Éõ·Éî ·É®·Éî·Éõ·Éò·É´·Éö·Éò·Éê ·Éê·É† ·Éõ·Éù·Éï·Éò·ÉÆ·Éõ·Éê·É†·Éù ·Éì·Éê ·É°·Éê·Éô·É£·Éó·Éê·É† ·Éó·Éê·Éï·Éó·Éê·Éú·Éê·É™ ·Éì·Éê ·É°·ÉÆ·Éï·Éî·Éë·Éó·Éê·Éú·Éê·É™ ·Éï·Éò·Éß·Éù ·Éõ·Éê·É†·Éó·Éê·Éö·Éò."
            },
            {
                id: "not_a_problem",
                thought: "·É°·Éò·Éú·Éê·Éõ·Éì·Éï·Éò·Éö·Éî·É®·Éò ·Éê·É†·Éê·Éê ·Éû·É†·Éù·Éë·Éö·Éî·Éõ·Éê, ·É†·Éù·Éõ ·Éõ·Éù·Éï·Éò·ÉÆ·Éõ·Éê·É†·Éù",
                whyRight: "·Éï·Éê·Éô·Éï·Éò·É†·Éì·Éî·Éë·Éò ·É°·ÉÆ·Éï·Éî·Éë·É° ·Éì·Éê ·Éõ·Éí·Éù·Éú·Éò·Éê ·É†·Éù·Éõ ·É©·Éî·Éõ·Éò ·É°·Éò·É¢·É£·Éê·É™·Éò·Éê ·Éê·É† ·Éê·É†·Éò·É° ·Éò·É°·Éî·Éó·Éò ·É°·Éê·É®·Éò·É®·Éò. ·Éë·Éî·Éï·É†·Éò ·ÉÆ·Éê·Éö·ÉÆ·Éò ·Éõ·Éù·Éò·ÉÆ·Éõ·Éê·É†·É° ·Éú·Éò·Éï·Éó·Éò·Éî·É†·Éî·Éë·Éê·É° ·Éì·Éê ·Éú·Éù·É†·Éõ·Éê·Éö·É£·É†·Éê·Éì ·É™·ÉÆ·Éù·Éï·É†·Éù·Éë·É°.",
                whyWrong: "·Éñ·Éî·Éì·Éê·Éû·Éò·É†·É£·Éö·Éê·Éì ·É®·Éî·Éò·É´·Éö·Éî·Éë·Éê ·Éê·É°·Éî ·É©·Éê·Éú·É°, ·Éó·É£·Éõ·É™·Éê ·Éó·Éò·Éó·Éù·Éî·É£·Éö·Éò ·Éê·Éì·Éê·Éõ·Éò·Éê·Éú·Éò ·Éó·Éê·Éï·Éê·Éì ·Éò·É¶·Éî·Éë·É° ·Éí·Éê·Éì·Éê·É¨·Éß·Éï·Éî·É¢·Éò·Éö·Éî·Éë·Éê·É° ·Éõ·Éò·É°·Éó·Éï·Éò·É° ·É†·Éê ·Éê·É†·Éò·É° ·Éí·Éê·Éõ·Éê·É†·Éó·Éö·Éî·Éë·É£·Éö·Éò, ·Éê·Éõ·Éê·É°·Éó·Éê·Éú ·É°·ÉÆ·Éï·Éê ·Éê·Éì·Éê·Éõ·Éò·Éê·Éú·Éò·É° ·Éí·É£·Éö·É®·Éò ·É†·Éê ·ÉÆ·Éì·Éî·Éë·Éê ·Éì·Éê ·É†·Éî·Éê·Éö·É£·É†·Éê·Éì ·É†·Éê·É®·Éò ·É£·É®·Éö·Éò·É° ·ÉÆ·Éî·Éö·É° ·Éõ·Éù·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê ·Éí·Éê·É†·Éî·Éì·Éê·Éú ·É®·Éî·Éò·É´·Éö·Éî·Éë·Éê ·Éï·Éî·É† ·Éì·Éê·Éò·Éú·Éê·ÉÆ·Éù. ·Éõ·Éî ·Éï·Éò·É™·Éò, ·É†·Éù·Éõ ·É©·Éî·Éõ·Éò ·É™·ÉÆ·Éù·Éï·É†·Éî·Éë·Éò·É°·Éó·Éï·Éò·É° ·Éõ·Éù·ÉÆ·Éê·É†·Éî·Éë·Éê ·Éì·Éê·Éõ·Éê·Éñ·Éò·Éê·Éú·Éî·Éë·Éî·Éö·Éò·Éê ·Éì·Éê ·Éî·É° ·É°·Éê·Éï·É°·Éî·Éë·Éò·Éó ·É°·Éê·Éô·Éõ·Éê·É†·Éò·É°·Éò·Éê.",
                whatToSay: "·Éõ·Éî ·É®·Éî·Éõ·Éò·É´·Éö·Éò·Éê ·Éì·Éê·Éï·É†·É©·Éî ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éò·É° ·Éí·Éñ·Éê·Éñ·Éî, ·É†·Éê·Éì·Éí·Éê·Éú ·Éï·Éò·É™·Éò, ·É†·Éù·Éõ ·Éê·Éõ·Éò·Éó ·É©·Éî·Éõ·É° ·É™·ÉÆ·Éù·Éï·É†·Éî·Éë·Éê·É° ·É£·Éô·Éî·Éó·Éî·É°·Éù·Éë·Éò·É°·Éô·Éî·Éú ·Éï·É™·Éï·Éö·Éò. ·Éó·Éò·Éó·Éù·Éî·É£·Éö ·Éê·Éì·Éê·Éõ·Éò·Éê·Éú·É° ·Éê·É•·Éï·É° ·Éó·Éê·Éï·Éò·É°·Éò ·É™·ÉÆ·Éù·Éï·É†·Éî·Éë·Éò·É° ·É°·Éê·Éô·É£·Éó·Éê·É†·Éò ·É°·É¢·Éê·Éú·Éì·Éê·É†·É¢·Éò."
            },
            {
                id: "can_control",
                thought: "·Éõ·Éî ·É®·Éî·Éõ·Éò·É´·Éö·Éò·Éê ·Éê·Éõ·Éò·É° ·Éô·Éù·Éú·É¢·É†·Éù·Éö·Éò",
                whyRight: "·É¨·Éê·É†·É°·É£·Éö·É®·Éò ·É†·Éê·Éõ·Éì·Éî·Éú·ÉØ·Éî·É†·Éõ·Éî ·É®·Éî·Éï·É´·Éî·Éö·Éò ·Éô·Éù·Éú·É¢·É†·Éù·Éö·Éò, ·Éê·Éõ·Éò·É¢·Éù·Éõ ·Éê·ÉÆ·Éö·Éê·É™ ·É®·Éî·Éõ·Éò·É´·Éö·Éò·Éê. ·Éì·Éê·Éï·Éí·Éî·Éí·Éõ·Éê·Éï ·É†·Éê ·É†·Éê·Éù·Éì·Éî·Éú·Éù·Éë·Éê·É° ·Éõ·Éù·Éï·Éò·ÉÆ·Éõ·Éê·É† ·Éì·Éê ·É®·Éî·Éï·É©·Éî·É†·Éì·Éî·Éë·Éò.",
                whyWrong: "·Éì·Éê·Éõ·Éù·Éô·Éò·Éì·Éî·Éë·É£·Éö·Éî·Éë·Éò·É° ·Éê·É†·É°·Éò ·É°·É¨·Éù·É†·Éî·Éì ·Éô·Éù·Éú·É¢·É†·Éù·Éö·Éò·É° ·Éì·Éê·Éô·Éê·É†·Éí·Éï·Éê·Éê. ·Éß·Éù·Éï·Éî·Éö·Éò '·Éõ·ÉÆ·Éù·Éö·Éù·Éì ·Éî·É†·Éó·ÉÆ·Éî·Éö' ·Éò·É¨·Éß·Éî·Éë·Éê ·Éê·Éõ ·Éì·Éê·Éû·Éò·É†·Éî·Éë·Éò·Éó ·Éì·Éê ·Éõ·Éó·Éê·Éï·É†·Éì·Éî·Éë·Éê ·É†·Éî·Éö·Éê·É§·É°·Éò·Éó. ·Éò·É°·É¢·Éù·É†·Éò·Éê ·Éõ·Éî·Éù·É†·Éì·Éî·Éë·Éê.",
                whatToSay: "·Éô·Éù·Éú·É¢·É†·Éù·Éö·Éò·É° ·Éò·Éö·É£·Éñ·Éò·Éê ·Éó·Éê·Éï·Éê·Éì ·Éê·É†·Éò·É° ·Éì·Éê·Éõ·Éù·Éô·Éò·Éì·Éî·Éë·É£·Éö·Éî·Éë·Éò·É° ·É°·Éò·Éõ·Éû·É¢·Éù·Éõ·Éò. ·É©·Éî·Éõ·Éò ·Éí·Éê·Éõ·Éù·É™·Éì·Éò·Éö·Éî·Éë·Éê ·Éõ·Éò·É©·Éï·Éî·Éú·Éî·Éë·É°, ·É†·Éù·Éõ ·Éô·Éù·Éú·É¢·É†·Éù·Éö·Éò ·É®·Éî·É£·É´·Éö·Éî·Éë·Éî·Éö·Éò·Éê. ·Éî·É†·Éó·Éê·Éì·Éî·É†·Éó·Éò ·Éô·Éù·Éú·É¢·É†·Éù·Éö·Éò ·Éê·É†·Éò·É° - ·Éê·É† ·Éì·Éê·Éï·Éò·É¨·Éß·Éù."
            },
            {
                id: "just_one",
                thought: "·Éõ·Éî ·Éï·Éê·Éû·Éò·É†·Éî·Éë ·Éì·Éê·Éï·Éö·Éò·Éù ·Éõ·ÉÆ·Éù·Éö·Éù·Éì ·Éî·É†·Éó·Éò ·É≠·Éò·É•·Éê",
                whyRight: "·Éó·Éò·Éó·É•·Éù·É° ·Éõ·É™·Éò·É†·Éî ·É†·Éê·Éù·Éì·Éî·Éú·Éù·Éë·Éê ·Éê·É† ·Éò·É•·Éú·Éî·Éë·Éê ·É°·Éê·É®·Éò·É®·Éò. ·Éî·É†·Éó·Éò ·É≠·Éò·É•·Éê ·Éê·É† ·Éê·É†·Éò·É° ·É©·Éê·Éï·Éê·É†·Éì·Éú·Éê. ·É®·Éî·Éõ·Éò·É´·Éö·Éò·Éê ·É®·Éî·É©·Éî·É†·Éî·Éë·Éê.",
                whyWrong: "'·Éõ·ÉÆ·Éù·Éö·Éù·Éì ·Éî·É†·Éó·Éò' ·Éê·É†·Éò·É° ·Éß·Éï·Éî·Éö·Éê·Éñ·Éî ·É°·Éê·É®·Éò·É®·Éò ·Éó·Éï·Éò·Éó·Éõ·Éù·É¢·Éß·É£·Éî·Éë·Éê. ·Éë·Éò·Éù·É•·Éò·Éõ·Éò·É£·É†·Éê·Éì, ·Éû·Éò·É†·Éï·Éî·Éö·Éò·Éï·Éî ·Éõ·Éù·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê ·Éê·Éê·É•·É¢·Éò·É£·É†·Éî·Éë·É° ·Éö·É¢·Éù·Éö·Éï·Éê·É°. '·Éî·É†·Éó·Éò' ·Éß·Éù·Éï·Éî·Éö·Éó·Éï·Éò·É° ·Éò·É•·É™·Éî·Éï·Éê '·Éô·Éò·Éì·Éî·Éï ·Éî·É†·Éó·Éê·Éì', ·É®·Éî·Éõ·Éì·Éî·Éí ·É°·É†·É£·Éö ·É©·Éê·Éï·Éê·É†·Éì·Éú·Éê·Éì.",
                whatToSay: "'·Éõ·ÉÆ·Éù·Éö·Éù·Éì ·Éî·É†·Éó·Éò' ·Éê·É† ·Éê·É†·É°·Éî·Éë·Éù·Éë·É° ·É©·Éî·Éõ·Éó·Éï·Éò·É°. ·Éû·Éò·É†·Éï·Éî·Éö·Éò ·É≠·Éò·É•·Éê ·Éê·É†·Éò·É° ·Éô·Éê·É†·Éò ·É†·Éù·Éõ·Éî·Éö·Éò·É™ ·É©·Éê·Éï·Éê·É†·Éì·Éú·Éò·É°·Éô·Éî·Éú ·Éõ·Éò·Éõ·Éò·Éß·Éï·Éê·Éú·É°, ·É†·Éê·Éì·Éí·Éê·Éú ·Éê·Éõ·Éò·É° ·É®·Éî·Éõ·Éì·Éî·Éí ·Éô·Éò·Éì·Éî·Éï ·É£·É§·É†·Éù ·É†·Éó·É£·Éö·Éò ·Éò·É•·Éú·Éî·Éë·Éê ·Éó·Éê·Éï·É®·Éî·Éô·Éê·Éï·Éî·Éë·Éê. ·É°·É†·É£·Éö·Éò ·Éê·Éô·É†·É´·Éê·Éö·Éï·Éê ·É£·É°·Éê·É§·É†·Éó·ÉÆ·Éù·Éê."
            },
            {
                id: "just_one_dose",
                thought: "·Éõ·Éî ·Éï·Éê·Éû·Éò·É†·Éî·Éë ·Éõ·Éù·Éï·Éò·ÉÆ·Éõ·Éê·É†·Éù ·Éõ·ÉÆ·Éù·Éö·Éù·Éì ·Éî·É†·Éó·Éò ·Éì·Éù·Éñ·Éê",
                whyRight: "·Éó·Éò·Éó·É•·Éù·É° ·Éõ·É™·Éò·É†·Éî ·É†·Éê·Éù·Éì·Éî·Éú·Éù·Éë·Éê ·Éê·É† ·Éò·É•·Éú·Éî·Éë·Éê ·É°·Éê·É®·Éò·É®·Éò. ·Éî·É†·Éó·Éò ·Éì·Éù·Éñ·Éê ·Éê·É† ·Éê·É†·Éò·É° ·É©·Éê·Éï·Éê·É†·Éì·Éú·Éê. ·É®·Éî·Éõ·Éò·É´·Éö·Éò·Éê ·É®·Éî·É©·Éî·É†·Éî·Éë·Éê.",
                whyWrong: "'·Éõ·ÉÆ·Éù·Éö·Éù·Éì ·Éî·É†·Éó·Éò' ·Éê·É†·Éò·É° ·Éß·Éï·Éî·Éö·Éê·Éñ·Éî ·É°·Éê·É®·Éò·É®·Éò ·Éó·Éï·Éò·Éó·Éõ·Éù·É¢·Éß·É£·Éî·Éë·Éê. ·Éë·Éò·Éù·É•·Éò·Éõ·Éò·É£·É†·Éê·Éì, ·Éû·Éò·É†·Éï·Éî·Éö·Éò·Éï·Éî ·Éõ·Éù·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê ·Éê·Éê·É•·É¢·Éò·É£·É†·Éî·Éë·É° ·Éö·É¢·Éù·Éö·Éï·Éê·É°. '·Éî·É†·Éó·Éò' ·Éß·Éù·Éï·Éî·Éö·Éó·Éï·Éò·É° ·Éò·É•·É™·Éî·Éï·Éê '·Éô·Éò·Éì·Éî·Éï ·Éî·É†·Éó·Éê·Éì', ·É®·Éî·Éõ·Éì·Éî·Éí ·É°·É†·É£·Éö ·É©·Éê·Éï·Éê·É†·Éì·Éú·Éê·Éì.",
                whatToSay: "'·Éõ·ÉÆ·Éù·Éö·Éù·Éì ·Éî·É†·Éó·Éò' ·Éê·É† ·Éê·É†·É°·Éî·Éë·Éù·Éë·É° ·É©·Éî·Éõ·Éó·Éï·Éò·É°. ·Éû·Éò·É†·Éï·Éî·Éö·Éò ·Éì·Éù·Éñ·Éê ·Éê·É†·Éò·É° ·Éô·Éê·É†·Éò ·É†·Éù·Éõ·Éî·Éö·Éò·É™ ·É©·Éê·Éï·Éê·É†·Éì·Éú·Éò·É°·Éô·Éî·Éú ·Éõ·Éò·Éõ·Éò·Éß·Éï·Éê·Éú·É°, ·É†·Éê·Éì·Éí·Éê·Éú ·Éê·Éõ·Éò·É° ·É®·Éî·Éõ·Éì·Éî·Éí ·Éô·Éò·Éì·Éî·Éï ·É£·É§·É†·Éù ·É†·Éó·É£·Éö·Éò ·Éò·É•·Éú·Éî·Éë·Éê ·Éó·Éê·Éï·É®·Éî·Éô·Éê·Éï·Éî·Éë·Éê. ·É°·É†·É£·Éö·Éò ·Éê·Éô·É†·É´·Éê·Éö·Éï·Éê ·É£·É°·Éê·É§·É†·Éó·ÉÆ·Éù·Éê."
            },
            {
                id: "bad_day",
                thought: "·Éõ·Éî ·Éõ·É•·Éù·Éú·Éì·Éê ·É™·É£·Éì·Éò ·Éì·É¶·Éî, ·Éõ·Éî ·É®·Éî·Éõ·Éò·É´·Éö·Éò·Éê ·Éõ·Éù·Éï·Éò·ÉÆ·Éõ·Éê·É†·Éù",
                whyRight: "·É°·É¢·É†·Éî·É°·Éò, ·Éì·Éê·É¶·Éö·Éò·Éö·Éù·Éë·Éê ·Éì·Éê ·Éî·Éõ·Éù·É™·Éò·É£·É†·Éò ·É¢·Éô·Éò·Éï·Éò·Éö·Éò ·Éõ·Éê·É†·Éó·Éö·Éê ·É†·Éî·Éê·Éö·É£·É†·Éò·Éê. ·Éõ·Éù·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê ·Éí·Éê·Éõ·Éò·Éê·Éì·Éï·Éò·Éö·Éî·Éë·Éì·Éê. '·Éï·Éò·Éõ·É°·Éê·ÉÆ·É£·É†·Éî·Éë' ·Éì·Éê·É°·Éï·Éî·Éú·Éî·Éë·Éê·É°.",
                whyWrong: "·É™·É£·Éì·Éò ·Éì·É¶·Éî ·Éì·É†·Éù·Éî·Éë·Éò·Éó·Éò·Éê, ·Éõ·Éù·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê ·Éô·Éò ·Éí·É†·É´·Éî·Éö·Éï·Éê·Éì·Éò·Éê·Éú ·É®·Éî·Éì·Éî·Éí·Éî·Éë·É° ·Éò·É¨·Éï·Éî·Éï·É°. ·Éõ·Éù·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê ·Éû·É†·Éù·Éë·Éö·Éî·Éõ·Éî·Éë·É° ·Éê·É† ·Éê·Éí·Éï·Éê·É†·Éî·Éë·É°, ·Éû·Éò·É†·Éò·É•·Éò·Éó - ·Éê·Éõ·É´·Éò·Éõ·Éî·Éë·É°. ·ÉÆ·Éï·Éê·Éö ·Éì·Éò·Éö·Éò·Éó ·Éô·Éò·Éì·Éî·Éï ·É£·É§·É†·Éù ·É™·É£·Éì·Éê·Éì ·Éï·Éò·É•·Éú·Éî·Éë·Éò.",
                whatToSay: "·É™·É£·Éì·Éò ·Éì·É¶·Éî ·Éê·É† ·Éê·É†·Éò·É° ·Éõ·Éò·Éñ·Éî·Éñ·Éò ·É†·Éù·Éõ ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éê ·Éì·Éê·Éï·Éô·Éê·É†·Éí·Éù. ·É†·Éî·Éê·Éö·É£·É†·Éò ·Éì·Éê·É°·Éï·Éî·Éú·Éî·Éë·Éê ·Éê·É†·Éò·É° - ·É´·Éò·Éö·Éò, ·É°·Éî·Éò·É†·Éú·Éù·Éë·Éê, ·É°·Éê·É£·Éë·Éê·É†·Éò. ·ÉÆ·Éï·Éê·Éö ·Éõ·Éê·Éì·Éö·Éù·Éë·Éî·Éö·Éò ·Éï·Éò·É•·Éú·Éî·Éë·Éò ·É†·Éù·Éõ ·Éê·É† ·Éõ·Éù·Éï·Éò·ÉÆ·Éõ·Éê·É†·Éî."
            },
            {
                id: "deserve_it",
                thought: "·Éõ·Éî ·Éê·Éõ·Éê·É° ·Éï·Éò·Éõ·É°·Éê·ÉÆ·É£·É†·Éî·Éë",
                whyRight: "·Éë·Éî·Éï·É†·Éò ·Éï·Éò·Éõ·É£·É®·Éê·Éï·Éî, ·Éë·Éî·Éï·É†·Éò ·Éì·Éê·Éï·Éó·Éõ·Éî. ·É°·ÉÆ·Éï·Éî·Éë·Éò ·Éó·Éê·Éï·Éò·É°·É£·É§·Éö·Éê·Éì ·Éò·Éß·Éî·Éú·Éî·Éë·Éî·Éú ·Éì·Éê ·Éò·É°·Éò·Éú·Éò ·Éê·É† ·Éê·É†·Éò·Éê·Éú ·Éì·Éê·Éõ·Éù·Éô·Éò·Éì·Éî·Éë·É£·Éö·Éò. ·É†·Éê·É¢·Éù·Éõ ·Éê·É† ·É®·Éî·Éõ·Éò·É´·Éö·Éò·Éê ·Éõ·Éî·É™ ·Éõ·Éò·Éï·Éò·É¶·Éù '·ÉØ·Éò·Éö·Éì·Éù'?",
                whyWrong: "·Éú·Éê·Éõ·Éì·Éï·Éò·Éö·Éò ·ÉØ·Éò·Éö·Éì·Éù ·Éê·É†·Éò·É° ·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éù·Éë·Éê, ·É°·Éò·É™·Éù·É™·ÉÆ·Éö·Éò·É° ·ÉÆ·Éê·É†·Éò·É°·ÉÆ·Éò ·Éì·Éê ·É°·Éê·Éô·É£·Éó·Éê·É†·Éò ·Éó·Éê·Éï·Éò·Éó ·É°·Éò·Éê·Éõ·Éê·Éß·Éî. ·Éõ·Éù·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê ·Éê·É† ·Éê·É†·Éò·É° ·ÉØ·Éò·Éö·Éì·Éù - ·Éò·É° ·Éê·É†·Éò·É° ·ÉÆ·Éê·É§·Éê·Éú·Éí·Éò, ·É†·Éù·Éõ·Éî·Éö·Éò·É™ ·Éß·Éï·Éî·Éö·Éê·É§·Éî·É†·É° ·Éõ·Éê·É†·Éó·Éõ·Éî·Éï·É° ·É†·Éò·É°·Éó·Éï·Éò·É°·Éê·É™ ·Éï·Éõ·É£·É®·Éê·Éù·Éë·Éì·Éò.",
                whatToSay: "·Éõ·Éî ·Éõ·Éê·É†·Éó·Éö·Éê ·Éï·Éò·Éõ·É°·Éê·ÉÆ·É£·É†·Éî·Éë ·ÉØ·Éò·Éö·Éì·Éù·É° - ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éê·É°, ·É°·Éò·É™·Éù·É™·ÉÆ·Éö·Éî·É°, ·Éû·Éê·É¢·Éò·Éï·Éò·É°·É™·Éî·Éõ·Éê·É°. ·Éõ·Éù·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê ·Éê·É† ·Éê·É†·Éò·É° ·ÉØ·Éò·Éö·Éì·Éù, ·Éê·É†·Éê·Éõ·Éî·Éì ·Éó·Éï·Éò·Éó·Éì·Éê·É°·ÉØ·Éê."
            },
            {
                id: "special_case",
                thought: "·Éî·É° ·Éí·Éê·Éú·É°·Éê·Éô·É£·Éó·É†·Éî·Éë·É£·Éö·Éò ·É®·Éî·Éõ·Éó·ÉÆ·Éï·Éî·Éï·Éê·Éê - ·ÉÆ·Éï·Éê·Éö ·Éó·Éê·Éï·Éò·Éì·Éê·Éú ·Éì·Éê·Éï·Éò·É¨·Éß·Éî·Éë",
                whyRight: "·Éî·É° ·É®·Éî·Éõ·Éó·ÉÆ·Éï·Éî·Éï·Éê ·Éí·Éê·Éú·É°·ÉÆ·Éï·Éê·Éï·Éî·Éë·É£·Éö·Éò·Éê - ·Éì·Éê·Éë·Éê·Éì·Éî·Éë·Éò·É° ·Éì·É¶·Éî·Éê, ·Éì·É¶·Éî·É°·Éê·É°·É¨·Éê·É£·Éö·Éò, ·Éñ·Éî·Éì·Éõ·Éî·É¢·Éê·Éì ·É™·É£·Éì·Éê·Éì ·Éï·Éê·É†, ·Éí·Éê·Éú·É°·Éê·Éô·É£·Éó·É†·Éî·Éë·É£·Éö·Éò ·Éõ·Éù·Éï·Éö·Éî·Éú·Éê·Éê. '·Éê·Éõ·ÉØ·Éî·É†·Éê·Éì' ·Éí·Éê·Éõ·Éù·Éú·Éê·Éô·Éö·Éò·É°·É° ·Éí·Éê·Éï·Éê·Éô·Éî·Éó·Éî·Éë ·Éì·Éê ·ÉÆ·Éï·Éê·Éö·Éò·Éì·Éê·Éú ·Éô·Éï·Éö·Éê·Éï ·É®·Éî·Éõ·Éê·É†·Éó·É£·Éö·Éò ·Éï·Éò·É•·Éú·Éî·Éë·Éò.",
                whyWrong: "·Éß·Éù·Éï·Éî·Éö·Éò ·É®·Éî·Éõ·Éó·ÉÆ·Éï·Éî·Éï·Éê ·ÉÆ·Éì·Éî·Éë·Éê '·Éí·Éê·Éú·É°·Éê·Éô·É£·Éó·É†·Éî·Éë·É£·Éö·Éò' ·É†·Éù·É™·Éê ·Éí·Éê·Éõ·Éê·É†·Éó·Éö·Éî·Éë·Éê ·Éõ·Éò·Éú·Éì·Éê. '·ÉÆ·Éï·Éê·Éö·Éò·Éì·Éê·Éú' ·Éê·É†·Éê·É°·Éù·Éì·Éî·É° ·Éõ·Éù·Éì·Éò·É°. ·Éó·Éò·Éó·Éù·Éî·É£·Éö·Éò ·É©·Éê·Éï·Éê·É†·Éì·Éú·Éê ·Éò·É¨·Éß·Éî·Éë·Éê ·Éê·Éõ ·Éö·Éù·Éí·Éò·Éô·Éò·Éó. ·Éó·É£·Éô·Éò ·Éì·É¶·Éî·É° ·Éõ·Éê·É†·Éó·Éö·Éê·É™ ·Éõ·Éù·Éï·Éò·ÉÆ·Éõ·Éê·É†, ·ÉÆ·Éï·Éê·Éö 10-·ÉØ·Éî·É† ·É£·É§·É†·Éù ·É†·Éó·É£·Éö·Éò ·Éò·É•·Éú·Éî·Éë·Éê ·Éó·Éê·Éï·É®·Éî·Éô·Éê·Éï·Éî·Éë·Éê.",
                whatToSay: "·Éß·Éù·Éï·Éî·Éö·Éò ·Éì·É¶·Éî ·Éì·Éê ·Éß·Éù·Éï·Éî·Éö·Éò ·Éõ·Éù·Éï·Éö·Éî·Éú·Éê ·É®·Éî·Éò·É´·Éö·Éî·Éë·Éê ·Éò·Éß·Éù·É° '·Éí·Éê·Éú·É°·Éê·Éô·É£·Éó·É†·Éî·Éë·É£·Éö·Éò ·Éõ·Éò·Éñ·Éî·Éñ·Éò'. ·É†·Éî·Éê·Éö·É£·É†·Éò ·Éí·Éê·Éú·É°·Éê·Éô·É£·Éó·É†·Éî·Éë·É£·Éö·Éù·Éë·Éê ·Éê·É†·Éò·É° ·É°·Éò·É§·ÉÆ·Éò·Éñ·Éö·Éî·É®·Éò ·Éì·Éê·É†·É©·Éî·Éú·Éê."
            }
        ];
        const COPING_MECHANISMS = [
            { id: 1, icon: 'üõë', text: '·É¨·Éê·É†·Éõ·Éù·Éò·Éì·Éí·Éò·Éú·Éî ·Éì·Éò·Éì·Éò ·É¨·Éò·Éó·Éî·Éö·Éò ·Éú·Éò·É®·Éê·Éú·Éò ‚ÄûSTOP" - ·Éí·Éê·Éò·É©·Éî·É†·Éî ·Éî·É° ·Éí·Éê·Éõ·Éù·É°·Éê·ÉÆ·É£·Éö·Éî·Éë·Éê ·Éí·Éù·Éú·Éî·Éë·Éê·É®·Éò ·É†·Éê·É™ ·É®·Éî·Éò·É´·Éö·Éî·Éë·Éê ·Éì·Éò·Éì·ÉÆ·Éê·Éú·É°' },
            { id: 2, icon: 'üö™', text: '·Éó·É£ ·É®·Éî·É´·Éö·Éî·Éë, ·Éí·Éê·Éõ·Éù·Éì·Éò ·Éò·Éõ ·É°·Éò·É¢·É£·Éê·É™·Éò·Éò·Éì·Éê·Éú, ·É†·Éù·Éõ·Éî·Éö·Éò·É™ ·Éí·Éê·ÉÆ·Éì·Éê ·É°·É£·É†·Éï·Éò·Éö·Éò·É° ·Éí·Éê·Éõ·Éù·Éõ·É¨·Éï·Éî·Éï·Éò' },
            { id: 3, icon: 'üèÉ', text: '·É¨·Éê·Éì·Éò ·É°·Éê·É°·Éî·Éò·É†·Éú·Éù·Éì ·Éê·Éú ·Éì·Éê·Éô·Éê·Éï·Éì·Éò ·É§·Éò·Éñ·Éò·Éô·É£·É†·Éò ·Éê·É•·É¢·Éò·Éï·Éù·Éë·Éò·Éó' },
            { id: 4, icon: 'üé®', text: '·Éõ·Éù·É´·Éî·Éë·Éú·Éî ·É°·Éê·É•·Éõ·Éî, ·É†·Éù·Éõ·Éö·Éò·Éó·Éê·É™ ·Éì·Éê·Éò·Éô·Éê·Éï·Éî·Éë 15-20 ·É¨·É£·Éó·É° (·Éì·Éê·É¨·Éî·É†·Éî, ·É¨·Éê·Éò·Éô·Éò·Éó·ÉÆ·Éî, ·Éì·Éê·ÉÆ·Éê·É¢·Éî ·Éê·Éú ·É°·ÉÆ·Éï·Éê ·É°·Éê·É•·Éõ·Éò·Éê·Éú·Éù·Éë·Éê)' },
            { id: 5, icon: 'üßò', text: '·Éì·Éê·Éô·Éê·Éï·Éì·Éò ·Éõ·Éî·Éì·Éò·É¢·Éê·É™·Éò·Éò·Éó ·Éê·Éú ·É†·Éî·Éö·Éê·É•·É°·Éê·É™·Éò·Éò·É° ·É¢·Éî·É•·Éú·Éò·Éô·Éò·Éó' },
            { id: 6, icon: 'ü´Å', text: '·Éí·Éê·Éõ·Éù·Éò·Éß·Éî·Éú·Éî ·É°·É£·Éú·Éó·É•·Éï·Éò·É° ·É¢·Éî·É•·Éú·Éò·Éô·Éê' },
            { id: 7, icon: 'üôè', text: '·Éò·Éö·Éù·É™·Éî' },
            { id: 8, icon: 'üë•', text: '·Éî·Éö·Éê·Éû·Éê·É†·Éê·Éô·Éî ·Éê·Éú ·Éì·Éê·É£·É†·Éî·Éô·Éî ·Éï·Éò·Éú·Éõ·Éî·É° ·Éï·Éò·Éú·É™ ·Éõ·ÉÆ·Éê·É†·É° ·Éí·Éò·É≠·Éî·É†·É°' },
            { id: 9, icon: 'üå¥', text: '·Éí·Éê·Éõ·Éù·Éò·Éß·Éî·Éú·Éî ·É¨·Éê·É†·Éõ·Éù·É°·Éê·ÉÆ·Éï·Éò·É° ·É¢·Éî·É•·Éú·Éò·Éô·Éê - ·É¨·Éê·É†·Éõ·Éù·Éò·Éì·Éí·Éò·Éú·Éî ·É†·Éù·Éõ ·Éò·Éõ·Éß·Éù·É§·Éî·Éë·Éò ·Éê·Éì·Éí·Éò·Éö·Éê·É°, ·É°·Éê·Éì·Éê·É™ ·É´·Éê·Éö·Éò·Éê·Éú ·Éô·Éê·É†·Éí·Éê·Éì ·ÉÆ·Éê·É† ·Éì·Éê ·É°·Éê·Éì·Éê·É™ ·Éõ·Éù·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê ·É®·Éî·É£·É´·Éö·Éî·Éë·Éî·Éö·Éò·Éê' },
            { id: 10, icon: 'ü™ô', text: '·É†·Éê·Éò·Éõ·Éî ·Éú·Éò·Éï·Éó·Éò ·Éê·É¢·Éê·É†·Éî ·Éó·Éê·Éú ·Éì·Éê ·ÉÆ·Éî·Éö·Éî·Éë·É®·Éò ·Éê·Éê·Éõ·Éù·É´·É†·Éê·Éï·Éî' },
            { id: 11, icon: 'üíå', text: '·Éõ·Éù·É£·É°·Éõ·Éò·Éú·Éî ·É°·Éê·Éô·É£·Éó·Éê·É† ·É®·Éî·É¢·Éß·Éù·Éë·Éò·Éú·Éî·Éë·Éê·É°' }
        ];
        
        const RISK_FACTORS_DATA = {
            objects: {
                title: 'üì¶ ·Éú·Éò·Éï·Éó·Éî·Éë·Éò',
                items: [
                    '·Éì·Éê·É†·É©·Éî·Éú·Éò·Éö·Éò ·É†·Éî·É°·É£·É†·É°·Éî·Éë·Éò',
                    '·Éõ·Éù·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê·É°·Éó·Éê·Éú ·Éì·Éê·Éô·Éê·Éï·É®·Éò·É†·Éî·Éë·É£·Éö·Éò ·Éê·É¢·É†·Éò·Éë·É£·É¢·Éò·Éô·Éê'
                ]
            },
            people: {
                title: 'üë• ·Éê·Éì·Éê·Éõ·Éò·Éê·Éú·Éî·Éë·Éò',
                description: '·É©·Éê·Éõ·Éù·Éó·Éï·Éê·Éö·Éî ·Éê·Éì·Éê·Éõ·Éò·Éê·Éú·Éî·Éë·Éò, ·Éï·Éò·É°·Éó·Éê·Éú ·Éî·É†·Éó·Éê·Éì·Éê·É™ ·Éõ·Éù·Éò·ÉÆ·Éõ·Éê·É†·Éì·Éò, ·Éê·Éú ·Éï·Éò·É°·Éò ·Éú·Éê·ÉÆ·Éï·Éê·É™ ·É®·Éî·Éò·É´·Éö·Éî·Éë·Éê ·Éí·Éê·ÉÆ·Éì·Éî·É° ·Éö·É¢·Éù·Éö·Éï·Éò·É° ·Éí·Éê·Éõ·Éù·Éõ·É¨·Éï·Éî·Éï·Éò',
                items: []
            },
            places: {
                title: 'üìç ·Éê·Éì·Éí·Éò·Éö·Éî·Éë·Éò',
                items: [
                    '·Éë·Éê·É†·Éî·Éë·Éò ·Éì·Éê ·Éô·Éö·É£·Éë·Éî·Éë·Éò',
                    '·É¨·Éï·Éî·É£·Éö·Éî·Éë·Éî·Éë·Éò',
                    '·Éõ·Éî·Éí·Éù·Éë·É†·Éî·Éë·Éò·É° ·É°·Éê·ÉÆ·Éö·Éî·Éë·Éò',
                    '·Éô·Éù·Éú·É™·Éî·É†·É¢·Éî·Éë·Éò',
                    '·É£·Éú·Éò·Éï·Éî·É†·É°·Éò·É¢·Éî·É¢·Éò ·Éê·Éú ·É°·Éê·Éõ·É°·Éê·ÉÆ·É£·É†·Éò',
                    '·É†·Éê·Éò·Éù·Éú·Éî·Éë·Éò ·Éê·Éú ·É°·Éê·Éñ·Éù·Éí·Éê·Éì·Éù·Éî·Éë·É†·Éò·Éï·Éò ·Éê·Éì·Éí·Éò·Éö·Éî·Éë·Éò'
                ]
            },
            situations: {
                title: '‚ö° ·É°·Éò·É¢·É£·Éê·É™·Éò·Éî·Éë·Éò ·Éê·Éú ·É•·Éõ·Éî·Éì·Éî·Éë·Éî·Éë·Éò',
                items: [
                    '·Éô·Éù·Éú·É§·Éö·Éò·É•·É¢·Éî·Éë·Éò',
                    '·É°·Éù·É™·Éò·Éê·Éö·É£·É†·Éò ·Éñ·Éî·É¨·Éù·Éö·Éê: 1. ·Éí·Éó·Éê·Éï·Éê·Éñ·Éù·Éë·Éî·Éú',
                    '·É°·Éù·É™·Éò·Éê·Éö·É£·É†·Éò ·Éñ·Éî·É¨·Éù·Éö·Éê: 2. ·Éò·É™·Éò ·É†·Éù·Éõ ·Éê·É•·Éï·Éó ·Éõ·Éê·É†·Éê·Éí·Éò',
                    '·É°·Éù·É™·Éò·Éê·Éö·É£·É†·Éò ·Éñ·Éî·É¨·Éù·Éö·Éê: 3. ·É®·Éî·Éú·Éò ·Éó·Éê·Éú·Éì·Éê·É°·É¨·É†·Éî·Éë·Éò·Éó ·Éõ·Éù·Éò·ÉÆ·Éõ·Éê·É†·Éî·Éú',
                    '·Éì·É¶·Éî·É°·Éê·É°·É¨·Éê·É£·Éö·Éî·Éë·Éò ·Éê·Éú ·É°·ÉÆ·Éï·Éê ·Éí·Éê·Éú·É°·Éê·Éô·É£·Éó·É†·Éî·Éë·É£·Éö·Éò ·É®·Éî·Éõ·Éó·ÉÆ·Éï·Éî·Éï·Éî·Éë·Éò',
                    '·É†·Éù·Éì·Éî·É°·Éê·É™ ·É°·Éê·ÉÆ·Éö·É®·Éò ·Éõ·Éê·É†·É¢·Éù ·ÉÆ·Éê·É†',
                    '·É†·Éù·Éì·Éî·É°·Éê·É™ ·É°·Éê·ÉÆ·Éö·Éò·É° ·Éí·Éê·É†·Éî·Éó ·É°·Éê·Éì·Éò·Éö·Éù·Éë',
                    '·Éí·Éê·Éì·Éê·ÉÆ·Éì·Éò·É° ·Éì·É†·Éù ·Éê·Éú ·Éõ·Éê·Éú·Éê·Éõ·Éì·Éî ·Éû·Éî·É†·Éò·Éù·Éì·Éò',
                    '·É†·Éù·Éì·Éî·É°·Éê·É™ ·Éì·Éò·Éö·Éê·É° ·Éò·É¶·Éï·Éò·É´·Éî·Éë',
                    '·É°·Éê·Éõ·É°·Éê·ÉÆ·É£·É†·Éò·É° ·É®·Éî·Éõ·Éì·Éî·Éí, ·Éê·Éú ·É£·Éú·Éò·Éï·Éî·É†·É°·Éò·É¢·Éî·É¢·Éò·É° ·É®·Éî·Éõ·Éì·Éî·Éí'
                ]
            },
            emotions: {
                title: 'üí≠ ·É®·Éò·Éú·Éê·Éí·Éê·Éú·Éò ·Éõ·Éì·Éí·Éù·Éõ·Éê·É†·Éî·Éù·Éë·Éî·Éë·Éò',
                items: [
                    '·Éõ·Éê·É†·É¢·Éù·Éù·Éë·Éê',
                    '·É°·É¢·É†·Éî·É°·Éò·É° ·É®·Éî·Éí·É†·É´·Éú·Éî·Éë·Éê',
                    '·Éí·Éê·É¶·Éò·Éñ·Éò·Éê·Éú·Éî·Éë·Éê·Éì·Éù·Éë·Éê',
                    '·Éñ·Éî·É¨·Éù·Éö·Éò·É° ·É®·Éî·Éí·É†·É´·Éú·Éî·Éë·Éê',
                    '·Éî·É≠·Éï·Éò·Éê·Éú·Éù·Éë·Éê',
                    '·É®·É§·Éù·Éó·Éï·Éê',
                    '·Éõ·Éù·É¨·Éß·Éî·Éú·Éò·Éö·Éù·Éë·Éê',
                    '·Éë·É†·Éê·Éñ·Éò',
                    '·É§·É†·É£·É°·É¢·É†·Éê·É™·Éò·Éê',
                    '·Éì·Éê·Éú·Éê·É®·Éê·É£·Éö·Éò',
                    '·É°·Éò·É†·É™·ÉÆ·Éï·Éò·Éö·Éò',
                    '·Éî·Éú·Éî·É†·Éí·Éî·É¢·Éò·Éô·É£·Éö·Éò ·Éë·Éò·É´·Éí·Éò·É° ·Éõ·Éù·Éó·ÉÆ·Éù·Éï·Éú·Éò·Éö·Éî·Éë·Éê',
                    '·É§·Éò·Éñ·Éò·Éô·É£·É†·Éò ·Éì·Éê·Éõ·Éù·Éô·Éò·Éì·Éî·Éë·É£·Éö·Éî·Éë·Éê',
                    '·Éí·Éê·Éì·Éê·É¢·Éï·Éò·É†·Éó·Éï·Éê',
                    '·Éë·Éî·Éì·Éú·Éò·Éî·É†·Éî·Éë·Éê'
                ]
            }
        };
        
        let riskFactorsData = {};
        let riskFactorsViewMode = false; // false = edit mode, true = view mode (show only selected)
        
        let recommendationsData = {
            riskyContacts: '',
            safeContacts: '',
            pleasantActivities: ''
        };
        
        let copingThoughts = [];
        let copingCurrentThoughtIndex = null;
        let copingDeleteConfirmCallback = null;
        let selectedCopingMechanisms = [];
        
        function showCoping() {
            copingLoadData();
            showSection('copingMain');
        }
        
        function showCopingThoughts() {
            copingLoadData();
            copingRenderThoughts();
            showSection('copingThoughts');
        }
        
        function showCopingMechanisms() {
            copingLoadData();
            copingRenderMechanisms();
            showSection('copingMechanisms');
        }
        
        function showRiskFactors() {
            riskFactorsLoadData();
            
            // Check if user has any saved items
            const hasItems = Object.keys(riskFactorsData).some(key => 
                riskFactorsData[key] && riskFactorsData[key].length > 0
            );
            
            // Start in view mode if has items, otherwise edit mode
            riskFactorsViewMode = hasItems;
            
            riskFactorsRender();
            showSection('riskFactors');
        }
        
        function copingLoadData() {
            let u = app.users[user.email];
            if (!u.copingData) {
                u.copingData = {
                    thoughts: DEFAULT_COPING_THOUGHTS.map((item) => ({
                        id: item.id,
                        text: item.thought,
                        whyRight: item.whyRight,
                        whyWrong: item.whyWrong,
                        whatToSay: item.whatToSay,
                        selected: false
                    })),
                    selectedMechanisms: []
                };
                save();
            } else {
                // MIGRATION: Convert old string format to new object format
                if (u.copingData.thoughts && u.copingData.thoughts.length > 0) {
                    const firstThought = u.copingData.thoughts[0];
                    // Check if it's old format (just strings)
                    if (typeof firstThought === 'string') {
                        // Reset to new format with pre-filled defaults
                        u.copingData.thoughts = DEFAULT_COPING_THOUGHTS.map((item) => ({
                            id: item.id,
                            text: item.thought,
                            whyRight: item.whyRight,
                            whyWrong: item.whyWrong,
                            whatToSay: item.whatToSay,
                            selected: false
                        }));
                        save();
                    }
                    // Check if it's object but has empty fields (old migration)
                    else if (firstThought && firstThought.whyRight === '' && firstThought.id) {
                        // Find matching default and restore
                        const defaultMatch = DEFAULT_COPING_THOUGHTS.find(dt => dt.id === firstThought.id);
                        if (defaultMatch) {
                            u.copingData.thoughts = DEFAULT_COPING_THOUGHTS.map((item) => ({
                                id: item.id,
                                text: item.thought,
                                whyRight: item.whyRight,
                                whyWrong: item.whyWrong,
                                whatToSay: item.whatToSay,
                                selected: false
                            }));
                            save();
                        }
                    }
                    // Add selected field if missing
                    else if (firstThought && firstThought.selected === undefined) {
                        u.copingData.thoughts.forEach(t => {
                            if (t.selected === undefined) t.selected = false;
                        });
                        save();
                    }
                }
            }
            copingThoughts = u.copingData.thoughts;
            selectedCopingMechanisms = u.copingData.selectedMechanisms || [];
        }
        
        function copingSaveData() {
            let u = app.users[user.email];
            if (!u.copingData) u.copingData = {};
            u.copingData.thoughts = copingThoughts;
            u.copingData.selectedMechanisms = selectedCopingMechanisms;
            save();
        }
        
        // ===== RISK FACTORS FUNCTIONS =====
        
        function riskFactorsLoadData() {
            let u = app.users[user.email];
            if (!u.riskFactors) {
                u.riskFactors = {
                    objects: [],
                    people: [],
                    places: [],
                    situations: [],
                    emotions: []
                };
                save();
            }
            riskFactorsData = u.riskFactors;
        }
        
        function riskFactorsSave() {
            let u = app.users[user.email];
            u.riskFactors = riskFactorsData;
            save();
        }
        
        function toggleRiskRecommendation() {
            const content = document.getElementById('riskRecommendationContent');
            const arrow = document.getElementById('riskRecommendationArrow');
            
            if (content.style.display === 'none') {
                content.style.display = 'block';
                arrow.textContent = '‚ñ≤';
            } else {
                content.style.display = 'none';
                arrow.textContent = '‚ñº';
            }
        }
        
        function riskFactorsRender() {
            const container = document.getElementById('riskFactorsList');
            if (!container) return;
            
            let html = '';
            
            // Add Edit button at top if in view mode
            if (riskFactorsViewMode) {
                html += `
                    <div style="margin-bottom: 20px; text-align: right;">
                        <button onclick="riskFactorsEditMode()" 
                                style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; padding: 12px 24px; border-radius: 8px; cursor: pointer; font-weight: 600; font-size: 16px; box-shadow: 0 2px 8px rgba(102,126,234,0.3);">
                            ‚úèÔ∏è ·É†·Éî·Éì·Éê·É•·É¢·Éò·É†·Éî·Éë·Éê
                        </button>
                    </div>
                `;
            }
            
            // Add intro text (appears below edit button)
            html += `
                <p style="color: white; line-height: 1.8; font-size: 17px; margin-bottom: 25px; font-weight: 500;">
                    ·Éê·Éõ·Éù·Éò·É™·Éê·Éú·Éò ·É¢·É†·Éò·Éí·Éî·É†·Éî·Éë·Éò, ·É†·Éù·Éõ·Éö·Éî·Éë·Éò·É™ ·Éò·É¨·Éï·Éî·Éï·É° ·Éö·É¢·Éù·Éö·Éï·Éê·É°:
                </p>
            `;
            
            // Objects
            html += riskFactorsRenderCategory('objects', RISK_FACTORS_DATA.objects);
            
            // People
            html += riskFactorsRenderCategory('people', RISK_FACTORS_DATA.people);
            
            // Places
            html += riskFactorsRenderCategory('places', RISK_FACTORS_DATA.places);
            
            // Situations
            html += riskFactorsRenderCategory('situations', RISK_FACTORS_DATA.situations);
            
            // Emotions
            html += riskFactorsRenderCategory('emotions', RISK_FACTORS_DATA.emotions);
            
            // Add Save button at bottom if in edit mode
            if (!riskFactorsViewMode) {
                html += `
                    <div style="margin-top: 25px; text-align: center;">
                        <button onclick="riskFactorsSaveAndSwitch()" 
                                style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; padding: 15px; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 16px; box-shadow: 0 4px 12px rgba(102,126,234,0.4);">
                            üíæ ·É®·Éî·Éú·Éê·ÉÆ·Éï·Éê
                        </button>
                    </div>
                `;
            }
            
            container.innerHTML = html;
        }
        
        function riskFactorsRenderCategory(categoryKey, categoryData) {
            const userItems = riskFactorsData[categoryKey] || [];
            const defaultItems = categoryData.items || [];
            
            // In view mode, skip empty categories
            if (riskFactorsViewMode && userItems.length === 0) {
                return '';
            }
            
            let html = `
                <div style="background: white; padding: 20px; border-radius: 12px; margin-bottom: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                    <h3 style="color: #667eea; margin-bottom: 15px;">${categoryData.title}</h3>
            `;
            
            if (categoryData.description && !riskFactorsViewMode) {
                html += `<p style="color: #666; margin-bottom: 15px; font-size: 14px;">${categoryData.description}</p>`;
            }
            
            // Show user's selected items
            if (userItems.length > 0) {
                html += '<div style="margin-bottom: 15px;">';
                userItems.forEach((item, index) => {
                    html += `
                        <div style="display: flex; align-items: center; padding: 10px; background: #f0f4ff; border-radius: 8px; margin-bottom: 8px;">
                            <span style="flex: 1; color: #333;">${item}</span>
                            ${!riskFactorsViewMode ? `
                                <button onclick="riskFactorsRemoveItem('${categoryKey}', ${index})" 
                                        style="background: #ef4444; color: white; border: none; padding: 5px 12px; border-radius: 6px; cursor: pointer; font-size: 14px;">
                                    ‚úï
                                </button>
                            ` : ''}
                        </div>
                    `;
                });
                html += '</div>';
            }
            
            // In edit mode, show checkboxes and add custom input
            if (!riskFactorsViewMode) {
                // Checkboxes for default items
                if (defaultItems.length > 0) {
                    html += '<div style="margin-bottom: 15px;">';
                    defaultItems.forEach(item => {
                        const isChecked = userItems.includes(item);
                        html += `
                            <label style="display: flex; align-items: center; padding: 10px; cursor: pointer; border-radius: 8px; margin-bottom: 5px; transition: background 0.2s;" 
                                   onmouseover="this.style.background='#f9fafb'" 
                                   onmouseout="this.style.background='transparent'">
                                <input type="checkbox" 
                                       ${isChecked ? 'checked' : ''} 
                                       onchange="riskFactorsToggleItem('${categoryKey}', '${item.replace(/'/g, "\\'")}')"
                                       style="margin-right: 10px; width: 18px; height: 18px; cursor: pointer;">
                                <span style="color: #333; flex: 1;">${item}</span>
                            </label>
                        `;
                    });
                    html += '</div>';
                }
                
                // Add custom item input
                html += `
                    <div style="display: flex; gap: 10px;">
                        <input type="text" 
                               id="riskFactors_${categoryKey}_custom" 
                               placeholder="·Éì·Éê·Éê·Éõ·Éê·É¢·Éî ·É®·Éî·Éú·Éò ·Éï·Éê·É†·Éò·Éê·Éú·É¢·Éò..."
                               style="flex: 1; padding: 10px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 14px;"
                               onkeypress="if(event.key==='Enter') riskFactorsAddCustom('${categoryKey}')">
                        <button onclick="riskFactorsAddCustom('${categoryKey}')" 
                                style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; font-weight: 600;">
                            ·Éì·Éê·Éõ·Éê·É¢·Éî·Éë·Éê
                        </button>
                    </div>
                `;
            }
            
            html += '</div>';
            
            return html;
        }
        
        function riskFactorsToggleItem(categoryKey, item) {
            if (!riskFactorsData[categoryKey]) riskFactorsData[categoryKey] = [];
            
            const index = riskFactorsData[categoryKey].indexOf(item);
            if (index > -1) {
                riskFactorsData[categoryKey].splice(index, 1);
            } else {
                riskFactorsData[categoryKey].push(item);
            }
            
            riskFactorsSave();
            riskFactorsRender();
        }
        
        function riskFactorsAddCustom(categoryKey) {
            const input = document.getElementById(`riskFactors_${categoryKey}_custom`);
            const value = input.value.trim();
            
            if (!value) {
                alert('·É®·Éî·Éò·Éß·Éï·Éê·Éú·Éî ·É¢·Éî·É•·É°·É¢·Éò');
                return;
            }
            
            if (!riskFactorsData[categoryKey]) riskFactorsData[categoryKey] = [];
            
            if (riskFactorsData[categoryKey].includes(value)) {
                alert('·Éî·É° ·É£·Éô·Éï·Éî ·Éê·É†·É°·Éî·Éë·Éù·Éë·É° ·É°·Éò·Éê·É®·Éò');
                return;
            }
            
            riskFactorsData[categoryKey].push(value);
            input.value = '';
            
            riskFactorsSave();
            riskFactorsRender();
        }
        
        function riskFactorsRemoveItem(categoryKey, index) {
            if (confirm('·É¨·Éê·É®·Éö·Éê ·Éì·Éê·É†·É¨·Éõ·É£·Éú·Éî·Éë·É£·Éö·Éò ·ÉÆ·Éê·É†?')) {
                riskFactorsData[categoryKey].splice(index, 1);
                riskFactorsSave();
                riskFactorsRender();
            }
        }
        
        function riskFactorsSaveAndSwitch() {
            riskFactorsSave();
            riskFactorsViewMode = true;
            riskFactorsRender();
        }
        
        function riskFactorsEditMode() {
            riskFactorsViewMode = false;
            riskFactorsRender();
        }
        
        // ===== END RISK FACTORS FUNCTIONS =====
        
        // ===== TECHNIQUES MODALS =====
        
        function openTechniqueModal(modalId) {
            document.getElementById(modalId).style.display = 'block';
        }
        
        function closeTechniqueModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }
        
        // ===== RECOMMENDATIONS =====
        
        function showRecommendations() {
            recommendationsLoad();
            recommendationsRender();
            showSection('recommendations');
        }
        
        function recommendationsLoad() {
            let u = app.users[user.email];
            if (!u.recommendations) {
                u.recommendations = {
                    riskyContacts: '',
                    safeContacts: '',
                    pleasantActivities: ''
                };
                save();
            }
            recommendationsData = u.recommendations;
        }
        
        function recommendationsSave() {
            let u = app.users[user.email];
            u.recommendations = recommendationsData;
            save();
        }
        
        function recommendationsRender() {
            const container = document.getElementById('recommendationsList');
            if (!container) return;
            
            let html = '';
            
            // Recommendation 1: Get rid of resources
            html += `
                <div style="background: white; padding: 20px; border-radius: 12px; margin-bottom: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                    <h3 style="color: #667eea; margin-bottom: 15px;">üì¶ 1. ·Éí·Éê·Éì·Éê·Éß·Éê·É†·Éî ·Éõ·Éù·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éò·É° ·É†·Éî·É°·É£·É†·É°·Éî·Éë·Éò</h3>
                    <p style="color: #333; line-height: 1.8; font-size: 16px; margin-bottom: 0;">
                        ·Éí·Éê·Éì·Éê·Éß·Éê·É†·Éî ·Éõ·Éù·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éò·É° ·É†·Éî·É°·É£·É†·É°·Éî·Éë·Éò ·Éì·Éê ·Éõ·Éê·É°·Éó·Éê·Éú ·Éì·Éê·Éô·Éê·Éï·É®·Éò·É†·Éî·Éë·É£·Éö·Éò ·Éú·Éò·Éï·Éó·Éî·Éë·Éò. ·Éê·É† ·Éí·Éê·Éì·Éê·Éì·Éù ·Éê·Éõ·Éò·É° ·Éí·Éê·Éô·Éî·Éó·Éî·Éë·Éê ·Éõ·Éî·É†·Éî·Éñ·Éî - ·É†·Éù·Éí·Éù·É†·É™ ·Éô·Éò ·Éß·Éï·Éî·Éö·Éê ·Éî·É° ·É™·Éì·É£·Éú·Éî·Éë·Éê ·Éí·Éê·É•·É†·Éî·Éë·Éê ·É®·Éî·Éú·Éò ·ÉÆ·Éî·Éì·Éï·Éò·É° ·Éê·É†·Éî·Éê·Éö·Éò·Éì·Éê·Éú, ·Éû·É†·Éù·É™·Éî·É°·Éò ·É¨·Éê·Éï·Éê ·Éë·Éî·Éï·É†·Éê·Éì ·É£·É§·É†·Éù ·Éõ·Éê·É†·É¢·Éò·Éï·Éê·Éì.
                    </p>
                </div>
            `;
            
            // Recommendation 2: Physical activity
            html += `
                <div style="background: white; padding: 20px; border-radius: 12px; margin-bottom: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                    <h3 style="color: #667eea; margin-bottom: 15px;">üèÉ 2. ·Éì·Éê·Éô·Éê·Éï·Éì·Éò ·É§·Éò·Éñ·Éò·Éô·É£·É†·Éò ·Éê·É•·É¢·Éò·Éï·Éù·Éë·Éò·Éó</h3>
                    <p style="color: #333; line-height: 1.8; font-size: 16px; margin-bottom: 0;">
                        ·Éõ·Éù·É´·Éî·Éë·Éú·Éî ·É§·Éò·Éñ·Éò·Éô·É£·É†·Éò ·Éê·É•·É¢·Éò·Éï·Éù·Éë·Éê, ·É†·Éù·Éõ·Éî·Éö·Éò·É™ ·Éõ·Éù·Éí·É¨·Éù·Éú·É°. ·É£·Éê·ÉÆ·Éö·Éî·É°·Éò ·Éô·Éï·Éö·Éî·Éï·Éî·Éë·Éò ·Éê·Éì·Éê·É°·É¢·É£·É†·Éî·Éë·É°, ·É†·Éù·Éõ ·É†·Éî·Éí·É£·Éö·Éê·É†·É£·Éö·Éò ·É§·Éò·Éñ·Éò·Éô·É£·É†·Éò ·Éê·É•·É¢·Éò·Éï·Éù·Éë·Éê ·ÉÆ·Éî·Éö·É° ·É£·É¨·Éß·Éù·Éë·É° ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éò·É° ·Éû·É†·Éù·É™·Éî·É°·É°.
                    </p>
                </div>
            `;
            
            // Recommendation 3: Social connections
            html += `
                <div style="background: white; padding: 20px; border-radius: 12px; margin-bottom: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                    <h3 style="color: #667eea; margin-bottom: 15px;">üë• 3. ·Éí·Éê·Éê·Éô·Éî·Éó·Éî ·É°·Éù·É™·Éò·Éê·Éö·É£·É†·Éò ·Éô·Éê·Éï·É®·Éò·É†·Éî·Éë·Éò·É° ·Éê·Éú·Éê·Éö·Éò·Éñ·Éò</h3>
                    <p style="color: #333; line-height: 1.8; font-size: 16px; margin-bottom: 15px;">
                        ·É®·Éî·Éú·Éò ·É°·Éù·É™·Éò·Éê·Éö·É£·É†·Éò ·É¨·É†·Éî ·Éò·Éß·Éù·É§·Éê ·Éù·É† ·Éú·Éê·É¨·Éò·Éö·Éê·Éì: ·É£·É°·Éê·É§·É†·Éó·ÉÆ·Éù ·Éì·Éê ·É°·Éê·É§·É†·Éó·ÉÆ·Éò·É° ·É®·Éî·Éõ·É™·Éï·Éî·Éö·Éò ·Éí·Éê·É†·Éî·Éõ·Éù·É™·Éï·Éê. ·É°·Éê·É§·É†·Éó·ÉÆ·Éò·É° ·É®·Éî·Éõ·É™·Éï·Éî·Éö·Éò ·Éê·É†·Éò·É° ·Éí·Éê·É†·Éî·Éõ·Éù·É™·Éï·Éê, ·Éï·Éò·É°·Éó·Éê·Éú ·Éî·É†·Éó·Éê·Éì·Éê·É™ ·Éõ·Éù·Éò·ÉÆ·Éõ·Éê·É†·Éì·Éò ·Éê·Éú ·É†·Éê·Éò·Éõ·Éî ·Éõ·Éò·Éñ·Éî·Éñ·Éò·Éó ·Éõ·Éê·Éó·Éò ·Éì·Éê·Éú·Éê·ÉÆ·Éï·Éê ·Éò·É¨·Éï·Éî·Éï·É° ·É®·Éî·Éú·É®·Éò ·Éö·É¢·Éù·Éö·Éï·Éê·É°.
                    </p>
                    
                    <!-- Risky contacts -->
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 10px; color: #ef4444; font-weight: 600;">‚ö†Ô∏è ·É°·Éê·É§·É†·Éó·ÉÆ·Éò·É° ·É®·Éî·Éõ·É™·Éï·Éî·Éö·Éò ·É¨·É†·Éî:</label>
                        <textarea id="riskyContacts" 
                                  placeholder="·É©·Éê·Éõ·Éù·É¨·Éî·É†·Éî ·Éê·Éì·Éê·Éõ·Éò·Éê·Éú·Éî·Éë·Éò, ·Éï·Éò·É°·Éó·Éê·Éú ·Éî·É†·Éó·Éê·Éì·Éê·É™ ·Éõ·Éù·Éò·ÉÆ·Éõ·Éê·É†·Éì·Éò..."
                                  style="width: 100%; min-height: 100px; padding: 12px; border: 2px solid #fecaca; border-radius: 8px; font-size: 14px; resize: vertical; box-sizing: border-box;"
                                  oninput="recommendationsData.riskyContacts = this.value; recommendationsSave();">${recommendationsData.riskyContacts}</textarea>
                    </div>
                    
                    <!-- Safe contacts -->
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 10px; color: #10b981; font-weight: 600;">‚úÖ ·É£·É°·Éê·É§·É†·Éó·ÉÆ·Éù ·É¨·É†·Éî:</label>
                        <textarea id="safeContacts" 
                                  placeholder="·É©·Éê·Éõ·Éù·É¨·Éî·É†·Éî ·Éê·Éì·Éê·Éõ·Éò·Éê·Éú·Éî·Éë·Éò, ·É†·Éù·Éõ·Éö·Éî·Éë·Éò·É™ ·Éê·É† ·Éõ·Éù·Éò·ÉÆ·Éõ·Éê·É†·Éî·Éú ·Éê·Éú ·Éõ·Éñ·Éê·Éì ·Éê·É†·Éò·Éê·Éú ·É®·Éî·Éú·Éó·Éê·Éú ·Éî·É†·Éó·Éê·Éì ·Éó·Éê·Éï·Éò ·É®·Éî·Éò·Éô·Éê·Éï·Éù·Éú..."
                                  style="width: 100%; min-height: 100px; padding: 12px; border: 2px solid #bbf7d0; border-radius: 8px; font-size: 14px; resize: vertical; box-sizing: border-box;"
                                  oninput="recommendationsData.safeContacts = this.value; recommendationsSave();">${recommendationsData.safeContacts}</textarea>
                    </div>
                    
                    <!-- Detailed recommendations for risky environment -->
                    <div style="background: #fef2f2; padding: 12px; border-radius: 8px; margin-top: 15px; border-left: 3px solid #ef4444;">
                        <h4 style="color: #991b1b; margin-bottom: 10px; font-size: 15px;">·É†·Éî·Éô·Éù·Éõ·Éî·Éú·Éì·Éê·É™·Éò·Éî·Éë·Éò ·É°·Éê·É§·É†·Éó·ÉÆ·Éò·É° ·É®·Éî·Éõ·É™·Éï·Éî·Éö ·Éí·Éê·É†·Éî·Éõ·Éù·É°·Éó·Éê·Éú ·Éõ·Éò·Éõ·Éê·É†·Éó·Éî·Éë·Éê·É®·Éò:</h4>
                        <ul style="color: #333; line-height: 1.8; margin: 0; padding-left: 20px;">
                            <li style="margin-bottom: 8px;"><strong>·É£·É†·Éó·Éò·Éî·É†·Éó·Éù·Éë·Éò·É° ·É®·Éî·É¨·Éß·Éï·Éî·É¢·Éê</strong> - ·Éì·Éò·Éö·Éî·É†·Éî·Éë·Éò·É° ·Éú·Éù·Éõ·É†·Éî·Éë·Éò ·É¨·Éê·É®·Éê·Éö·Éî. ·Éó·Éê·Éú·Éê·Éõ·Éù·Éõ·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éö·Éî·Éë·Éó·Éê·Éú·Éê·É™ ·Éï·Éò·É°·Éó·Éê·Éú·Éê·É™ ·É®·Éî·É°·Éê·É´·Éö·Éî·Éë·Éî·Éö·Éò·Éê ·É£·Éõ·ÉØ·Éù·Éë·Éî·É°·Éò·Éê ·É°·É†·É£·Éö·Éê·Éì ·É®·Éî·É¨·Éß·Éï·Éò·É¢·Éù ·É£·É†·Éó·Éò·Éî·É†·Éó·Éù·Éë·Éê.</li>
                            <li style="margin-bottom: 8px;"><strong>·É£·É†·Éó·Éò·Éî·É†·Éó·Éù·Éë·Éò·É° ·É®·Éî·Éñ·É¶·É£·Éì·Éï·Éê</strong> - ·Éï·Éò·É°·Éó·Éê·Éú·Éê·É™ ·É£·É†·Éó·Éò·Éî·É†·Éó·Éù·Éë·Éò·É° ·É®·Éî·É¨·Éß·Éï·Éî·É¢·Éê ·É®·Éî·É°·Éê·É´·Éö·Éî·Éë·Éî·Éö·Éò ·Éê·É† ·Éê·É†·Éò·É°, ·É°·Éê·É°·É£·É†·Éï·Éî·Éö·Éò·Éê ·É®·Éî·Éñ·É¶·É£·Éì·Éù ·É£·É†·Éó·Éò·Éî·É†·Éó·Éù·Éë·Éò·É° ·Éò·Éú·É¢·Éî·Éú·É°·Éò·Éï·Éù·Éë·Éê ·Éì·Éê ·É°·Éò·ÉÆ·É®·Éò·É†·Éî.</li>
                            <li><strong>·Éñ·É¶·Éï·É†·Éî·Éë·Éò·É° ·Éì·Éê·É¨·Éî·É°·Éî·Éë·Éê</strong> - ·Éí·Éê·Éõ·Éù·Éò·Éõ·É£·É®·Éê·Éï·Éî ·É£·Éê·É†·Éò·É° ·Éó·É•·Éõ·Éò·É° ·É£·Éú·Éê·É†·Éò.</li>
                        </ul>
                    </div>
                    
                    <!-- Social pressure - FULL TEXT -->
                    <div style="background: #fff3cd; padding: 12px; border-radius: 8px; margin-top: 15px; border-left: 3px solid #ffc107;">
                        <h4 style="color: #856404; margin-bottom: 10px; font-size: 15px;">‚ö° ·É°·Éù·É™·Éò·Éê·Éö·É£·É†·Éò ·Éñ·Éî·É¨·Éù·Éö·Éê</h4>
                        <p style="color: #856404; line-height: 1.8; margin-bottom: 12px;">
                            ·É°·Éù·É™·Éò·Éê·Éö·É£·É†·Éò ·Éñ·Éî·É¨·Éù·Éö·Éê ·Éõ·Éù·É•·Éõ·Éî·Éì·Éî·Éë·É° ·Éò·Éõ·Éí·Éï·Éê·É†·Éê·Éì, ·É†·Éù·Éõ ·Éß·Éù·Éï·Éî·Éö·Éò ·Éõ·Éî·É°·Éê·Éõ·Éî ·É†·Éî·É™·Éò·Éì·Éò·Éï·É° ·Éí·Éê·Éú·Éò·É™·Éì·Éò·É°. ·É®·Éî·Éò·É´·Éö·Éî·Éë·Éê ·É¶·Éî·Éö·Éê·Éï·Éì·Éî ·Éò·Éõ·Éê·Éñ·Éî, ·Éó·É£ ·É†·Éê·É° ·Éò·É§·Éò·É•·É†·Éî·Éë·Éî·Éú ·É®·Éî·Éú·Éñ·Éî ·Éó·É£ ·É£·Éê·É†·É° ·Éî·É¢·Éß·Éï·Éò. ·Éñ·Éù·Éí·Éò·Éî·É†·Éó·Éò ·Éê·Éì·Éê·Éõ·Éò·Éê·Éú·Éò ·Éñ·Éî·Éì·Éõ·Éî·É¢·Éê·Éì ·Éõ·Éò·Éõ·É¨·Éù·Éö·Éò·Éê. ·Éñ·Éù·Éí·ÉØ·Éî·É† ·É†·Éî·É°·É£·É†·É°·Éñ·Éî ·ÉÆ·Éî·Éö·Éõ·Éò·É°·Éê·É¨·Éï·Éì·Éù·Éõ·Éù·Éë·Éê ·Éõ·Éù·É•·Éõ·Éî·Éì·Éî·Éë·É° ·Éò·Éõ·Éê·Éñ·Éî, ·É†·Éù·Éõ ·É£·Éê·É†·É° ·Éï·Éî·É¶·Éê·É† ·Éê·Éõ·Éë·Éù·Éë.
                        </p>
                        <p style="color: #856404; line-height: 1.8; margin-bottom: 12px;">
                            ·Éí·Éê·Éò·Éó·Éï·Éê·Éö·Éò·É°·É¨·Éò·Éú·Éî ·É®·Éî·Éú·Éò ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éê ·Éê·É†·Éò·É° ·Éõ·Éó·Éê·Éï·Éê·É†·Éò ·Éû·É†·Éò·Éù·É†·Éò·É¢·Éî·É¢·Éò. ·Éï·Éò·Éú·É™ ·Éí·Éó·Éê·Éï·Éê·Éñ·Éù·Éë·É° ·Éõ·Éê·É°·Éó·Éê·Éú ·Éô·Éù·Éõ·É£·Éú·Éò·Éô·Éê·É™·Éò·Éê ·É®·Éî·Éò·É´·Éö·Éî·Éë·Éê ·Éò·Éß·Éù·É° ·Éû·Éê·É¢·Éò·Éï·Éò·É°·É™·Éî·Éõ·Éò·É° ·Éí·Éê·Éõ·Éù·Éõ·ÉÆ·Éê·É¢·Éï·Éî·Éö·Éò, ·Éõ·Éê·Éí·É†·Éê·Éõ ·Éõ·Éô·Éê·É™·É†·Éò, ·Éõ·Éß·Éê·É†·Éò ·Éì·Éê ·Éû·É†·Éò·Éú·É™·Éò·Éû·É£·Éö·Éò, ·É†·Éê·Éó·Éê ·Éï·Éî·É¶·Éê·É† ·Éí·Éê·Éê·Éí·É†·É´·Éî·Éö·Éù·É° ·É®·Éî·Éú·Éò ·É™·Éì·É£·Éú·Éî·Éë·Éê. ·Éû·Éê·É°·É£·ÉÆ·É®·Éò ·É£·Éú·Éì·Éê ·Éò·Éí·É†·É´·Éú·Éù·Éë·Éù·Éì·Éî·É° ·É°·Éò·É´·Éö·Éò·Éî·É†·Éî ·Éì·Éê ·Éì·Éê·Éõ·Éê·ÉØ·Éî·É†·Éî·Éë·Éö·Éù·Éë·Éê. ·Éì·Éê·Éê·Éõ·Éß·Éê·É†·Éî ·Éó·Éï·Éê·Éö·Éò·Éó ·Éô·Éù·Éú·É¢·Éê·É•·É¢·Éò, ·É†·Éê·Éó·Éê ·Éê·É† ·Éò·É§·Éò·É•·É†·Éù·É°, ·É†·Éù·Éõ ·É®·Éî·Éò·É´·Éö·Éî·Éë·Éê ·Éí·Éê·Éì·Éê·Éò·É§·Éò·É•·É†·Éù. ·É£·Éó·ÉÆ·Éê·É†·Éò, ·É†·Éù·Éõ ·Éó·Éê·Éï·Éò ·Éì·Éê·Éê·Éú·Éî·Éë·Éî ·Éì·Éê ·É°·Éó·ÉÆ·Éù·Éï·Éî, ·É†·Éù·Éõ ·Éê·Éõ·Éò·É° ·Éõ·Éî·É†·Éî ·Éê·É¶·Éê·É† ·É®·Éî·Éõ·Éù·Éí·Éó·Éê·Éï·Éê·Éñ·Éù·É°. ·Éí·Éê·ÉÆ·É°·Éù·Éï·Éì·Éî·É°, ·É†·Éù·Éõ ·Éï·Éò·Éú·É™ ·Éê·Éí·É†·É´·Éî·Éö·Éî·Éë·É° ·É®·Éî·Éõ·Éù·Éó·Éê·Éï·Éê·Éñ·Éî·Éë·Éê·É° ·Éê·É† ·Éí·É™·Éî·Éõ·É° ·Éû·Éê·É¢·Éò·Éï·É° ·Éì·Éê ·É®·Éî·Éú·Éó·Éï·Éò·É° ·Éê·É†·Éê·É°·Éê·É°·É£·É†·Éï·Éî·Éö·Éò·Éê ·Éõ·Éê·É°·Éó·Éê·Éú ·Éî·É†·Éó·Éê·Éì ·Éì·É†·Éù·Éò·É° ·Éí·Éê·É¢·Éê·É†·Éî·Éë·Éê. ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éê ·Éß·Éï·Éî·Éö·Éê·É§·Éî·É†·Éó·Éê·Éú ·Éî·É†·Éó·Éê·Éì ·É°·Éê·Éô·É£·Éó·Éê·É†·Éò ·Éó·Éê·Éï·Éò·É° ·Éì·Éê·É™·Éï·Éò·É° ·É£·Éú·Éê·É†·Éò·É° ·Éí·Éê·Éú·Éï·Éò·Éó·Éê·É†·Éî·Éë·Éê·É° ·Éí·É£·Éö·Éò·É°·ÉÆ·Éõ·Éù·Éë·É°. ·Éî·É°·Éê·É£·Éë·É†·Éî ·É®·Éî·Éú·É° ·Éó·Éê·Éï·É° ·Éò·Éõ·Éê·Éñ·Éî, ·Éó·É£ ·É†·Éê·É¢·Éù·Éõ ·Éê·É†·Éò·É° ·Éõ·Éú·Éò·É®·Éï·Éú·Éî·Éö·Éù·Éï·Éê·Éú·Éò ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éê. ·É®·Éî·Éú ·Éê·É† ·É£·Éú·Éì·Éê ·Éí·É†·É´·Éú·Éù·Éë·Éì·Éî ·Éì·Éê·Éú·Éê·É®·Éê·É£·Éö·É° ·Éõ·Éî·Éí·Éù·Éë·É†·Éò·É° ·Éõ·Éò·Éõ·Éê·É†·Éó, ·É†·Éê·Éì·Éí·Éê·Éú ·Éõ·Éù·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê·É®·Éò ·Éê·É† ·É®·Éî·É£·Éî·É†·Éó·Éì·Éò ·Éì·Éê ·Éò·Éõ·Éî·Éì·Éî·Éë·Éò ·Éí·Éê·É£·Éõ·É¢·Éß·É£·Éï·Éú·Éî. ·Éî·É° ·Éê·É†·Éò·É° ·Éê·É†·É©·Éî·Éï·Éê·Éú·Éò, ·É†·Éù·Éõ·Éî·Éö·É°·Éê·É™ ·Éß·Éï·Éî·Éö·Éê ·Éó·Éê·Éï·Éò·É°·Éó·Éï·Éò·É° ·Éê·Éô·Éî·Éó·Éî·Éë·É°.
                        </p>
                    </div>
                    
                    <!-- Recommendations for safe environment -->
                    <div style="background: #f0fdf4; padding: 12px; border-radius: 8px; margin-top: 15px; border-left: 3px solid #10b981;">
                        <h4 style="color: #065f46; margin-bottom: 10px; font-size: 15px;">‚úÖ ·É†·Éî·Éô·Éù·Éõ·Éî·Éú·Éì·Éê·É™·Éò·Éî·Éë·Éò ·É£·É°·Éê·É§·É†·Éó·ÉÆ·Éù ·Éí·Éê·É†·Éî·Éõ·Éù·É°·Éó·Éê·Éú ·Éõ·Éò·Éõ·Éê·É†·Éó·Éî·Éë·Éê·É®·Éò:</h4>
                        <p style="color: #333; line-height: 1.8; margin-bottom: 12px;">
                            <strong>·É£·É°·Éê·É§·É†·Éó·ÉÆ·Éù ·Éí·Éê·É†·Éî·Éõ·Éù·É™·Éï·Éê:</strong> ·Éï·Éò·Éú·É™ ·Éê·É† ·Éõ·Éù·Éò·ÉÆ·Éõ·Éê·É†·É° ·Éê·Éú ·Éõ·Éñ·Éê·Éì·Éê·Éê ·É®·Éî·Éú·Éó·Éê·Éú ·Éî·É†·Éó·Éê·Éì ·Éó·Éê·Éï·Éò ·É®·Éî·Éò·Éô·Éê·Éï·Éù·É°.
                        </p>
                        <p style="color: #333; line-height: 1.8; margin-bottom: 12px;">
                            ·Éí·Éê·Éò·É§·Éê·É†·Éó·Éù·Éï·Éî ·Éê·Éú ·Éí·Éê·Éò·É¶·É†·Éõ·Éê·Éï·Éî ·Éê·É°·Éî·Éó·Éò ·Éô·Éù·Éú·É¢·Éê·É•·É¢·Éî·Éë·Éò. ·Éõ·Éê·Éí. ·É´·Éï·Éî·Éö ·Éõ·Éî·Éí·Éù·Éë·É†·Éî·Éë·Éó·Éê·Éú ·É£·É†·Éó·Éò·Éî·É†·Éó·Éù·Éë·Éò·É° ·Éê·É¶·Éì·Éí·Éî·Éú·Éê, ·Éê·ÉÆ·Éê·Éö·Éò ·Éê·Éì·Éê·Éõ·Éò·Éê·Éú·Éî·Éë·Éò·É° ·Éí·Éê·É™·Éú·Éù·Éë·Éê, ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éò·É° ·Éí·Éñ·Éê·Éñ·Éî ·Éõ·Éß·Éù·É§ ·Éê·Éì·Éê·Éõ·Éò·Éê·Éú·Éî·Éë·Éó·Éê·Éú ·É£·É†·Éó·Éò·Éî·É†·Éó·Éù·Éë·Éê, ·É£·É°·Éê·É§·É†·Éó·ÉÆ·Éù ·Éú·Éê·Éó·Éî·É°·Éê·Éï·Éî·Éë·Éó·Éê·Éú ·É£·É§·É†·Éù ·ÉÆ·É®·Éò·É†·Éò ·Éì·Éê·É†·Éî·Éô·Éï·Éê ·Éê·Éú ·Éï·Éò·Éñ·Éò·É¢·Éî·Éë·Éò.
                        </p>
                        <p style="color: #333; line-height: 1.8; margin: 0;">
                            ·Éì·Éê·É§·Éò·É•·É†·Éì·Éò ·Éê·Éõ ·É£·É°·Éê·É§·É†·Éó·ÉÆ·Éù ·Éí·Éê·É†·Éî·Éõ·Éù·É™·Éï·Éò·Éì·Éê·Éú ·Éê·É†·Éò·Éê·Éú ·Éó·É£ ·Éê·É†·Éê ·Éò·É°·Éî·Éó·Éî·Éë·Éò, ·É†·Éù·Éõ·Éî·Éö·É°·Éê·É™ ·É®·Éî·Éí·Éò·É´·Éö·Éò·Éê ·Éì·Éê·Éî·Éß·É†·Éì·Éú·Éù ·É†·Éó·É£·Éö ·Éì·É¶·Éî·Éî·Éë·É®·Éò, ·Éê·Éú ·É†·Éù·Éì·Éî·É°·Éê·É™ ·É°·Éê·É£·Éë·Éê·É†·Éò ·Éõ·Éù·Éí·Éò·Éú·Éì·Éî·Éë·Éê.
                        </p>
                    </div>
                </div>
            `;
            
            // Recommendation 4: Pleasant activities
            html += `
                <div style="background: white; padding: 20px; border-radius: 12px; margin-bottom: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                    <h3 style="color: #667eea; margin-bottom: 15px;">üé® 4. ·É°·Éê·É°·Éò·Éê·Éõ·Éù·Éï·Éú·Éù ·Éê·É•·É¢·Éò·Éï·Éù·Éë·Éî·Éë·Éò</h3>
                    <p style="color: #333; line-height: 1.8; font-size: 16px; margin-bottom: 15px;">
                        ·É†·Éù·Éì·Éî·É°·Éê·É™ ·Éê·Éì·Éê·Éõ·Éò·Éê·Éú·Éî·Éë·Éò ·ÉÆ·Éì·Éî·Éë·Éò·Éê·Éú ·Éì·Éê·Éõ·Éù·Éô·Éò·Éì·Éî·Éë·É£·Éö·Éú·Éò, ·É°·É£·Éö ·É£·É§·É†·Éù ·Éú·Éê·Éô·Éö·Éî·Éë·Éê·Éì ·Éò·É¶·Éî·Éë·Éî·Éú ·É°·Éò·Éê·Éõ·Éù·Éï·Éú·Éî·Éë·Éê·É° ·Éë·É£·Éú·Éî·Éë·É†·Éò·Éï·Éò ·Éí·Éñ·Éò·Éó. ·Éí·Éê·Éò·ÉÆ·É°·Éî·Éú·Éî ·É†·Éê ·Éí·Éê·Éú·Éò·É≠·Éî·Éë·Éì·Éê ·É°·Éò·Éê·Éõ·Éù·Éï·Éú·Éî·Éë·Éê·É°? ·Éì·Éê·É§·Éò·É•·É†·Éì·Éò ·Éò·Éõ·Éê·Éñ·Éî, ·Éó·É£ ·É†·Éù·Éí·Éù·É† ·É®·Éî·É¨·Éß·Éï·Éò·É¢·Éî ·Éê·Éú ·É®·Éî·Éê·Éõ·É™·Éò·É†·Éî ·Éê·Éõ ·Éê·É•·É¢·Éò·Éï·Éù·Éë·Éî·Éë·É®·Éò ·É©·Éê·É†·Éó·Éï·Éê ·Éõ·Éù·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éò·É° ·Éì·Éê·É¨·Éß·Éî·Éë·Éò·É° ·É®·Éî·Éõ·Éì·Éî·Éí.
                    </p>
                    
                    <label style="display: block; margin-bottom: 10px; color: #667eea; font-weight: 600;">
                        ·Éò·É° ·É†·Éò·Éó·Éò·É™ ·Éê·Éì·É†·Éî ·É°·Éò·Éê·Éõ·Éù·Éï·Éú·Éî·Éë·Éê·É° ·Éï·Éò·É¶·Éî·Éë·Éì·Éò ·Éì·Éê ·Éõ·Éù·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éò·É° ·Éô·Éù·Éú·É¢·É†·Éù·Éö·Éò·Éì·Éê·Éú ·Éí·Éê·É°·Éï·Éö·Éò·É° ·É®·Éî·Éõ·Éì·Éî·Éí ·É®·Éî·Éï·Éê·Éõ·É™·Éò·É†·Éî:
                    </label>
                    <p style="color: #666; font-size: 14px; margin-bottom: 10px; font-style: italic;">
                        (·Éõ·Éê·Éí·Éê·Éö·Éò·Éó·Éê·Éì ·Éõ·Éî·Éí·Éù·Éë·É†·Éî·Éë·Éó·Éê·Éú ·Éì·Éê ·Éù·ÉØ·Éê·ÉÆ·Éó·Éê·Éú ·Éî·É†·Éó·Éê·Éì ·Éì·É†·Éù·Éò·É° ·Éí·Éê·É¢·Éê·É†·Éî·Éë·Éê, ·É°·Éû·Éù·É†·É¢·Éò·Éó ·Éì·Éê·Éô·Éê·Éï·Éî·Éë·Éê, ·É°·Éê·Éõ·É£·É®·Éê·Éù, ·É∞·Éù·Éë·Éò)
                    </p>
                    <textarea id="pleasantActivities" 
                              placeholder="·É©·Éê·Éõ·Éù·É¨·Éî·É†·Éî ·Éê·É•·É¢·Éò·Éï·Éù·Éë·Éî·Éë·Éò..."
                              style="width: 100%; min-height: 180px; padding: 12px; border: 2px solid #e0e7ff; border-radius: 8px; font-size: 14px; resize: vertical; box-sizing: border-box;"
                              oninput="recommendationsData.pleasantActivities = this.value; recommendationsSave();">${recommendationsData.pleasantActivities}</textarea>
                    
                    <div style="background: #f0f4ff; padding: 12px; border-radius: 8px; margin-top: 15px; border-left: 3px solid #667eea;">
                        <p style="color: #333; line-height: 1.8; margin-bottom: 12px;">
                            <strong>·É†·Éî·Éô·Éù·Éõ·Éî·Éú·Éì·Éî·Éë·É£·Éö·Éò·Éê ·É°·Éê·É°·Éò·Éê·Éõ·Éù·Éï·Éú·Éù ·Éê·É•·É¢·Éò·Éï·Éù·Éë·Éî·Éë·É®·Éò ·Éõ·Éù·Éú·Éê·É¨·Éò·Éö·Éî·Éù·Éë·Éê ·É†·Éî·Éí·É£·Éö·Éê·É†·É£·Éö·Éê·Éì.</strong>
                        </p>
                        <p style="color: #333; line-height: 1.8; margin-bottom: 12px;">
                            ·Éê·Éò·É†·É©·Éò·Éî ·Éò·É°·Éî·Éó·Éò ·É°·Éê·É°·Éò·Éê·Éõ·Éù·Éï·Éú·Éù ·Éê·É•·É¢·Éò·Éï·Éù·Éë·Éî·Éë·Éò, ·É†·Éù·Éõ·Éö·Éî·Éë·Éò·É™ ·Éê·É† ·Éí·Éê·Éõ·Éù·Éò·É¨·Éï·Éî·Éï·É° ·Éö·É¢·Éù·Éö·Éï·Éò·É° ·Éõ·Éù·Éõ·Éê·É¢·Éî·Éë·Éê·É°. ·Éò·É•·Éù·Éú·Éò·Éî ·Éõ·ÉÆ·Éî·Éì·Éï·Éî·Éö·Éù·Éë·Éê·É®·Éò, ·É†·Éù·Éõ ·É®·Éî·Éú·Éò ·Éõ·Éù·Éö·Éù·Éì·Éò·Éú·Éò, ·É†·Éù·Éõ ·Éê·Éõ ·É°·Éê·É•·Éõ·Éò·Éê·Éú·Éù·Éë·Éê·Éõ ·É°·Éò·Éê·Éõ·Éù·Éï·Éú·Éî·Éë·Éê ·É£·Éú·Éì·Éê ·Éõ·Éù·Éí·Éò·É¢·Éê·Éú·Éù·É° ·É®·Éî·Éò·É´·Éö·Éî·Éë·Éê ·Éõ·É™·Éì·Éê·É†·Éò ·Éê·É¶·Éõ·Éù·É©·Éú·Éì·Éî·É°.
                        </p>
                        <p style="color: #333; line-height: 1.8; margin: 0;">
                            ·Éê·Éõ ·Éê·É•·É¢·Éò·Éï·Éù·Éë·Éî·Éë·Éò·É°·Éí·Éê·Éú ·É°·Éò·Éê·Éõ·Éù·Éï·Éú·Éî·Éë·Éò·É° ·Éõ·Éò·É¶·Éî·Éë·Éò·É° ·É£·Éú·Éê·É†·Éò ·É®·Éî·É°·Éê·É´·Éö·Éî·Éë·Éî·Éö·Éò·Éê ·Éì·É†·Éù·Éò·É° ·Éí·Éê·É°·Éï·Éö·Éê·É°·Éó·Éê·Éú ·Éî·É†·Éó·Éê·Éì ·Éí·Éê·Éò·Éñ·Éê·É†·Éì·Éù·É°. ·Éì·Éê·Éê·Éô·Éï·Éò·É†·Éì·Éò ·Éê·Éõ ·Éû·É†·Éù·É™·Éî·É°·É°.
                        </p>
                    </div>
                </div>
            `;
            
            container.innerHTML = html;
        }
        
        // ===== END RECOMMENDATIONS FUNCTIONS =====
        
        // ===== RESOURCES FUNCTIONS =====
        
        let currentResourceId = null;
        
        function showResources() {
            loadResourcesList();
            showSection('resources');
        }
        
        function loadResourcesList() {
            const u = app.users[user.email];
            if (!u.resources) u.resources = [];
            
            const container = document.getElementById('resourcesList');
            
            if (u.resources.length === 0) {
                container.innerHTML = '<p style="color: #999; text-align: center; padding: 40px 0;">·ÉØ·Éî·É† ·Éê·É† ·Éí·Éê·É•·Éï·É° ·Éì·Éê·Éõ·Éê·É¢·Éî·Éë·É£·Éö·Éò ·É†·Éî·É°·É£·É†·É°·Éî·Éë·Éò</p>';
                return;
            }
            
            let html = '<div style="display: flex; flex-direction: column; gap: 15px;">';
            
            u.resources.forEach((resource, index) => {
                const firstResult = resource.results && resource.results.length > 0 ? resource.results[0] : '';
                html += `
                    <div style="background: white; padding: 20px; border-radius: 12px; border: 2px solid #e5e7eb; transition: all 0.2s;">
                        <div style="display: flex; justify-content: space-between; align-items: start;">
                            <div onclick="viewResource(${index})" style="flex: 1; cursor: pointer;">
                                <h3 style="color: #667eea; margin-bottom: 10px; font-size: 18px;">üåü ${resource.description.substring(0, 80)}${resource.description.length > 80 ? '...' : ''}</h3>
                                <div style="color: #666; font-size: 14px;">
                                    ${firstResult ? firstResult.substring(0, 100) + '...' : ''}
                                </div>
                            </div>
                            <button onclick="deleteResource(${index})" style="background: #fee; color: #c00; border: none; padding: 8px 15px; border-radius: 8px; cursor: pointer; margin-left: 15px; flex-shrink: 0;">·É¨·Éê·É®·Éö·Éê</button>
                        </div>
                    </div>
                `;
            });
            
            html += '</div>';
            container.innerHTML = html;
        }
        
        function showResourcesModal() {
            currentResourceId = null;
            document.getElementById('resourceDescription').value = '';
            document.getElementById('resourceExperience1').value = '';
            document.getElementById('resourceExperience2').value = '';
            document.getElementById('resourceExperience3').value = '';
            document.getElementById('resourceResult1').value = '';
            document.getElementById('resourceResult2').value = '';
            document.getElementById('resourceResult3').value = '';
            document.getElementById('resourcesModal').style.display = 'block';
        }
        
        function closeResourcesModal() {
            document.getElementById('resourcesModal').style.display = 'none';
        }
        
        function saveResource() {
            const description = document.getElementById('resourceDescription').value.trim();
            const exp1 = document.getElementById('resourceExperience1').value.trim();
            const exp2 = document.getElementById('resourceExperience2').value.trim();
            const exp3 = document.getElementById('resourceExperience3').value.trim();
            const res1 = document.getElementById('resourceResult1').value.trim();
            const res2 = document.getElementById('resourceResult2').value.trim();
            const res3 = document.getElementById('resourceResult3').value.trim();
            
            if (!description) {
                alert('·Éí·Éó·ÉÆ·Éù·Éï·Éó ·É®·Éî·Éò·Éß·Éï·Éê·Éú·Éù·Éó ·É†·Éî·É°·É£·É†·É°·Éò·É° ·Éê·É¶·É¨·Éî·É†·Éê');
                return;
            }
            
            const u = app.users[user.email];
            if (!u.resources) u.resources = [];
            
            const resource = {
                description: description,
                experiences: [exp1, exp2, exp3].filter(e => e),
                results: [res1, res2, res3].filter(r => r),
                createdAt: new Date().toISOString()
            };
            
            if (currentResourceId !== null) {
                u.resources[currentResourceId] = resource;
            } else {
                u.resources.push(resource);
            }
            
            save();
            closeResourcesModal();
            loadResourcesList();
        }
        
        function viewResource(index) {
            const u = app.users[user.email];
            const resource = u.resources[index];
            
            currentResourceId = index;
            document.getElementById('resourceDescription').value = resource.description;
            document.getElementById('resourceExperience1').value = resource.experiences[0] || '';
            document.getElementById('resourceExperience2').value = resource.experiences[1] || '';
            document.getElementById('resourceExperience3').value = resource.experiences[2] || '';
            document.getElementById('resourceResult1').value = resource.results[0] || '';
            document.getElementById('resourceResult2').value = resource.results[1] || '';
            document.getElementById('resourceResult3').value = resource.results[2] || '';
            
            document.getElementById('resourcesModal').style.display = 'block';
        }
        
        function deleteResource(index) {
            const u = app.users[user.email];
            if (!u.resources) return;
            
            u.resources.splice(index, 1);
            save();
            loadResourcesList();
        }
        
        // ===== END RESOURCES FUNCTIONS =====
        
        function copingRenderThoughts() {
            const container = document.getElementById('copingThoughtsList');
            if (!container) return;
            
            if (copingThoughts.length === 0) {
                container.innerHTML = '<p style="color: #999; text-align: center; padding: 40px;">·ÉØ·Éî·É† ·Éê·É† ·Éí·Éê·É•·Éï·Éó ·Éê·Éñ·É†·Éî·Éë·Éò</p>';
                return;
            }
            
            // Split by selected status
            const selectedThoughts = copingThoughts.filter(t => t.selected === true);
            const unselectedThoughts = copingThoughts.filter(t => t.selected !== true);
            
            let html = '';
            
            // Show selected thoughts at top (·É©·Éî·Éõ·Éò ·Éê·Éñ·É†·Éî·Éë·Éò)
            if (selectedThoughts.length > 0) {
                html += '<div style="margin-bottom: 20px;"><h4 style="color: #667eea; margin-bottom: 10px;">·É©·Éî·Éõ·Éò ·Éê·Éñ·É†·Éî·Éë·Éò</h4>';
                selectedThoughts.forEach(t => {
                    const index = copingThoughts.indexOf(t);
                    const icon = '‚úÖ';
                    const statusText = '<div class="status-text filled">‚úì ·Éõ·Éù·Éú·Éò·É®·Éú·É£·Éö·Éò·Éê</div>';
                    
                    html += `
                        <div class="thought-card" onclick="copingEditThought(${index})">
                            <div class="thought-card-header">
                                <span class="status-icon">${icon}</span>
                                <div style="flex: 1;">
                                    <div class="thought-text">${t.text}</div>
                                    ${statusText}
                                </div>
                                <span class="arrow">‚Üí</span>
                            </div>
                        </div>
                    `;
                });
                html += '</div>';
            }
            
            // Show unselected thoughts at bottom (·Éí·Éê·Éï·É†·É™·Éî·Éö·Éî·Éë·É£·Éö·Éò ·Éê·Éñ·É†·Éî·Éë·Éò)
            if (unselectedThoughts.length > 0) {
                html += '<div><h4 style="color: #667eea; margin-bottom: 10px;">·Éí·Éê·Éï·É†·É™·Éî·Éö·Éî·Éë·É£·Éö·Éò ·Éê·Éñ·É†·Éî·Éë·Éò</h4>';
                unselectedThoughts.forEach(t => {
                    const index = copingThoughts.indexOf(t);
                    const icon = '‚ö™';
                    const statusText = '<div class="status-text empty">·Éõ·Éù·É°·Éê·Éú·Éò·É®·Éú·Éò·Éê</div>';
                    
                    html += `
                        <div class="thought-card" onclick="copingEditThought(${index})">
                            <div class="thought-card-header">
                                <span class="status-icon">${icon}</span>
                                <div style="flex: 1;">
                                    <div class="thought-text">${t.text}</div>
                                    ${statusText}
                                </div>
                                <span class="arrow">‚Üí</span>
                            </div>
                        </div>
                    `;
                });
                html += '</div>';
            }
            
            container.innerHTML = html;
        }
        
        function showCopingAddModal() {
            document.getElementById('copingNewThoughtText').value = '';
            document.getElementById('copingAddModal').style.display = 'block';
        }
        
        function copingCloseAddModal() {
            document.getElementById('copingAddModal').style.display = 'none';
        }
        
        function copingConfirmAddThought() {
            const text = document.getElementById('copingNewThoughtText').value.trim();
            
            if (!text) {
                alert('·Éí·Éó·ÉÆ·Éù·Éï·Éó ·É®·Éî·Éò·Éß·Éï·Éê·Éú·Éù·Éó ·Éê·Éñ·É†·Éò');
                return;
            }
            
            const newThought = {
                id: 'custom_' + Date.now(),
                text: text,
                whyRight: '',
                whyWrong: '',
                whatToSay: ''
            };
            
            copingThoughts.push(newThought);
            copingSaveData();
            copingRenderThoughts();
            copingCloseAddModal();
            
            copingEditThought(copingThoughts.length - 1);
        }
        
        function copingEditThought(index) {
            copingCurrentThoughtIndex = index;
            const t = copingThoughts[index];
            
            document.getElementById('copingThoughtModalTitle').textContent = t.text;
            document.getElementById('copingWhyRight').value = t.whyRight || '';
            document.getElementById('copingWhyWrong').value = t.whyWrong || '';
            document.getElementById('copingWhatToSay').value = t.whatToSay || '';
            
            document.getElementById('copingDeleteBtn').style.display = 'block';
            document.getElementById('copingThoughtModal').style.display = 'block';
        }
        
        function copingSaveThought() {
            if (copingCurrentThoughtIndex === null) return;
            
            copingThoughts[copingCurrentThoughtIndex].whyRight = document.getElementById('copingWhyRight').value.trim();
            copingThoughts[copingCurrentThoughtIndex].whyWrong = document.getElementById('copingWhyWrong').value.trim();
            copingThoughts[copingCurrentThoughtIndex].whatToSay = document.getElementById('copingWhatToSay').value.trim();
            copingThoughts[copingCurrentThoughtIndex].selected = true; // Mark as selected
            
            copingSaveData();
            alert('·É®·Éî·Éú·Éê·ÉÆ·É£·Éö·Éò·Éê! üíæ');
            copingCloseThoughtModal();
            copingRenderThoughts();
        }
        
        function copingCloseEditModal() {
            copingCloseThoughtModal();
        }
        
        function copingShowDeleteConfirm() {
            if (copingCurrentThoughtIndex === null) return;
            
            const thought = copingThoughts[copingCurrentThoughtIndex];
            const isCustom = thought.id && thought.id.startsWith('custom_');
            const isDefault = !isCustom;
            
            const message = isDefault ?
                '·Éê·Éñ·É†·Éò ·Éì·Éê·Éë·É†·É£·Éú·Éì·Éî·Éë·Éê ·Éõ·Éù·É£·Éú·Éò·É®·Éú·Éê·Éï·É®·Éò. ·Éì·Éê·É†·É¨·Éõ·É£·Éú·Éî·Éë·É£·Éö·Éò ·ÉÆ·Éê·É†·Éó?' :
                '·Éú·Éê·Éõ·Éì·Éï·Éò·Éö·Éê·Éì ·Éí·É°·É£·É†·Éó ·Éê·Éõ ·Éê·Éñ·É†·Éò·É° ·É¨·Éê·É®·Éö·Éê?';
            
            copingShowConfirm(message, (confirmed) => {
                if (!confirmed) return;
                
                if (isDefault) {
                    // For default thoughts: just unselect
                    copingThoughts[copingCurrentThoughtIndex].selected = false;
                    alert('·Éõ·Éù·Éú·Éò·É®·Éï·Éú·Éê ·Éí·Éê·É£·É•·Éõ·Éî·Éë·É£·Éö·Éò·Éê! ‚úì');
                } else {
                    // For custom thoughts: delete from array
                    copingThoughts.splice(copingCurrentThoughtIndex, 1);
                    alert('·É¨·Éê·É®·Éö·Éò·Éö·Éò·Éê! ‚úì');
                }
                
                copingSaveData();
                copingCloseThoughtModal();
                copingRenderThoughts();
            });
        }
        
        function copingCloseThoughtModal() {
            document.getElementById('copingThoughtModal').style.display = 'none';
            copingCurrentThoughtIndex = null;
        }
        
        function copingToggleMechanism(id) {
            const index = selectedCopingMechanisms.indexOf(id);
            if (index > -1) {
                selectedCopingMechanisms.splice(index, 1);
            } else {
                selectedCopingMechanisms.push(id);
            }
            copingSaveData();
            copingRenderMechanisms();
        }
        
        function copingRenderMechanisms() {
            const container = document.getElementById('copingMechanismsList');
            if (!container) return;
            
            const selected = COPING_MECHANISMS.filter(m => selectedCopingMechanisms.includes(m.id));
            const unselected = COPING_MECHANISMS.filter(m => !selectedCopingMechanisms.includes(m.id));
            
            const sorted = [...selected, ...unselected];
            
            let html = '';
            sorted.forEach(m => {
                const isSelected = selectedCopingMechanisms.includes(m.id);
                const selectedClass = isSelected ? 'selected' : '';
                const checkmark = isSelected ? '‚úì' : '';
                
                html += `
                    <div class="mechanism-item ${selectedClass}" onclick="copingToggleMechanism(${m.id})">
                        <div class="mechanism-checkbox">${checkmark}</div>
                        <span class="mechanism-icon">${m.icon}</span>
                        <div class="mechanism-text">${m.text}</div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }
        
        function copingShowConfirm(message, callback) {
            document.getElementById('copingConfirmMessage').textContent = message;
            copingDeleteConfirmCallback = callback;
            document.getElementById('copingConfirmModal').style.display = 'block';
        }
        
        function copingConfirmDelete(result) {
            document.getElementById('copingConfirmModal').style.display = 'none';
            if (copingDeleteConfirmCallback) {
                copingDeleteConfirmCallback(result);
                copingDeleteConfirmCallback = null;
            }
        }
        
        // ============ MY SPACE FUNCTIONS ============
        
        function showMySpace() {
            showSection('mySpace');
            showMySpaceTab('gratitude');
            loadGratitudeEntries();
            loadPositiveMoments();
            loadSatisfactionEntries();
        }
        
        function showMySpaceTab(tab) {
            // Hide all tabs
            document.querySelectorAll('.myspace-tab').forEach(t => t.style.display = 'none');
            document.querySelectorAll('.tab-button').forEach(b => b.classList.remove('active'));
            
            // Show selected tab
            if (tab === 'gratitude') {
                document.getElementById('gratitudeTab').style.display = 'block';
                document.getElementById('tabGratitude').classList.add('active');
            } else if (tab === 'positive') {
                document.getElementById('positiveTab').style.display = 'block';
                document.getElementById('tabPositive').classList.add('active');
            } else if (tab === 'satisfaction') {
                document.getElementById('satisfactionTab').style.display = 'block';
                document.getElementById('tabSatisfaction').classList.add('active');
            }
        }
        
        // Info modal functions
        function showGratitudeInfo() {
            document.getElementById('gratitudeMotivationalText').style.display = 'block';
            document.getElementById('gratitudeInputForm').style.display = 'none';
            document.getElementById('gratitudeContinueBtn').style.display = 'none';
            document.getElementById('gratitudeModal').style.display = 'block';
        }
        
        function showPositiveInfo() {
            document.getElementById('positiveMotivationalText').style.display = 'block';
            document.getElementById('positiveInputForm').style.display = 'none';
            document.getElementById('positiveContinueBtn').style.display = 'none';
            document.getElementById('positiveModal').style.display = 'block';
        }
        
        function showSatisfactionInfo() {
            document.getElementById('satisfactionMotivationalText').style.display = 'block';
            document.getElementById('satisfactionInputForm').style.display = 'none';
            document.getElementById('satisfactionContinueBtn').style.display = 'none';
            document.getElementById('satisfactionModal').style.display = 'block';
        }
        
        function addGratitudeEntry() {
            const today = new Date().toISOString().split('T')[0];
            const u = app.users[user.email];
            
            // Initialize gratitude array
            if (!u.gratitudeEntries) u.gratitudeEntries = [];
            
            // Check if already added today (for info display)
            const todayEntries = u.gratitudeEntries.filter(e => e.date === today);
            const isFirstToday = todayEntries.length === 0;
            
            // Open modal
            document.getElementById('gratitudeModal').style.display = 'block';
            
            // Clear previous inputs
            document.getElementById('gratitudeItem1').value = '';
            document.getElementById('gratitudeItem2').value = '';
            document.getElementById('gratitudeItem3').value = '';
            
            // Always show continue button when adding new entry
            document.getElementById('gratitudeContinueBtn').style.display = 'block';
            
            // Show motivational text only first time today (before any save)
            if (isFirstToday) {
                document.getElementById('gratitudeMotivationalText').style.display = 'block';
                document.getElementById('gratitudeInputForm').style.display = 'none';
            } else {
                document.getElementById('gratitudeMotivationalText').style.display = 'none';
                document.getElementById('gratitudeInputForm').style.display = 'block';
            }
        }
        
        function skipGratitudeMotivation() {
            document.getElementById('gratitudeMotivationalText').style.display = 'none';
            document.getElementById('gratitudeInputForm').style.display = 'block';
        }
        
        function continueToGratitudeInput() {
            document.getElementById('gratitudeMotivationalText').style.display = 'none';
            document.getElementById('gratitudeInputForm').style.display = 'block';
        }
        
        function closeGratitudeModal() {
            document.getElementById('gratitudeModal').style.display = 'none';
        }
        
        function saveGratitudeEntry() {
            const item1 = document.getElementById('gratitudeItem1').value.trim();
            const item2 = document.getElementById('gratitudeItem2').value.trim();
            const item3 = document.getElementById('gratitudeItem3').value.trim();
            
            if (!item1 || !item2 || !item3) {
                alert('·Éí·Éó·ÉÆ·Éù·Éï·Éó ·É®·Éî·Éê·Éï·É°·Éù·Éó ·Éß·Éï·Éî·Éö·Éê ·Éï·Éî·Éö·Éò!');
                return;
            }
            
            const today = getTodayLocal(); // Use local timezone for My Space
            const u = app.users[user.email];
            
            // Save
            u.gratitudeEntries.push({
                date: today,
                items: [item1, item2, item3]
            });
            
            // SYNC: Update weeklyProgress for gratitude goal
            syncSpaceActivityToGoal(u, 'gratitude');
            
            save();
            closeGratitudeModal();
            loadGratitudeEntries();
        }
        
        // Helper function to sync space activity to goal's weeklyProgress
        function syncSpaceActivityToGoal(user, spaceType) {
            if (!user.goals) return;
            
            // Find the goal with this spaceType
            const goal = user.goals.find(g => g.type === 'space' && g.spaceType === spaceType);
            if (!goal) return; // Goal doesn't exist
            
            // Get current week and day
            const today = new Date();
            const currentWeekKey = getWeekKey(today);
            const dayOfWeek = (today.getDay() + 6) % 7; // Monday=0
            
            // Initialize weeklyProgress if needed
            if (!goal.weeklyProgress) goal.weeklyProgress = {};
            if (!goal.weeklyProgress[currentWeekKey]) {
                goal.weeklyProgress[currentWeekKey] = [false, false, false, false, false, false, false];
            }
            
            // Mark today as completed
            goal.weeklyProgress[currentWeekKey][dayOfWeek] = true;
        }
        
        function loadGratitudeEntries() {
            const u = app.users[user.email];
            if (!u.gratitudeEntries) u.gratitudeEntries = [];
            
            const list = document.getElementById('gratitudeList');
            if (!list) return;
            
            if (u.gratitudeEntries.length === 0) {
                list.innerHTML = '<p style="color: #999; text-align: center; padding: 20px;">·ÉØ·Éî·É† ·Éê·É† ·Éí·Éê·É•·Éï·É° ·É©·Éê·Éú·Éê·É¨·Éî·É†·Éî·Éë·Éò</p>';
                return;
            }
            
            let html = '';
            // Show most recent first
            const entries = [...u.gratitudeEntries].reverse();
            
            entries.forEach(entry => {
                html += `
                    <div style="background: white; border-radius: 12px; padding: 15px; margin-bottom: 15px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <div style="color: #666; font-size: 14px; margin-bottom: 10px;">üìÖ ${entry.date}</div>
                        <ol style="margin: 0; padding-left: 20px;">
                            ${entry.items.map(item => `<li style="color: #333; margin-bottom: 5px;">${item}</li>`).join('')}
                        </ol>
                    </div>
                `;
            });
            
            list.innerHTML = html;
        }
        
        let tempPositiveMoments = []; // Temporary array for current session
        
        function addPositiveMoment() {
            const today = new Date().toISOString().split('T')[0];
            const u = app.users[user.email];
            
            // Initialize array
            if (!u.positiveMoments) u.positiveMoments = [];
            
            // Check if already added today
            const todayMoments = u.positiveMoments.filter(m => m.date === today);
            const isFirstToday = todayMoments.length === 0;
            
            // Reset temp array
            tempPositiveMoments = [];
            
            // Open modal
            document.getElementById('positiveModal').style.display = 'block';
            
            // Clear container
            document.getElementById('positiveMomentsContainer').innerHTML = '';
            
            // Show motivational text only first time today
            if (isFirstToday) {
                document.getElementById('positiveMotivationalText').style.display = 'block';
                document.getElementById('positiveInputForm').style.display = 'none';
            } else {
                document.getElementById('positiveMotivationalText').style.display = 'none';
                document.getElementById('positiveInputForm').style.display = 'block';
                addPositiveEntry(); // Add first entry automatically
            }
        }
        
        function continueToPositiveInput() {
            document.getElementById('positiveMotivationalText').style.display = 'none';
            document.getElementById('positiveInputForm').style.display = 'block';
            addPositiveEntry(); // Add first entry
        }
        
        function addPositiveEntry() {
            const container = document.getElementById('positiveMomentsContainer');
            const entryIndex = tempPositiveMoments.length;
            
            const entryDiv = document.createElement('div');
            entryDiv.className = 'positive-entry';
            entryDiv.style.cssText = 'background: white; border-radius: 15px; padding: 20px; margin-bottom: 15px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);';
            entryDiv.setAttribute('data-index', entryIndex);
            
            entryDiv.innerHTML = `
                <div style="color: #374151; font-weight: 600; margin-bottom: 15px; font-size: 16px;">·Éõ·Éù·Éõ·Éî·Éú·É¢·Éò ${entryIndex + 1}</div>
                
                <textarea 
                    class="moment-text" 
                    placeholder="·Éê·É¶·É¨·Éî·É†·Éî ·Éû·Éù·Éñ·Éò·É¢·Éò·É£·É†·Éò ·Éõ·Éù·Éõ·Éî·Éú·É¢·Éò..." 
                    style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 10px; font-size: 15px; font-family: inherit; resize: vertical; min-height: 80px; box-sizing: border-box; margin-bottom: 15px;"
                ></textarea>
                
                <div style="margin-bottom: 10px;">
                    <div style="color: #666; margin-bottom: 10px; font-size: 14px;">·É†·Éê·Éõ·Éì·Éî·Éú·Éê·Éì ·É°·Éê·É°·Éò·Éê·Éõ·Éù·Éï·Éú·Éù ·Éò·Éß·Éù? (1-10)</div>
                    <div style="display: flex; gap: 4px; justify-content: space-between;">
                        ${[1,2,3,4,5,6,7,8,9].map(num => 
                            `<button type="button" class="rating-btn" data-rating="${num}" onclick="selectRating(${entryIndex}, ${num}, this)" style="padding: 8px 10px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 14px; font-weight: 600; color: #666; transition: all 0.2s; flex: 1; min-width: 0;">${num}</button>`
                        ).join('')}
                        <button type="button" class="rating-btn" data-rating="10" onclick="selectRating(${entryIndex}, 10, this)" style="padding: 8px 10px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 14px; font-weight: 600; color: #666; transition: all 0.2s; flex: 1; min-width: 0; display: flex; justify-content: center; align-items: center;">10</button>
                    </div>
                    <input type="hidden" class="rating-value" value="">
                </div>
            `;
            
            container.appendChild(entryDiv);
            
            // Add to temp array with empty values
            tempPositiveMoments.push({ text: '', rating: null });
            
            // Scroll to bottom
            container.scrollTop = container.scrollHeight;
        }
        
        function selectRating(entryIndex, rating, button) {
            // Update temp array
            if (tempPositiveMoments[entryIndex]) {
                tempPositiveMoments[entryIndex].rating = rating;
            }
            
            // Visual feedback - deselect all buttons in this entry
            const entry = button.closest('.positive-entry');
            entry.querySelectorAll('.rating-btn').forEach(btn => {
                btn.style.background = 'white';
                btn.style.borderColor = '#e5e7eb';
                btn.style.color = '#666';
            });
            
            // Select this button - neutral gray
            button.style.background = '#f3f4f6';
            button.style.borderColor = '#9ca3af';
            button.style.color = '#374151';
            button.style.fontWeight = '700';
        }
        
        function closePositiveModal() {
            document.getElementById('positiveModal').style.display = 'none';
            tempPositiveMoments = [];
        }
        
        function saveAllPositiveMoments() {
            // Collect all text inputs
            const entries = document.querySelectorAll('.positive-entry');
            entries.forEach((entry, index) => {
                const text = entry.querySelector('.moment-text').value.trim();
                if (tempPositiveMoments[index]) {
                    tempPositiveMoments[index].text = text;
                }
            });
            
            
            // Check for entries with text but no rating
            const entriesWithTextNoRating = tempPositiveMoments.filter(m => m.text && !m.rating);
            
            if (entriesWithTextNoRating.length > 0) {
                // Find first incomplete entry index
                let firstIncompleteIndex = -1;
                for (let i = 0; i < tempPositiveMoments.length; i++) {
                    if (tempPositiveMoments[i].text && !tempPositiveMoments[i].rating) {
                        firstIncompleteIndex = i;
                        break;
                    }
                }
                
                if (firstIncompleteIndex >= 0) {
                    // Scroll to first incomplete entry
                    const allEntries = document.querySelectorAll('.positive-entry');
                    const targetEntry = allEntries[firstIncompleteIndex];
                    
                    if (targetEntry) {
                        targetEntry.scrollIntoView({ behavior: 'smooth', block: 'center' });
                        
                        // Highlight rating buttons with red border + shake
                        const ratingButtons = targetEntry.querySelectorAll('.rating-btn');
                        ratingButtons.forEach(btn => {
                            btn.style.border = '2px solid #ef4444';
                            btn.style.animation = 'shake 0.5s';
                        });
                        
                        // Add shake animation if not exists
                        if (!document.getElementById('shakeAnimation')) {
                            const style = document.createElement('style');
                            style.id = 'shakeAnimation';
                            style.textContent = `
                                @keyframes shake {
                                    0%, 100% { transform: translateX(0); }
                                    25% { transform: translateX(-5px); }
                                    75% { transform: translateX(5px); }
                                }
                            `;
                            document.head.appendChild(style);
                        }
                        
                        // Remove highlight after 2 seconds
                        setTimeout(() => {
                            ratingButtons.forEach(btn => {
                                btn.style.border = '2px solid #e5e7eb';
                                btn.style.animation = '';
                            });
                        }, 2000);
                    }
                }
                
                return; // Don't save
            }
            
            // Validate - at least one complete entry (text + rating)
            const validEntries = tempPositiveMoments.filter(m => m.text && m.rating);
            
            if (validEntries.length === 0) {
                alert('·Éí·Éó·ÉÆ·Éù·Éï·Éó ·Éì·Éê·Éê·Éõ·Éê·É¢·Éù·Éó ·Éõ·Éò·Éú·Éò·Éõ·É£·Éõ ·Éî·É†·Éó·Éò ·Éõ·Éù·Éõ·Éî·Éú·É¢·Éò ·É¢·Éî·É•·É°·É¢·Éò·Éó·Éê ·Éì·Éê ·É®·Éî·É§·Éê·É°·Éî·Éë·Éò·Éó!');
                return;
            }
            
            const today = getTodayLocal(); // Use local timezone for My Space
            const u = app.users[user.email];
            
            // Initialize array
            if (!u.positiveMoments) u.positiveMoments = [];
            
            // Save all valid entries
            validEntries.forEach(entry => {
                u.positiveMoments.push({
                    date: today,
                    moment: entry.text,
                    rating: entry.rating,
                    timestamp: new Date().toISOString()
                });
            });
            
            // SYNC: Update weeklyProgress for positive goal (counted as one day activity)
            syncSpaceActivityToGoal(u, 'positive');
            
            save();
            closePositiveModal();
            loadPositiveMoments();
            
            alert(`‚úì ${validEntries.length} ·Éõ·Éù·Éõ·Éî·Éú·É¢·Éò ·É¨·Éê·É†·Éõ·Éê·É¢·Éî·Éë·Éò·Éó ·É®·Éî·Éò·Éú·Éê·ÉÆ·Éê!`);
        }
        
        function loadPositiveMoments() {
            const u = app.users[user.email];
            if (!u.positiveMoments) u.positiveMoments = [];
            
            const list = document.getElementById('positiveList');
            if (!list) return;
            
            if (u.positiveMoments.length === 0) {
                list.innerHTML = '<p style="color: #999; text-align: center; padding: 20px;">·ÉØ·Éî·É† ·Éê·É† ·Éí·Éê·É•·Éï·É° ·É©·Éê·Éú·Éê·É¨·Éî·É†·Éî·Éë·Éò</p>';
                return;
            }
            
            // Group by date
            const byDate = {};
            u.positiveMoments.forEach(m => {
                if (!byDate[m.date]) byDate[m.date] = [];
                byDate[m.date].push(m);
            });
            
            // Sort dates descending
            const dates = Object.keys(byDate).sort().reverse();
            
            let html = '';
            dates.forEach(date => {
                const moments = byDate[date];
                html += `
                    <div style="background: white; border-radius: 15px; padding: 20px; margin-bottom: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                        <div style="color: #667eea; font-size: 15px; font-weight: 600; margin-bottom: 15px; border-bottom: 2px solid #f0f4ff; padding-bottom: 10px;">üìÖ ${date}</div>
                `;
                
                moments.forEach((m, index) => {
                    const rating = m.rating || '‚Äî';
                    
                    html += `
                        <div style="margin-bottom: ${index < moments.length - 1 ? '12px' : '0'}; padding-bottom: ${index < moments.length - 1 ? '12px' : '0'}; border-bottom: ${index < moments.length - 1 ? '1px solid #f3f4f6' : 'none'};">
                            <div style="display: flex; justify-content: space-between; align-items: start; gap: 10px;">
                                <div style="flex: 1;">
                                    <span style="color: #9ca3af; font-size: 14px; font-weight: 600;">${index + 1}.</span>
                                    <span style="color: #333; font-size: 15px; line-height: 1.6;"> ${m.moment}</span>
                                </div>
                                <div style="background: #f3f4f6; color: #6b7280; padding: 6px 12px; border-radius: 20px; font-size: 14px; font-weight: 600; white-space: nowrap;">
                                    ${rating}/10
                                </div>
                            </div>
                        </div>
                    `;
                });
                
                html += '</div>';
            });
            
            list.innerHTML = html;
        }
        
        // Show profile
        function showProfile() {
            showSection('profile');
        }
        
        // ============ MY GOALS FUNCTIONS ============
        
        function showMyGoals() {
            showSection('myGoals');
            loadGoalsList();
        }
        
        function showMyGoalsContact() {
            showSection('myGoalsContact');
            loadGoalsContact();
        }
        
        function loadGoalsContact() {
            const u = app.users[user.email];
            const container = document.getElementById('goalsContactContainer');
            const today = new Date().toISOString().split('T')[0];
            
            if (!u.goals || u.goals.length === 0) {
                container.innerHTML = `
                    <p style="color: #999; text-align: center; padding: 40px 20px;">
                        ·ÉØ·Éî·É† ·Éê·É† ·Éí·Éê·É•·Éï·É° ·Éì·Éê·Éõ·Éê·É¢·Éî·Éë·É£·Éö·Éò ·Éõ·Éò·Éñ·Éú·Éî·Éë·Éò<br><br>
                        ·Éí·Éê·Éì·Éê·Éì·Éò "·É©·Éî·Éõ·Éò ·Éõ·Éò·Éñ·Éú·Éî·Éë·Éò"-·Éñ·Éî ·Éû·Éò·É†·Éï·Éî·Éö·Éò ·Éõ·Éò·Éñ·Éú·Éò·É° ·Éì·Éê·É°·Éê·Éõ·Éê·É¢·Éî·Éë·Éö·Éê·Éì!
                    </p>
                `;
                return;
            }
            
            // Filter only custom goals (not space activities)
            const customGoals = u.goals.filter(g => g.type !== 'space');
            
            if (customGoals.length === 0) {
                container.innerHTML = `
                    <p style="color: #999; text-align: center; padding: 40px 20px;">
                        ·ÉØ·Éî·É† ·Éê·É† ·Éí·Éê·É•·Éï·É° ·Éì·Éê·Éõ·Éê·É¢·Éî·Éë·É£·Éö·Éò ·Éû·Éò·É†·Éê·Éì·Éò ·Éõ·Éò·Éñ·Éú·Éî·Éë·Éò<br><br>
                        ·Éí·Éê·Éì·Éê·Éì·Éò "·É©·Éî·Éõ·Éò ·Éõ·Éò·Éñ·Éú·Éî·Éë·Éò"-·Éñ·Éî ·Éõ·Éò·Éñ·Éú·Éò·É° ·Éì·Éê·É°·Éê·Éõ·Éê·É¢·Éî·Éë·Éö·Éê·Éì!
                    </p>
                `;
                return;
            }
            
            // Initialize today's progress if not exists
            if (!u.goalsContactProgress) u.goalsContactProgress = {};
            
            // Always create fresh progress for new day (reset checkboxes)
            if (!u.goalsContactProgress[today]) {
                u.goalsContactProgress[today] = {};
            }
            
            // Separate completed and incomplete goals
            const incompleteGoals = customGoals.filter(goal => !u.goalsContactProgress[today][goal.id]);
            const completedGoals = customGoals.filter(goal => u.goalsContactProgress[today][goal.id]);
            
            let html = `
                <div style="background: linear-gradient(135deg, #EDE9FE 0%, #DDD6FE 100%); border-radius: 12px; padding: 15px; margin-bottom: 20px; text-align: center;">
                    <p style="color: #5B21B6; font-size: 15px; font-weight: 500; margin: 0;">·Éõ·Éù·Éú·Éò·É®·Éú·Éî ·Éò·É° ·Éõ·Éò·Éñ·Éú·Éî·Éë·Éò, ·É†·Éù·Éõ·Éö·Éî·Éë·Éñ·Éî·É™ ·Éì·É¶·Éî·É° ·Éò·Éõ·É£·É®·Éê·Éï·Éî</p>
                </div>
            `;
            
            // Incomplete goals
            incompleteGoals.forEach((goal) => {
                const goalIndex = u.goals.indexOf(goal);
                
                html += `
                    <div style="background: white; border: 2px solid #e5e7eb; border-radius: 12px; padding: 15px; margin-bottom: 15px;">
                        <label style="display: flex; align-items: start; gap: 15px; cursor: pointer;">
                            <input 
                                type="checkbox"
                                onchange="toggleGoalContact(${goalIndex})"
                                style="width: 24px; height: 24px; margin-top: 2px; cursor: pointer;"
                            >
                            <div style="flex: 1;">
                                <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
                                    <span style="font-size: 24px;">${goal.emoji}</span>
                                    <h3 style="color: #374151; margin: 0; font-size: 18px;">${goal.name}</h3>
                                </div>
                                <p style="color: #6b7280; font-size: 14px; margin: 0;">${goal.dailyAction || '·É®·Éî·Éï·É°·Éî·Éë·Éê'}</p>
                            </div>
                        </label>
                    </div>
                `;
            });
            
            // Completed goals section
            if (completedGoals.length > 0) {
                html += `
                    <div style="border-top: 2px dashed #e5e7eb; margin: 30px 0 20px 0; padding-top: 20px;">
                        <h3 style="color: #10b981; font-size: 16px; font-weight: 600; margin-bottom: 15px;">‚úÖ ·É®·Éî·É°·É†·É£·Éö·Éî·Éë·É£·Éö·Éò:</h3>
                `;
                
                completedGoals.forEach((goal) => {
                    html += `
                        <div style="background: linear-gradient(135deg, #D1FAE5 0%, #A7F3D0 100%); border: 2px solid #10b981; border-radius: 12px; padding: 15px; margin-bottom: 10px; opacity: 0.8;">
                            <div style="display: flex; align-items: start; gap: 15px;">
                                <span style="font-size: 24px; margin-top: 2px;">‚úÖ</span>
                                <div style="flex: 1;">
                                    <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
                                        <span style="font-size: 24px;">${goal.emoji}</span>
                                        <h3 style="color: #065F46; margin: 0; font-size: 18px;">${goal.name}</h3>
                                    </div>
                                    <p style="color: #047857; font-size: 14px; margin: 0;">${goal.dailyAction || '·É®·Éî·Éï·É°·Éî·Éë·Éê'}</p>
                                </div>
                            </div>
                        </div>
                    `;
                });
                
                html += `</div>`;
            }
            
            container.innerHTML = html;
        }
        
        function toggleGoalContact(index) {
            const u = app.users[user.email];
            const today = new Date().toISOString().split('T')[0];
            const goal = u.goals[index];
            
            if (!u.goalsContactProgress) u.goalsContactProgress = {};
            if (!u.goalsContactProgress[today]) u.goalsContactProgress[today] = {};
            
            // Mark as completed in contact
            u.goalsContactProgress[today][goal.id] = true;
            
            // SYNC: Update weeklyProgress for "My Goals" page
            const currentWeekKey = getWeekKey(new Date());
            if (!goal.weeklyProgress) goal.weeklyProgress = {};
            if (!goal.weeklyProgress[currentWeekKey]) {
                goal.weeklyProgress[currentWeekKey] = [false, false, false, false, false, false, false];
            }
            
            // Get day of week (0=Monday, 6=Sunday)
            const dayOfWeek = (new Date().getDay() + 6) % 7; // Convert to Monday=0
            goal.weeklyProgress[currentWeekKey][dayOfWeek] = true;
            
            save();
            
            // Reload to show in completed section
            loadGoalsContact();
        }
        
        function saveGoalsContact() {
            save();
            showSection('contact');
        }
        
        function finalizeGoalsContact() {
            const u = app.users[user.email];
            const today = getLocalDate();  // ‚úÖ Fix timezone
            
            if (!u.goalsContactFinalized) u.goalsContactFinalized = {};
            u.goalsContactFinalized[today] = true;
            
            save();
            updateContactCards(); // Update to hide the goals card
            showSection('contact');
        }
        
        function showFieldError(fieldId, message) {
            const field = document.getElementById(fieldId);
            field.style.borderColor = '#ef4444';
            field.style.borderWidth = '2px';
            field.classList.add('error-border');
            
            // Add error message below field
            const errorMsg = document.createElement('div');
            errorMsg.className = 'error-message';
            errorMsg.style.color = '#ef4444';
            errorMsg.style.fontSize = '14px';
            errorMsg.style.marginTop = '5px';
            errorMsg.textContent = '‚ö†Ô∏è ' + message;
            
            field.parentElement.appendChild(errorMsg);
            
            // Scroll to first error
            if (document.querySelectorAll('.error-border').length === 1) {
                field.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
        }
        
        function openAddGoalModal() {
            const modal = document.getElementById('addGoalModal');
            modal.style.display = 'block';
            
            // Reset scroll position to top
            modal.scrollTop = 0;
            const modalContent = modal.querySelector('div[style*="overflow-y"]');
            if (modalContent) modalContent.scrollTop = 0;
            
            // Reset form
            document.getElementById('goalName').value = '';
            document.getElementById('goalDescription').value = '';
            document.getElementById('goalDailyAction').value = '';
            document.getElementById('goalFrequency').value = '3';
            
            // Reset day buttons
            document.querySelectorAll('.day-button').forEach(btn => {
                btn.classList.remove('active');
                btn.style.background = 'white';
                btn.style.color = '#374151';
                btn.style.borderColor = '#e5e7eb';
            });
            
            document.querySelector('input[name="duration"][value="3"]').checked = true;
            document.getElementById('customDuration').value = '';
            document.getElementById('goalConnection').value = '';
        }
        
        function closeAddGoalModal() {
            document.getElementById('addGoalModal').style.display = 'none';
        }
        
        // ============ MY SPACE ACTIVITIES FUNCTIONS ============
        
        function openMySpaceActivitiesModal() {
            document.getElementById('mySpaceActivitiesModal').style.display = 'block';
            
            // Reset all checkboxes and days
            document.getElementById('activityGratitude').checked = false;
            document.getElementById('activityPositive').checked = false;
            document.getElementById('activitySatisfaction').checked = false;
            
            document.getElementById('gratitudeSpecificDays').checked = false;
            document.getElementById('positiveSpecificDays').checked = false;
            document.getElementById('satisfactionSpecificDays').checked = false;
            
            document.getElementById('gratitudeDaysContainer').style.display = 'none';
            document.getElementById('positiveDaysContainer').style.display = 'none';
            document.getElementById('satisfactionDaysContainer').style.display = 'none';
            
            // Reset day buttons
            document.querySelectorAll('.activity-day-btn').forEach(btn => {
                btn.classList.remove('active');
                btn.style.background = 'white';
                btn.style.color = '#374151';
                btn.style.borderColor = '#e5e7eb';
            });
            
            // Reset frequencies to defaults
            document.getElementById('gratitudeFrequency').value = '5';
            document.getElementById('positiveFrequency').value = '7';
            document.getElementById('satisfactionFrequency').value = '3';
        }
        
        function closeMySpaceActivitiesModal() {
            document.getElementById('mySpaceActivitiesModal').style.display = 'none';
        }
        
        function toggleActivityDays(activity) {
            const checked = document.getElementById(`${activity}SpecificDays`).checked;
            document.getElementById(`${activity}DaysContainer`).style.display = checked ? 'block' : 'none';
        }
        
        function toggleActivityDayButton(activity, day, button) {
            const isActive = button.classList.contains('active');
            
            if (isActive) {
                button.classList.remove('active');
                button.style.background = 'white';
                button.style.color = '#374151';
                button.style.borderColor = '#e5e7eb';
            } else {
                button.classList.add('active');
                button.style.background = 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)';
                button.style.color = 'white';
                button.style.borderColor = '#f093fb';
            }
        }
        
        function saveMySpaceActivities() {
            try {
                const u = app.users[user.email];
                if (!u.goals) u.goals = [];
                
                const activities = [
                    {
                        id: 'gratitude',
                        checkbox: 'activityGratitude',
                        name: '·Éõ·Éê·Éì·Éö·Éò·Éî·É†·Éî·Éë·Éò·É° ·Éì·É¶·Éò·É£·É†·Éò',
                        emoji: 'üôè',
                        frequency: 'gratitudeFrequency',
                        specificDays: 'gratitudeSpecificDays',
                        dayClass: 'gratitude-day',
                        connection: '·Éõ·Éê·Éì·Éö·Éò·Éî·É†·Éî·Éë·Éò·É° ·Éì·É¶·Éò·É£·É†·Éò ·Éõ·Éî·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê ·Éû·Éù·Éñ·Éò·É¢·Éò·É£·É† ·Éî·Éõ·Éù·É™·Éò·Éî·Éë·Éñ·Éî ·É§·Éù·Éô·É£·É°·Éò·É†·Éî·Éë·Éê·É®·Éò ·Éì·Éê ·É°·Éê·Éô·É£·Éó·Éê·É†·Éò ·Éó·Éê·Éï·Éò·É° ·Éì·Éê·É§·Éê·É°·Éî·Éë·Éê·É®·Éò, ·É†·Éê·É™ ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éò·É° ·Éõ·Éú·Éò·É®·Éï·Éú·Éî·Éö·Éù·Éï·Éê·Éú·Éò ·Éú·Éê·É¨·Éò·Éö·Éò·Éê.'
                    },
                    {
                        id: 'positive',
                        checkbox: 'activityPositive',
                        name: '·Éû·Éù·Éñ·Éò·É¢·Éò·É£·É†·Éò ·Éõ·Éù·Éõ·Éî·Éú·É¢·Éî·Éë·Éò',
                        emoji: '‚ú®',
                        frequency: 'positiveFrequency',
                        specificDays: 'positiveSpecificDays',
                        dayClass: 'positive-day',
                        connection: '·Éû·Éù·Éñ·Éò·É¢·Éò·É£·É†·Éò ·Éõ·Éù·Éõ·Éî·Éú·É¢·Éî·Éë·Éò·É° ·Éê·Éõ·Éù·É™·Éú·Éù·Éë·Éê ·Éõ·Éî·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê ·Éì·Éê·Éï·Éò·Éú·Éê·ÉÆ·Éù ·Éô·Éê·É†·Éí·Éò ·É†·Éê·É™ ·É™·ÉÆ·Éù·Éï·É†·Éî·Éë·Éê·É®·Éò ·Éõ·Éê·É•·Éï·É° ·Éì·Éê ·Éí·Éê·Éï·Éñ·Éê·É†·Éì·Éù ·Éù·Éû·É¢·Éò·Éõ·Éò·Éñ·Éõ·Éò, ·É†·Éê·É™ ·É°·Éò·É§·ÉÆ·Éò·Éñ·Éö·Éò·É° ·É®·Éî·Éú·Éê·É†·É©·É£·Éú·Éî·Éë·Éê·É®·Éò ·Éõ·Éî·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê.'
                    },
                    {
                        id: 'satisfaction',
                        checkbox: 'activitySatisfaction',
                        name: '·Éó·Éï·Éò·Éó·Éô·Éõ·Éê·Éß·Éù·É§·Éò·Éö·Éî·Éë·Éê',
                        emoji: 'üíé',
                        frequency: 'satisfactionFrequency',
                        specificDays: 'satisfactionSpecificDays',
                        dayClass: 'satisfaction-day',
                        connection: '·Éó·Éï·Éò·Éó·Éô·Éõ·Éê·Éß·Éù·É§·Éò·Éö·Éî·Éë·Éò·É° ·É†·Éî·É§·Éö·Éî·É•·É°·Éò·Éê ·Éõ·Éî·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê ·É®·Éî·Éï·Éê·É§·Éê·É°·Éù ·É©·Éî·Éõ·Éò ·Éõ·Éò·É¶·É¨·Éî·Éï·Éî·Éë·Éò ·Éì·Éê ·Éí·Éê·Éï·Éñ·Éê·É†·Éì·Éù ·Éó·Éï·Éò·Éó·É®·Éî·É§·Éê·É°·Éî·Éë·Éê, ·É†·Éê·É™ ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éò·É° ·É°·Éê·É§·É£·É´·Éï·Éî·Éö·Éò·Éê.'
                    }
                ];
                
                let addedCount = 0;
                
                activities.forEach(activity => {
                    const isChecked = document.getElementById(activity.checkbox).checked;
                    
                    if (isChecked) {
                        // Check if this space activity already exists
                        const alreadyExists = u.goals.some(g => g.type === 'space' && g.spaceType === activity.id);
                        
                        if (alreadyExists) {
                            return; // Skip this activity
                        }
                        
                        // Get frequency
                        const frequency = parseInt(document.getElementById(activity.frequency).value);
                        
                        // Get specific days if selected
                        let specificDays = null;
                        const hasSpecificDays = document.getElementById(activity.specificDays).checked;
                        
                        if (hasSpecificDays) {
                            specificDays = [];
                            document.querySelectorAll(`.${activity.dayClass}.active`).forEach(btn => {
                                specificDays.push(btn.getAttribute('data-day'));
                            });
                        }
                        
                        // Create goal object
                        const goal = {
                            id: `space_${activity.id}_${Date.now()}`,
                            type: 'space',
                            spaceType: activity.id,
                            name: activity.name,
                            emoji: activity.emoji,
                            dailyAction: '·É®·Éî·Éï·É°·Éî·Éë·Éê',
                            perWeek: frequency,
                            specificDays: specificDays,
                            duration: { type: 'unlimited' },
                            startDate: new Date().toISOString().split('T')[0],
                            endDate: null,
                            connection: activity.connection,
                            weeklyProgress: {},
                            // Calculate first week max days
                            firstWeekMaxDays: (() => {
                                const startDate = new Date();
                                const startDayOfWeek = (startDate.getDay() + 6) % 7;
                                const daysRemainingInWeek = 7 - startDayOfWeek;
                                const proportionalTarget = (frequency / 7) * daysRemainingInWeek;
                                let maxDays = Math.floor(proportionalTarget);
                                if (maxDays === 0) maxDays = 1;
                                return maxDays;
                            })()
                        };
                        
                        u.goals.push(goal);
                        addedCount++;
                    }
                });
                
                if (addedCount === 0) {
                    alert('·Éí·Éó·ÉÆ·Éù·Éï·Éó ·Éê·Éò·É†·É©·Éò·Éù·Éó ·Éõ·Éò·Éú·Éò·Éõ·É£·Éõ 1 ·Éê·É•·É¢·Éò·Éï·Éù·Éë·Éê');
                    return;
                }
                
                save();
                closeMySpaceActivitiesModal();
                loadGoalsList();
                
            } catch (error) {
                console.error('Error in saveMySpaceActivities:', error);
                alert('·É®·Éî·É™·Éì·Éù·Éõ·Éê ·Éê·É•·É¢·Éò·Éï·Éù·Éë·Éî·Éë·Éò·É° ·É®·Éî·Éú·Éê·ÉÆ·Éï·Éò·É°·Éê·É°: ' + error.message);
            }
        }
        
        function toggleDayButton(day, button) {
            const isActive = button.classList.contains('active');
            
            if (isActive) {
                // Deactivate
                button.classList.remove('active');
                button.style.background = 'white';
                button.style.color = '#374151';
                button.style.borderColor = '#e5e7eb';
            } else {
                // Activate
                button.classList.add('active');
                button.style.background = 'linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%)';
                button.style.color = 'white';
                button.style.borderColor = '#14b8a6';
            }
            
            // Update frequency count
            const activeCount = document.querySelectorAll('.day-button.active').length;
            document.getElementById('goalFrequency').value = activeCount;
        }
        
        function saveGoal() {
            try {
                // Clear previous errors
                document.querySelectorAll('.error-border').forEach(el => {
                    el.style.borderColor = '#e5e7eb';
                    el.classList.remove('error-border');
                });
                document.querySelectorAll('.error-message').forEach(el => el.remove());
                
                const name = document.getElementById('goalName').value.trim();
                const description = document.getElementById('goalDescription').value.trim();
                const dailyAction = document.getElementById('goalDailyAction').value.trim();
                const connection = document.getElementById('goalConnection').value.trim();
            
            // Validation with visual feedback
            let hasError = false;
            
            if (!name) {
                showFieldError('goalName', '·Éí·Éó·ÉÆ·Éù·Éï·Éó ·É®·Éî·Éò·Éß·Éï·Éê·Éú·Éù·Éó ·Éõ·Éò·Éñ·Éú·Éò·É° ·É°·Éê·ÉÆ·Éî·Éö·Éò');
                hasError = true;
            }
            if (!dailyAction) {
                showFieldError('goalDailyAction', '·Éí·Éó·ÉÆ·Éù·Éï·Éó ·Éõ·Éò·É£·Éó·Éò·Éó·Éù·Éó ·Éß·Éù·Éï·Éî·Éö·Éì·É¶·Éò·É£·É†·Éò ·Éõ·Éù·É•·Éõ·Éî·Éì·Éî·Éë·Éê');
                hasError = true;
            }
            if (!connection) {
                showFieldError('goalConnection', '·Éí·Éó·ÉÆ·Éù·Éï·Éó ·Éê·É¶·É¨·Éî·É†·Éù·Éó ·Éõ·Éò·Éñ·Éú·Éò·É° ·Éô·Éê·Éï·É®·Éò·É†·Éò ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éê·É°·Éó·Éê·Éú');
                hasError = true;
            }
            
            if (hasError) {
                return;
            }
            
            // Get selected days from buttons or use dropdown frequency
            let specificDays = null;
            let frequency;
            
            const activeDayButtons = document.querySelectorAll('.day-button.active');
            
            if (activeDayButtons.length > 0) {
                // User selected specific days
                specificDays = [];
                activeDayButtons.forEach(btn => {
                    specificDays.push(btn.getAttribute('data-day'));
                });
                frequency = specificDays.length;
            } else {
                // Use dropdown frequency
                frequency = parseInt(document.getElementById('goalFrequency').value);
                if (!frequency || frequency < 1) {
                    alert('·Éí·Éó·ÉÆ·Éù·Éï·Éó ·Éê·Éò·É†·É©·Éò·Éù·Éó ·É°·Éò·ÉÆ·É®·Éò·É†·Éî');
                    return;
                }
            }
            
            // Get duration
            const durationRadio = document.querySelector('input[name="duration"]:checked');
            
            if (!durationRadio) {
                alert('·Éí·Éó·ÉÆ·Éù·Éï·Éó ·Éê·Éò·É†·É©·Éò·Éù·Éó ·Éõ·Éò·Éñ·Éú·Éò·É° ·Éï·Éê·Éì·Éê');
                return;
            }
            
            let duration = {};
            
            if (durationRadio.value === 'unlimited') {
                duration = { type: 'unlimited' };
            } else if (durationRadio.value === 'custom') {
                const customValue = parseInt(document.getElementById('customDuration').value);
                const customUnit = document.getElementById('customDurationUnit').value;
                if (!customValue || customValue < 1) {
                    alert('·Éí·Éó·ÉÆ·Éù·Éï·Éó ·Éõ·Éò·É£·Éó·Éò·Éó·Éù·Éó ·Éï·Éê·Éì·Éò·É° ·É†·Éê·Éù·Éì·Éî·Éú·Éù·Éë·Éê');
                    return;
                }
                duration = { 
                    type: 'custom',
                    value: customValue,
                    unit: customUnit
                };
            } else {
                duration = {
                    type: 'months',
                    value: parseInt(durationRadio.value)
                };
            }
            
            // Calculate end date
            const startDate = new Date();
            let endDate = null;
            
            if (duration.type !== 'unlimited') {
                endDate = new Date(startDate);
                if (duration.type === 'custom') {
                    if (duration.unit === 'days') {
                        endDate.setDate(endDate.getDate() + duration.value);
                    } else {
                        endDate.setMonth(endDate.getMonth() + duration.value);
                    }
                } else {
                    endDate.setMonth(endDate.getMonth() + duration.value);
                }
            }
            
            // Create goal object
            const goal = {
                id: 'goal_' + Date.now(),
                type: 'custom',
                name: name,
                emoji: 'üéØ',
                description: description,
                dailyAction: dailyAction,
                perWeek: frequency,
                specificDays: specificDays,
                duration: duration,
                startDate: startDate.toISOString().split('T')[0],
                endDate: endDate ? endDate.toISOString().split('T')[0] : null,
                connection: connection,
                weeklyProgress: {},
                // Calculate first week max days
                firstWeekMaxDays: (() => {
                    const startDayOfWeek = (startDate.getDay() + 6) % 7; // Monday=0
                    const daysRemainingInWeek = 7 - startDayOfWeek;
                    const proportionalTarget = (frequency / 7) * daysRemainingInWeek;
                    let maxDays = Math.floor(proportionalTarget);
                    if (maxDays === 0) maxDays = 1;
                    return maxDays;
                })()
            };
            
            // Save to user data
            const u = app.users[user.email];
            if (!u.goals) u.goals = [];
            u.goals.push(goal);
            save();
            
            // Close modal and reload list
            closeAddGoalModal();
            loadGoalsList();
            
            } catch (error) {
                console.error('Error in saveGoal:', error);
                alert('·É®·Éî·É™·Éì·Éù·Éõ·Éê ·Éõ·Éò·Éñ·Éú·Éò·É° ·É®·Éî·Éú·Éê·ÉÆ·Éï·Éò·É°·Éê·É°: ' + error.message);
            }
        }
        
        function loadGoalsList() {
            const u = app.users[user.email];
            const container = document.getElementById('goalsListContainer');
            
            if (!u.goals || u.goals.length === 0) {
                container.innerHTML = `
                    <p style="color: #999; text-align: center; padding: 40px 20px;">
                        ·ÉØ·Éî·É† ·Éê·É† ·Éí·Éê·É•·Éï·É° ·Éì·Éê·Éõ·Éê·É¢·Éî·Éë·É£·Éö·Éò ·Éõ·Éò·Éñ·Éú·Éî·Éë·Éò<br><br>
                        ·Éì·Éê·Éê·É≠·Éò·É†·Éî ·Éñ·Éî·Éõ·Éù·Éó ·É¶·Éò·Éö·Éê·Éô·É° ·Éû·Éò·É†·Éï·Éî·Éö·Éò ·Éõ·Éò·Éñ·Éú·Éò·É° ·Éì·Éê·É°·Éê·Éõ·Éê·É¢·Éî·Éë·Éö·Éê·Éì!
                    </p>
                `;
                return;
            }
            
            // Get current week info
            const today = new Date();
            const currentWeekKey = getWeekKey(today);
            
            let html = '';
            
            u.goals.forEach((goal, index) => {
                // Calculate progress for current week
                const weekProgress = goal.weeklyProgress[currentWeekKey] || [];
                const completed = weekProgress.filter(x => x === true).length;
                
                // Check if this is the first week of the goal
                const goalStartDate = new Date(goal.startDate);
                const goalStartWeek = getWeekKey(goalStartDate);
                const isFirstWeek = goalStartWeek === currentWeekKey;
                
                let target = goal.perWeek;
                let percentage;
                
                // Calculate target for first week or use full week target
                if (isFirstWeek) {
                    if (goal.firstWeekMaxDays !== undefined) {
                        target = goal.firstWeekMaxDays;
                    } else {
                        const startDayOfWeek = (goalStartDate.getDay() + 6) % 7;
                        const daysRemainingInWeek = 7 - startDayOfWeek;
                        const proportionalTarget = (goal.perWeek / 7) * daysRemainingInWeek;
                        target = Math.floor(proportionalTarget);
                        if (target === 0) target = 1;
                    }
                }
                
                if (target === 0) {
                    percentage = 100; // Auto 100% if target is 0
                } else {
                    percentage = Math.round((completed / target) * 100);
                    if (percentage > 100) percentage = 100;
                }
                
                // Days of week
                const daysGeorgian = ['·Éù·É†', '·É°·Éê', '·Éù·Éó·ÉÆ', '·ÉÆ·É£', '·Éû·Éê·É†', '·É®·Éê·Éë', '·Éô·Éï'];
                
                html += `
                    <div style="background: white; border-radius: 15px; padding: 20px; margin-bottom: 15px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 15px;">
                            <div>
                                <h3 style="color: #374151; margin: 0 0 5px 0; font-size: 18px;">${goal.emoji} ${goal.name}</h3>
                                <p style="color: #6b7280; font-size: 14px; margin: 0;">·Éô·Éï·Éò·É†·Éê·É®·Éò ${goal.perWeek}-·ÉØ·Éî·É†</p>
                            </div>
                            <button onclick="deleteGoal(${index})" style="background: #ef4444; color: white; border: none; border-radius: 8px; padding: 8px 12px; cursor: pointer; font-size: 14px;">·É¨·Éê·É®·Éö·Éê</button>
                        </div>
                        
                        ${goal.description ? `<p style="color: #6b7280; font-size: 14px; margin-bottom: 10px;">${goal.description}</p>` : ''}
                        
                        <div style="background: #f9fafb; padding: 10px; border-radius: 8px; margin-bottom: 15px;">
                            <p style="color: #374151; font-size: 14px; margin: 0;"><strong>·Éß·Éù·Éï·Éî·Éö·Éì·É¶·Éò·É£·É†·Éò:</strong> ${goal.type === 'space' ? '·É®·Éî·Éï·É°·Éî·Éë·Éê' : goal.dailyAction}</p>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; justify-content: space-between; gap: 5px; margin-bottom: 8px;">
                                ${daysGeorgian.map((day, i) => `
                                    <button style="flex: 1; padding: 8px 4px; border: none; border-radius: 8px; font-size: 12px; ${weekProgress[i] ? 'background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white;' : 'background: #e5e7eb; color: #6b7280;'}">
                                        ${day}
                                    </button>
                                `).join('')}
                            </div>
                        </div>
                        
                        <div style="background: #f3f4f6; border-radius: 10px; padding: 12px;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                                <span style="color: #6b7280; font-size: 14px;">·Éû·É†·Éù·Éí·É†·Éî·É°·Éò:</span>
                                <span style="color: #374151; font-weight: 600; font-size: 16px;">${completed}/${target} (${percentage}%)</span>
                            </div>
                            <div style="background: #e5e7eb; border-radius: 8px; height: 8px; overflow: hidden;">
                                <div style="background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); height: 100%; width: ${percentage}%; transition: width 0.3s;"></div>
                            </div>
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }
        
        function deleteGoal(index) {
            if (!confirm('·Éì·Éê·É†·É¨·Éõ·É£·Éú·Éî·Éë·É£·Éö·Éò ·ÉÆ·Éê·É†·Éó, ·É†·Éù·Éõ ·Éí·É°·É£·É†·Éó ·Éê·Éõ ·Éõ·Éò·Éñ·Éú·Éò·É° ·É¨·Éê·É®·Éö·Éê?')) {
                return;
            }
            
            const u = app.users[user.email];
            u.goals.splice(index, 1);
            save();
            loadGoalsList();
        }
        window.deleteGoal = deleteGoal;
        
        function getWeekKey(date) {
            const d = new Date(date);
            const year = d.getFullYear();
            const onejan = new Date(year, 0, 1);
            const week = Math.ceil((((d - onejan) / 86400000) + onejan.getDay() + 1) / 7);
            return `${year}-W${week.toString().padStart(2, '0')}`;
        }
        
        // Get today's date in LOCAL timezone (not UTC) - for "My Space" activities only
        function getTodayLocal() {
            const now = new Date();
            return `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}-${String(now.getDate()).padStart(2, '0')}`;
        }
        
        // ============ SELF-SATISFACTION FUNCTIONS ============
        
        let tempSatisfactionEntries = []; // Temporary array for current session
        
        function openSatisfactionModal() {
            const today = new Date().toISOString().split('T')[0];
            const u = app.users[user.email];
            
            // Initialize array
            if (!u.satisfactionEntries) u.satisfactionEntries = [];
            
            // Check if already added today
            const todayEntries = u.satisfactionEntries.filter(e => e.date === today);
            const isFirstToday = todayEntries.length === 0;
            
            // Reset temp array
            tempSatisfactionEntries = [];
            
            // Open modal
            document.getElementById('satisfactionModal').style.display = 'block';
            
            // Clear container
            document.getElementById('satisfactionEntriesContainer').innerHTML = '';
            
            // Show motivational text only first time today
            if (isFirstToday) {
                document.getElementById('satisfactionMotivationalText').style.display = 'block';
                document.getElementById('satisfactionInputForm').style.display = 'none';
            } else {
                document.getElementById('satisfactionMotivationalText').style.display = 'none';
                document.getElementById('satisfactionInputForm').style.display = 'block';
                addSatisfactionEntry(); // Add first entry automatically
            }
        }
        
        function continueToSatisfactionInput() {
            document.getElementById('satisfactionMotivationalText').style.display = 'none';
            document.getElementById('satisfactionInputForm').style.display = 'block';
            addSatisfactionEntry(); // Add first entry
        }
        
        function addSatisfactionEntry() {
            const container = document.getElementById('satisfactionEntriesContainer');
            const entryIndex = tempSatisfactionEntries.length;
            
            const entryDiv = document.createElement('div');
            entryDiv.className = 'satisfaction-entry';
            entryDiv.style.cssText = 'background: white; border-radius: 15px; padding: 20px; margin-bottom: 15px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);';
            entryDiv.setAttribute('data-index', entryIndex);
            
            entryDiv.innerHTML = `
                <div style="color: #374151; font-weight: 600; margin-bottom: 15px; font-size: 16px;">·É©·Éê·Éú·Éê·É¨·Éî·É†·Éò ${entryIndex + 1}</div>
                
                <textarea 
                    class="satisfaction-text" 
                    placeholder="·É†·Éò·Éó·Éò ·ÉÆ·Éê·É† ·Éì·É¶·Éî·É° ·É°·Éê·Éô·É£·Éó·Éê·É†·Éò ·Éó·Éê·Éï·Éò·Éó ·Éô·Éõ·Éê·Éß·Éù·É§·Éò·Éö·Éò?" 
                    style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 10px; font-size: 15px; font-family: inherit; resize: vertical; min-height: 80px; box-sizing: border-box; margin-bottom: 15px;"
                ></textarea>
                
                <div style="margin-bottom: 10px;">
                    <div style="color: #666; margin-bottom: 10px; font-size: 14px;">·É†·Éê·Éõ·Éì·Éî·Éú·Éê·Éì ·Éô·Éõ·Éê·Éß·Éù·É§·Éò·Éö·Éò ·ÉÆ·Éê·É†? (1-10)</div>
                    <div style="display: flex; gap: 4px; justify-content: space-between;">
                        ${[1,2,3,4,5,6,7,8,9].map(num => 
                            `<button type="button" class="satisfaction-rating-btn" data-rating="${num}" onclick="selectSatisfactionRating(${entryIndex}, ${num}, this)" style="padding: 8px 10px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 14px; font-weight: 600; color: #666; transition: all 0.2s; flex: 1; min-width: 0;">${num}</button>`
                        ).join('')}
                        <button type="button" class="satisfaction-rating-btn" data-rating="10" onclick="selectSatisfactionRating(${entryIndex}, 10, this)" style="padding: 8px 10px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 14px; font-weight: 600; color: #666; transition: all 0.2s; flex: 1; min-width: 0; display: flex; justify-content: center; align-items: center;">10</button>
                    </div>
                    <input type="hidden" class="satisfaction-rating-value" value="">
                </div>
            `;
            
            container.appendChild(entryDiv);
            
            // Add to temp array with empty values
            tempSatisfactionEntries.push({ text: '', rating: null });
            
            // Scroll to bottom
            container.scrollTop = container.scrollHeight;
        }
        
        function selectSatisfactionRating(entryIndex, rating, button) {
            // Update temp array
            if (tempSatisfactionEntries[entryIndex]) {
                tempSatisfactionEntries[entryIndex].rating = rating;
            }
            
            // Visual feedback - deselect all buttons in this entry
            const entry = button.closest('.satisfaction-entry');
            entry.querySelectorAll('.satisfaction-rating-btn').forEach(btn => {
                btn.style.background = 'white';
                btn.style.borderColor = '#e5e7eb';
                btn.style.color = '#666';
            });
            
            // Select this button - neutral gray
            button.style.background = '#f3f4f6';
            button.style.borderColor = '#9ca3af';
            button.style.color = '#374151';
            button.style.fontWeight = '700';
        }
        
        function closeSatisfactionModal() {
            document.getElementById('satisfactionModal').style.display = 'none';
            tempSatisfactionEntries = [];
        }
        
        function saveAllSatisfactionEntries() {
            // Collect all text inputs
            const entries = document.querySelectorAll('.satisfaction-entry');
            entries.forEach((entry, index) => {
                const text = entry.querySelector('.satisfaction-text').value.trim();
                if (tempSatisfactionEntries[index]) {
                    tempSatisfactionEntries[index].text = text;
                }
            });
            
            // Check for entries with text but no rating
            let firstIncompleteIndex = -1;
            for (let i = 0; i < tempSatisfactionEntries.length; i++) {
                if (tempSatisfactionEntries[i].text && !tempSatisfactionEntries[i].rating) {
                    firstIncompleteIndex = i;
                    break;
                }
            }
            
            if (firstIncompleteIndex >= 0) {
                // Scroll to first incomplete entry
                const allEntries = document.querySelectorAll('.satisfaction-entry');
                const targetEntry = allEntries[firstIncompleteIndex];
                
                if (targetEntry) {
                    targetEntry.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    
                    // Highlight rating buttons with red border + shake
                    const ratingButtons = targetEntry.querySelectorAll('.satisfaction-rating-btn');
                    ratingButtons.forEach(btn => {
                        btn.style.border = '2px solid #ef4444';
                        btn.style.animation = 'shake 0.5s';
                    });
                    
                    // Add shake animation if not exists
                    if (!document.getElementById('shakeAnimation')) {
                        const style = document.createElement('style');
                        style.id = 'shakeAnimation';
                        style.textContent = `
                            @keyframes shake {
                                0%, 100% { transform: translateX(0); }
                                25% { transform: translateX(-5px); }
                                75% { transform: translateX(5px); }
                            }
                        `;
                        document.head.appendChild(style);
                    }
                    
                    // Remove highlight after 2 seconds
                    setTimeout(() => {
                        ratingButtons.forEach(btn => {
                            btn.style.border = '2px solid #e5e7eb';
                            btn.style.animation = '';
                        });
                    }, 2000);
                }
                
                return; // Don't save
            }
            
            // Validate - at least one complete entry (text + rating)
            const validEntries = tempSatisfactionEntries.filter(e => e.text && e.rating);
            
            if (validEntries.length === 0) {
                alert('·Éí·Éó·ÉÆ·Éù·Éï·Éó ·Éì·Éê·Éê·Éõ·Éê·É¢·Éù·Éó ·Éõ·Éò·Éú·Éò·Éõ·É£·Éõ ·Éî·É†·Éó·Éò ·É©·Éê·Éú·Éê·É¨·Éî·É†·Éò ·É¢·Éî·É•·É°·É¢·Éò·Éó·Éê ·Éì·Éê ·É®·Éî·É§·Éê·É°·Éî·Éë·Éò·Éó!');
                return;
            }
            
            const today = getTodayLocal(); // Use local timezone for My Space
            const u = app.users[user.email];
            
            // Initialize array
            if (!u.satisfactionEntries) u.satisfactionEntries = [];
            
            // Save all valid entries
            validEntries.forEach(entry => {
                u.satisfactionEntries.push({
                    date: today,
                    text: entry.text,
                    rating: entry.rating,
                    timestamp: new Date().toISOString()
                });
            });
            
            // SYNC: Update weeklyProgress for satisfaction goal (counted as one day activity)
            syncSpaceActivityToGoal(u, 'satisfaction');
            
            save();
            closeSatisfactionModal();
            loadSatisfactionEntries();
            
            alert(`‚úì ${validEntries.length} ·É©·Éê·Éú·Éê·É¨·Éî·É†·Éò ·É¨·Éê·É†·Éõ·Éê·É¢·Éî·Éë·Éò·Éó ·É®·Éî·Éò·Éú·Éê·ÉÆ·Éê!`);
        }
        
        function loadSatisfactionEntries() {
            const u = app.users[user.email];
            if (!u.satisfactionEntries) u.satisfactionEntries = [];
            
            const list = document.getElementById('satisfactionList');
            if (!list) return;
            
            if (u.satisfactionEntries.length === 0) {
                list.innerHTML = '<p style="color: #999; text-align: center; padding: 20px;">·ÉØ·Éî·É† ·Éê·É† ·Éí·Éê·É•·Éï·É° ·É©·Éê·Éú·Éê·É¨·Éî·É†·Éî·Éë·Éò</p>';
                return;
            }
            
            // Group by date
            const byDate = {};
            u.satisfactionEntries.forEach(e => {
                if (!byDate[e.date]) byDate[e.date] = [];
                byDate[e.date].push(e);
            });
            
            // Sort dates descending
            const dates = Object.keys(byDate).sort().reverse();
            
            let html = '';
            dates.forEach(date => {
                const entries = byDate[date];
                html += `
                    <div style="background: white; border-radius: 15px; padding: 20px; margin-bottom: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                        <div style="color: #9ca3af; font-size: 15px; font-weight: 600; margin-bottom: 15px; border-bottom: 2px solid #f3f4f6; padding-bottom: 10px;">üìÖ ${date}</div>
                `;
                
                entries.forEach((e, index) => {
                    const rating = e.rating || '‚Äî';
                    
                    html += `
                        <div style="margin-bottom: ${index < entries.length - 1 ? '12px' : '0'}; padding-bottom: ${index < entries.length - 1 ? '12px' : '0'}; border-bottom: ${index < entries.length - 1 ? '1px solid #f3f4f6' : 'none'};">
                            <div style="display: flex; justify-content: space-between; align-items: start; gap: 10px;">
                                <div style="flex: 1;">
                                    <span style="color: #9ca3af; font-size: 14px; font-weight: 600;">${index + 1}.</span>
                                    <span style="color: #333; font-size: 15px; line-height: 1.6;"> ${e.text}</span>
                                </div>
                                <div style="background: #f3f4f6; color: #6b7280; padding: 6px 12px; border-radius: 20px; font-size: 14px; font-weight: 600; white-space: nowrap;">
                                    ${rating}/10
                                </div>
                            </div>
                        </div>
                    `;
                });
                
                html += '</div>';
            });
            
            list.innerHTML = html;
        }
        
        function deleteSatisfactionEntry(index) {
            if (!confirm('·Éì·Éê·É†·É¨·Éõ·É£·Éú·Éî·Éë·É£·Éö·Éò ·ÉÆ·Éê·É†, ·É†·Éù·Éõ ·Éí·Éò·Éú·Éì·Éê ·É©·Éê·Éú·Éê·É¨·Éî·É†·Éò·É° ·É¨·Éê·É®·Éö·Éê?')) return;
            
            const u = app.users[user.email];
            u.satisfactionEntries.splice(index, 1);
            save();
            loadSatisfactionEntries();
        }
        
        // ============ CONTACT FUNCTIONS ============
        
        let contactData = {
            morning: { ready: null, motivation: null },
            evening: { success: null, gratitude: null, proud: null }
        };
        
        function showContact() {
            showSection('contact');
            updateContactCards();
        }
        
        function updateContactCards() {
            // Check if contact section elements exist
            const morningCard = document.getElementById('morningContactCard');
            const eveningCard = document.getElementById('eveningContactCard');
            const yesterdayCard = document.getElementById('yesterdayEveningCard');
            const allComplete = document.getElementById('contactAllComplete');
            const goalsCard = document.getElementById('myGoalsContactCard');
            
            if (!morningCard || !eveningCard || !yesterdayCard || !allComplete) {
                return; // Elements don't exist yet
            }
            
            // Demo mode - if app not defined, return early
            if (typeof app === 'undefined' || !app || !app.users || !user || !user.email || !app.users[user.email]) {
                return;
            }
            
            const now = new Date();
            const today = getLocalDate();  // ‚úÖ Local date
            const u = app.users[user.email];
            
            // Initialize dailyCheckins if not exists
            if (!u.dailyCheckins) u.dailyCheckins = [];
            
            // Get today's checkin
            const todayCheckin = u.dailyCheckins.find(c => c.date === today);
            
            // Get yesterday's date (local)
            const yesterdayDate = getYesterdayDate();  // ‚úÖ Local date
            const yesterdayCheckin = u.dailyCheckins.find(c => c.date === yesterdayDate);
            
            // Get user's readiness assessment times (with defaults)
            const r = u.readinessAssessment || {};
            const morningTime = r.motivationCheckTime || "09:00";  // Default 09:00
            const eveningTime = r.resultsCheckTime || "21:00";     // Default 21:00
            
            let hasAny = false;
            
            // Parse times
            const [morningHour, morningMin] = morningTime.split(':').map(Number);
            const [eveningHour, eveningMin] = eveningTime.split(':').map(Number);
            const currentMinutes = now.getHours() * 60 + now.getMinutes();
            const morningMinutes = morningHour * 60 + morningMin;
            const eveningMinutes = eveningHour * 60 + eveningMin;
            
            const isMorningTime = currentMinutes >= morningMinutes;
            const isEveningTime = currentMinutes >= eveningMinutes;
            
            // MORNING CARD - show only after morning time and if not filled
            if (isMorningTime && (!todayCheckin || !todayCheckin.morning)) {
                morningCard.style.display = 'block';
                hasAny = true;
            } else {
                morningCard.style.display = 'none';
            }
            
            // EVENING CARD - show only after evening time (21:00) and if not filled
            if (isEveningTime && (!todayCheckin || !todayCheckin.evening)) {
                eveningCard.style.display = 'block';
                hasAny = true;
            } else {
                eveningCard.style.display = 'none';
            }
            
            // YESTERDAY EVENING CARD - show ONLY if:
            // 1. It's NOT evening time yet (before 21:00)
            // 2. AND yesterday evening was missed
            // Don't show yesterday if it's already evening time (today's evening card shows instead)
            
            if (!isEveningTime) {
                // Before evening time - can show yesterday if missed
                if (yesterdayCheckin && !yesterdayCheckin.evening) {
                    // Calculate hours since yesterday evening (21:00)
                    const yesterdayEveningTime = new Date(yesterday);
                    yesterdayEveningTime.setHours(eveningHour, eveningMin, 0, 0);
                    const hoursSinceYesterday = (now - yesterdayEveningTime) / (1000 * 60 * 60);
                    
                    // Update card text based on time elapsed
                    const cardTitle = yesterdayCard.querySelector('h3');
                    const cardButton = yesterdayCard.querySelector('button');
                    
                    if (hoursSinceYesterday > 24) {
                        // More than 24 hours - show "recent days"
                        cardTitle.textContent = '·Éë·Éù·Éö·Éù ·Éì·É¶·Éî·Éî·Éë·Éò·É° ·Éô·Éù·Éú·É¢·Éê·É•·É¢·Éò';
                        if (cardButton) cardButton.setAttribute('data-mode', 'recent');
                    } else {
                        // Within 24 hours - show "yesterday evening"
                        cardTitle.textContent = '·Éí·É£·É®·Éò·Éú·Éì·Éî·Éö·Éò ·É°·Éê·É¶·Éê·Éõ·Éù·É° ·Éô·Éù·Éú·É¢·Éê·É•·É¢·Éò';
                        if (cardButton) cardButton.setAttribute('data-mode', 'yesterday');
                    }
                    
                    yesterdayCard.style.display = 'block';
                    hasAny = true;
                } else if (u.dailyCheckins.length === 0) {
                    // Brand new user before evening time - show yesterday for baseline
                    const cardTitle = yesterdayCard.querySelector('h3');
                    cardTitle.textContent = '·Éí·É£·É®·Éò·Éú·Éì·Éî·Éö·Éò ·É°·Éê·É¶·Éê·Éõ·Éù·É° ·Éô·Éù·Éú·É¢·Éê·É•·É¢·Éò';
                    yesterdayCard.style.display = 'block';
                    hasAny = true;
                } else {
                    yesterdayCard.style.display = 'none';
                }
            } else {
                // It's evening time - today's evening card shows instead
                yesterdayCard.style.display = 'none';
            }
            
            // GOALS CONTACT CARD - show if:
            // 1. User has custom goals
            // 2. NOT finalized for today
            // 3. After morning time (09:00)
            if (goalsCard) {
                const customGoals = u.goals ? u.goals.filter(g => g.type !== 'space') : [];
                
                // ‚úÖ AUTO-FINALIZE: ·Éì·Éê·É§·Éò·É•·É°·Éò·É†·Éì·Éî·É° ·Éí·É£·É®·Éò·Éú·Éì·Éî·Éö·Éò ·Éó·É£ ·Éê·ÉÆ·Éê·Éö·Éò ·Éì·É¶·Éî ·Éì·Éê·Éò·É¨·Éß·Éù
                // ·Éó·É£ ·Éí·É£·É®·Éò·Éú·Éì·Éî·Éö ·Éì·É¶·Éî·É° progress ·Éò·Éß·Éù ·Éõ·Éê·Éí·É†·Éê·Éõ ·Éê·É† ·Éê·É†·Éò·É° finalized ‚Üí auto-finalize
                if (u.goalsContactProgress && u.goalsContactProgress[yesterdayDate]) {
                    if (!u.goalsContactFinalized) u.goalsContactFinalized = {};
                    if (!u.goalsContactFinalized[yesterdayDate]) {
                        // Auto-finalize ·Éí·É£·É®·Éò·Éú·Éì·Éî·Éö·Éò
                        u.goalsContactFinalized[yesterdayDate] = true;
                        save();
                    }
                }
                
                const goalsFinalized = u.goalsContactFinalized && u.goalsContactFinalized[today];
                
                if (customGoals.length > 0 && !goalsFinalized && isMorningTime) {
                    goalsCard.style.display = 'block';
                    hasAny = true;
                } else {
                    goalsCard.style.display = 'none';
                }
            }
            
            // Check achievement card for "all complete" message
            const achievementCard = document.getElementById('myAchievementsCard');
            const isAchievementHidden = achievementCard && achievementCard.style.display === 'none';
            
            // If no cards to show, check achievement card too
            if (!hasAny && isAchievementHidden) {
                allComplete.style.display = 'block';
            } else {
                allComplete.style.display = 'none';
            }
            
            // Update badge and achievements summary
            updateContactBadge();
            updateAchievementCardTitle();
        }
        
        function updateContactBadge() {
            const badge = document.getElementById('contactBadge');
            if (!badge) return; // Element doesn't exist yet (e.g., on login page)
            
            const now = new Date();
            const today = now.toISOString().split('T')[0];
            const u = app.users[user.email];
            
            if (!u.dailyCheckins) u.dailyCheckins = [];
            
            const todayCheckin = u.dailyCheckins.find(c => c.date === today);
            
            // Get user's times (with defaults)
            const r = u.readinessAssessment || {};
            const morningTime = r.motivationCheckTime || "09:00";
            const eveningTime = r.resultsCheckTime || "21:00";
            
            const [morningHour, morningMin] = morningTime.split(':').map(Number);
            const [eveningHour, eveningMin] = eveningTime.split(':').map(Number);
            
            const currentMinutes = now.getHours() * 60 + now.getMinutes();
            const morningMinutes = morningHour * 60 + morningMin;
            const eveningMinutes = eveningHour * 60 + eveningMin;
            
            const isMorningTime = currentMinutes >= morningMinutes;
            const isEveningTime = currentMinutes >= eveningMinutes;
            
            let hasPending = false;
            
            // Check morning (if time has passed)
            if (isMorningTime && (!todayCheckin || !todayCheckin.morning)) hasPending = true;
            
            // Check evening (if time has passed)
            if (isEveningTime && (!todayCheckin || !todayCheckin.evening)) hasPending = true;
            
            // Check yesterday evening
            const yesterday = new Date(now);
            yesterday.setDate(yesterday.getDate() - 1);
            const yesterdayDate = yesterday.toISOString().split('T')[0];
            const yesterdayCheckin = u.dailyCheckins.find(c => c.date === yesterdayDate);
            if (yesterdayCheckin && !yesterdayCheckin.evening) hasPending = true;
            
            // For brand new users
            if (u.dailyCheckins.length === 0) hasPending = true;
            
            badge.style.display = hasPending ? 'flex' : 'none';
        }
        
        // Morning Contact
        function showMorningContact() {
            contactData.morning = { ready: null, motivation: 5 };
            document.getElementById('morningQ1').style.display = 'block';
            document.getElementById('morningQ2').style.display = 'none';
            document.getElementById('morningContactModal').style.display = 'block';
        }
        
        function morningAnswerReady(answer) {
            contactData.morning.ready = answer;
            
            if (answer === false) {
                // User said NO - not ready
                // Skip motivation slider, set to 1, show warning feedback
                contactData.morning.motivation = 1;
                
                const now = new Date();
                const today = now.toISOString().split('T')[0];
                const u = app.users[user.email];
                
                if (!u.dailyCheckins) u.dailyCheckins = [];
                
                let todayCheckin = u.dailyCheckins.find(c => c.date === today);
                if (!todayCheckin) {
                    todayCheckin = { date: today };
                    u.dailyCheckins.push(todayCheckin);
                }
                
                todayCheckin.morning = {
                    ready: false,
                    motivation: 1
                };
                
                save();
                
                // Hide Q1, show warning feedback
                document.getElementById('morningQ1').style.display = 'none';
                showMorningMotivationFeedback(1);
            } else {
                // User said YES - proceed to motivation slider
                document.getElementById('morningQ1').style.display = 'none';
                document.getElementById('morningQ2').style.display = 'block';
            }
        }
        
        function updateMotivationValue(value) {
            document.getElementById('motivationValue').textContent = value;
            
            // Safety check - initialize if needed
            if (!contactData.morning) {
                contactData.morning = { ready: null, motivation: 5 };
            }
            contactData.morning.motivation = parseInt(value);
            
            const label = document.getElementById('motivationLabel');
            if (value <= 3) label.textContent = '·Éì·Éê·Éë·Éê·Éö·Éò ·Éõ·Éù·É¢·Éò·Éï·Éê·É™·Éò·Éê';
            else if (value <= 6) label.textContent = '·É°·Éê·É®·É£·Éê·Éö·Éù ·Éõ·Éù·É¢·Éò·Éï·Éê·É™·Éò·Éê';
            else label.textContent = '·Éõ·Éê·É¶·Éê·Éö·Éò ·Éõ·Éù·É¢·Éò·Éï·Éê·É™·Éò·Éê';
        }
        
        function saveMorningContact() {
            const now = new Date();
            const today = now.toISOString().split('T')[0];
            const u = app.users[user.email];
            
            if (!u.dailyCheckins) u.dailyCheckins = [];
            
            let todayCheckin = u.dailyCheckins.find(c => c.date === today);
            if (!todayCheckin) {
                todayCheckin = { date: today };
                u.dailyCheckins.push(todayCheckin);
            }
            
            todayCheckin.morning = {
                ready: contactData.morning.ready,
                motivation: contactData.morning.motivation
            };
            
            save();
            
            // Show motivation feedback
            showMorningMotivationFeedback(contactData.morning.motivation);
        }
        
        function showMorningMotivationFeedback(motivation) {
            // Hide Q2
            document.getElementById('morningQ2').style.display = 'none';
            
            // Show feedback
            const feedbackDiv = document.getElementById('morningFeedback');
            const feedbackText = feedbackDiv.querySelector('p');
            
            let message = '';
            let bgColor = '';
            let borderColor = '';
            
            if (motivation >= 7) {
                message = '·Éõ·É®·Éï·Éî·Éú·Éò·Éî·É†·Éò·Éê! ·Éõ·Éò·ÉÆ·Éê·É†·Éò·Éê, ·É†·Éù·Éõ ·Éõ·É¢·Éô·Éò·É™·Éî·Éì ·ÉÆ·Éê·É† ·Éí·Éê·Éú·É¨·Éß·Éù·Éë·Éò·Éö·Éò! ·É°·Éê·É°·Éò·Éê·Éõ·Éù·Éï·Éú·Éù ·Éì·É¶·Éî·É° ·Éí·Éò·É°·É£·É†·Éï·Éî·Éë! ‚ú®üí´‚òÄÔ∏è üí™';
                bgColor = '#FFFFFF';
                borderColor = '#667eea';
            } else if (motivation >= 5) {
                message = '·Éô·Éê·É†·Éí·Éò·Éê, ·É†·Éù·Éõ ·Éõ·Éù·Éõ·Éê·É†·Éó·É£·Éö·Éò ·ÉÆ·Éê·É† ·Éì·É¶·Éî·É°·Éê·É™ ·É®·Éî·Éò·Éú·Éê·É†·É©·É£·Éú·Éù ·É°·Éò·É§·ÉÆ·Éò·Éñ·Éö·Éî! ·Éó·É£·Éõ·É™·Éê, ·Éõ·Éê·Éò·Éú·É™ ·Éí·Éò·É†·É©·Éî·Éï·Éì·Éò, ·Éí·Éê·Éì·Éê·ÉÆ·Éî·Éì·Éù ·Éõ·Éù·É¢·Éò·Éï·Éê·É™·Éò·Éî·Éë·Éò·É° ·Éí·Éê·Éú·Éß·Éù·É§·Éò·Éö·Éî·Éë·Éê·É° ·Éì·Éê ·Éí·Éê·Éú·Éõ·É¢·Éô·Éò·É™·Éì·Éî ·É°·Éê·Éô·É£·Éó·Éê·É†·Éò ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éò·É° ·Éí·Éê·Éì·Éê·É¨·Éß·Éï·Éî·É¢·Éò·Éö·Éî·Éë·Éê·É®·Éò! üí°';
                bgColor = '#FFFFFF';
                borderColor = '#667eea';
            } else {
                message = '·É°·Éê·É≠·Éò·É†·Éù·Éê ·Éí·Éê·É´·Éö·Éò·Éî·É†·Éî·Éë·Éê ·Éì·Éê ·É´·Éê·Éö·Éî·Éë·Éò·É° ·Éí·Éê·Éú·Éõ·É¢·Éô·Éò·É™·Éî·Éë·Éê! ·Éí·Éê·Éì·Éê·ÉÆ·Éî·Éì·Éî ·Éõ·Éù·É¢·Éò·Éï·Éê·É™·Éò·Éî·Éë·É°, ·Éì·Éê·É£·É†·Éî·Éô·Éî ·Éó·Éî·É†·Éê·Éû·Éî·Éï·É¢·É° ·Éê·Éú ·Éí·Éê·Éõ·Éù·Éò·Éß·Éî·Éú·Éî ·É®·Éî·Éú·Éó·Éï·Éò·É° ·É°·Éê·É°·É£·É†·Éï·Éî·Éö·Éò ·Éú·Éî·Éë·Éò·É°·Éõ·Éò·Éî·É†·Éò ·É§·Éù·É†·Éõ·Éê! ‚ö†Ô∏è';
                bgColor = '#FEE2E2';
                borderColor = '#EF4444';
            }
            
            let textColor = '#333'; // Default dark text
            if (motivation < 5) {
                textColor = '#7F1D1D'; // Dark red for warning
            }
            
            feedbackDiv.style.background = bgColor;
            feedbackDiv.style.borderLeft = `4px solid ${borderColor}`;
            feedbackDiv.style.boxShadow = '0 2px 8px rgba(0,0,0,0.1)';
            feedbackText.textContent = message;
            feedbackText.style.color = textColor;
            feedbackText.style.textAlign = 'center';
            feedbackDiv.style.display = 'block';
            
            // Show done button
            document.getElementById('morningDoneBtn').style.display = 'block';
        }
        
        function closeMorningContact() {
            document.getElementById('morningContactModal').style.display = 'none';
            document.getElementById('morningFeedback').style.display = 'none';
            document.getElementById('morningDoneBtn').style.display = 'none';
            updateContactCards();
        }
        
        // Evening Contact
        function showEveningContact() {
            contactData.evening = { success: null, gratitude: null, proud: null };
            
            // Reset modal header and day text to "today" ONLY if not yesterday
            if (!contactData.isYesterday) {
                const modalTitle = document.querySelector('#eveningContactModal .modal-header');
                const dayText = document.getElementById('eveningDayText');
                if (modalTitle) modalTitle.textContent = '·É°·Éê·É¶·Éê·Éõ·Éù·É° ·Éô·Éù·Éú·É¢·Éê·É•·É¢·Éò';
                if (dayText) dayText.textContent = '·Éì·É¶·Éî·É°';
            }
            
            resetEveningModal();
            document.getElementById('eveningContactModal').style.display = 'block';
        }
        
        function showYesterdayEvening() {
            // For simplicity, use same modal but save to yesterday's date
            contactData.isYesterday = true;
            
            // Check mode from button's data-mode attribute
            const yesterdayCard = document.getElementById('yesterdayEveningCard');
            const button = yesterdayCard ? yesterdayCard.querySelector('button') : null;
            const mode = button ? button.getAttribute('data-mode') : 'yesterday';
            
            // Update modal title and question text based on mode
            const modalTitle = document.querySelector('#eveningContactModal .modal-header');
            const dayText = document.getElementById('eveningDayText');
            
            if (mode === 'recent') {
                // More than 24 hours - "recent days"
                if (modalTitle) modalTitle.textContent = 'üåô ·Éë·Éù·Éö·Éù ·Éì·É¶·Éî·Éî·Éë·Éò·É° ·Éô·Éù·Éú·É¢·Éê·É•·É¢·Éò';
                if (dayText) dayText.textContent = '·Éë·Éù·Éö·Éù ·Éì·É¶·Éî·Éî·Éë·Éò·É° ·Éí·Éê·Éú·Éõ·Éê·Éï·Éö·Éù·Éë·Éê·É®·Éò';
            } else {
                // Within 24 hours - "yesterday"
                if (modalTitle) modalTitle.textContent = 'üåô ·Éí·É£·É®·Éò·Éú·Éì·Éî·Éö·Éò ·É°·Éê·É¶·Éê·Éõ·Éù·É° ·Éô·Éù·Éú·É¢·Éê·É•·É¢·Éò';
                if (dayText) dayText.textContent = '·Éí·É£·É®·Éò·Éú';
            }
            
            showEveningContact();
        }
        
        function resetEveningModal() {
            document.getElementById('eveningQ1').style.display = 'block';
            document.getElementById('eveningCongratsPage').style.display = 'none';
            document.getElementById('eveningGratitudePage').style.display = 'none';
            document.getElementById('eveningGratitudeFeedbackPage').style.display = 'none';
            document.getElementById('eveningProudPage').style.display = 'none';
            document.getElementById('eveningProudFeedbackPage').style.display = 'none';
            document.getElementById('eveningFinalPage').style.display = 'none';
            document.getElementById('eveningBadgesPage').style.display = 'none';
            document.getElementById('eveningRelapsePage').style.display = 'none';
            document.getElementById('eveningProgressMessage').style.display = 'none';
        }
        
        function eveningAnswerSuccess(answer) {
            contactData.evening.success = answer;
            document.getElementById('eveningQ1').style.display = 'none';
            
            if (answer) {
                // Success path - show congrats page
                document.getElementById('eveningCongratsPage').style.display = 'block';
                
                // Show progress message if applicable
                showProgressMessage();
            } else {
                // Relapse path - reset streak to 0
                const u = app.users[user.email];
                u.streak = 0;
                u.lastUse = new Date().toISOString().split('T')[0]; // Update lastUse to today so streak calculation shows 0
                save();
                updateDashboardStreak();
                
                // Show relapse page
                document.getElementById('eveningRelapsePage').style.display = 'block';
                saveEveningContact(); // Save immediately
            }
        }
        
        function eveningNextToGratitude() {
            // Hide congrats page, show gratitude page
            document.getElementById('eveningCongratsPage').style.display = 'none';
            document.getElementById('eveningGratitudePage').style.display = 'block';
        }
        
        function showProgressMessage() {
            const u = app.users[user.email];
            const currentStreak = u.currentStreak || 0;
            
            // Define milestones
            const milestones = [7, 14, 30, 60, 90, 120, 150, 180, 210, 240, 270, 300, 330, 365, 730, 1825, 3650];
            
            // Find next milestone
            let nextMilestone = milestones.find(m => m > currentStreak);
            if (!nextMilestone) return; // Already past all milestones
            
            const remaining = nextMilestone - currentStreak;
            const progress = currentStreak / nextMilestone;
            
            let message = '';
            
            if (progress >= 0.67) {
                // 67-99% done
                if (remaining <= 5) {
                    message = `üî• ·Éõ·Éù·Éõ·Éì·Éî·Éï·Éú·Éù ·Éõ·Éò·É¶·É¨·Éî·Éï·Éò·É° (${nextMilestone} ·Éì·É¶·Éî) ·É®·Éî·É°·É†·É£·Éö·Éî·Éë·Éê·Éõ·Éì·Éî ·Éì·Éê·É†·É©·Éî·Éú·Éò·Éö·Éò·Éê ${remaining} ·Éì·É¶·Éî!`;
                } else {
                    message = `üí™ ·É´·Éö·Éò·Éî·É† ·Éõ·Éò·É¨·Éî·Éï ·É¨·Éò·Éú! ·Éô·Éò·Éì·Éî·Éï ·É™·Éù·É¢·Éê ·Éì·Éê ·Éõ·Éò·Éê·É¶·É¨·Éî·Éï ${nextMilestone} ·Éì·É¶·Éî·É°!`;
                }
            } else if (progress >= 0.5) {
                // 50-66% done
                message = `üåü ·Éß·Éù·É©·Éê·É¶! ·É®·Éî·Éõ·Éì·Éî·Éí·Éò ·Éõ·Éò·É¶·É¨·Éî·Éï·Éò·É° (${nextMilestone} ·Éì·É¶·Éî) ·Éú·Éê·ÉÆ·Éî·Éï·Éê·É†·Éò ·É£·Éô·Éï·Éî ·Éì·Éê·É§·Éê·É†·É£·Éö·Éò ·Éí·Éê·É•·Éï·É°!`;
            } else if (progress >= 0.33) {
                // 33-49% done
                message = `‚ú® ·Éõ·É®·Éï·Éî·Éú·Éò·Éî·É†·Éò·Éê! ·É®·Éî·Éú ·É£·Éô·Éï·Éî ·Éì·Éê·É§·Éê·É†·Éî ·Éõ·Éù·Éõ·Éì·Éî·Éï·Éú·Éù ·Éõ·Éò·É¶·É¨·Éî·Éï·Éò·É° (${nextMilestone} ·Éì·É¶·Éî) 1/3!`;
            }
            
            if (message) {
                const messageDiv = document.getElementById('eveningProgressMessage');
                messageDiv.querySelector('p').textContent = message;
                messageDiv.style.display = 'block';
            }
        }
        
        function eveningAnswerGratitude(answer) {
            contactData.evening.gratitude = answer;
            
            // Hide question page
            document.getElementById('eveningGratitudePage').style.display = 'none';
            
            // Show feedback on separate page
            const feedbackBox = document.getElementById('eveningGratitudeFeedbackBox');
            if (answer) {
                feedbackBox.innerHTML = '<div style="background: #FFFFFF; border-left: 4px solid #667eea; padding: 25px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);"><p style="color: #333; font-size: 17px; line-height: 1.7; margin: 0; text-align: center;">·Éõ·É®·Éï·Éî·Éú·Éò·Éî·É†·Éò·Éê, ·É®·Éî·Éú ·Éú·Éê·Éõ·Éì·Éï·Éò·Éö·Éê·Éì ·Éì·Éò·Éì ·É°·Éò·Éô·Éî·Éó·Éî·É° ·É£·Éô·Éî·Éó·Éî·Éë ·É°·Éê·Éô·É£·Éó·Éê·É† ·Éó·Éê·Éï·É° ·Éì·Éê ·Éê·Éõ·Éò·É°·Éó·Éï·Éò·É° ·Éò·Éõ·É°·Éê·ÉÆ·É£·É†·Éî·Éë ·Éõ·Éê·Éì·Éö·Éù·Éë·Éê·É°.</p></div>';
            } else {
                feedbackBox.innerHTML = '<div style="background: #FFFFFF; border-left: 4px solid #667eea; padding: 25px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);"><p style="color: #333; font-size: 17px; line-height: 1.7; margin: 0; text-align: center;">·É†·Éù·Éì·Éî·É°·Éê·É™ ·É°·ÉÆ·Éï·Éê ·Éê·Éì·Éê·Éõ·Éò·Éê·Éú·Éò ·Éõ·Éê·É†·Éó·Éö·Éê·É™ ·É¶·Éò·É†·Éî·Éë·É£·Éö ·É°·Éê·É•·Éõ·Éî·É° ·Éí·Éò·Éô·Éî·Éó·Éî·Éë·É°, ·ÉÆ·Éù·Éõ ·Éí·Éò·É©·Éú·Éì·Éî·Éë·Éê ·É°·É£·É†·Éï·Éò·Éö·Éò ·Éê·Éõ ·É°·Éò·Éô·Éî·Éó·Éò·É°·Éó·Éï·Éò·É° ·Éõ·Éê·Éì·Éö·Éù·Éë·Éê ·Éí·Éê·Éì·Éê·É£·ÉÆ·Éê·Éì·Éù? ·É®·Éî·Éú ·ÉÆ·Éù·Éõ ·Éê·É°·Éî·Éó·Éò ·É¶·Éò·É†·Éî·Éë·É£·Éö·Éò ·Éõ·Éò·Éñ·Éú·Éò·É°·Éô·Éî·Éú ·Éõ·Éò·Éì·Éò·ÉÆ·Éê·É†, ·Éì·Éê·É§·Éò·É•·É†·Éì·Éò, ·Éú·É£·Éó·É£ ·Éê·É† ·Éò·Éõ·É°·Éê·ÉÆ·É£·É†·Éî·Éë ·Éê·Éõ ·Éõ·Éò·Éñ·Éê·Éú·Éì·Éê·É°·Éê·ÉÆ·É£·Éö·Éù·Éë·Éò·É°·Éó·Éï·Éò·É° ·Éõ·Éê·Éì·Éö·Éù·Éë·Éê·É°?</p></div>';
            }
            
            document.getElementById('eveningGratitudeFeedbackPage').style.display = 'block';
        }
        
        function eveningNextToProud() {
            document.getElementById('eveningGratitudeFeedbackPage').style.display = 'none';
            document.getElementById('eveningProudPage').style.display = 'block';
        }
        
        function eveningAnswerProud(answer) {
            contactData.evening.proud = answer;
            
            // Hide question page
            document.getElementById('eveningProudPage').style.display = 'none';
            
            // Show feedback on separate page
            const feedbackBox = document.getElementById('eveningProudFeedbackBox');
            if (answer) {
                feedbackBox.innerHTML = '<div style="background: #FFFFFF; border-left: 4px solid #667eea; padding: 25px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);"><p style="color: #333; font-size: 17px; line-height: 1.7; margin: 0; text-align: center;">·Éõ·É®·Éï·Éî·Éú·Éò·Éî·É†·Éò·Éê, ·Éò·É° ·É´·Éê·Éö·Éò·É°·ÉÆ·Éõ·Éî·Éï·Éê ·Éì·Éê ·É°·É£·Éö·Éò·É° ·É°·Éò·Éõ·É¢·Éô·Éò·É™·Éî, ·É†·Éù·Éõ·Éî·Éö·É°·Éê·É™ ·É®·Éî·Éú ·Éò·É©·Éî·Éú ·Éú·Éê·Éõ·Éì·Éï·Éò·Éö·Éê·Éì ·É°·Éò·Éê·Éõ·Éê·Éß·Éò·É° ·É¶·Éò·É†·É°·Éò·Éê.</p></div>';
            } else {
                feedbackBox.innerHTML = '<div style="background: #FFFFFF; border-left: 4px solid #667eea; padding: 25px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);"><p style="color: #333; font-size: 17px; line-height: 1.7; margin: 0; text-align: center;">·Éõ·Éî·É†·Éî? ·É†·Éê·É° ·Éî·Éö·Éù·Éì·Éî·Éë·Éò? ·Éò·É° ·É´·Éê·Éö·Éò·É°·ÉÆ·Éõ·Éî·Éï·Éê ·Éì·Éê ·É°·É£·Éö·Éò·É° ·É°·Éò·Éõ·É¢·Éô·Éò·É™·Éî, ·É†·Éù·Éõ·Éî·Éö·É°·Éê·É™ ·É®·Éî·Éú ·Éò·É©·Éî·Éú, ·Éú·É£·Éó·É£ ·Éê·É† ·Éò·Éõ·É°·Éê·ÉÆ·É£·É†·Éî·Éë·É° ·É°·Éê·Éô·É£·Éó·Éê·É†·Éò ·Éó·Éê·Éï·Éò·Éó ·É°·Éò·Éê·Éõ·Éê·Éß·Éî·É°? ·É®·Éî·Éú ·Éõ·Éê·É†·Éó·Éö·Éê·É™ ·É´·Éê·Éö·Éò·Éê·Éú ·Éõ·Éê·Éí·Éê·É†·Éò ·ÉÆ·Éê·É†, ·Éî·É™·Éê·Éì·Éî ·É®·Éî·Éú·É™ ·Éì·Éê·Éò·Éú·Éê·ÉÆ·Éù ·Éî·É°!</p></div>';
            }
            
            document.getElementById('eveningProudFeedbackPage').style.display = 'block';
        }
        
        function eveningNextToFinal() {
            // Save first
            try {
                saveEveningContact();
            } catch (e) {
                // Save failed, continuing anyway
            }
            
            // Then navigate
            document.getElementById('eveningProudFeedbackPage').style.display = 'none';
            document.getElementById('eveningFinalPage').style.display = 'block';
        }
        
        function showBadgesProgress() {
            document.getElementById('eveningFinalPage').style.display = 'none';
            
            // Safety check for localStorage
            if (!app || !app.users || !user || !user.email) {
                // Demo version without localStorage
                document.getElementById('badgesContent').innerHTML = `
                    <div style="text-align: center; padding: 40px 20px;">
                        <h2 style="color: #667eea; margin-bottom: 20px;">üèÜ ·Éë·Éî·ÉØ·Éî·Éë·Éò·É° ·Éû·É†·Éù·Éí·É†·Éî·É°·Éò</h2>
                        <p style="color: #666; font-size: 16px; line-height: 1.7;">
                            ·Éî·É° ·É§·É£·Éú·É•·É™·Éò·Éê ·É°·É†·É£·Éö·Éê·Éì ·Éò·Éõ·É£·É®·Éê·Éï·Éî·Éë·É° ·É†·Éù·É™·Éê ·Éê·Éû·Éö·Éò·Éô·Éê·É™·Éò·Éê ·Éù·Éú·Éö·Éê·Éò·Éú ·Éï·Éî·É†·É°·Éò·Éê·Éñ·Éî ·Éí·Éê·Éì·Éê·Éï·Éê! 
                            <br><br>
                            ·Éê·É• ·Éú·Éê·ÉÆ·Éê·Éï ·É®·Éî·Éú·É° ·Éû·É†·Éù·Éí·É†·Éî·É°·É°, ·Éõ·Éò·É¶·Éî·Éë·É£·Éö ·Éë·Éî·ÉØ·Éî·Éë·É° ·Éì·Éê ·Éõ·Éò·Éõ·Éì·Éò·Éú·Éê·É†·Éî ·Éõ·Éò·Éñ·Éê·Éú·É°! üéØ
                        </p>
                    </div>
                `;
                document.getElementById('eveningBadgesPage').style.display = 'block';
                return;
            }
            
            const u = app.users[user.email];
            const currentStreak = u.currentStreak || 0;
            
            // Define all milestones
            const milestones = [7, 14, 30, 60, 90, 120, 150, 180, 210, 240, 270, 300, 330, 365, 730, 1825, 3650];
            
            // Find current and next milestone
            let currentMilestone = 0;
            let nextMilestone = milestones[0];
            
            for (let m of milestones) {
                if (currentStreak >= m) {
                    currentMilestone = m;
                } else {
                    nextMilestone = m;
                    break;
                }
            }
            
            // Calculate progress
            const progressDays = currentStreak - currentMilestone;
            const totalDays = nextMilestone - currentMilestone;
            const percentage = (progressDays / totalDays) * 100;
            const daysRemaining = nextMilestone - currentStreak;
            
            // Milestone names
            const getMilestoneName = (days) => {
                if (days === 7) return '1 ·Éô·Éï·Éò·É†·Éò·É° ·Éë·Éî·ÉØ·Éò';
                if (days === 14) return '2 ·Éô·Éï·Éò·É†·Éò·É° ·Éë·Éî·ÉØ·Éò';
                if (days === 30) return '1 ·Éó·Éï·Éò·É° ·Éë·Éî·ÉØ·Éò';
                if (days === 60) return '2 ·Éó·Éï·Éò·É° ·Éë·Éî·ÉØ·Éò';
                if (days === 90) return '3 ·Éó·Éï·Éò·É° ·Éë·Éî·ÉØ·Éò';
                if (days === 120) return '4 ·Éó·Éï·Éò·É° ·Éë·Éî·ÉØ·Éò';
                if (days === 150) return '5 ·Éó·Éï·Éò·É° ·Éë·Éî·ÉØ·Éò';
                if (days === 180) return '6 ·Éó·Éï·Éò·É° ·Éë·Éî·ÉØ·Éò';
                if (days === 365) return '1 ·É¨·Éö·Éò·É° ·Éë·Éî·ÉØ·Éò';
                return `${days} ·Éì·É¶·Éò·É° ·Éë·Éî·ÉØ·Éò`;
            };
            
            // Progress message based on percentage
            let message = '';
            if (percentage < 33) {
                message = '‚ú® ·Éõ·É®·Éï·Éî·Éú·Éò·Éî·É†·Éò·Éê! ·Éó·Éò·Éó·Éù·Éî·É£·Éö·Éò ·Éì·É¶·Éî ·Éí·Éê·Éê·ÉÆ·Éö·Éù·Éî·Éë·É° ·É®·Éî·Éú·É° ·Éõ·Éò·Éñ·Éê·Éú·Éó·Éê·Éú!';
            } else if (percentage === 33 || (percentage > 32 && percentage < 34)) {
                message = `‚ú® ·Éõ·É®·Éï·Éî·Éú·Éò·Éî·É†·Éò·Éê! ·É®·Éî·Éú ·É£·Éô·Éï·Éî ·Éì·Éê·É§·Éê·É†·Éî ·Éõ·Éò·Éõ·Éì·Éò·Éú·Éê·É†·Éî ·Éõ·Éò·Éñ·Éú·Éò·É° 1/3!`;
            } else if (percentage > 33 && percentage < 50) {
                message = '·Éß·Éù·É©·Éê·É¶! 1/3 ·Éì·Éê·É§·Éê·É†·É£·Éö·Éò ·Éí·Éê·É•·Éï·É°, ·Éí·Éê·Éú·Éê·Éí·É†·É´·Éî ·É°·Éï·Éö·Éê ·É®·Éî·Éú·Éò ·Éõ·Éò·Éñ·Éú·Éò·É°·Éô·Éî·Éú!';
            } else if (percentage === 50 || (percentage > 49 && percentage < 51)) {
                message = `üåü ·Éß·Éù·É©·Éê·É¶! ·É®·Éî·Éú ·É£·Éô·Éï·Éî ·Éì·Éê·É§·Éê·É†·Éî ·Éõ·Éò·Éõ·Éì·Éò·Éú·Éê·É†·Éî ·Éõ·Éò·Éñ·Éú·Éò·É° ·Éú·Éê·ÉÆ·Éî·Éï·Éê·É†·Éò! ·Éõ·Éù·Éõ·Éì·Éî·Éï·Éú·Éù ·Éë·Éî·ÉØ·Éò·É° ·Éõ·Éù·Éû·Éù·Éï·Éî·Éë·Éê·Éõ·Éì·Éî ·Éì·Éê·É†·É©·Éê ${daysRemaining} ·Éì·É¶·Éî!`;
            } else if (percentage > 50 && percentage < 70) {
                message = '·Éõ·É®·Éï·Éî·Éú·Éò·Éî·É†·Éò·Éê! ·É®·Éî·Éú ·É£·Éô·Éï·Éî ·Éì·Éê·É§·Éê·É†·É£·Éö·Éò ·Éí·Éê·É•·Éï·É° ·Éõ·Éò·Éõ·Éì·Éò·Éú·Éê·É†·Éî ·Éõ·Éò·Éñ·Éú·Éò·É° ·Éú·Éê·ÉÆ·Éî·Éï·Éê·É†·Éò, ·Éê·É°·Éî ·Éí·Éê·Éê·Éí·É†·É´·Éî·Éö·Éî!';
            } else if (percentage === 70 || (percentage > 69 && percentage < 71)) {
                message = 'üí™ ·Éí·Éò·Éö·Éù·É™·Éê·Éï, ·É´·Éö·Éò·Éî·É†·Éê·Éì ·Éõ·Éò·Éò·É¨·Éî·Éï ·É¨·Éò·Éú! ·Éí·Éñ·Éò·É° ·É£·Éì·Éò·Éì·Éî·É°·Éò ·Éú·Éê·É¨·Éò·Éö·Éò ·É®·Éî·Éú ·É£·Éô·Éï·Éî ·Éì·Éê·É§·Éê·É†·Éî! ·Éí·Éê·Éú·Éê·Éí·É†·É´·Éî ·É®·Éî·Éú·Éò ·É°·Éï·Éö·Éê!';
            } else if (percentage > 70) {
                message = `üí™ ·É´·Éö·Éò·Éî·É†·Éê·Éì ·Éõ·Éò·Éò·É¨·Éî·Éï ·É¨·Éò·Éú! ·Éí·Éñ·Éò·É° ·É£·Éì·Éò·Éì·Éî·É°·Éò ·Éú·Éê·É¨·Éò·Éö·Éò ·É£·Éô·Éï·Éî ·Éì·Éê·É§·Éê·É†·É£·Éö·Éò ·Éí·Éê·É•·Éï·É°! ·Éô·Éò·Éì·Éî·Éï ${daysRemaining} ·Éì·É¶·Éî ·Éì·Éê ·Éõ·Éù·Éò·Éû·Éù·Éï·Éî·Éë ·Éê·ÉÆ·Éê·Éö ·Éë·Éî·ÉØ·É° - ${getMilestoneName(nextMilestone)}!`;
            }
            
            // Earned badges
            const earnedBadges = milestones.filter(m => currentStreak >= m);
            
            // Build HTML
            let badgesHTML = `
                <div style="text-align: center; margin-bottom: 25px;">
                    <div style="margin-bottom: 20px;">
                        <div style="font-size: 16px; color: #666; margin-bottom: 5px;">üèÜ ·Éê·É†·É°·Éî·Éë·É£·Éö·Éò ·Éõ·Éò·É¶·É¨·Éî·Éï·Éê</div>
                        <div style="font-size: 24px; font-weight: bold; color: #667eea;">${currentMilestone > 0 ? getMilestoneName(currentMilestone) : '·ÉØ·Éî·É† ·Éê·É† ·Éê·É†·Éò·É°'}</div>
                    </div>
                    
                    <div style="margin-bottom: 20px;">
                        <div style="font-size: 16px; color: #666; margin-bottom: 5px;">üéØ ·Éõ·Éù·Éõ·Éì·Éî·Éï·Éú·Éù ·Éõ·Éò·É¶·É¨·Éî·Éï·Éê</div>
                        <div style="font-size: 24px; font-weight: bold; color: #764ba2;">${getMilestoneName(nextMilestone)}</div>
                    </div>
                    
                    <div style="margin-bottom: 25px;">
                        <div style="font-size: 16px; color: #666; margin-bottom: 5px;">üìä ·Éõ·Éò·Éõ·Éì·Éò·Éú·Éê·É†·Éî ·Éõ·Éò·Éñ·Éê·Éú·Éò</div>
                        <div style="font-size: 20px; font-weight: bold; color: #333;">${progressDays}/${totalDays} ·Éì·É¶·Éî</div>
                    </div>
                </div>
                
                <!-- Progress grid -->
                <div style="display: grid; grid-template-columns: repeat(${Math.min(totalDays, 30)}, 1fr); gap: 4px; margin-bottom: 20px; max-width: 600px; margin-left: auto; margin-right: auto;">
            `;
            
            for (let i = 0; i < totalDays; i++) {
                const filled = i < progressDays;
                badgesHTML += `<div style="height: 20px; background: ${filled ? '#10b981' : '#e5e7eb'}; border-radius: 4px;"></div>`;
            }
            
            badgesHTML += `
                </div>
                
                <!-- Progress message -->
                <div style="background: #f3f4f6; padding: 20px; border-radius: 12px; margin-bottom: 25px; text-align: center;">
                    <p style="font-size: 17px; line-height: 1.7; margin: 0; color: #333; font-weight: 600;">${message}</p>
                </div>
                
                <!-- Earned badges -->
                <div style="text-align: center;">
                    <div style="font-size: 16px; color: #666; margin-bottom: 15px; font-weight: 600;">üèÖ ·Éõ·Éò·É¶·Éî·Éë·É£·Éö·Éò ·Éë·Éî·ÉØ·Éî·Éë·Éò</div>
                    <div style="display: flex; flex-wrap: wrap; gap: 10px; justify-content: center;">
            `;
            
            if (earnedBadges.length > 0) {
                earnedBadges.forEach(badge => {
                    badgesHTML += `<div style="background: linear-gradient(135deg, #10b981 0%, #059669 100%); color: white; padding: 8px 16px; border-radius: 20px; font-size: 14px; font-weight: 600;">‚úÖ ${getMilestoneName(badge)}</div>`;
                });
            } else {
                badgesHTML += `<div style="color: #999; font-size: 14px;">·ÉØ·Éî·É† ·Éê·É† ·Éí·Éê·É•·Éï·É° ·Éõ·Éò·É¶·Éî·Éë·É£·Éö·Éò ·Éë·Éî·ÉØ·Éò</div>`;
            }
            
            badgesHTML += `
                    </div>
                </div>
            `;
            
            document.getElementById('badgesContent').innerHTML = badgesHTML;
            document.getElementById('eveningBadgesPage').style.display = 'block';
        }
        
        function eveningGoToBadges() {
            document.getElementById('eveningFinalPage').style.display = 'none';
            showBadgesProgress();
            document.getElementById('eveningBadgesPage').style.display = 'block';
        }
        
        function showBadgesProgress() {
            const u = app.users[user.email];
            const currentStreak = u.currentStreak || 0;
            
            // Define milestones
            const milestones = [7, 14, 30, 60, 90, 120, 150, 180, 210, 240, 270, 300, 330, 365, 730, 1825, 3650];
            
            // Find current and next milestone
            let currentMilestone = 0;
            let nextMilestone = milestones[0];
            
            for (let i = 0; i < milestones.length; i++) {
                if (currentStreak >= milestones[i]) {
                    currentMilestone = milestones[i];
                    nextMilestone = milestones[i + 1] || milestones[i];
                } else {
                    nextMilestone = milestones[i];
                    break;
                }
            }
            
            // Calculate progress
            const progressDays = currentStreak - currentMilestone; // Days since last badge
            const targetDays = nextMilestone - currentMilestone; // Days needed for next badge
            const progressPercent = (progressDays / targetDays) * 100;
            
            // Get milestone names
            const getMilestoneName = (days) => {
                if (days === 7) return '1 ·Éô·Éï·Éò·É†·Éò·É° ·Éë·Éî·ÉØ·Éò';
                if (days === 14) return '2 ·Éô·Éï·Éò·É†·Éò·É° ·Éë·Éî·ÉØ·Éò';
                if (days === 30) return '1 ·Éó·Éï·Éò·É° ·Éë·Éî·ÉØ·Éò';
                if (days === 60) return '2 ·Éó·Éï·Éò·É° ·Éë·Éî·ÉØ·Éò';
                if (days === 90) return '3 ·Éó·Éï·Éò·É° ·Éë·Éî·ÉØ·Éò';
                if (days === 120) return '4 ·Éó·Éï·Éò·É° ·Éë·Éî·ÉØ·Éò';
                if (days === 150) return '5 ·Éó·Éï·Éò·É° ·Éë·Éî·ÉØ·Éò';
                if (days === 180) return '6 ·Éó·Éï·Éò·É° ·Éë·Éî·ÉØ·Éò';
                if (days === 210) return '7 ·Éó·Éï·Éò·É° ·Éë·Éî·ÉØ·Éò';
                if (days === 240) return '8 ·Éó·Éï·Éò·É° ·Éë·Éî·ÉØ·Éò';
                if (days === 270) return '9 ·Éó·Éï·Éò·É° ·Éë·Éî·ÉØ·Éò';
                if (days === 300) return '10 ·Éó·Éï·Éò·É° ·Éë·Éî·ÉØ·Éò';
                if (days === 330) return '11 ·Éó·Éï·Éò·É° ·Éë·Éî·ÉØ·Éò';
                if (days === 365) return '1 ·É¨·Éö·Éò·É° ·Éë·Éî·ÉØ·Éò';
                return `${days} ·Éì·É¶·Éò·É° ·Éë·Éî·ÉØ·Éò`;
            };
            
            // Get emoji for badge
            const getBadgeEmoji = (days) => {
                if (days === 7) return 'üèÖ';
                if (days === 14) return 'üèÜ';
                if (days === 30) return '‚≠ê';
                if (days === 60) return 'üíé';
                if (days === 90) return 'üëë';
                if (days >= 120) return 'üåü';
                return '‚ú®';
            };
            
            // Generate progress message
            let message = '';
            if (progressPercent < 33) {
                message = '·Éõ·É®·Éï·Éî·Éú·Éò·Éî·É†·Éò·Éê! ·Éó·Éò·Éó·Éù·Éî·É£·Éö·Éò ·Éì·É¶·Éî ·Éí·Éê·Éê·ÉÆ·Éö·Éù·Éî·Éë·É° ·É®·Éî·Éú·É° ·Éõ·Éò·Éñ·Éê·Éú·Éó·Éê·Éú!';
            } else if (progressPercent === 33 || (progressPercent >= 32 && progressPercent < 34)) {
                message = `‚ú® ·Éõ·É®·Éï·Éî·Éú·Éò·Éî·É†·Éò·Éê! ·É®·Éî·Éú ·É£·Éô·Éï·Éî ·Éì·Éê·É§·Éê·É†·Éî ·Éõ·Éò·Éõ·Éì·Éò·Éú·Éê·É†·Éî ·Éõ·Éò·Éñ·Éú·Éò·É° 1/3!`;
            } else if (progressPercent > 33 && progressPercent < 50) {
                message = '·Éß·Éù·É©·Éê·É¶! ·É®·Éî·Éú ·É£·Éô·Éï·Éî ·Éì·Éê·É§·Éê·É†·É£·Éö·Éò ·Éí·Éê·É•·Éï·É° ·Éõ·Éò·Éõ·Éì·Éò·Éú·Éê·É†·Éî ·Éõ·Éò·Éñ·Éú·Éò·É° 1/3, ·Éí·Éê·Éú·Éê·Éí·É†·É´·Éî ·É°·Éï·Éö·Éê ·É®·Éî·Éú·Éò ·Éõ·Éò·Éñ·Éú·Éò·É°·Éô·Éî·Éú!';
            } else if (progressPercent === 50 || (progressPercent >= 49 && progressPercent < 51)) {
                const daysLeft = targetDays - progressDays;
                message = `üåü ·Éß·Éù·É©·Éê·É¶! ·É®·Éî·Éú ·É£·Éô·Éï·Éî ·Éì·Éê·É§·Éê·É†·Éî ·Éõ·Éò·Éõ·Éì·Éò·Éú·Éê·É†·Éî ·Éõ·Éò·Éñ·Éú·Éò·É° ·Éú·Éê·ÉÆ·Éî·Éï·Éê·É†·Éò! ·Éõ·Éù·Éõ·Éì·Éî·Éï·Éú·Éù ·Éë·Éî·ÉØ·Éò·É° ·Éõ·Éù·Éû·Éù·Éï·Éî·Éë·Éê·Éõ·Éì·Éî ·Éì·Éê·É†·É©·Éê ${daysLeft} ·Éì·É¶·Éî!`;
            } else if (progressPercent > 50 && progressPercent < 70) {
                message = '·Éõ·É®·Éï·Éî·Éú·Éò·Éî·É†·Éò·Éê! ·É®·Éî·Éú ·É£·Éô·Éï·Éî ·Éì·Éê·É§·Éê·É†·É£·Éö·Éò ·Éí·Éê·É•·Éï·É° ·Éõ·Éò·Éõ·Éì·Éò·Éú·Éê·É†·Éî ·Éõ·Éò·Éñ·Éú·Éò·É° ·Éú·Éê·ÉÆ·Éî·Éï·Éê·É†·Éò, ·Éê·É°·Éî ·Éí·Éê·Éê·Éí·É†·É´·Éî·Éö·Éî!';
            } else if (progressPercent === 70 || (progressPercent >= 69 && progressPercent < 71)) {
                message = 'üí™ ·Éí·Éò·Éö·Éù·É™·Éê·Éï, ·É´·Éö·Éò·Éî·É†·Éê·Éì ·Éõ·Éò·Éò·É¨·Éî·Éï ·É¨·Éò·Éú! ·Éí·Éñ·Éò·É° ·É£·Éì·Éò·Éì·Éî·É°·Éò ·Éú·Éê·É¨·Éò·Éö·Éò ·É®·Éî·Éú ·É£·Éô·Éï·Éî ·Éì·Éê·É§·Éê·É†·Éî! ·Éí·Éê·Éú·Éê·Éí·É†·É´·Éî ·É®·Éî·Éú·Éò ·É°·Éï·Éö·Éê!';
            } else {
                const daysLeft = targetDays - progressDays;
                if (daysLeft <= 5) {
                    message = `üí™ ·É´·Éö·Éò·Éî·É†·Éê·Éì ·Éõ·Éò·Éò·É¨·Éî·Éï ·É¨·Éò·Éú! ·Éí·Éñ·Éò·É° ·É£·Éì·Éò·Éì·Éî·É°·Éò ·Éú·Éê·É¨·Éò·Éö·Éò ·É£·Éô·Éï·Éî ·Éì·Éê·É§·Éê·É†·É£·Éö·Éò ·Éí·Éê·É•·Éï·É°! ·Éô·Éò·Éì·Éî·Éï ${daysLeft} ·Éì·É¶·Éî·É™ ·Éì·Éê ·Éõ·Éù·Éò·Éû·Éù·Éï·Éî·Éë ·Éê·ÉÆ·Éê·Éö ·Éë·Éî·ÉØ·É° - ${getMilestoneName(nextMilestone)}!`;
                } else {
                    message = 'üí™ ·É´·Éö·Éò·Éî·É†·Éê·Éì ·Éõ·Éò·Éò·É¨·Éî·Éï ·É¨·Éò·Éú! ·Éí·Éñ·Éò·É° ·É£·Éì·Éò·Éì·Éî·É°·Éò ·Éú·Éê·É¨·Éò·Éö·Éò ·É£·Éô·Éï·Éî ·Éì·Éê·É§·Éê·É†·É£·Éö·Éò ·Éí·Éê·É•·Éï·É°!';
                }
            }
            
            // Generate progress bar (grid of boxes)
            const boxCount = targetDays;
            const filledBoxes = progressDays;
            let progressHTML = '<div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(20px, 1fr)); gap: 5px; margin: 20px 0;">';
            for (let i = 0; i < boxCount; i++) {
                const filled = i < filledBoxes;
                progressHTML += `<div style="width: 20px; height: 20px; background: ${filled ? '#10b981' : '#e5e7eb'}; border-radius: 4px;"></div>`;
            }
            progressHTML += '</div>';
            
            // Get earned badges
            let earnedBadgesHTML = '<div style="display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; margin: 20px 0;">';
            for (let milestone of milestones) {
                if (currentStreak >= milestone) {
                    earnedBadgesHTML += `<div style="background: #D1FAE5; border: 2px solid #10b981; padding: 10px 15px; border-radius: 8px; font-weight: 600; color: #065F46;">${getBadgeEmoji(milestone)} ${getMilestoneName(milestone)}</div>`;
                }
            }
            earnedBadgesHTML += '</div>';
            
            // Build full HTML
            const html = `
                <div style="text-align: center; margin-bottom: 25px;">
                    <div style="margin-bottom: 15px;">
                        <div style="color: #666; font-size: 14px; margin-bottom: 5px;">üèÜ ·Éê·É†·É°·Éî·Éë·É£·Éö·Éò ·Éõ·Éò·É¶·É¨·Éî·Éï·Éê</div>
                        <div style="font-size: 20px; font-weight: 700; color: #10b981;">${currentMilestone > 0 ? getBadgeEmoji(currentMilestone) + ' ' + getMilestoneName(currentMilestone) : '·Éì·Éê·Éò·É¨·Éß·Éî ·É®·Éî·Éú·Éò ·Éí·Éñ·Éê!'}</div>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <div style="color: #666; font-size: 14px; margin-bottom: 5px;">üéØ ·Éõ·Éù·Éõ·Éì·Éî·Éï·Éú·Éù ·Éõ·Éò·É¶·É¨·Éî·Éï·Éê</div>
                        <div style="font-size: 20px; font-weight: 700; color: #667eea;">${getBadgeEmoji(nextMilestone)} ${getMilestoneName(nextMilestone)}</div>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <div style="color: #666; font-size: 14px; margin-bottom: 5px;">üìä ·Éõ·Éò·Éõ·Éì·Éò·Éú·Éê·É†·Éî ·Éõ·Éò·Éñ·Éê·Éú·Éò</div>
                        <div style="font-size: 18px; font-weight: 600; color: #333;">${progressDays}/${targetDays} ·Éì·É¶·Éî</div>
                    </div>
                </div>
                
                ${progressHTML}
                
                <div style="background: #F3F4F6; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                    <p style="color: #333; font-size: 16px; line-height: 1.6; margin: 0;">${message}</p>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <div style="color: #666; font-size: 14px; margin-bottom: 10px; text-align: center; font-weight: 600;">üèÖ ·Éõ·Éò·É¶·Éî·Éë·É£·Éö·Éò ·Éë·Éî·ÉØ·Éî·Éë·Éò</div>
                    ${earnedBadgesHTML}
                </div>
            `;
            
            document.getElementById('badgesContent').innerHTML = html;
        }
        
        function saveEveningContact() {
            const now = new Date();
            let targetDate;
            
            if (contactData.isYesterday) {
                const yesterday = new Date(now);
                yesterday.setDate(yesterday.getDate() - 1);
                targetDate = yesterday.toISOString().split('T')[0];
                contactData.isYesterday = false;
            } else {
                targetDate = now.toISOString().split('T')[0];
            }
            
            const u = app.users[user.email];
            
            if (!u.dailyCheckins) u.dailyCheckins = [];
            
            let checkin = u.dailyCheckins.find(c => c.date === targetDate);
            if (!checkin) {
                checkin = { date: targetDate };
                u.dailyCheckins.push(checkin);
            }
            
            checkin.evening = {
                success: contactData.evening.success,
                gratitude: contactData.evening.gratitude,
                proud: contactData.evening.proud
            };
            
            save();
        }
        
        function closeEveningContact() {
            document.getElementById('eveningContactModal').style.display = 'none';
            contactData.isYesterday = false; // Reset flag
            updateContactCards();
        }
        
        function goToMotivations() {
            // Close evening modal
            document.getElementById('eveningContactModal').style.display = 'none';
            // Show motivations section
            showSection('motivations');
        }
        
        // ============ ACHIEVEMENTS FUNCTIONS ============
        
        function showMyAchievements() {
            // Safely try to get real data
            let currentStreak = 0;
            
            try {
                if (typeof app !== 'undefined' && app && app.users && user && user.email && app.users[user.email]) {
                    const u = app.users[user.email];
                    // Use streak if available (calculated from lastUse date)
                    currentStreak = u.streak || u.currentStreak || 0;
                }
            } catch (e) {
                // Silent fail
            }
            
            // If no real data, use demo streak for testing (file:// mode)
            if (currentStreak === 0 && typeof app === 'undefined') {
                currentStreak = 18; // Demo: 18 days for testing UI
            }
            
            // Define milestones
            const milestones = [7, 14, 30, 60, 90, 120, 150, 180, 210, 240, 270, 300, 330, 365, 730, 1825, 3650];
            
            // Get earned badges
            const earnedBadges = milestones.filter(m => currentStreak >= m);
            
            // Find next badge
            let nextBadge = milestones[0];
            for (let m of milestones) {
                if (currentStreak < m) {
                    nextBadge = m;
                    break;
                }
            }
            
            // Calculate current progress
            const lastBadge = earnedBadges.length > 0 ? earnedBadges[earnedBadges.length - 1] : 0;
            const progressDays = currentStreak - lastBadge;
            const totalDays = nextBadge - lastBadge; // This is the GOAL (days between badges)
            const daysLeft = nextBadge - currentStreak;
            const percentage = (progressDays / totalDays) * 100;
            
            // Build HTML - SAME AS RESULTS
            let html = `
                <div style="padding: 0 10px; height: 100%; display: flex; flex-direction: column; overflow-y: auto;">
                    
                    <!-- Next Badge -->
                    <div style="margin-bottom: 25px;">
                        <h3 style="color: #1E40AF; margin-bottom: 15px; font-size: 18px; font-weight: 600;">üéØ ·Éõ·Éù·Éõ·Éì·Éî·Éï·Éú·Éù ·Éë·Éî·ÉØ·Éò:</h3>
                        <div style="background: linear-gradient(135deg, #DBEAFE 0%, #BFDBFE 100%); padding: 12px 28px; border-radius: 12px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); display: flex; align-items: center; gap: 8px; width: 145px;">
                            <span style="font-size: 24px; flex-shrink: 0;">üèÖ</span>
                            <span style="color: #1E40AF; font-weight: 600; font-size: 16px; white-space: nowrap;">${nextBadge} ·Éì·É¶·Éî</span>
                        </div>
                    </div>
                    
                    <!-- Progress -->
                    <div style="margin-bottom: 25px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                            <h3 style="color: #1E40AF; margin: 0; font-size: 18px; font-weight: 600;">üìà ·Éû·É†·Éù·Éí·É†·Éî·É°·Éò:</h3>
                            <span style="color: #1E40AF; font-size: 16px; font-weight: 600;">${progressDays}/${totalDays} ·Éì·É¶·Éî</span>
                        </div>
                        
                        <div style="display: grid; grid-template-columns: repeat(${Math.min(totalDays, 30)}, 1fr); gap: 3px; margin-bottom: 12px;">
            `;
            
            for (let i = 0; i < Math.min(totalDays, 30); i++) {
                const filled = i < progressDays;
                html += `<div style="height: 20px; background: ${filled ? '#10b981' : '#e5e7eb'}; border-radius: 4px;"></div>`;
            }
            
            html += `
                        </div>
                        
                        <div style="background: #f0f9ff; padding: 12px; border-radius: 8px; border-left: 4px solid #0ea5e9;">
                            <p style="color: #0c4a6e; font-size: 15px; margin: 0; font-weight: 500;">
                                ${Math.round(percentage)}% ·Éí·Éê·Éï·Éö·Éò·Éö·Éò ¬∑ ·Éì·Éê·É†·É©·Éê ${totalDays - progressDays} ·Éì·É¶·Éî
                            </p>
                        </div>
                    </div>
                    
                    <!-- Earned Badges -->
                    <div style="flex: 1; overflow-y: auto;">
                        <h3 style="color: #059669; margin-bottom: 15px; font-size: 18px; font-weight: 600;">‚úÖ ·Éõ·Éò·É¶·Éî·Éë·É£·Éö·Éò ·Éë·Éî·ÉØ·Éî·Éë·Éò:</h3>
            `;
            
            if (earnedBadges.length > 0) {
                html += `<div style="max-height: 300px; overflow-y: auto; display: flex; flex-direction: column; gap: 10px; padding-bottom: 20px;">`;
                earnedBadges.reverse().forEach(badge => {
                    html += `
                        <div style="background: linear-gradient(135deg, #DBEAFE 0%, #BFDBFE 100%); padding: 8px 20px; border-radius: 12px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); display: flex; align-items: center; gap: 8px; width: 145px;">
                            <span style="font-size: 24px; flex-shrink: 0;">üèÖ</span>
                            <span style="color: #1E40AF; font-weight: 600; font-size: 16px;">${badge} ·Éì·É¶·Éî</span>
                        </div>
                    `;
                });
                html += `</div>`;
            } else {
                html += `<p style="color: #999; text-align: center; padding: 40px 20px; font-size: 16px;">·ÉØ·Éî·É† ·Éê·É† ·Éí·Éê·É•·Éï·É° ·Éõ·Éò·É¶·Éî·Éë·É£·Éö·Éò ·Éë·Éî·ÉØ·Éò üéØ</p>`;
            }
            
            html += `</div></div>`;
            
            // Update modal header
            document.getElementById('achievementsModalHeader').textContent = `üèÖ ·Éõ·Éò·Éõ·Éì·Éò·Éú·Éê·É†·Éî ·Éõ·Éò·Éñ·Éê·Éú·Éò ${totalDays} ·Éì·É¶·Éî`;
            
            document.getElementById('achievementsContent').innerHTML = html;
            document.getElementById('achievementsModal').style.display = 'block';
        }
        
        function closeAchievements() {
            document.getElementById('achievementsModal').style.display = 'none';
            
            // Hide the achievement card from contact page
            document.getElementById('myAchievementsCard').style.display = 'none';
            
            // Check if all contacts complete
            checkAllContactsComplete();
        }
        
        function updateAchievementCardTitle() {
            // Get current streak
            let currentStreak = 0;
            
            try {
                if (typeof app !== 'undefined' && app && app.users && user && user.email && app.users[user.email]) {
                    const u = app.users[user.email];
                    currentStreak = u.streak || u.currentStreak || 0;
                }
            } catch (e) {
                // Silent fail
            }
            
            // Demo mode
            if (currentStreak === 0 && typeof app === 'undefined') {
                currentStreak = 18;
            }
            
            // Find next badge
            const milestones = [7, 14, 30, 60, 90, 120, 150, 180, 210, 240, 270, 300, 330, 365, 730, 1825, 3650];
            const earnedBadges = milestones.filter(m => currentStreak >= m);
            
            let nextBadge = milestones[0];
            for (let m of milestones) {
                if (currentStreak < m) {
                    nextBadge = m;
                    break;
                }
            }
            
            // Calculate totalDays (nextBadge - lastBadge)
            const lastBadge = earnedBadges.length > 0 ? earnedBadges[earnedBadges.length - 1] : 0;
            const totalDays = nextBadge - lastBadge;
            
            const titleEl = document.getElementById('achievementCardTitle');
            if (titleEl) {
                titleEl.textContent = `·Éõ·Éò·Éõ·Éì·Éò·Éú·Éê·É†·Éî ·Éõ·Éò·Éñ·Éê·Éú·Éò`;
            }
            
            // Update badge count
            const badgeCountEl = document.getElementById('achievementBadgeCount');
            if (badgeCountEl) {
                const badgeCount = earnedBadges.length;
                badgeCountEl.textContent = `${badgeCount} ·Éë·Éî·ÉØ·Éò ·Éõ·Éò·É¶·Éî·Éë·É£·Éö·Éò`;
            }
        }
        
        function getMotivationalMessage(currentStreak, nextBadge) {
            const milestones = [7, 14, 30, 60, 90, 120, 150, 180, 210, 240, 270, 300, 330, 365, 730, 1825, 3650];
            const lastBadge = milestones.filter(m => currentStreak >= m).pop() || 0;
            const progressDays = currentStreak - lastBadge;
            const totalDays = nextBadge - lastBadge;
            const percentage = (progressDays / totalDays) * 100;
            const daysLeft = nextBadge - currentStreak;
            
            let emoji = '';
            let text = '';
            
            if (percentage < 33) {
                emoji = 'üí´';
                text = '·Éô·Éò·Éì·Éî·Éï ·Éî·É†·Éó·Éò ·É¨·Éê·É†·Éõ·Éê·É¢·Éî·Éë·É£·Éö·Éò ·Éì·É¶·Éî! ·Éó·Éò·Éó·Éù·Éî·É£·Éö·Éò ·Éí·Éê·Éõ·Éê·É†·ÉØ·Éï·Éî·Éë·Éê ·Éí·Éê·Éê·ÉÆ·Éö·Éù·Éï·Éî·Éë·É° ·É®·Éî·Éú·É° ·Éõ·Éò·Éñ·Éê·Éú·Éó·Éê·Éú!';
            } else if (percentage === 33) {
                emoji = '‚ú®üéØ';
                text = '·Éõ·É®·Éï·Éî·Éú·Éò·Éî·É†·Éò·Éê! ·É®·Éî·Éú ·É£·Éô·Éï·Éî ·Éì·Éê·É§·Éê·É†·Éî ·Éõ·Éò·Éõ·Éì·Éò·Éú·Éê·É†·Éî ·Éõ·Éò·Éñ·Éú·Éò·É° 1/3! ·Éê·É°·Éî ·Éí·Éê·Éê·Éí·É†·É´·Éî·Éö·Éî!';
            } else if (percentage > 33 && percentage < 50) {
                emoji = 'üåüüí´';
                text = '·Éß·Éù·É©·Éê·É¶! ·É®·Éî·Éú ·É£·Éô·Éï·Éî ·Éì·Éê·É§·Éê·É†·É£·Éö·Éò ·Éí·Éê·É•·Éï·É° ·Éõ·Éò·Éõ·Éì·Éò·Éú·Éê·É†·Éî ·Éõ·Éò·Éñ·Éú·Éò·É° 1/3, ·Éí·Éê·Éú·Éê·Éí·É†·É´·Éî ·É®·Éî·É£·Éû·Éù·Éï·É†·Éù·Éë·Éò·É° ·Éí·Éê·Éõ·Éù·Éï·Éö·Éî·Éú·Éê ·Éì·Éê ·É®·Éî·Éú·Éò ·Éõ·Éò·Éñ·Éú·Éò·É°·Éô·Éî·Éú ·É°·Éï·Éö·Éê!';
            } else if (percentage >= 50 && percentage < 55) {
                emoji = 'üåüüéØ';
                if (totalDays === 7) {
                    text = `·Éß·Éù·É©·Éê·É¶! ·É®·Éî·Éú ·É£·Éô·Éï·Éî ·Éì·Éê·É§·Éê·É†·Éî ·Éõ·Éò·Éõ·Éì·Éò·Éú·Éê·É†·Éî ·Éõ·Éò·Éñ·Éú·Éò·É° ·Éú·Éê·ÉÆ·Éî·Éï·Éê·É†·Éò! ·Éõ·Éù·Éõ·Éì·Éî·Éï·Éú·Éù ·Éë·Éî·ÉØ·Éò·É° ·Éõ·Éù·Éû·Éù·Éï·Éî·Éë·Éê·Éõ·Éì·Éî ·Éì·Éê·É†·É©·Éê ${daysLeft} ·Éì·É¶·Éî!`;
                } else {
                    text = `·Éß·Éù·É©·Éê·É¶! ·É®·Éî·Éú ·É£·Éô·Éï·Éî ·Éì·Éê·É§·Éê·É†·Éî ·Éõ·Éò·Éõ·Éì·Éò·Éú·Éê·É†·Éî ·Éõ·Éò·Éñ·Éú·Éò·É° ·Éú·Éê·ÉÆ·Éî·Éï·Éê·É†·Éò! ·Éõ·Éù·Éõ·Éì·Éî·Éï·Éú·Éù ·Éë·Éî·ÉØ·Éò·É° ·Éõ·Éù·Éû·Éù·Éï·Éî·Éë·Éê·Éõ·Éì·Éî ·Éì·Éê·É†·É©·Éê ${daysLeft} ·Éì·É¶·Éî!`;
                }
            } else if (percentage >= 55 && percentage < 70) {
                emoji = 'üî•‚≠ê';
                text = '·Éõ·É®·Éï·Éî·Éú·Éò·Éî·É†·Éò·Éê! ·É®·Éî·Éú ·É£·Éô·Éï·Éî ·Éì·Éê·É§·Éê·É†·É£·Éö·Éò ·Éí·Éê·É•·Éï·É° ·Éõ·Éò·Éõ·Éì·Éò·Éú·Éê·É†·Éî ·Éõ·Éò·Éñ·Éú·Éò·É° ·Éú·Éê·ÉÆ·Éî·Éï·Éê·É†·Éñ·Éî ·Éõ·Éî·É¢·Éò! ·Éê·É°·Éî ·Éí·Éê·Éê·Éí·É†·É´·Éî·Éö·Éî ·Éõ·Éò·Éñ·Éê·Éú·Éì·Éê·É°·Éê·ÉÆ·É£·Éö·Éù·Éë·Éò·É°·Éê ·Éì·Éê ·Éó·Éê·Éú·Éê·Éõ·Éò·Éõ·Éì·Éî·Éï·É†·É£·Éö·Éù·Éë·Éò·É° ·Éí·Éê·Éõ·Éù·Éï·Éö·Éî·Éú·Éê!';
            } else if (percentage >= 70 && percentage < 75) {
                emoji = 'üí™‚ú®';
                text = '·Éí·Éò·Éö·Éù·É™·Éê·Éï, ·É´·Éö·Éò·Éî·É†·Éê·Éì ·Éõ·Éò·Éò·É¨·Éî·Éï ·É¨·Éò·Éú! ·Éí·Éñ·Éò·É° ·É£·Éì·Éò·Éì·Éî·É°·Éò ·Éú·Éê·É¨·Éò·Éö·Éò ·É®·Éî·Éú ·É£·Éô·Éï·Éî ·Éì·Éê·É§·Éê·É†·Éî! ·Éê·É°·Éî ·Éí·Éê·Éê·Éí·É†·É´·Éî·Éö·Éî!';
            } else {
                emoji = 'üí™üåüüí´';
                text = `·É´·Éö·Éò·Éî·É†·Éê·Éì ·Éì·Éê ·Éó·Éê·Éï·Éì·Éê·ÉØ·Éî·É†·Éî·Éë·É£·Éö·Éê·Éì ·Éõ·Éò·Éò·É¨·Éî·Éï ·É¨·Éò·Éú! ·Éí·Éñ·Éò·É° ·É£·Éì·Éò·Éì·Éî·É°·Éò ·Éú·Éê·É¨·Éò·Éö·Éò ·É£·Éô·Éï·Éî ·Éì·Éê·É§·Éê·É†·É£·Éö·Éò ·Éí·Éê·É•·Éï·É°! ·Éô·Éò·Éì·Éî·Éï ${daysLeft} ·Éì·É¶·Éî·É™ ·Éì·Éê ·Éõ·Éù·Éò·Éû·Éù·Éï·Éî·Éë ·Éê·ÉÆ·Éê·Éö ·Éë·Éî·ÉØ·É°!`;
            }
            
            return { emoji, text };
        }
        
        
        function calculateSoberDays(user) {
            if (!user.dailyCheckins) return 0;
            
            const today = new Date();
            let count = 0;
            
            for (let i = 0; i < 7; i++) {
                const date = new Date(today);
                date.setDate(date.getDate() - i);
                const dateStr = date.toISOString().split('T')[0];
                
                const checkin = user.dailyCheckins.find(c => c.date === dateStr);
                if (checkin && !checkin.relapse) {
                    count++;
                }
            }
            
            return count;
        }
        
        function generateLast7DaysDisplay(user, type, goal = null, weekKey = null) {
            const today = new Date();
            const todayStr = today.toISOString().split('T')[0];
            const currentDayOfWeek = (today.getDay() + 6) % 7; // Monday=0
            let html = '';
            
            // For sobriety: show based on lastUse date
            if (type === 'sobriety') {
                // Get start date (day after lastUse)
                const lastUseDate = user.lastUse ? new Date(user.lastUse) : new Date();
                const startDate = new Date(lastUseDate);
                startDate.setDate(startDate.getDate() + 1); // Next day after lastUse
                const startStr = startDate.toISOString().split('T')[0];
                const startDayOfWeek = (startDate.getDay() + 6) % 7;
                
                for (let i = 0; i < 7; i++) {
                    const dayOfWeek = i;
                    
                    // Calculate the actual date for this day of week
                    const date = new Date(today);
                    const daysBack = currentDayOfWeek - dayOfWeek;
                    date.setDate(date.getDate() - daysBack);
                    const dateStr = date.toISOString().split('T')[0];
                    
                    // Check if this day should be lit
                    let isCompleted = false;
                    
                    if (dateStr >= startStr && dateStr <= todayStr) {
                        // Between start and today ‚Üí check for relapse
                        const checkin = user.dailyCheckins?.find(c => c.date === dateStr);
                        const hasRelapse = checkin && checkin.relapse;
                        isCompleted = !hasRelapse;
                    }
                    
                    const bgColor = isCompleted ? 
                        'background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%);' : 
                        'background: #e5e7eb;';
                    
                    html += `
                        <div style="flex: 1; height: 8px; border-radius: 4px; ${bgColor}"></div>
                    `;
                }
            } else {
                // For goals: only show days from Monday to today
                for (let i = 0; i < 7; i++) {
                    const dayOfWeek = i;
                    
                    // Skip days after today
                    if (dayOfWeek > currentDayOfWeek) {
                        html += `<div style="flex: 1; height: 8px; border-radius: 4px; background: #e5e7eb;"></div>`;
                        continue;
                    }
                    
                    // Calculate the actual date for this day of week
                    const date = new Date(today);
                    const daysBack = currentDayOfWeek - dayOfWeek;
                    date.setDate(date.getDate() - daysBack);
                    
                    let isCompleted = false;
                    
                    if (goal && weekKey) {
                        const weekProgress = goal.weeklyProgress[weekKey] || [];
                        isCompleted = weekProgress[dayOfWeek] === true;
                    }
                    
                    const bgColor = isCompleted ? 
                        'background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%);' : 
                        'background: #e5e7eb;';
                    
                    html += `
                        <div style="flex: 1; height: 8px; border-radius: 4px; ${bgColor}"></div>
                    `;
                }
            }
            
            return html;
        }
        
        function openAchievementMessage() {
            // Get current streak
            let currentStreak = 0;
            
            try {
                if (typeof app !== 'undefined' && app && app.users && user && user.email && app.users[user.email]) {
                    const u = app.users[user.email];
                    currentStreak = u.streak || u.currentStreak || 0;
                }
            } catch (e) {
                // Silent fail
            }
            
            // Demo mode
            if (currentStreak === 0 && typeof app === 'undefined') {
                currentStreak = 18;
            }
            
            // Check if streak is 0 (relapse)
            if (currentStreak === 0) {
                // Show relapse encouragement message
                document.getElementById('achievementMsgEmoji').textContent = 'üí™';
                document.getElementById('achievementMsgText').textContent = '·Éí·Éê·ÉÆ·É°·Éù·Éï·Éì·Éî·É°! ·É©·Éê·Éï·Éê·É†·Éì·Éú·Éê ·Éê·É† ·Éú·Éò·É®·Éú·Éê·Éï·É° ·É†·Éî·É™·Éò·Éì·Éò·Éï·É°! ·Éó·Éò·Éó·Éù·Éî·É£·Éö·Éò ·Éì·É¶·Éî ·Éê·É†·Éò·É° ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éò·É° ·Éê·ÉÆ·Éê·Éö·Éò ·É®·Éê·Éú·É°·Éò. ·É®·Éî·Éú ·Éê·ÉÆ·Éê·Éö·Éò ·Éõ·Éò·Éñ·Éê·Éú·Éò ·Éí·Éê·É•·Éï·É°. ·Éí·Éê·É´·Éö·Éò·Éî·É†·Éì·Éò, ·É®·Éî·Éú ·É®·Éî·Éí·Éò·É´·Éö·Éò·Éê ·Éì·É¶·Éî·Éò·Éì·Éê·Éú ·Éí·Éê·Éú·Éê·Éí·É†·É´·Éù ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éò·É°·Éô·Éî·Éú ·É°·Éï·Éö·Éê!';
            } else {
                // Check if currently on a badge milestone
                const milestones = [7, 14, 30, 60, 90, 120, 150, 180, 210, 240, 270, 300, 330, 365, 730, 1825, 3650];
                const isOnBadgeMilestone = milestones.includes(currentStreak);
                
                if (isOnBadgeMilestone) {
                    // Show badge congratulations message
                    document.getElementById('achievementMsgEmoji').textContent = 'üèÖ';
                    document.getElementById('achievementMsgText').textContent = `‚ú®üåüüí´‚≠ê ·Éí·Éò·Éö·Éù·É™·Éê·Éï! ·É®·Éî·Éú ·Éõ·Éù·Éò·Éû·Éù·Éï·Éî ·Éê·ÉÆ·Éê·Éö·Éò ·Éë·Éî·ÉØ·Éò - ${currentStreak} ·Éì·É¶·Éî! ·Éô·Éò·Éì·Éî·Éï ·Éî·É†·Éó·Éò ·Éõ·Éò·É¶·É¨·Éî·É£·Éö·Éò ·Éõ·Éò·Éñ·Éê·Éú·Éò, ·É†·Éù·Éõ·Éî·Éö·Éò·É™ ·É®·Éî·Éú·Éò ·Éó·Éê·Éï·Éò·É° ·É°·Éê·É£·Éô·Éî·Éó·Éî·É°·Éù ·Éï·Éî·É†·É°·Éò·Éê·É°·Éó·Éê·Éú ·Éí·Éê·Éê·ÉÆ·Éö·Éù·Éî·Éë·É°! ·Éê·É† ·É®·Éî·É¨·Éß·Éï·Éò·É¢·Éù ·Éí·Éê·Éú·Éï·Éò·Éó·Éê·É†·Éî·Éë·Éê! ·É¨·Éò·Éú ·Éê·ÉÆ·Éê·Éö·Éò ·Éõ·Éò·Éñ·Éê·Éú·Éò·Éê! üíï‚ú®`;
                } else {
                    // Find next badge
                    let nextBadge = milestones[0];
                    for (let m of milestones) {
                        if (currentStreak < m) {
                            nextBadge = m;
                            break;
                        }
                    }
                    
                    // Get motivational message
                    const msg = getMotivationalMessage(currentStreak, nextBadge);
                    
                    // Update UI
                    document.getElementById('achievementMsgEmoji').textContent = msg.emoji;
                    document.getElementById('achievementMsgText').textContent = msg.text;
                }
            }
            
            // Show message, hide collapsed view
            document.getElementById('achievementCardCollapsed').style.display = 'none';
            document.getElementById('achievementMotivationalMsg').style.display = 'block';
        }
        
        function closeAchievementMessage() {
            // Hide message, show collapsed view
            document.getElementById('achievementMotivationalMsg').style.display = 'none';
            document.getElementById('achievementCardCollapsed').style.display = 'block';
            
            // Now open the full achievements modal
            showMyAchievements();
        }
        
        function checkAllContactsComplete() {
            // Re-run the contact cards update to check if all complete
            if (typeof updateContactCards === 'function') {
                updateContactCards();
            }
        }

        // ============ COGNITIVE DISTORTIONS FUNCTIONS ============
        
        let sosCurrentDistortionId = null;
        let sosCurrentDistortionStep = 0;
        let sosDistortionTempData = { whyBad: '', whyDistorted: '', truthVersion: '' };
        let sosPendingDistortionId = null;
        let sosShowingAllDistortions = false;
        
        function sosShowDistortions() {
            // RESET state
            sosCurrentDistortionId = null;
            sosCurrentDistortionStep = 0;
            sosPendingDistortionId = null;
            sosShowingAllDistortions = false;
            
            // Reset button text
            const btnText = document.getElementById('sosShowOtherDistortionsBtnText');
            if (btnText) btnText.textContent = 'üëÅÔ∏è ·Éí·Éê·Éõ·Éù·Éê·É©·Éò·Éú·Éî ·Éì·Éê·Éú·Éê·É†·É©·Éî·Éú·Éò ·Éê·Éñ·É†·Éî·Éë·Éò·É™';
            
            // Show dropdown, hide confirmation
            document.getElementById('sosDistortionsConfirmBox').style.display = 'none';
            document.getElementById('sosDistortionsDropdownContainer').style.display = 'block';
            document.getElementById('sosDistortionSelect').value = '';
            
            document.getElementById('sosDistortionsModal').style.display = 'block';
            sosLoadDistortionOptions();
        }
        
        function sosLoadDistortionOptions(showAll = false) {
            const select = document.getElementById('sosDistortionSelect');
            const showOtherBtn = document.getElementById('sosShowOtherDistortionsBtn');
            
            if (!select) return;
            
            const u = app.users[user.email];
            
            // Get user's cognitive distortions
            const userDistortions = (u && u.cognitiveDistortions) ? u.cognitiveDistortions : [];
            
            // Get IDs of selected DEFAULT distortions
            const selectedDefaultIds = userDistortions
                .filter(d => !d.custom && d.id)
                .map(d => d.id);
            
            // Get unselected DEFAULT distortions
            const unselectedDefaults = DEFAULT_COGNITIVE_DISTORTIONS.filter(d => !selectedDefaultIds.includes(d.id));
            
            let html = '<option value="">·Éê·Éò·É†·É©·Éò·Éî ·Éê·Éñ·É†·Éò...</option>';
            
            if (showAll) {
                // Show ALL: user's distortions + unselected defaults
                userDistortions.forEach((dist) => {
                    html += `<option value="${dist.id}">‚úì ${dist.text}</option>`;
                });
                
                if (unselectedDefaults.length > 0) {
                    html += '<option disabled>‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ</option>';
                    unselectedDefaults.forEach((dist) => {
                        html += `<option value="${dist.id}">${dist.text}</option>`;
                    });
                }
            } else {
                // Show ONLY user's distortions
                if (userDistortions.length === 0) {
                    html = '<option value="">·Éê·Éò·É†·É©·Éò·Éî·Éó ·Éê·Éñ·É†·Éò...</option>';
                } else {
                    userDistortions.forEach((dist) => {
                        html += `<option value="${dist.id}">‚úì ${dist.text}</option>`;
                    });
                }
                
                // Show button if there are unselected defaults
                if (showOtherBtn) {
                    showOtherBtn.style.display = unselectedDefaults.length > 0 ? 'block' : 'none';
                }
            }
            
            select.innerHTML = html;
            
            // Handle selection
            select.onchange = function() {
                if (this.value !== '') {
                    sosShowDistortionConfirmation(this.value);
                }
            };
        }
        
        function sosToggleAllDistortions() {
            sosShowingAllDistortions = !sosShowingAllDistortions;
            
            // Toggle button text
            const btnText = document.getElementById('sosShowOtherDistortionsBtnText');
            if (sosShowingAllDistortions) {
                btnText.textContent = 'üëÅÔ∏è ·Éì·Éê·Éõ·Éê·Éö·Éî ·Éì·Éê·Éú·Éê·É†·É©·Éî·Éú·Éò ·Éê·Éñ·É†·Éî·Éë·Éò';
            } else {
                btnText.textContent = 'üëÅÔ∏è ·Éí·Éê·Éõ·Éù·Éê·É©·Éò·Éú·Éî ·Éì·Éê·Éú·Éê·É†·É©·Éî·Éú·Éò ·Éê·Éñ·É†·Éî·Éë·Éò·É™';
            }
            
            // Reload dropdown
            sosLoadDistortionOptions(sosShowingAllDistortions);
        }
        
        function sosShowDistortionConfirmation(distortionId) {
            sosPendingDistortionId = distortionId;
            
            const u = app.users[user.email];
            let distortion = (u.cognitiveDistortions) ? u.cognitiveDistortions.find(d => d.id === distortionId) : null;
            
            if (!distortion) {
                distortion = DEFAULT_COGNITIVE_DISTORTIONS.find(d => d.id === distortionId);
            }
            
            if (!distortion) return;
            
            // Show confirmation box
            document.getElementById('sosDistortionsConfirmText').textContent = distortion.text;
            document.getElementById('sosDistortionsConfirmBox').style.display = 'block';
            
            // Hide dropdown
            document.getElementById('sosDistortionsDropdownContainer').style.display = 'none';
        }
        
        function sosConfirmDistortion() {
            sosSelectDistortion(sosPendingDistortionId);
        }
        
        function sosCancelDistortion() {
            sosPendingDistortionId = null;
            
            // Hide confirmation, show dropdown
            document.getElementById('sosDistortionsConfirmBox').style.display = 'none';
            document.getElementById('sosDistortionsDropdownContainer').style.display = 'block';
            document.getElementById('sosDistortionSelect').value = '';
        }
        
        function sosSelectDistortion(distortionId) {
            sosCurrentDistortionId = distortionId;
            sosCurrentDistortionStep = 0;
            
            const u = app.users[user.email];
            
            // Try to find in user's distortions
            let distortion = (u.cognitiveDistortions) ? u.cognitiveDistortions.find(d => d.id === distortionId) : null;
            
            // If not found, it's a new DEFAULT distortion
            if (!distortion) {
                const defaultDist = DEFAULT_COGNITIVE_DISTORTIONS.find(d => d.id === distortionId);
                if (defaultDist) {
                    // Initialize cognitiveDistortions if needed
                    if (!u.cognitiveDistortions) u.cognitiveDistortions = [];
                    
                    // Add to user's distortions with default content
                    distortion = {
                        id: defaultDist.id,
                        text: defaultDist.text,
                        whyBad: defaultDist.whyBad || '',
                        whyDistorted: defaultDist.whyDistorted || '',
                        truthVersion: defaultDist.truthVersion || '',
                        selected: true
                    };
                    u.cognitiveDistortions.push(distortion);
                }
            }
            
            if (!distortion) return;
            
            // Load existing data
            sosDistortionTempData = {
                whyBad: distortion.whyBad || '',
                whyDistorted: distortion.whyDistorted || '',
                truthVersion: distortion.truthVersion || ''
            };
            
            document.getElementById('sosDistortionsModal').style.display = 'none';
            sosShowDistortionStep();
        }
        
        function sosShowDistortionStep() {
            const u = app.users[user.email];
            let distortion = u.cognitiveDistortions.find(d => d.id === sosCurrentDistortionId);
            
            if (!distortion) return;
            
            const modal = document.getElementById('sosDistortionsStepModal');
            const title = document.getElementById('sosDistortionsStepTitle');
            const label = document.getElementById('sosDistortionsStepLabel');
            const textarea = document.getElementById('sosDistortionsStepTextarea');
            const backBtn = document.getElementById('sosDistortionsBackBtn');
            const nextBtn = document.getElementById('sosDistortionsNextBtn');
            
            title.textContent = `üß† ${distortion.text}`;
            
            if (sosCurrentDistortionStep === 0) {
                label.textContent = '·É†·Éê·É¢·Éù·Éõ ·Éï·Éê·É† ·É™·É£·Éì·Éê·Éì ·Éê·Éõ ·Éê·Éñ·É†·Éò·Éó?';
                textarea.value = sosDistortionTempData.whyBad;
                backBtn.style.display = 'none';
                nextBtn.textContent = '·É®·Éî·Éõ·Éì·Éî·Éí·Éò ‚Üí';
            } else if (sosCurrentDistortionStep === 1) {
                label.textContent = '·É†·Éê·É¢·Éù·Éõ ·Éê·É†·Éò·É° ·Éî·É° ·Éê·Éñ·É†·Éò ·Éì·Éê·Éõ·Éê·ÉÆ·Éò·Éú·ÉØ·Éî·Éë·É£·Éö·Éò?';
                textarea.value = sosDistortionTempData.whyDistorted;
                backBtn.style.display = 'block';
                nextBtn.textContent = '·É®·Éî·Éõ·Éì·Éî·Éí·Éò ‚Üí';
            } else if (sosCurrentDistortionStep === 2) {
                label.textContent = '·É†·Éî·Éê·Éö·É£·É†·Éò, ·Éù·Éë·Éò·Éî·É•·É¢·É£·É†·Éò ·Éê·Éñ·É†·Éò ·É†·Éê ·Éò·É•·Éú·Éî·Éë·Éê?';
                textarea.value = sosDistortionTempData.truthVersion;
                backBtn.style.display = 'block';
                nextBtn.textContent = '·Éì·Éê·É°·É†·É£·Éö·Éî·Éë·Éê ‚úì';
            }
            
            modal.style.display = 'block';
        }
        
        function sosDistortionsStepBack() {
            const textarea = document.getElementById('sosDistortionsStepTextarea');
            
            // Save current step data BEFORE decrementing
            if (sosCurrentDistortionStep === 0) {
                // Can't go back from step 0
                return;
            } else if (sosCurrentDistortionStep === 1) {
                // Save step 1 data
                sosDistortionTempData.whyDistorted = textarea.value;
            } else if (sosCurrentDistortionStep === 2) {
                // Save step 2 data
                sosDistortionTempData.truthVersion = textarea.value;
            }
            
            sosCurrentDistortionStep--;
            sosShowDistortionStep();
        }
        
        function sosDistortionsStepNext() {
            const textarea = document.getElementById('sosDistortionsStepTextarea');
            const u = app.users[user.email];
            const distortion = u.cognitiveDistortions.find(d => d.id === sosCurrentDistortionId);
            
            if (!distortion) return;
            
            if (sosCurrentDistortionStep === 0) {
                // Save and go to next step
                sosDistortionTempData.whyBad = textarea.value;
                sosCurrentDistortionStep++;
                sosShowDistortionStep();
            } else if (sosCurrentDistortionStep === 1) {
                // Save and go to next step
                sosDistortionTempData.whyDistorted = textarea.value;
                sosCurrentDistortionStep++;
                sosShowDistortionStep();
            } else if (sosCurrentDistortionStep === 2) {
                // Last step - save and show completion
                sosDistortionTempData.truthVersion = textarea.value;
                
                // Save back to distortion
                distortion.whyBad = sosDistortionTempData.whyBad;
                distortion.whyDistorted = sosDistortionTempData.whyDistorted;
                distortion.truthVersion = sosDistortionTempData.truthVersion;
                distortion.selected = true;
                
                // Save to localStorage
                save();
                
                // Show completion
                document.getElementById('sosDistortionsStepModal').style.display = 'none';
                document.getElementById('sosDistortionsCompletionModal').style.display = 'block';
            }
        }
        
        function sosProcessAnotherDistortion() {
            // Close completion modal
            document.getElementById('sosDistortionsCompletionModal').style.display = 'none';
            
            // Reset state
            sosCurrentDistortionId = null;
            sosCurrentDistortionStep = 0;
            sosPendingDistortionId = null;
            sosShowingAllDistortions = false;
            
            // Reset button text
            const btnText = document.getElementById('sosShowOtherDistortionsBtnText');
            if (btnText) btnText.textContent = 'üëÅÔ∏è ·Éí·Éê·Éõ·Éù·Éê·É©·Éò·Éú·Éî ·Éì·Éê·Éú·Éê·É†·É©·Éî·Éú·Éò ·Éê·Éñ·É†·Éî·Éë·Éò·É™';
            
            // Show dropdown, hide confirmation
            document.getElementById('sosDistortionsConfirmBox').style.display = 'none';
            document.getElementById('sosDistortionsDropdownContainer').style.display = 'block';
            document.getElementById('sosDistortionSelect').value = '';
            
            document.getElementById('sosDistortionsModal').style.display = 'block';
            sosLoadDistortionOptions();
        }
        
        function sosSkipDistortions() {
            document.getElementById('sosDistortionsModal').style.display = 'none';
            sosFinishDistortions();
        }
        
        function sosFinishDistortions() {
            document.getElementById('sosDistortionsCompletionModal').style.display = 'none';
            alert('SOS ·Éì·Éê·É°·É†·É£·Éö·Éî·Éë·É£·Éö·Éò·Éê! ·É®·Éî·Éú ·É®·Éî·É´·Éî·Éö·Éò! üéâ');
            backToDashboard();
        }


        // Remember Modal Functions
        function showRememberModal() {
            document.getElementById('rememberModal').style.display = 'block';
            document.getElementById('rememberPage1').style.display = 'block';
            document.getElementById('rememberPage2').style.display = 'none';
            document.getElementById('rememberPage3').style.display = 'none';
        }
        
        function closeRememberModal() {
            document.getElementById('rememberModal').style.display = 'none';
        }
        
        function showRememberPage(page) {
            document.getElementById('rememberPage1').style.display = page === 1 ? 'block' : 'none';
            document.getElementById('rememberPage2').style.display = page === 2 ? 'block' : 'none';
            document.getElementById('rememberPage3').style.display = page === 3 ? 'block' : 'none';
        }
        
        // ============ SOS TECHNIQUES ============
        
        // ============ SOS TECHNIQUES ============
        
        let currentSOSTechnique = 0;
        
        function sosShowTechniques() {
            document.getElementById('sosOtherMechanismsModal').style.display = 'none';
            currentSOSTechnique = 0;
            sosLoadTechnique();
            document.getElementById('sosTechniquesModal').style.display = 'block';
        }
        
        function sosLoadTechnique() {
            const contentDiv = document.getElementById('sosTechniqueContent');
            const counterDiv = document.getElementById('sosTechniqueCounter');
            
            // Counter
            counterDiv.textContent = `${currentSOSTechnique + 1}/9`;
            
            let sourceSelector = '';
            
            // Map technique index to modal ID
            const modalIds = [
                'technique9Modal',  // 0: 5 ·Éú·Éê·Éë·Éò·ÉØ·Éò
                'technique1Modal',  // 1: ·Éì·Éê·Éõ·Éê·Éõ·É®·Éï·Éò·Éì·Éî·Éë·Éî·Éö·Éò ·É°·É£·Éú·Éó·É•·Éï·Éê
                'technique2Modal',  // 2: 5-4-3-2-1
                'technique3Modal',  // 3: ·Éí·Éê·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî·Éë·É£·Éö·Éò ·É≠·Éê·Éõ·Éê
                'technique4Modal',  // 4: ·Éí·Éê·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî·Éë·É£·Éö·Éò ·É°·Éò·Éê·É†·É£·Éö·Éò
                'technique5Modal',  // 5: ·Éí·Éê·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî·Éë·É£·Éö·Éò ·É°·É£·Éú·Éó·É•·Éï·Éê
                'technique6Modal',  // 6: ·É°·ÉÆ·Éî·É£·Éö·Éñ·Éî ·Éì·Éê·Éô·Éï·Éò·É†·Éï·Éî·Éë·Éê
                'technique7Modal',  // 7: ·Éí·Éê·É™·Éú·Éù·Éë·Éò·Éî·É†·Éî·Éë·É£·Éö·Éò ·É®·ÉÆ·Éê·Éû·Éò
                'technique8Modal'   // 8: ·ÉÆ·Éî·Éö·Éî·Éë·Éò·É° ·Éì·Éê·Éë·Éê·Éú·Éê
            ];
            
            const modalId = modalIds[currentSOSTechnique];
            const modal = document.getElementById(modalId);
            
            if (modal) {
                // Clone the modal content
                const modalContent = modal.cloneNode(true);
                
                // Remove all buttons from cloned content
                const buttons = modalContent.querySelectorAll('button');
                buttons.forEach(btn => btn.remove());
                
                // Get the inner HTML
                const innerDiv = modalContent.querySelector('div > div') || modalContent.querySelector('div');
                if (innerDiv) {
                    contentDiv.innerHTML = innerDiv.innerHTML;
                } else {
                    contentDiv.innerHTML = modalContent.innerHTML;
                }
            }
            
            // Scroll to top
            contentDiv.scrollTop = 0;
        }
        
        function sosTechniqueHelped() {
            // Track in localStorage
            const helpedTechniques = JSON.parse(localStorage.getItem('sosHelpedTechniques') || '[]');
            if (!helpedTechniques.includes(currentSOSTechnique)) {
                helpedTechniques.push(currentSOSTechnique);
                localStorage.setItem('sosHelpedTechniques', JSON.stringify(helpedTechniques));
            }
            
            // Close immediately and show final reminder
            document.getElementById('sosTechniquesModal').style.display = 'none';
            document.getElementById('sosFinalReminderModal').style.display = 'block';
        }
        
        function sosTechniqueNext() {
            if (currentSOSTechnique < 8) {
                currentSOSTechnique++;
                sosLoadTechnique();
            } else {
                // Last technique - go to final reminder
                document.getElementById('sosTechniquesModal').style.display = 'none';
                document.getElementById('sosFinalReminderModal').style.display = 'block';
            }
        }
        
        // ============ PRIVACY FUNCTIONS ============
        
        // Privacy modal will show after registration, not on page load
        
        function acceptPrivacy() {
            // Save privacy acceptance for THIS user
            const userPrivacyKey = 'privacyAccepted_' + user.email;
            localStorage.setItem(userPrivacyKey, 'true');
            localStorage.setItem('age18Plus_' + user.email, 'true');
            localStorage.setItem('privacyAcceptedDate_' + user.email, new Date().toISOString());
            document.getElementById('privacyModal').style.display = 'none';
            
            // After accepting privacy, go to dashboard
            loadDashboard();
        }
        
        function showPrivacyPolicy() {
            document.getElementById('privacyModal').style.display = 'none';
            document.getElementById('privacyPolicyModal').style.display = 'block';
        }
        
        function closePrivacyPolicy() {
            document.getElementById('privacyPolicyModal').style.display = 'none';
            document.getElementById('privacyModal').style.display = 'block';
        }
        
        function declinePrivacy() {
            document.getElementById('privacyModal').style.display = 'none';
            document.getElementById('privacyDeclinedModal').style.display = 'block';
        }
        
        function retryPrivacy() {
            document.getElementById('privacyDeclinedModal').style.display = 'none';
            document.getElementById('privacyModal').style.display = 'block';
        }
        
        // WhatsApp Integration
        function sendWhatsAppMessage() {
            const messageText = document.getElementById('supportMessageText').value.trim();
            
            if (!messageText) {
                alert('·Éí·Éó·ÉÆ·Éù·Éï·Éó, ·É©·Éê·É¨·Éî·É†·Éù·Éó ·É®·Éî·É¢·Éß·Éù·Éë·Éò·Éú·Éî·Éë·Éê');
                return;
            }
            
            // Encode message for URL
            const encodedMessage = encodeURIComponent(messageText);
            
            // WhatsApp URL with phone number and pre-filled message
            const whatsappURL = `https://wa.me/995599444405?text=${encodedMessage}`;
            
            // Open WhatsApp
            window.open(whatsappURL, '_blank');
            
            // Clear textarea after sending
            setTimeout(() => {
                document.getElementById('supportMessageText').value = '';
                alert('WhatsApp ·Éí·Éê·Éò·ÉÆ·É°·Éú·Éê! ·Éì·Éê·Éê·É≠·Éò·É†·Éî "Send" ·É®·Éî·É¢·Éß·Éù·Éë·Éò·Éú·Éî·Éë·Éò·É° ·Éí·Éê·É°·Éê·Éí·Éñ·Éê·Éï·Éú·Éê·Éì.');
            }, 500);
        }

    </script>
            
            <!-- Morning Contact Modal -->
            <div id="morningContactModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 1000; overflow-y: auto;">
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 20px;">
                    <div style="background: white; max-width: 800px; margin: 0 auto; border-radius: 16px; padding: 30px; box-shadow: 0 10px 40px rgba(0,0,0,0.3);">
                        
                        <div style="text-align: center; font-size: 48px; margin-bottom: 20px;">üåÖ</div>
                        <h2 style="color: #667eea; text-align: center; margin-bottom: 30px; font-size: 24px;">·Éì·Éò·Éö·Éò·É° ·Éô·Éù·Éú·É¢·Éê·É•·É¢·Éò</h2>
                        
                        <!-- Question 1 -->
                        <div id="morningQ1" style="margin-bottom: 30px;">
                            <p style="font-size: 18px; font-weight: 600; color: #333; margin-bottom: 20px; text-align: center; line-height: 1.6;">
                                ·Éõ·Éñ·Éê·Éì ·ÉÆ·Éê·É†, ·É†·Éù·Éõ ·Éì·É¶·Éî·É° ·É°·Éò·É§·ÉÆ·Éò·Éñ·Éö·Éî ·É®·Éî·Éò·Éú·Éê·É†·É©·É£·Éú·Éù?
                            </p>
                            <div style="display: flex; gap: 15px; justify-content: center;">
                                <button onclick="morningAnswerReady(true)" class="btn btn-yes" style="flex: 1; max-width: 200px; padding: 15px;">·Éì·Éò·Éê·ÉÆ</button>
                                <button onclick="morningAnswerReady(false)" class="btn btn-no" style="flex: 1; max-width: 200px; padding: 15px;">·Éê·É†·Éê</button>
                            </div>
                        </div>
                        
                        <!-- Question 2 (slider) -->
                        <div id="morningQ2" style="display: none;">
                            <p style="font-size: 17px; font-weight: 600; color: #333; margin-bottom: 25px; text-align: center; line-height: 1.6;">
                                ·É®·Éî·Éê·É§·Éê·É°·Éî ·É®·Éî·Éú·Éò ·Éì·É¶·Éî·Éï·Éê·Éú·Éì·Éî·Éö·Éò ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éò·É° ·Éõ·Éù·É¢·Éò·Éï·Éê·É™·Éò·Éò·É° ·É°·Éò·É´·Éö·Éò·Éî·É†·Éî:
                            </p>
                            
                            <div style="background: #f8f9fa; padding: 25px; border-radius: 12px; margin-bottom: 25px;">
                                <input type="range" id="morningMotivationSlider" min="1" max="10" value="5" 
                                       style="width: 100%; height: 8px; border-radius: 5px; outline: none; -webkit-appearance: none; background: linear-gradient(to right, #ef4444 0%, #f59e0b 50%, #10b981 100%);"
                                       oninput="updateMotivationValue(this.value)">
                                
                                <div style="display: flex; justify-content: space-between; margin-top: 15px; color: #666; font-size: 14px;">
                                    <span>1</span>
                                    <span id="motivationValue" style="font-size: 32px; font-weight: bold; color: #667eea;">5</span>
                                    <span>10</span>
                                </div>
                                
                                <div style="text-align: center; margin-top: 10px; color: #666; font-size: 14px;">
                                    <span id="motivationLabel">·É°·Éê·É®·É£·Éê·Éö·Éù ·Éõ·Éù·É¢·Éò·Éï·Éê·É™·Éò·Éê</span>
                                </div>
                            </div>
                            
                            <button onclick="saveMorningContact()" class="btn btn-primary" style="width: 100%; padding: 15px; font-size: 16px;">·É®·Éî·Éú·Éê·ÉÆ·Éï·Éê</button>
                        </div>
                        
                        <!-- Feedback (hidden by default) -->
                        <div id="morningFeedback" style="display: none; padding: 25px; border-radius: 8px; margin-bottom: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                            <p style="font-size: 17px; line-height: 1.7; margin: 0; font-weight: 600; text-align: center; color: #333;"></p>
                        </div>
                        
                        <!-- Done button -->
                        <button id="morningDoneBtn" onclick="closeMorningContact()" class="btn btn-primary" style="width: 100%; padding: 15px; font-size: 16px; display: none;">·Éì·Éê·ÉÆ·É£·É†·Éï·Éê</button>
                        
                    </div>
                </div>
            </div>
            
            <!-- Evening Contact Modal -->
            <div id="eveningContactModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 1000; overflow-y: auto;">
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 20px;">
                    <div style="background: white; max-width: 800px; margin: 0 auto; border-radius: 16px; padding: 30px; box-shadow: 0 10px 40px rgba(0,0,0,0.3);">
                        
                        <div style="text-align: center; font-size: 48px; margin-bottom: 20px;">üåô</div>
                        <h2 class="modal-header" style="color: #667eea; text-align: center; margin-bottom: 30px; font-size: 24px;">·É°·Éê·É¶·Éê·Éõ·Éù·É° ·Éô·Éù·Éú·É¢·Éê·É•·É¢·Éò</h2>
                        
                        <!-- Question 1: Success today? -->
                        <div id="eveningQ1">
                            <p style="font-size: 18px; font-weight: 600; color: #333; margin-bottom: 20px; text-align: center; line-height: 1.6;">
                                ·É®·Éî·É´·Éî·Éö·Éò ·É°·Éò·É§·ÉÆ·Éò·Éñ·Éö·Éò·É° ·É®·Éî·Éú·Éê·É†·É©·É£·Éú·Éî·Éë·Éê <span id="eveningDayText">·Éì·É¶·Éî·É°</span>?
                            </p>
                            <div style="display: flex; gap: 15px; justify-content: center; margin-bottom: 30px;">
                                <button onclick="eveningAnswerSuccess(true)" class="btn btn-yes" style="flex: 1; max-width: 200px; padding: 15px;">·Éì·Éò·Éê·ÉÆ</button>
                                <button onclick="eveningAnswerSuccess(false)" class="btn btn-no" style="flex: 1; max-width: 200px; padding: 15px;">·Éê·É†·Éê</button>
                            </div>
                        </div>
                        
                        <!-- Page 2: Congrats message (if YES) -->
                        <div id="eveningCongratsPage" style="display: none;">
                            <div style="background: #FFFFFF; border-left: 4px solid #667eea; padding: 25px; border-radius: 8px; margin-bottom: 25px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                                <p style="color: #333; font-size: 17px; line-height: 1.7; margin: 0; text-align: center;">
                                    ·Éí·Éò·Éö·Éù·É™·Éê·Éï! ·É®·Éî·Éú ·Éí·Éê·Éì·Éê·Éì·Éí·Éò ·Éô·Éò·Éì·Éî·Éï ·Éî·É†·Éó·Éò ·Éú·Éê·Éë·Éò·ÉØ·Éò ·Éê·Éõ ·É¶·Éò·É†·É°·Éî·É£·Éö ·Éí·Éñ·Éê·Éñ·Éî. ·Éî·É™·Éê·Éì·Éî ·É®·Éî·Éò·Éí·É†·É´·Éú·Éù, ·Éß·Éù·Éï·Éî·Éö·Éì·É¶·Éò·É£·É†·Éê·Éì ·É†·Éù·Éí·Éù·É† ·Éò·Éñ·É†·Éì·Éî·Éë·Éê ·É®·Éî·Éú·Éò ·É™·ÉÆ·Éù·Éï·É†·Éî·Éë·Éê·Éñ·Éî ·Éô·Éù·Éú·É¢·É†·Éù·Éö·Éò ·Éì·Éê ·Éó·Éê·Éï·Éò·É°·É£·É§·Éö·Éî·Éë·Éê!
                                </p>
                            </div>
                            
                            <!-- Progress message (will be inserted here) -->
                            <div id="eveningProgressMessage" style="display: none; background: #FFFFFF; border-left: 4px solid #667eea; padding: 25px; border-radius: 8px; margin-bottom: 25px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                                <p style="color: #333; font-size: 16px; line-height: 1.7; margin: 0; font-weight: 600; text-align: center;"></p>
                            </div>
                            
                            <button onclick="eveningNextToGratitude()" class="btn btn-primary" style="width: 100%; padding: 15px; font-size: 16px;">·É®·Éî·Éõ·Éì·Éî·Éí·Éò ‚Üí</button>
                        </div>
                        
                        <!-- Page 3: Gratitude question -->
                        <div id="eveningGratitudePage" style="display: none;">
                            <p style="font-size: 17px; font-weight: 600; color: #333; margin-bottom: 20px; text-align: center; line-height: 1.6;">
                                ·Éí·Éê·Éì·Éê·É£·ÉÆ·Éê·Éì·Éî ·Éì·É¶·Éî·É° ·É°·Éê·Éô·É£·Éó·Éê·É† ·Éó·Éê·Éï·É° ·Éõ·Éê·Éì·Éö·Éù·Éë·Éê ·Éò·Éõ·Éò·É° ·Éí·Éê·Éõ·Éù, ·É†·Éù·Éõ ·Éê·Éõ ·É¶·Éò·É†·É°·Éî·É£·Éö ·Éí·Éñ·Éê·Éñ·Éî ·Éô·Éò·Éì·Éî·Éï ·Éî·É†·Éó·Éò ·Éú·Éê·Éë·Éò·ÉØ·Éò ·Éí·Éê·Éì·Éê·Éì·Éí·Éò?
                            </p>
                            <div style="display: flex; gap: 15px; justify-content: center; margin-bottom: 25px;">
                                <button onclick="eveningAnswerGratitude(true)" class="btn btn-yes" style="flex: 1; max-width: 200px; padding: 15px;">·Éì·Éò·Éê·ÉÆ</button>
                                <button onclick="eveningAnswerGratitude(false)" class="btn btn-no" style="flex: 1; max-width: 200px; padding: 15px;">·Éê·É†·Éê</button>
                            </div>
                        </div>
                        
                        <!-- Page 4: Gratitude feedback -->
                        <div id="eveningGratitudeFeedbackPage" style="display: none;">
                            <div id="eveningGratitudeFeedbackBox" style="margin-bottom: 25px;"></div>
                            <button onclick="eveningNextToProud()" class="btn btn-primary" style="width: 100%; padding: 15px; font-size: 16px;">·É®·Éî·Éõ·Éì·Éî·Éí·Éò ‚Üí</button>
                        </div>
                        
                        <!-- Page 5: Proud question -->
                        <div id="eveningProudPage" style="display: none;">
                            <p style="font-size: 17px; font-weight: 600; color: #333; margin-bottom: 20px; text-align: center; line-height: 1.6;">
                                ·Éò·Éê·Éõ·Éê·Éß·Éî ·Éó·É£ ·Éê·É†·Éê ·É°·Éê·Éô·É£·Éó·Éê·É†·Éò ·Éó·Éê·Éï·Éò·Éó ·Éì·É¶·Éî·É° ·Éò·Éõ·Éò·É°·Éó·Éï·Éò·É°, ·É†·Éù·Éõ ·Éî·É°·Éî·Éó ·É†·Éó·É£·Éö ·Éì·Éê·Éê·Éï·Éê·Éì·Éî·Éë·Éê·É° ·É¨·Éê·É†·Éõ·Éê·É¢·Éî·Éë·Éò·Éó ·É£·Éõ·Éô·Éö·Éê·Éï·Éì·Éî·Éë·Éò?
                            </p>
                            <div style="display: flex; gap: 15px; justify-content: center; margin-bottom: 25px;">
                                <button onclick="eveningAnswerProud(true)" class="btn btn-yes" style="flex: 1; max-width: 200px; padding: 15px;">·Éì·Éò·Éê·ÉÆ</button>
                                <button onclick="eveningAnswerProud(false)" class="btn btn-no" style="flex: 1; max-width: 200px; padding: 15px;">·Éê·É†·Éê</button>
                            </div>
                        </div>
                        
                        <!-- Page 6: Proud feedback -->
                        <div id="eveningProudFeedbackPage" style="display: none;">
                            <div id="eveningProudFeedbackBox" style="margin-bottom: 25px;"></div>
                            <button onclick="eveningNextToFinal()" class="btn btn-primary" style="width: 100%; padding: 15px; font-size: 16px;">·É®·Éî·Éõ·Éì·Éî·Éí·Éò ‚Üí</button>
                        </div>
                        
                        <!-- Page 7: Final message -->
                        <div id="eveningFinalPage" style="display: none;">
                            <div style="background: #FFFFFF; border-left: 4px solid #667eea; padding: 25px; border-radius: 8px; margin-bottom: 25px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                                <p style="color: #333; font-size: 17px; line-height: 1.7; margin: 0; font-weight: 600; text-align: center;">
                                    ·Éí·Éê·ÉÆ·É°·Éù·Éï·Éì·Éî·É°, ·Éê·Éõ ·É†·Éó·É£·Éö ·Éì·Éê ·É¶·Éò·É†·É°·Éî·É£·Éö ·Éí·Éñ·Éê·Éñ·Éî ·É°·Éï·Éö·Éò·É°·Éê·É°, ·É°·Éê·Éô·É£·Éó·Éê·É†·Éò ·Éó·Éê·Éï·Éò·É° ·Éõ·ÉÆ·Éê·É†·Éì·Éê·É≠·Éî·É†·Éê, ·É´·Éê·Éö·Éò·Éê·Éú ·Éõ·Éú·Éò·É®·Éï·Éú·Éî·Éö·Éù·Éï·Éê·Éú·Éò·Éê!
                                </p>
                            </div>
                            
                            <button onclick="closeEveningContact()" class="btn btn-primary" style="width: 100%; padding: 15px; font-size: 16px;">·Éì·Éê·ÉÆ·É£·É†·Éï·Éê</button>
                        </div>
                        
                        <!-- Page 8: Badges Progress -->
                        <div id="eveningBadgesPage" style="display: none;">
                            <div id="badgesContent" style="margin-bottom: 25px;">
                                <!-- Will be filled by JavaScript -->
                            </div>
                            
                            <button onclick="closeEveningContact()" class="btn btn-primary" style="width: 100%; padding: 15px; font-size: 16px;">·Éì·Éê·ÉÆ·É£·É†·Éï·Éê</button>
                        </div>
                        
                            <!-- Final message -->
                            <div id="eveningFinalMessage" style="display: none; background: #E0E7FF; border-left: 4px solid #667eea; padding: 20px; border-radius: 8px; margin-bottom: 25px;">
                                <p style="color: #3730A3; font-size: 17px; line-height: 1.7; margin: 0; font-weight: 600;">
                                    ·Éõ·Éò·ÉÆ·Éê·É†·Éò·Éê! ·Éí·Éê·ÉÆ·É°·Éù·Éï·Éì·Éî·É°, ·Éê·Éõ ·É†·Éó·É£·Éö ·Éí·Éñ·Éê·Éñ·Éî ·É°·Éò·Éê·É†·É£·Éö·Éò·É°·Éê·É° ·É°·Éê·Éô·É£·Éó·Éê·É†·Éò ·Éó·Éê·Éï·Éò·É° ·Éõ·ÉÆ·Éê·É†·Éì·Éê·É≠·Éî·É†·Éê ·É´·Éê·Éö·Éò·Éê·Éú ·Éõ·Éú·Éò·É®·Éï·Éú·Éî·Éö·Éù·Éï·Éê·Éú·Éò·Éê! üíö
                                </p>
                            </div>
                            
                            <!-- Done button -->
                            <button id="eveningDoneBtn" onclick="closeEveningContact()" class="btn btn-primary" style="width: 100%; padding: 15px; font-size: 16px; display: none;">·Éì·Éê·ÉÆ·É£·É†·Éï·Éê</button>
                        </div>
                        
                        <!-- If NO path (relapse) -->
                        <!-- If NO - Relapse page -->
                        <div id="eveningRelapsePage" style="display: none;">
                            <div style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 25px;">
                                <p style="color: #333; font-size: 17px; line-height: 1.7; margin: 0; margin-bottom: 15px;">
                                    ·É©·Éê·Éï·Éê·É†·Éì·Éú·Éê ·Éê·É† ·Éú·Éò·É®·Éú·Éê·Éï·É° ·É†·Éî·É™·Éò·Éì·Éò·Éï·É°! ·Éõ·Éó·Éê·Éï·Éê·É†·Éò·Éê, ·É†·Éù·Éõ ·Éê·É¶·Éò·Éì·Éí·Éò·Éú·Éù ·Éó·Éï·Éò·Éó·Éô·Éù·Éú·É¢·É†·Éù·Éö·Éò ·Éì·Éê ·Éí·Éê·Éú·Éê·Éí·É†·É´·Éù ·É¨·Éò·Éú·É°·Éï·Éö·Éê.
                                </p>
                                <p style="color: #333; font-size: 17px; line-height: 1.7; margin: 0; margin-bottom: 15px; font-weight: 600;">
                                    ·Éí·Éê·Éõ·Éê·Éí·É†·Éì·Éò! ·Éí·É≠·Éò·É†·Éì·Éî·Éë·Éê ·É°·Éê·Éô·É£·Éó·Éê·É†·Éò ·Éó·Éê·Éï·Éò·É° ·Éí·Éê·É´·Éö·Éò·Éî·É†·Éî·Éë·Éê!
                                </p>
                                <p style="color: #333; font-size: 17px; line-height: 1.7; margin: 0; margin-bottom: 15px;">
                                    ·Éí·Éê·Éì·Éê·ÉÆ·Éî·Éì·Éî ·Éõ·Éù·É¢·Éò·Éï·Éê·É™·Éò·Éî·Éë·Éò·É° ·Éí·Éê·Éú·Éß·Éù·É§·Éò·Éö·Éî·Éë·Éê·É°, ·Éì·Éê·É£·Éô·Éê·Éï·É®·Éò·É†·Éì·Éò ·É§·É°·Éò·É•·Éù·Éó·Éî·É†·Éê·Éû·Éî·Éï·É¢·É° ·Éê·Éú ·Éí·Éê·Éõ·Éù·Éò·Éß·Éî·Éú·Éî ·É®·Éî·Éú·Éó·Éï·Éò·É° ·É°·Éê·É°·É£·É†·Éï·Éî·Éö·Éò ·Éú·Éî·Éë·Éò·É°·Éõ·Éò·Éî·É†·Éò ·É§·Éù·É†·Éõ·Éê!
                                </p>
                                <p style="color: #333; font-size: 17px; line-height: 1.7; margin: 0; margin-bottom: 25px; font-weight: 600;">
                                    ·Éõ·Éó·Éê·Éï·Éê·É†·Éò·Éê ·Éí·Éê·ÉÆ·É°·Éù·Éï·Éì·Éî·É°, ·Éì·É¶·Éî·Éï·Éê·Éú·Éì·Éî·Éö·Éò ·Éì·É¶·Éî ·Éê·É†·Éò·É° ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éò·É° ·Éê·ÉÆ·Éê·Éö·Éò ·É®·Éê·Éú·É°·Éò! ·Éí·Éê·Éõ·Éù·Éò·Éß·Éî·Éú·Éî ·Éò·É°!
                                </p>
                            </div>
                            
                            <button onclick="goToMotivations()" class="btn btn-primary" style="width: 100%; padding: 15px; font-size: 16px; margin-bottom: 15px;">·Éí·Éê·Éì·Éê·ÉÆ·Éî·Éì·Éî ·Éõ·Éù·É¢·Éò·Éï·Éê·É™·Éò·Éî·Éë·É°</button>
                            <button onclick="closeEveningContact()" class="btn btn-primary" style="width: 100%; padding: 15px; font-size: 16px;">·Éì·Éê·ÉÆ·É£·É†·Éï·Éê</button>
                        </div>
                        
                    </div>
                </div>
            </div>
            
            <!-- My Achievements Modal -->
            <div id="achievementsModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 1000; overflow-y: auto;">
                <div style="background: #f9fafb; min-height: 100vh; padding: 20px;">
                    <div style="max-width: 600px; margin: 0 auto;">
                        <!-- Header -->
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
                            <h2 id="achievementsModalHeader" style="color: #374151; font-size: 24px; margin: 0;">üèÖ ·Éõ·Éò·Éõ·Éì·Éò·Éú·Éê·É†·Éî ·Éõ·Éò·Éñ·Éê·Éú·Éò</h2>
                            <button onclick="closeAchievements()" style="background: rgba(0, 0, 0, 0.1); border: none; color: #374151; width: 40px; height: 40px; border-radius: 50%; font-size: 24px; cursor: pointer; display: flex; align-items: center; justify-content: center;">√ó</button>
                        </div>
                        
                        <!-- Content -->
                        <div style="background: white; border-radius: 20px; padding: 25px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                            <div id="achievementsContent">
                                <!-- Will be filled by JavaScript -->
                            </div>
                        </div>
                        
                        <button onclick="closeAchievements()" class="btn btn-secondary" style="width: 100%; padding: 15px; margin-top: 20px; font-size: 16px;">·Éì·Éê·ÉÆ·É£·É†·Éï·Éê</button>
                    </div>
                </div>
            </div>
            
            <!-- Gratitude Entry Modal -->
            <div id="gratitudeModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 1000; overflow-y: auto;">
                <div style="background: #f9fafb; min-height: 100vh; padding: 20px;">
                    <div style="max-width: 600px; margin: 0 auto;">
                        <!-- Header -->
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
                            <h2 style="color: #374151; font-size: 24px; margin: 0;">üôè ·Éõ·Éê·Éì·Éö·Éò·Éî·É†·Éî·Éë·Éò·É° ·É©·Éê·Éú·Éê·É¨·Éî·É†·Éò</h2>
                            <button onclick="closeGratitudeModal()" style="background: rgba(0, 0, 0, 0.1); border: none; color: #374151; width: 40px; height: 40px; border-radius: 50%; font-size: 24px; cursor: pointer; display: flex; align-items: center; justify-content: center;">√ó</button>
                        </div>
                        
                        <!-- Motivational text (shown first time today) -->
                        <div id="gratitudeMotivationalText" style="display: block; background: white; border-radius: 20px; padding: 25px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); margin-bottom: 20px;">
                            <div style="background: linear-gradient(135deg, #F3F4F6 0%, #E5E7EB 100%); border-radius: 15px; padding: 20px; margin-bottom: 20px;">
                                <h3 style="color: #374151; margin-bottom: 0; font-size: 18px;">üí´ ·É†·Éê·É¢·Éù·Éõ ·Éê·É†·Éò·É° ·Éî·É° ·Éõ·Éú·Éò·É®·Éï·Éú·Éî·Éö·Éù·Éï·Éê·Éú·Éò?</h3>
                            </div>
                            
                            <p style="color: #374151; font-size: 16px; line-height: 1.8; margin-bottom: 15px;">
                                ·Éì·Éê·Éõ·Éù·Éô·Éò·Éì·Éî·Éë·É£·Éö·Éî·Éë·Éê, ·Éê·Éì·Éê·Éõ·Éò·Éê·Éú·É° ·Éú·Éî·Éö-·Éú·Éî·Éö·Éê ·É°·Éê·Éô·É£·Éó·Éê·É†·Éò ·É™·ÉÆ·Éù·Éï·É†·Éî·Éë·Éò·É° ·Éì·Éê·É§·Éê·É°·Éî·Éë·Éò·É° ·É£·Éú·Éê·É†·É°, ·Éõ·Éê·É°·É®·Éò ·Éõ·Éò·Éõ·Éì·Éò·Éú·Éê·É†·Éî ·Éû·É†·Éù·É™·Éî·É°·Éî·Éë·Éò·É°·Éí·Éê·Éú ·É°·Éò·ÉÆ·Éê·É†·É£·Éö·Éò·É° ·Éí·Éê·Éú·É™·Éì·Éò·É° ·É£·Éú·Éê·É†·É° ·Éê·Éô·Éê·É†·Éí·Éï·Éò·Éú·Éî·Éë·É°.
                            </p>
                            
                            <p style="color: #374151; font-size: 16px; line-height: 1.8; margin-bottom: 15px; font-weight: 600;">
                                ·Éó·É£ ·Éì·Éê·Éï·É§·Éò·É•·É†·Éì·Éî·Éë·Éò·Éó, ·Éõ·Éê·Éò·Éú·É™ ·É†·Éê ·Éê·É†·Éò·É° ·Éõ·Éê·Éì·Éö·Éò·Éî·É†·Éî·Éë·Éê?
                            </p>
                            
                            <p style="color: #374151; font-size: 16px; line-height: 1.8; margin-bottom: 15px;">
                                ·Éò·É•·Éú·Éî·Éë ·Éî·É° ·Éê·É†·Éò·É° ·É†·Éê·É¶·Éê·É™·Éò·É°·Éó·Éï·Éò·É° ·Éõ·Éú·Éò·É®·Éï·Éú·Éî·Éö·Éù·Éë·Éò·É°, ·É¶·Éò·É†·Éî·Éë·É£·Éö·Éî·Éë·Éò·É° ·Éõ·Éò·Éú·Éò·É≠·Éî·Éë·Éê.. ·É†·Éê·É¶·Éê·É™·Éò·É° ·Éì·Éê·É§·Éê·É°·Éî·Éë·Éê ·Éê·Éú ·É®·Éî·Éõ·É©·Éú·Éî·Éï·Éê..
                            </p>
                            
                            <p style="color: #374151; font-size: 16px; line-height: 1.8; margin-bottom: 15px;">
                                ·Éê·Éì·Éê·Éõ·Éò·Éê·Éú·Éî·Éë·Éò ·Éò·É°·Éî ·Éï·Éê·É†·Éó ·Éõ·Éù·É¨·Éß·Éù·Éë·Éò·Éö·Éú·Éò, ·É†·Éù·Éõ ·É™·ÉÆ·Éù·Éï·É†·Éî·Éë·Éê·É®·Éò ·Éë·Éî·Éï·É† ·É†·Éê·Éõ·Éî·É° ·Éï·Éê·É§·Éê·É°·Éî·Éë·Éó ·Éõ·ÉÆ·Éù·Éö·Éù·Éì ·Éõ·Éê·É° ·É®·Éî·Éõ·Éì·Éî·Éí, ·É†·Éê·É™ ·Éõ·Éê·É° ·Éï·Éô·Éê·É†·Éí·Éê·Éï·Éó, ·Éê·Éú ·É†·Éù·Éì·Éî·É°·Éê·É™ ·Éì·Éî·É§·Éò·É™·Éò·É¢·É° ·Éí·Éê·Éú·Éï·Éò·É™·Éì·Éò·Éó.
                            </p>
                            
                            <p style="color: #374151; font-size: 16px; line-height: 1.8; margin-bottom: 15px;">
                                ·Éõ·Éê·Éí·É†·Éê·Éõ ·É©·Éï·Éî·Éú·É®·Éò ·Éê·É†·Éò·É° ·É´·Éê·Éö·Éê ·Éî·É° ·Éû·É†·Éù·É™·Éî·É°·Éò ·Éõ·Éù·Éï·Éê·É¢·É†·Éò·Éê·Éö·Éù·Éó ·Éì·Éê ·É¶·Éò·É†·Éî·Éë·É£·Éö·Éî·Éë·Éê ·É©·Éê·Éï·Éì·Éù·Éó ·Éò·Éõ·Éê·É®·Éò, ·É†·Éê·É™ ·Éì·É¶·Éî·É° ·Éê·É†·Éò·É°, ·É†·Éê·É™ ·Éì·É¶·Éî·É° ·ÉÆ·Éì·Éî·Éë·Éê, ·É†·Éê·É™ ·Éì·É¶·Éî·É° ·Éí·Éï·Éê·É•·Éï·É°, ·Éï·Éò·Éú·É™ ·Éì·É¶·Éî·É° ·Éï·Éê·É†·Éó ·Éì·Éê ·Éï·Éò·Éú·É™ ·Éì·É¶·Éî·É° ·Éê·É†·Éò·É° ·É©·Éï·Éî·Éú·É° ·Éí·Éï·Éî·É†·Éì·Éò·Éó.
                            </p>
                            
                            <p style="color: #374151; font-size: 16px; line-height: 1.8; margin-bottom: 20px;">
                                ·Éó·É£·Éô·Éò ·Éô·Éê·É†·Éí·Éê·Éì ·É©·Éê·Éï·É£·É¶·É†·Éõ·Éê·Éï·Éì·Éî·Éë·Éò·Éó, ·Éî·É° ·É°·É¨·Éù·É†·Éî·Éì ·Éò·É° ·Éê·É°·Éû·Éî·É•·É¢·Éî·Éë·Éò·Éê, ·É†·Éê·É™ ·Éú·Éê·Éõ·Éì·Éï·Éò·Éö·Éê·Éì ·Éõ·Éú·Éò·É®·Éï·Éú·Éî·Éö·Éù·Éï·Éê·Éú·Éò·Éê ·É™·ÉÆ·Éù·Éï·É†·Éî·Éë·Éê·É®·Éò.
                            </p>
                            
                            <div style="background: #F3F4F6; border-left: 4px solid #9CA3AF; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                                <p style="color: #374151; font-size: 15px; line-height: 1.7; font-style: italic; margin: 0;">
                                    "·É†·Éù·Éì·Éî·É°·Éê·É™ ·Éì·Éò·Éö·Éò·Éó ·Éò·É¶·Éï·Éò·É´·Éî·Éë ·Éì·Éê·É§·Éò·É•·É†·Éì·Éò ·Éò·Éõ·Éê·Éñ·Éî, ·Éó·É£ ·É†·Éê·Éõ·ÉÆ·Éî·Éö·Éê ·Éû·É†·Éò·Éï·Éò·Éö·Éî·Éí·Éò·Éê·Éê ·Éò·É°, ·É†·Éù·Éõ ·É™·Éù·É™·ÉÆ·Éê·Éö·Éò ·ÉÆ·Éê·É† - ·É°·É£·Éú·Éó·É•·Éê·Éï, ·É§·Éò·É•·É†·Éù·Éë, ·É™·ÉÆ·Éù·Éï·É†·Éî·Éë·Éê·É° ·É®·Éî·Éò·Éí·É†·É´·Éú·Éù·Éë, ·Éí·Éò·Éß·Éï·Éê·É†·É°."
                                </p>
                                <p style="color: #6B7280; font-size: 14px; margin-top: 8px; margin-bottom: 0; text-align: right;">
                                    ‚Äî ·Éõ·Éê·É†·Éô·É£·É° ·Éê·É£·É†·Éî·Éö·Éò·É£·É°·Éò
                                </p>
                            </div>
                            
                            <button id="gratitudeContinueBtn" onclick="continueToGratitudeInput()" class="btn btn-primary" style="width: 100%; padding: 14px; margin-top: 20px; font-size: 16px;">·Éí·Éê·Éí·É†·É´·Éî·Éö·Éî·Éë·Éê ‚Ä∫</button>
                        </div>
                        
                        <!-- Input form (hidden initially) -->
                        <div id="gratitudeInputForm" style="display: none; background: white; border-radius: 20px; padding: 25px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                            <p style="color: #666; margin-bottom: 20px; font-size: 16px;">·É©·Éê·É¨·Éî·É†·Éî ·É°·Éê·Éõ·Éò ·É†·Éê·Éõ, ·É†·Éò·É°·Éó·Éï·Éò·É°·Éê·É™ ·Éì·É¶·Éî·É° ·Éõ·Éê·Éì·Éö·Éò·Éî·É†·Éò ·ÉÆ·Éê·É†:</p>
                            
                            <div style="margin-bottom: 20px;">
                                <label style="display: block; color: #666; font-size: 14px; margin-bottom: 8px;">1. ·É†·Éò·É°·Éó·Éï·Éò·É° ·ÉÆ·Éê·É† ·Éõ·Éê·Éì·Éö·Éò·Éî·É†·Éò?</label>
                                <textarea id="gratitudeItem1" style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 10px; font-size: 16px; font-family: inherit; resize: vertical; min-height: 60px;" placeholder="·Éõ·Éê·Éí: ·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éù·Éë·Éò·É°·Éó·Éï·Éò·É°"></textarea>
                            </div>
                            
                            <div style="margin-bottom: 20px;">
                                <label style="display: block; color: #666; font-size: 14px; margin-bottom: 8px;">2. ·É†·Éò·É°·Éó·Éï·Éò·É° ·ÉÆ·Éê·É† ·Éõ·Éê·Éì·Éö·Éò·Éî·É†·Éò?</label>
                                <textarea id="gratitudeItem2" style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 10px; font-size: 16px; font-family: inherit; resize: vertical; min-height: 60px;" placeholder="·Éõ·Éê·Éí: ·Éù·ÉØ·Éê·ÉÆ·Éò·É°·Éó·Éï·Éò·É°"></textarea>
                            </div>
                            
                            <div style="margin-bottom: 20px;">
                                <label style="display: block; color: #666; font-size: 14px; margin-bottom: 8px;">3. ·É†·Éò·É°·Éó·Éï·Éò·É° ·ÉÆ·Éê·É† ·Éõ·Éê·Éì·Éö·Éò·Éî·É†·Éò?</label>
                                <textarea id="gratitudeItem3" style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 10px; font-size: 16px; font-family: inherit; resize: vertical; min-height: 60px;" placeholder="·Éõ·Éê·Éí: ·Éõ·É®·Éï·Éò·Éì·Éò ·Éì·É¶·Éò·É°·Éó·Éï·Éò·É°"></textarea>
                            </div>
                            
                            <button onclick="saveGratitudeEntry()" class="btn btn-primary" style="width: 100%; padding: 15px; font-size: 16px;">·É®·Éî·Éú·Éê·ÉÆ·Éï·Éê</button>
                        </div>
                        
                        <button onclick="closeGratitudeModal()" id="gratitudeCloseBtn" class="btn btn-secondary" style="width: 100%; padding: 15px; margin-top: 20px; font-size: 16px;">·Éì·Éê·ÉÆ·É£·É†·Éï·Éê</button>
                    </div>
                </div>
            </div>
            
            <!-- Positive Moment Modal -->
            <div id="positiveModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 1000; overflow-y: auto;">
                <div style="background: #f9fafb; min-height: 100vh; padding: 20px;">
                    <div style="max-width: 600px; margin: 0 auto;">
                        <!-- Header -->
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
                            <h2 style="color: #374151; font-size: 24px; margin: 0;">‚ú® ·Éû·Éù·Éñ·Éò·É¢·Éò·É£·É†·Éò ·Éõ·Éù·Éõ·Éî·Éú·É¢·Éò</h2>
                            <button onclick="closePositiveModal()" style="background: rgba(0, 0, 0, 0.1); border: none; color: #374151; width: 40px; height: 40px; border-radius: 50%; font-size: 24px; cursor: pointer; display: flex; align-items: center; justify-content: center;">√ó</button>
                        </div>
                        
                        <!-- Motivational text (shown first time today) -->
                        <div id="positiveMotivationalText" style="display: block; background: white; border-radius: 20px; padding: 25px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); margin-bottom: 20px;">
                            <div style="background: linear-gradient(135deg, #DBEAFE 0%, #93C5FD 100%); border-radius: 15px; padding: 20px; margin-bottom: 20px;">
                                <h3 style="color: #1E40AF; margin-bottom: 15px; font-size: 18px;">üí´ ·É†·Éê·É¢·Éù·Éõ ·Éê·É†·Éò·É° ·Éî·É° ·Éõ·Éú·Éò·É®·Éï·Éú·Éî·Éö·Éù·Éï·Éê·Éú·Éò?</h3>
                            </div>
                            
                            <p style="color: #374151; font-size: 16px; line-height: 1.8; margin-bottom: 15px;">
                                ·É®·Éî·Éê·Éõ·É©·Éú·Éò·Éî ·Éû·Éê·É¢·Éê·É†-·Éû·Éê·É¢·Éê·É†·Éê ·É™·Éï·Éö·Éò·Éö·Éî·Éë·Éî·Éë·Éò! ·Éí·Éê·Éõ·Éù·ÉØ·Éê·Éú·Éõ·É†·Éó·Éî·Éö·Éî·Éë·Éò·É° ·Éû·É†·Éù·É™·Éî·É°·Éò ·Éú·Éî·Éö·Éê ·Éì·Éê ·Éó·Éê·Éú·Éì·Éê·Éó·Éê·Éú·Éù·Éë·Éò·Éó ·ÉÆ·Éì·Éî·Éë·Éê. ·Éõ·Éú·Éò·É®·Éï·Éú·Éî·Éö·Éù·Éï·Éê·Éú·Éò·Éê, ·Éó·Éê·Éï·Éê·Éì·Éê·É™ ·ÉÆ·Éî·Éö·Éò ·É®·Éî·É£·É¨·Éß·Éù ·Éê·Éõ ·Éû·É†·Éù·É™·Éî·É°·É°!
                            </p>
                            
                            <p style="color: #374151; font-size: 16px; line-height: 1.8; margin-bottom: 15px;">
                                ·É®·Éî·Éú·Éò·É®·Éú·Éî ·Éò·É° ·Éõ·É™·Éò·É†·Éî ·É™·Éï·Éö·Éò·Éö·Éî·Éë·Éî·Éë·Éò, ·É†·Éù·Éõ·Éö·Éî·Éë·Éò·É™ ·Éê·Éì·É†·Éî ·É£·Éõ·Éú·Éò·É®·Éï·Éú·Éî·Éö·Éù ·Éò·Éß·Éù, ·Éõ·Éê·Éí·É†·Éê·Éõ ·Éì·É¶·Éî·É° ·Éí·Éê·É†·Éô·Éï·Éî·É£·Éö·Éò ·É°·Éò·Éê·Éõ·Éù·Éï·Éú·Éî·Éë·Éê ·Éõ·Éò·Éò·É¶·Éî, ·É£·É§·É†·Éù ·Éõ·Éî·É¢·Éê·Éì ·Éí·Éê·Éõ·Éê·ÉÆ·Éï·Éò·Éö·Éì·Éò, ·Éõ·Éú·Éò·É®·Éï·Éú·Éî·Éö·Éù·Éï·Éú·Éê·Éì ·Éõ·Éò·Éò·É©·Éú·Éò·Éî, ·Éì·Éê·Éò·Éú·É¢·Éî·É†·Éî·É°·Éì·Éò ·Éê·Éú ·Éô·Éõ·Éê·Éß·Éù·É§·Éò·Éö·Éî·Éë·Éò·É° ·Éí·Éê·Éõ·Éù·Éõ·É¨·Éï·Éî·Éï·Éò ·Éí·Éê·ÉÆ·Éì·Éê ·É®·Éî·Éú·É®·Éò.
                            </p>
                            
                            <p style="color: #374151; font-size: 16px; line-height: 1.8; margin-bottom: 15px;">
                                ·Éî·É° ·É®·Éî·Éò·É´·Éö·Éî·Éë·Éê ·Éò·Éß·Éù·É° ·É´·Éê·Éö·Éò·Éê·Éú ·Éõ·É™·Éò·É†·Éî ·Éõ·Éù·Éï·Éö·Éî·Éú·Éî·Éë·Éò, ·Éó·É£·Éú·Éì·Éê·É™ ·É°·Éê·Éß·Éï·Éê·É†·Éî·Éö ·Éê·Éì·Éê·Éõ·Éò·Éê·Éú·Éó·Éê·Éú ·É©·Éê·ÉÆ·É£·É¢·Éî·Éë·Éê ·Éê·Éú ·Éõ·É™·Éò·É†·Éî ·ÉÆ·Éú·Éò·Éó ·Éí·Éê·É°·Éê·É£·Éë·É†·Éî·Éë·Éê, ·Éí·Éî·Éõ·É†·Éò·Éî·Éö·Éò ·É©·Éê·Éò, ·É°·Éê·É°·Éò·Éê·Éõ·Éù·Éï·Éú·Éù ·É§·Éò·Éö·Éõ·Éò ·Éê·Éú ·Éí·Éê·Éì·Éê·É™·Éî·Éõ·Éê, ·Éí·Éê·É°·Éî·Éò·É†·Éú·Éî·Éë·Éê ·Éê·Éú ·Éõ·É£·É°·Éò·Éô·Éò·É° ·Éõ·Éù·É°·Éõ·Éî·Éú·Éê, ·É∞·Éù·Éë·Éò ·Éê·Éú ·É°·Éê·É•·Éõ·Éò·Éê·Éú·Éù·Éë·Éê, ·É†·Éù·Éõ·Éö·Éò·É° ·É®·Éî·É°·É†·É£·Éö·Éî·Éë·Éê·Éõ·Éê·É™ ·Éí·Éê·É†·Éô·Éï·Éî·É£·Éö·Éò ·É°·Éò·Éê·Éõ·Éù·Éï·Éú·Éî·Éë·Éê ·Éõ·Éù·Éí·Éò·É¢·Éê·Éú·Éê.
                            </p>
                            
                            <p style="color: #374151; font-size: 16px; line-height: 1.8; margin-bottom: 15px;">
                                ·Éõ·Éê·Éí·Éê·Éö·Éò·Éó·Éê·Éì, ·É®·Éî·Éò·É´·Éö·Éî·Éë·Éê ·Éû·Éê·É¢·Éê·É†·Éê ·Éë·Éê·Éï·É®·Éï·Éõ·Éê ·Éó·Éê·Éï·Éò·É°·Éò ·É®·Éî·É°·É†·É£·Éö·Éî·Éë·É£·Éö·Éò ·Éú·Éê·ÉÆ·Éê·É¢·Éò ·Éí·Éê·Éí·Éò·Éñ·Éò·Éê·É†·Éê? ·Éê·Éú ·É£·Éë·É†·Éê·Éö·Éù·Éì ·Éõ·Éî·Éí·Éù·Éë·Éê·É†·Éó·Éê·Éú ·É°·Éê·É°·Éò·Éê·Éõ·Éù·Éï·Éú·Éù·Éì ·Éí·Éê·Éò·É°·Éê·É£·Éë·É†·Éî? ·Éì·Éê ·É£·É™·Éî·Éë ·Éò·Éí·É†·É´·Éî·Éú·Éò, ·É†·Éù·Éõ ·Éî·É° ·Éõ·Éù·Éõ·Éî·Éú·É¢·Éò ·É®·Éî·Éú·Éó·Éï·Éò·É° ·É´·Éï·Éò·É†·É§·Éê·É°·Éò·Éê?
                            </p>
                            
                            <p style="color: #374151; font-size: 16px; line-height: 1.8; margin-bottom: 15px;">
                                ·Éó·Éï·Éê·Éö·Éò·É° ·É©·Éò·Éú·Éò·Éï·Éò·Éó ·É®·Éî·Éê·Éí·É†·Éù·Éï·Éî ·Éî·É° ·Éû·Éê·É¢·Éê·É†-·Éû·Éê·É¢·Éê·É†·Éê ·Éõ·Éù·Éõ·Éî·Éú·É¢·Éî·Éë·Éò. ·Éú·Éê·Éõ·Éì·Éï·Éò·Éö·Éò ·É°·Éò·Éõ·Éì·Éò·Éì·É†·Éî ·É°·É¨·Éù·É†·Éî·Éì ·Éê·Éõ "·É©·Éï·Éî·É£·Éö·Éî·Éë·É†·Éò·Éï" ·Éõ·Éù·Éõ·Éî·Éú·É¢·Éî·Éë·É®·Éò·Éê. ·Éú·É£ ·Éí·Éê·Éõ·Éù·Éí·Éî·Éû·Éê·É†·Éî·Éë·Éê ·Éò·É°·Éò·Éú·Éò!
                            </p>
                            
                            <p style="color: #374151; font-size: 16px; line-height: 1.8; margin-bottom: 20px;">
                                ·É™·ÉÆ·Éù·Éï·É†·Éî·Éë·Éò·Éó ·É¢·Éô·Éë·Éù·Éë·Éò·É° ·É£·Éú·Éê·É†·Éò ·É®·Éî·Éú·É° ·É¢·Éï·Éò·Éú·É° ·Éó·Éê·Éï·Éò·Éì·Éê·Éú ·É£·Éú·Éì·Éê ·Éì·Éê·Éê·É°·É¨·Éê·Éï·Éö·Éù. ·Éõ·É™·Éò·É†·Éî ·É°·Éò·ÉÆ·Éê·É†·É£·Éö·Éî·Éë·Éò·É° ·É®·Éî·Éõ·É©·Éú·Éî·Éï·Éê ·Éì·Éê ·Éì·Éê·É§·Éê·É°·Éî·Éë·Éê ·É´·Éê·Éö·Éò·Éê·Éú ·Éì·Éê·Éî·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê ·Éê·Éõ ·Éû·É†·Éù·É™·Éî·É°·É°. ·É™·ÉÆ·Éù·Éï·É†·Éî·Éë·Éê ·Éó·Éê·Éï·Éò·É°·Éò·Éó ·Éê·É† ·Éí·Éê·É§·Éî·É†·Éê·Éì·Éì·Éî·Éë·Éê, ·Éú·Éî·Éö-·Éú·Éî·Éö·Éê ·Éó·Éê·Éï·Éê·Éì ·É£·Éú·Éì·Éê ·É®·Éî·Éò·É¢·Éê·Éú·Éù ·Éõ·Éê·É°·É®·Éò ·Éú·Éê·Éó·Éî·Éö·Éò ·Éì·Éê ·Éô·Éê·É®·Éô·Éê·É®·Éê ·É§·Éî·É†·Éî·Éë·Éò!
                            </p>
                            
                            <div style="background: #F3F4F6; border-left: 4px solid #9CA3AF; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                                <p style="color: #374151; font-size: 15px; line-height: 1.7; font-style: italic; margin: 0;">
                                    "·Éë·Éî·Éì·Éú·Éò·Éî·É†·Éî·Éë·Éê ·Éê·É†·Éò·É° ·Éê·É†·Éê ·É°·Éê·Éí·Éê·Éú·Éò, ·Éê·É†·Éê·Éõ·Éî·Éì ·É£·Éú·Éê·É†·Éò - ·É£·Éú·Éê·É†·Éò ·É®·Éî·Éò·Éí·É†·É´·Éú·Éù ·Éõ·Éù·Éõ·Éî·Éú·É¢·Éò·É° ·É°·Éò·Éö·Éê·Éõ·Éê·Éñ·Éî"
                                </p>
                                <p style="color: #6B7280; font-size: 14px; margin-top: 8px; margin-bottom: 0; text-align: right;">
                                    ‚Äî ·É∞·Éî·É†·Éõ·Éê·Éú ·É∞·Éî·É°·Éî
                                </p>
                            </div>
                            
                            <button id="positiveContinueBtn" onclick="continueToPositiveInput()" class="btn btn-primary" style="width: 100%; padding: 14px; margin-top: 20px; font-size: 16px;">·Éí·Éê·Éí·É†·É´·Éî·Éö·Éî·Éë·Éê ‚Ä∫</button>
                        </div>
                        
                        <!-- Input form (hidden initially) -->
                        <div id="positiveInputForm" style="display: none;">
                            <div id="positiveMomentsContainer" style="max-height: 60vh; overflow-y: auto; margin-bottom: 20px;">
                                <!-- Entries will be added here dynamically -->
                            </div>
                            
                            <button onclick="addPositiveEntry()" class="btn" style="width: 100%; padding: 12px; font-size: 15px; background: linear-gradient(135deg, #DBEAFE 0%, #93C5FD 100%); color: #1E40AF; border: none; margin-bottom: 15px;">+ ·Éõ·Éù·Éõ·Éî·Éú·É¢·Éò·É° ·Éì·Éê·Éõ·Éê·É¢·Éî·Éë·Éê</button>
                            
                            <div style="display: flex; gap: 10px;">
                                <button onclick="saveAllPositiveMoments()" class="btn btn-secondary" style="flex: 1; padding: 15px; font-size: 16px;">·É®·Éî·Éú·Éê·ÉÆ·Éï·Éê</button>
                                <button onclick="closePositiveModal()" class="btn btn-secondary" style="flex: 1; padding: 15px; font-size: 16px;">·Éí·Éê·É£·É•·Éõ·Éî·Éë·Éê</button>
                            </div>
                        </div>
                        
                        <button onclick="closePositiveModal()" class="btn btn-secondary" style="width: 100%; padding: 15px; margin-top: 20px; font-size: 16px;" id="positiveCloseBtn">·Éì·Éê·ÉÆ·É£·É†·Éï·Éê</button>
                    </div>
                </div>
            </div>
            
            <!-- Self-Satisfaction Modal -->
            <div id="satisfactionModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 1000; overflow-y: auto;">
                <div style="background: #f9fafb; min-height: 100vh; padding: 20px;">
                    <div style="max-width: 600px; margin: 0 auto;">
                        <!-- Header -->
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
                            <h2 style="color: #374151; font-size: 24px; margin: 0;">üíé ·Éó·Éï·Éò·Éó·Éô·Éõ·Éê·Éß·Éù·É§·Éò·Éö·Éî·Éë·Éê</h2>
                            <button onclick="closeSatisfactionModal()" style="background: rgba(0, 0, 0, 0.1); border: none; color: #374151; width: 40px; height: 40px; border-radius: 50%; font-size: 24px; cursor: pointer; display: flex; align-items: center; justify-content: center;">√ó</button>
                        </div>
                        
                        <!-- Motivational text (shown first time today) -->
                        <div id="satisfactionMotivationalText" style="display: block; background: white; border-radius: 20px; padding: 25px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); margin-bottom: 20px;">
                            <div style="background: linear-gradient(135deg, #F3F4F6 0%, #E5E7EB 100%); border-radius: 15px; padding: 20px; margin-bottom: 20px;">
                                <h3 style="color: #374151; margin-bottom: 15px; font-size: 18px;">üíé ·É†·Éê·É¢·Éù·Éõ ·Éê·É†·Éò·É° ·Éî·É° ·Éõ·Éú·Éò·É®·Éï·Éú·Éî·Éö·Éù·Éï·Éê·Éú·Éò?</h3>
                            </div>
                            
                            <p style="color: #374151; font-size: 16px; line-height: 1.8; margin-bottom: 15px;">
                                ·Éì·Éê·Éõ·Éù·Éô·Éò·Éì·Éî·Éë·É£·Éö·Éò ·Éí·Éù·Éú·Éî·Éë·Éê ·ÉÆ·É®·Éò·É†·Éê·Éì ·Éí·Éï·Éê·ÉØ·Éî·É†·Éî·Éë·É°, ·É†·Éù·Éõ ·Éú·Éò·Éï·Éó·Éò·Éî·É†·Éî·Éë·Éò·É° ·Éí·Éê·É†·Éî·É®·Éî ·É£·Éô·Éï·Éî ·Éê·É¶·Éê·É†·Éê·É§·Éî·É†·Éò ·É®·Éî·Éí·Éï·Éò·É´·Éö·Éò·Éê, ·Éê·É†·Éê·É§·Éî·É†·Éò ·Éí·Éê·Éõ·Éù·Éí·Éï·Éò·Éï·Éê, ·Éî·Éú·Éî·É†·Éí·Éò·Éê ·Éê·É† ·Éí·Éï·Éî·É•·Éú·Éî·Éë·Éê ·Éê·Éú ·É£·Éë·É†·Éê·Éö·Éù·Éì ·É£·Éò·Éú·É¢·Éî·É†·Éî·É°·Éù ·Éì·Éê ·É£·É°·Éò·Éê·Éõ·Éù·Éï·Éú·Éù ·Éí·Éï·Éî·É©·Éï·Éî·Éú·Éî·Éë·Éê ·É°·ÉÆ·Éï·Éê·Éì·Éê·É°·ÉÆ·Éï·Éê ·É•·Éõ·Éî·Éì·Éî·Éë·Éî·Éë·Éò.
                            </p>
                            
                            <p style="color: #374151; font-size: 16px; line-height: 1.8; margin-bottom: 15px;">
                                ·Éõ·Éú·Éò·É®·Éï·Éú·Éî·Éö·Éù·Éï·Éê·Éú·Éò·Éê ·É©·Éï·Éî·Éú·É° ·É¢·Éï·Éò·Éú·É° ·É©·Éï·Éî·Éú·Éò ·É®·Éî·É°·Éê·É´·Éö·Éî·Éë·Éö·Éù·Éë·Éî·Éë·Éò·É° ·Éì·Éê·ÉØ·Éî·É†·Éî·Éë·Éê, ·É°·Éê·Éô·É£·Éó·Éê·É†·Éò ·Éó·Éê·Éï·Éò·É° ·Éì·Éê·É§·Éê·É°·Éî·Éë·Éê ·Éê·ÉÆ·Éö·Éî·Éë·É£·É†·Éê·Éì ·Éì·Éê·Éï·Éê·É°·É¨·Éê·Éï·Éö·Éù·Éó.
                            </p>
                            
                            <p style="color: #374151; font-size: 16px; line-height: 1.8; margin-bottom: 15px;">
                                ·É°·Éê·Éô·É£·Éó·Éê·É† ·É¨·Éê·É†·É°·É£·Éö ·É®·Éî·É™·Éì·Éù·Éõ·Éî·Éë·Éñ·Éî, ·Éê·Éú ·Éõ·Éò·É£·É¶·É¨·Éî·Éï·Éî·Éö ·É©·Éê·Éú·Éê·É§·Éò·É•·É†·Éî·Éë·Éñ·Éî ·Éì·Éê·É†·Éì·Éò·Éó, ·É®·Éî·Éú ·É©·Éê·Éï·Éê·É†·Éì·Éú·Éò·É° ·É†·Éò·É°·Éô·É° ·Éñ·É†·Éì·Éò. ·Éù·É† ·É†·Éê·Éõ·Éî·Éñ·Éî ·Éê·É† ·É¶·Éò·É†·É° ·Éú·Éî·É†·Éï·Éò·É£·Éö·Éù·Éë·Éê: ·Éò·Éõ·Éê·Éñ·Éî, ·É†·Éê·É°·Éê·É™ ·Éï·Éî·É† ·É®·Éî·É™·Éï·Éö·Éò ·Éì·Éê ·Éò·Éõ·Éê·Éñ·Éî, ·É†·Éò·É°·Éò ·É®·Éî·É™·Éï·Éö·Éê·É™ ·Éì·É¶·Éî·Éò·Éì·Éê·Éú ·É®·Éî·Éí·Éò·É´·Éö·Éò·Éê. ·Éê·Éõ·Éò·É¢·Éù·Éõ ·Éì·Éê·Éë·É†·É£·Éú·Éì·Éò ·Éê·É¨·Éõ·Éß·Éù·É®·Éò ·Éì·Éê ·Éì·Éê·É§·Éò·É•·É†·Éì·Éò ·Éò·Éõ·Éê·Éñ·Éî, ·Éó·É£ ·É†·Éê·É° ·Éê·Éô·Éî·Éó·Éî·Éë ·Éì·É¶·Éî·É°. ·É°·ÉÆ·Éï·Éê, ·É†·Éù·Éõ ·É°·Éê·Éî·É†·Éó·Éù·Éì ·Éê·É†·Éê·É§·Éî·É†·Éò ·Éí·Éê·Éê·Éô·Éî·Éó·Éù, ·É®·Éî·Éú ·ÉÆ·Éù·Éõ ·É°·Éò·É§·ÉÆ·Éò·Éñ·Éö·Éò·É° ·É®·Éî·Éú·Éê·É†·É©·É£·Éú·Éî·Éë·Éò·Éó ·É£·Éô·Éï·Éî ·É°·Éê·Éô·É£·Éó·Éê·É†·Éò ·Éó·Éê·Éï·Éò·É° ·É£·Éô·Éî·Éó·Éî·É°·Éò ·Éï·Éî·É†·É°·Éò·Éò·É° ·É®·Éî·É•·Éõ·Éú·Éê·Éñ·Éî ·Éõ·É£·É®·Éê·Éù·Éë!
                            </p>
                            
                            <p style="color: #374151; font-size: 16px; line-height: 1.8; margin-bottom: 15px;">
                                ·Éõ·Éù·Éì·Éò ·Éê·ÉÆ·Éö·Éê ·Éì·Éê·É§·Éò·É•·É†·Éì·Éò ·Éì·Éê ·Éí·Éê·Éò·ÉÆ·É°·Éî·Éú·Éî ·Éò·É° ·Éõ·É™·Éò·É†·Éî, ·Éó·É£ ·Éì·Éò·Éì·Éò ·É°·Éê·É•·Éõ·Éî·Éî·Éë·Éò, ·É†·Éù·Éõ·Éö·Éî·Éë·Éò·É™ ·Éì·É¶·Éî·É° ·Éí·Éê·Éê·Éô·Éî·Éó·Éî ·Éì·Éê ·Éí·Éê·Éõ·Éê·ÉÆ·Éï·Éò·Éö·Éì·Éò ·Éõ·Éê·Éó·Éñ·Éî. ·Éò·Éí·É†·É´·Éî·Éú·Éò ·É°·Éê·Éô·É£·Éó·Éê·É†·Éò ·Éó·Éê·Éï·Éò·Éó ·Éô·Éõ·Éê·Éß·Éù·É§·Éò·Éö·Éî·Éë·Éê, ·É®·Éî·Éú ·Éê·Éõ·Éê·É° ·Éò·Éõ·É°·Éê·ÉÆ·É£·É†·Éî·Éë!
                            </p>
                            
                            <p style="color: #374151; font-size: 16px; line-height: 1.8; margin-bottom: 15px;">
                                ·Éî·É° ·Éí·Éõ·Éò·É†·É£·Éö·Éò ·É°·Éê·É•·Éõ·Éî·Éî·Éë·Éò ·É®·Éî·Éò·É´·Éö·Éî·Éë·Éê ·Éò·Éß·Éù·É° ·É£·Éë·É†·Éê·Éö·Éù·Éì ·Éò·É°, ·É†·Éù·Éõ ·É°·Éê·É¨·Éù·Éö·Éò·Éì·Éê·Éú ·Éê·Éì·Éî·É•·Éò, ·Éô·Éë·Éò·Éö·Éò ·Éí·Éê·Éò·ÉÆ·Éî·ÉÆ·Éî ·Éê·Éú ·É°·Éê·É¨·Éù·Éö·Éò ·Éõ·Éò·Éê·Éö·Éê·Éí·Éî.
                            </p>
                            
                            <p style="color: #374151; font-size: 16px; line-height: 1.8; margin-bottom: 15px;">
                                ·Éß·Éï·Éî·Éö·Éê ·Éú·Éê·Éë·Éò·ÉØ·Éò, ·É†·Éù·Éõ·Éî·Éö·Éò·É™ ·Éí·Éê·Éì·Éê·Éì·Éí·Éò, ·Éê·É¶·Éò·Éê·É†·Éî·Éë·Éò·É° ·É¶·Éò·É†·É°·Éò·Éê. ·Éß·Éï·Éî·Éö·Éê·É° ·Éó·Éê·Éï·Éò·É°·Éò ·É¢·Éî·Éõ·Éû·Éò ·Éê·É•·Éï·É° ·Éî·Éú·Éî·É†·Éí·Éò·Éò·É°·Éê ·Éì·Éê ·É°·Éê·Éô·É£·Éó·Éê·É†·Éò ·Éó·Éê·Éï·Éò·É° ·É†·É¨·Éõ·Éî·Éú·Éò·É° ·Éê·É¶·Éì·Éí·Éî·Éú·Éò·É°.
                            </p>
                            
                            <p style="color: #374151; font-size: 16px; line-height: 1.8; margin-bottom: 20px;">
                                ·Éî·Éú·Éì·Éî ·Éõ·Éê·É° ·Éì·Éê ·Éõ·Éò·Éî·ÉÆ·Éõ·Éê·É†·Éî ·É°·Éê·Éô·É£·Éó·Éê·É† ·Éó·Éê·Éï·É° ·Éê·É†·Éê ·É®·Éî·Éì·Éî·Éí·Éî·Éë·Éò·É°, ·Éê·É†·Éê·Éõ·Éî·Éì ·Éõ·É™·Éì·Éî·Éö·Éù·Éë·Éî·Éë·Éò·É° ·Éì·Éê·É§·Éê·É°·Éî·Éë·Éò·Éó.
                            </p>
                            
                            <div style="background: #F3F4F6; border-left: 4px solid #9CA3AF; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                                <p style="color: #374151; font-size: 15px; line-height: 1.7; font-style: italic; margin: 0;">
                                    "·Éß·Éù·Éï·Éî·Éö·Éì·É¶·Éî ·É©·Éï·Éî·Éú ·Éê·ÉÆ·Éö·Éò·Éì·Éê·Éú ·Éï·Éò·Éë·Éê·Éì·Éî·Éë·Éò·Éó. ·Éß·Éï·Éî·Éö·Éê·Éñ·Éî ·Éõ·Éî·É¢·Éê·Éì ·Éõ·Éú·Éò·É®·Éï·Éú·Éî·Éö·Éù·Éï·Éê·Éú·Éò·Éê, ·Éó·É£ ·É†·Éê·É° ·Éï·Éê·Éô·Éî·Éó·Éî·Éë·Éó ·Éì·É¶·Éî·É°."
                                </p>
                                <p style="color: #6B7280; font-size: 14px; margin-top: 8px; margin-bottom: 0; text-align: right;">
                                    ‚Äî ·Éí·Éê·É£·É¢·Éê·Éõ·Éê ·Éë·É£·Éì·Éê
                                </p>
                            </div>
                            
                            <button id="satisfactionContinueBtn" onclick="continueToSatisfactionInput()" class="btn btn-primary" style="width: 100%; padding: 14px; margin-top: 20px; font-size: 16px;">·Éí·Éê·Éí·É†·É´·Éî·Éö·Éî·Éë·Éê ‚Ä∫</button>
                        </div>
                        
                        <!-- Input form (hidden initially) -->
                        <div id="satisfactionInputForm" style="display: none;">
                            <div id="satisfactionEntriesContainer" style="max-height: 60vh; overflow-y: auto; margin-bottom: 20px;">
                                <!-- Entries will be added here dynamically -->
                            </div>
                            
                            <button onclick="addSatisfactionEntry()" class="btn" style="width: 100%; padding: 12px; font-size: 15px; background: linear-gradient(135deg, #DBEAFE 0%, #93C5FD 100%); color: #1E40AF; border: none; margin-bottom: 15px;">+ ·É©·Éê·Éú·Éê·É¨·Éî·É†·Éò·É° ·Éì·Éê·Éõ·Éê·É¢·Éî·Éë·Éê</button>
                            
                            <div style="display: flex; gap: 10px;">
                                <button onclick="saveAllSatisfactionEntries()" class="btn btn-secondary" style="flex: 1; padding: 15px; font-size: 16px;">·É®·Éî·Éú·Éê·ÉÆ·Éï·Éê</button>
                                <button onclick="closeSatisfactionModal()" class="btn btn-secondary" style="flex: 1; padding: 15px; font-size: 16px;">·Éí·Éê·É£·É•·Éõ·Éî·Éë·Éê</button>
                            </div>
                        </div>
                        
                        <button onclick="closeSatisfactionModal()" class="btn btn-secondary" style="width: 100%; padding: 15px; margin-top: 20px; font-size: 16px;" id="satisfactionCloseBtn">·Éì·Éê·ÉÆ·É£·É†·Éï·Éê</button>
                    </div>
                </div>
            </div>
            
            <!-- Remember Modal -->
            <div id="rememberModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 1000; overflow-y: auto;">
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 20px;">
                    
                    <!-- Page 1 -->
                    <div id="rememberPage1" style="display: block; max-width: 800px; margin: 0 auto; padding: 20px 15px;">
                        <div style="background: white; border-radius: 16px; padding: 20px; box-shadow: 0 10px 40px rgba(0,0,0,0.3);">
                            <div style="text-align: center; font-size: 36px; margin-bottom: 15px;">üí°</div>
                            <h2 style="color: #14b8a6; text-align: center; margin-bottom: 25px; font-size: 24px;">·Éí·Éê·ÉÆ·É°·Éù·Éï·Éì·Éî·É°!</h2>
                            
                            <div style="background: #f0fdfa; border-left: 4px solid #14b8a6; padding: 20px; border-radius: 8px;">
                                <p style="color: #333; line-height: 1.8; font-size: 16px; margin: 0;">
                                    ·Éì·Éê·Éõ·Éù·Éô·Éò·Éì·Éî·Éë·É£·Éö·Éî·Éë·Éê ·Éê·É†·Éò·É° ·Éõ·É£·Éì·Éõ·Éò·Éï·Éò ·É®·Éò·Éú·Éê·Éí·Éê·Éú·Éò ·Éë·É†·É´·Éù·Éö·Éê ·Éì·Éê·Éõ·Éù·Éô·Éò·Éì·Éî·Éë·É£·Éö ·Éì·Éê ·É†·Éê·É™·Éò·Éù·Éú·Éê·Éö·É£·É† ·Éú·Éê·É¨·Éò·Éö·Éî·Éë·É° ·É®·Éù·É†·Éò·É°. ·Éì·Éê·Éõ·Éù·Éô·Éò·Éì·Éî·Éë·É£·Éö·Éò ·Éú·Éê·É¨·Éò·Éö·Éò·É°·Éó·Éï·Éò·É° ·Éõ·Éó·Éê·Éï·Éê·É†·Éò·Éê ·Éõ·Éù·Éô·Éö·Éî·Éï·Éê·Éì·Éò·Éê·Éú·Éò ·Éò·Éõ·Éû·É£·Éö·É°·É£·É†·Éò ·É°·Éò·Éê·Éõ·Éù·Éï·Éú·Éî·Éë·Éê, ·ÉÆ·Éù·Éö·Éù ·É†·Éê·É™·Éò·Éù·Éú·Éê·Éö·É£·É†·Éò ·Éú·Éê·É¨·Éò·Éö·Éò·É°·Éó·Éï·Éò·É° ·Éò·É° ·Éí·É†·É´·Éî·Éö·Éï·Éê·Éì·Éò·Éê·Éú·Éò ·É¶·Éò·É†·Éî·Éë·É£·Éö·Éò ·É™·Éï·Éö·Éò·Éö·Éî·Éë·Éî·Éë·Éò, ·É†·Éù·Éõ·Éö·Éî·Éë·É°·Éê·É™ ·Éõ·Éó·Éö·Éò·Éê·Éú·Éò ·Éû·Éò·É†·Éù·Éï·Éú·Éî·Éë·Éê ·Éò·É¶·Éî·Éë·É° ·Éó·Éï·Éò·Éó·Éô·Éù·Éú·É¢·É†·Éù·Éö·Éò·É° ·Éí·Éê·Éõ·Éù·Éõ·ÉÆ·Éê·É¢·Éï·Éî·Éö·Éò ·É•·É™·Éî·Éï·Éò·Éó.
                                </p>
                            </div>
                            
                            <button onclick="showRememberPage(2)" class="btn btn-primary" style="width: 100%; margin-top: 20px;">·É®·Éî·Éõ·Éì·Éî·Éí·Éò ‚Üí</button>
                        </div>
                    </div>
                    
                    <!-- Page 2 -->
                    <div id="rememberPage2" style="display: none; max-width: 800px; margin: 0 auto; padding: 20px 15px;">
                        <div style="background: white; border-radius: 16px; padding: 20px; box-shadow: 0 10px 40px rgba(0,0,0,0.3);">
                            <div style="text-align: center; font-size: 36px; margin-bottom: 15px;">üß†</div>
                            <h2 style="color: #14b8a6; text-align: center; margin-bottom: 25px; font-size: 24px;">·É®·Éî·Éú·Éò ·Éì·Éê·Éõ·Éù·Éô·Éò·Éì·Éî·Éë·É£·Éö·Éò ·Éí·Éù·Éú·Éî·Éë·Éê</h2>
                            
                            <div style="background: #f0fdfa; border-left: 4px solid #14b8a6; padding: 20px; border-radius: 8px;">
                                <p style="color: #333; line-height: 1.8; font-size: 16px; margin-bottom: 15px;">
                                    ·É®·Éî·Éú·Éò ·Éì·Éê·Éõ·Éù·Éô·Éò·Éì·Éî·Éë·É£·Éö·Éò ·Éí·Éù·Éú·Éî·Éë·Éê ·Éî·É™·Éì·Éî·Éë·Éê ·Éì·Éê·Éí·Éê·É†·É¨·Éõ·É£·Éú·Éù·É°, ·É†·Éù·Éõ ·Éõ·Éò·Éò·É¶·Éù ·Éú·Éò·Éï·Éó·Éò·Éî·É†·Éî·Éë·Éê ·Éì·Éê ·Éî·É™·Éì·Éî·Éë·Éê ·É®·Éî·Éú·É° ·Éõ·Éù·ÉÆ·Éò·Éë·Éö·Éï·Éê·É° ·Éõ·Éù·Éí·Éù·Éú·Éî·Éë·Éî·Éë·Éò·Éó ·Éú·Éò·Éï·Éó·Éò·Éî·É†·Éî·Éë·Éò·É° ·Éñ·Éî·Éõ·Éù·É•·Éõ·Éî·Éì·Éî·Éë·Éò·É° ·Éõ·Éù·Éô·Éö·Éî·Éï·Éê·Éì·Éò·Éê·Éú ·É°·Éê·É°·Éò·Éê·Éõ·Éù·Éï·Éú·Éù ·Éî·É§·Éî·É•·É¢·Éñ·Éî. ·É£·Éê·É†·Éß·Éù·É§·Éò·Éó·Éò ·É®·Éî·Éì·Éî·Éí·Éî·Éë·Éò ·Éì·Éê ·Éú·Éê·Éô·Éö·Éù·Éï·Éê·Éú·Éî·Éë·Éî·Éë·Éò, ·É†·Éù·Éí·Éù·É†·É™ ·É¨·Éî·É°·Éò ·Éï·Éö·Éò·Éú·Éì·Éî·Éë·Éê ·É®·Éî·Éõ·Éì·Éí·Éù·Éõ·É®·Éò, ·Éí·É†·É´·Éî·Éö·Éï·Éê·Éì·Éò·Éê·Éú ·Éû·Éî·É†·É°·Éû·Éî·É•·É¢·Éò·Éï·Éê·É®·Éò.
                                </p>
                                <p style="color: #333; line-height: 1.8; font-size: 16px; margin: 0;">
                                    ·Éõ·Éê·Éí·É†·Éê·Éõ ·Éó·É£ ·É®·Éî·Éú ·Éì·Éê·Éò·É¨·Éß·Éî·Éë ·Éõ·Éê·Éó·Éñ·Éî ·É§·Éò·É•·É†·É° ·Éõ·Éê·Éú·Éê·Éõ, ·É°·Éê·Éú·Éê·Éõ ·Éõ·Éò·Éò·É¶·Éî·Éë ·Éõ·Éù·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éò·É° ·Éí·Éê·Éì·Éê·É¨·Éß·Éï·Éî·É¢·Éò·Éö·Éî·Éë·Éê·É°, ·É®·Éî·Éú ·Éí·Éê·Éê·Éõ·Éß·Éê·É†·Éî·Éë ·É°·Éê·Éô·É£·Éó·Éê·É† ·É†·Éê·É™·Éò·Éù·Éú·Éê·Éö·É£·É† ·Éí·Éù·Éú·Éî·Éë·Éê·É° ·Éì·Éê ·Éê·Éê·Éõ·Éê·É¶·Éö·Éî·Éë ·Éö·É¢·Éù·Éö·Éï·Éò·É° ·É¨·Éê·É†·Éõ·Éê·É¢·Éî·Éë·É£·Éö·Éê·Éì ·Éí·Éê·Éì·Éê·Éö·Éê·ÉÆ·Éï·Éò·É° ·É®·Éê·Éú·É°·É°.
                                </p>
                            </div>
                            
                            <div style="display: flex; gap: 10px; margin-top: 20px;">
                                <button onclick="showRememberPage(1)" class="btn btn-secondary" style="flex: 1;">‚Üê ·É£·Éô·Éê·Éú</button>
                                <button onclick="showRememberPage(3)" class="btn btn-primary" style="flex: 1;">·É®·Éî·Éõ·Éì·Éî·Éí·Éò ‚Üí</button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Page 3 -->
                    <div id="rememberPage3" style="display: none; max-width: 800px; margin: 0 auto; padding: 20px 15px;">
                        <div style="background: white; border-radius: 16px; padding: 20px; box-shadow: 0 10px 40px rgba(0,0,0,0.3);">
                            <div style="text-align: center; font-size: 36px; margin-bottom: 15px;">‚öñÔ∏è</div>
                            <h2 style="color: #14b8a6; text-align: center; margin-bottom: 25px; font-size: 24px;">·Éí·É†·É´·Éî·Éö·Éï·Éê·Éì·Éò·Éê·Éú·Éò ·Éû·Éî·É†·É°·Éû·Éî·É•·É¢·Éò·Éï·Éê</h2>
                            
                            <div style="background: #f0fdfa; border-left: 4px solid #14b8a6; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                                <p style="color: #333; line-height: 1.8; font-size: 16px; font-weight: 600; margin: 0;">
                                    ·Éú·Éò·Éï·Éó·Éò·Éî·É†·Éî·Éë·Éê ·É†·Éò·É° ·Éõ·Éù·É™·Éî·Éõ·Éê·É°·Éê·É™ ·Éõ·Éù·Éô·Éö·Éî·Éï·Éê·Éì·Éò·Éê·Éú ·Éû·Éî·É†·É°·Éû·Éî·É•·É¢·Éò·Éï·Éê·É®·Éò ·Éí·Éû·Éò·É†·Éì·Éî·Éë·Éê, ·É°·É¨·Éù·É†·Éî·Éì ·Éò·Éõ·Éê·É° ·Éí·Éê·É†·Éó·Éõ·Éî·Éï·É° ·Éí·É†·É´·Éî·Éö·Éï·Éê·Éì·Éò·Éê·Éú ·Éû·Éî·É†·É°·Éû·Éî·É•·É¢·Éò·Éï·Éê·É®·Éò.
                                </p>
                            </div>
                            
                            <p style="color: #333; line-height: 1.8; font-size: 16px; text-align: center; margin-bottom: 30px;">
                                ·Éí·Éû·Éò·É†·Éì·Éî·Éë·Éê ·Éì·Éê·Éõ·É®·Éï·Éò·Éì·Éî·Éë·Éê·É° ·Éê·ÉÆ·Éö·Éê? ·É°·Éê·Éõ·É£·Éì·Éê·Éõ·Éù·Éì ·Éê·É•·É†·Éù·Éë·É° ·Éú·Éê·Éõ·Éì·Éï·Éò·Éö·Éò ·É°·Éò·Éõ·É®·Éï·Éò·Éì·Éò·É° ·É®·Éî·Éí·É†·É´·Éú·Éî·Éë·Éê·É° ·É®·Éî·Éú·Éò ·É™·ÉÆ·Éù·Éï·É†·Éî·Éë·Éò·Éì·Éê·Éú.
                            </p>
                            
                            <div style="display: flex; gap: 10px;">
                                <button onclick="showRememberPage(2)" class="btn btn-secondary" style="flex: 1;">‚Üê ·É£·Éô·Éê·Éú</button>
                                <button onclick="closeRememberModal()" class="btn btn-primary" style="flex: 1;">‚úì ·Éì·Éê·ÉÆ·É£·É†·Éï·Éê</button>
                            </div>
                        </div>
                    </div>
                    
                </div>
            </div>
            
            <!-- ============ PRIVACY MODALS ============ -->
            
            <!-- Privacy Initial Modal -->
            <div id="privacyModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); z-index: 10000; padding: 20px;">
                <div style="background: white; max-width: 600px; margin: 30px auto; border-radius: 16px; padding: 35px 25px; text-align: center;">
                    
                    <div style="font-size: 60px; margin-bottom: 15px;">üõ°Ô∏è</div>
                    
                    <h2 style="color: #333; margin-bottom: 20px; font-size: 24px; font-weight: 700;">·É®·Éî·Éú·Éò ·Éõ·Éù·Éú·Éê·É™·Éî·Éõ·Éî·Éë·Éò ·Éì·Éê·É™·É£·Éö·Éò·Éê</h2>
                    
                    <p style="color: #555; line-height: 1.8; font-size: 16px; margin-bottom: 15px;">
                        ·É®·Éî·Éú·Éò ·Éò·Éú·É§·Éù·É†·Éõ·Éê·É™·Éò·Éê ·Éò·Éú·Éê·ÉÆ·Éî·Éë·Éê ·Éõ·ÉÆ·Éù·Éö·Éù·Éì ·É®·Éî·Éú·É° ·Éõ·Éù·É¨·Éß·Éù·Éë·Éò·Éö·Éù·Éë·Éê·Éñ·Éî. 
                        ·É©·Éï·Éî·Éú ·Éê·É† ·Éí·Éï·Éê·É•·Éï·É° ·É¨·Éï·Éì·Éù·Éõ·Éê ·É®·Éî·Éú·É° ·Éû·Éò·É†·Éê·Éì ·Éõ·Éù·Éú·Éê·É™·Éî·Éõ·Éî·Éë·Éñ·Éî.
                    </p>
                    
                    <p style="color: #555; line-height: 1.8; font-size: 16px; margin-bottom: 15px;">
                        ·É®·Éî·Éò·É´·Éö·Éî·Éë·Éê ·Éí·Éê·Éõ·Éù·Éß·Éî·Éú·Éî·Éë·É£·Éö ·Éò·É•·Éú·Éî·É° ·Éõ·ÉÆ·Éù·Éö·Éù·Éì ·Éê·Éú·Éù·Éú·Éò·Éõ·É£·É†·Éò 
                        ·É°·É¢·Éê·É¢·Éò·É°·É¢·Éò·Éô·É£·É†·Éò ·Éõ·Éù·Éú·Éê·É™·Éî·Éõ·Éî·Éë·Éò ·Éê·Éû·Éò·É° ·Éí·Éê·É°·Éê·É£·Éõ·ÉØ·Éù·Éë·Éî·É°·Éî·Éë·Éö·Éê·Éì.
                    </p>
                    
                    <p style="color: #555; line-height: 1.8; font-size: 16px; margin-bottom: 25px;">
                        ·Éì·Éê·Éó·Éê·Éú·ÉÆ·Éõ·Éî·Éë·Éò·Éó, ·Éê·É°·Éî·Éï·Éî ·Éê·Éì·Éê·É°·É¢·É£·É†·Éî·Éë ·É†·Éù·Éõ ·É®·Éî·Éú·Éò ·Éê·É°·Éê·Éô·Éò 
                        ·Éê·É†·Éò·É° ·Éõ·Éò·Éú·Éò·Éõ·É£·Éõ <strong>18 ·É¨·Éî·Éö·Éò</strong>.
                    </p>
                    
                    <!-- Accept Button -->
                    <button onclick="acceptPrivacy()" 
                            style="width: 100%; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; padding: 18px; border-radius: 12px; cursor: pointer; font-weight: 600; font-size: 17px; box-shadow: 0 4px 12px rgba(20,184,166,0.4); margin-bottom: 15px;">
                        ‚úì ·Éô·Éê·É†·Éí·Éò, ·Éï·Éî·Éó·Éê·Éú·ÉÆ·Éõ·Éî·Éë·Éò
                    </button>
                    
                    <!-- Show Policy Button -->
                    <button onclick="showPrivacyPolicy()" 
                            style="width: 100%; background: white; color: #667eea; border: 2px solid #667eea; padding: 18px; border-radius: 12px; cursor: pointer; font-weight: 600; font-size: 17px; margin-bottom: 15px;">
                        ·É†·Éù·Éí·Éù·É† ·Éï·Éò·Éß·Éî·Éú·Éî·Éë·Éó ·Éõ·Éù·Éú·Éê·É™·Éî·Éõ·Éî·Éë·É°
                    </button>
                    
                    <!-- Decline Button -->
                    <button onclick="declinePrivacy()" 
                            style="width: 100%; background: transparent; color: #999; border: none; padding: 12px; cursor: pointer; font-size: 15px;">
                        ·Éê·É†·Éê, ·Éê·É† ·Éõ·Éò·Éú·Éì·Éê
                    </button>
                    
                </div>
            </div>
            
            <!-- Privacy Policy Detail Modal -->
            <div id="privacyPolicyModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); z-index: 10001; overflow-y: auto; padding: 20px;">
                <div style="background: white; max-width: 700px; margin: 30px auto; border-radius: 16px; padding: 40px 30px;">
                    
                    <h2 style="color: #333; margin-bottom: 25px; font-size: 24px; font-weight: 700; text-align: center;">üìñ ·É†·Éù·Éí·Éù·É† ·Éï·Éò·Éß·Éî·Éú·Éî·Éë·Éó ·É®·Éî·Éú·É° ·Éõ·Éù·Éú·Éê·É™·Éî·Éõ·Éî·Éë·É°</h2>
                    
                    <div style="color: #555; line-height: 1.8; font-size: 16px; text-align: left;">
                        
                        <h3 style="color: #667eea; margin-top: 25px; margin-bottom: 15px; font-size: 18px; font-weight: 600;">·É†·Éê·É° ·Éï·Éò·Éú·Éê·ÉÆ·Éê·Éï·Éó?</h3>
                        <ul style="padding-left: 25px; margin-bottom: 20px;">
                            <li style="margin-bottom: 8px;">·É®·Éî·Éõ·Éù·É¨·Éõ·Éî·Éë·Éò·É° ·Éò·É°·É¢·Éù·É†·Éò·Éê</li>
                            <li style="margin-bottom: 8px;">·É¢·É†·Éò·Éí·Éî·É†·Éî·Éë·Éò ·Éì·Éê ·Éõ·Éù·É¢·Éò·Éï·Éê·É™·Éò·Éî·Éë·Éò</li>
                            <li style="margin-bottom: 8px;">·Éî·Éõ·Éù·É™·Éò·É£·É†·Éò ·Éõ·Éì·Éí·Éù·Éõ·Éê·É†·Éî·Éù·Éë·Éê</li>
                            <li style="margin-bottom: 8px;">SOS ·Éê·Éñ·É†·Éî·Éë·Éò ·Éì·Éê ·Éí·Éê·Éõ·Éù·É°·Éê·Éï·Éê·Éö·Éò ·Éí·Éñ·Éî·Éë·Éò</li>
                        </ul>
                        
                        <h3 style="color: #667eea; margin-top: 25px; margin-bottom: 15px; font-size: 18px; font-weight: 600;">·É°·Éê·Éì ·Éò·Éú·Éê·ÉÆ·Éî·Éë·Éê?</h3>
                        <p style="margin-bottom: 20px;">
                            ·Éõ·ÉÆ·Éù·Éö·Éù·Éì ·É®·Éî·Éú·É° ·Éõ·Éù·É¨·Éß·Éù·Éë·Éò·Éö·Éù·Éë·Éê·Éñ·Éî (·Éö·Éù·Éô·Éê·Éö·É£·É†·Éê·Éì).<br>
                            ·Éê·É†·Éê·É§·Éî·É†·Éò ·Éê·É† ·Éò·Éí·Éñ·Éê·Éï·Éú·Éî·Éë·Éê ·É°·Éî·É†·Éï·Éî·É†·Éñ·Éî.
                        </p>
                        
                        <h3 style="color: #667eea; margin-top: 25px; margin-bottom: 15px; font-size: 18px; font-weight: 600;">·É†·Éê·É° ·Éê·É† ·Éï·Éê·Éí·É†·Éù·Éï·Éî·Éë·Éó?</h3>
                        <ul style="padding-left: 25px; margin-bottom: 20px;">
                            <li style="margin-bottom: 8px;">·É°·Éê·ÉÆ·Éî·Éö·Éò, ·Éí·Éï·Éê·É†·Éò, ·Éî·Éö·É§·Éù·É°·É¢·Éê</li>
                            <li style="margin-bottom: 8px;">·É¢·Éî·Éö·Éî·É§·Éù·Éú·Éò, ·Éõ·Éò·É°·Éê·Éõ·Éê·É†·Éó·Éò</li>
                            <li style="margin-bottom: 8px;">·Éö·Éù·Éô·Éê·É™·Éò·Éê, IP ·Éõ·Éò·É°·Éê·Éõ·Éê·É†·Éó·Éò</li>
                            <li style="margin-bottom: 8px;">·É§·Éù·É¢·Éù·Éî·Éë·Éò, ·Éô·Éù·Éú·É¢·Éê·É•·É¢·Éî·Éë·Éò</li>
                        </ul>
                        
                        <h3 style="color: #667eea; margin-top: 25px; margin-bottom: 15px; font-size: 18px; font-weight: 600;">·Éê·Éú·Éù·Éú·Éò·Éõ·É£·É†·Éò ·É°·É¢·Éê·É¢·Éò·É°·É¢·Éò·Éô·Éê</h3>
                        <p style="margin-bottom: 15px;">
                            ·Éõ·ÉÆ·Éù·Éö·Éù·Éì ·Éó·É£ ·Éì·Éê·Éî·Éó·Éê·Éú·ÉÆ·Éõ·Éî·Éë·Éò, ·É®·Éî·Éò·É´·Éö·Éî·Éë·Éê:
                        </p>
                        <ul style="padding-left: 25px; margin-bottom: 20px;">
                            <li style="margin-bottom: 8px;">·É†·Éê·Éõ·Éì·Éî·Éú·ÉØ·Éî·É† ·Éí·Éê·Éõ·Éù·Éò·Éß·Éî·Éú·Éî·Éë·Éê ·Éê·Éû·Éò (·É†·Éê·Éù·Éì·Éî·Éú·Éù·Éë·Éê)</li>
                            <li style="margin-bottom: 8px;">·É†·Éù·Éõ·Éî·Éö·Éò ·É§·É£·Éú·É•·É™·Éò·Éî·Éë·Éò·Éê ·Éû·Éù·Éû·É£·Éö·Éê·É†·É£·Éö·Éò</li>
                            <li style="margin-bottom: 8px;">·Éê·É†·Éê·É°·Éù·Éì·Éî·É° ·Éû·Éò·É†·Éê·Éì·Éò ·Éò·Éú·É§·Éù·É†·Éõ·Éê·É™·Éò·Éê</li>
                        </ul>
                        <p style="margin-bottom: 20px;">
                            ·Éê·Éõ ·Éõ·Éù·Éú·Éê·É™·Éî·Éõ·Éî·Éë·É° ·Éï·Éò·Éß·Éî·Éú·Éî·Éë·Éó ·Éê·Éû·Éò·É° ·Éí·Éê·É°·Éê·É£·Éõ·ÉØ·Éù·Éë·Éî·É°·Éî·Éë·Éö·Éê·Éì 
                            ·Éì·Éê ·É£·Éô·Éî·Éó·Éî·É°·Éò ·É§·É£·Éú·É•·É™·Éò·Éî·Éë·Éò·É° ·É®·Éî·É°·Éê·É•·Éõ·Éú·Éî·Éö·Éê·Éì.
                        </p>
                        
                        <h3 style="color: #667eea; margin-top: 25px; margin-bottom: 15px; font-size: 18px; font-weight: 600;">18+ ·Éê·É°·Éê·Éô·Éò·É° ·Éõ·Éù·Éó·ÉÆ·Éù·Éï·Éú·Éê</h3>
                        <p style="margin-bottom: 30px;">
                            ·Éî·É° ·Éê·Éû·Éò ·Éí·Éê·Éú·Éô·É£·Éó·Éï·Éú·Éò·Éö·Éò·Éê ·Éõ·ÉÆ·Éù·Éö·Éù·Éì ·É°·É†·É£·Éö·É¨·Éö·Éù·Éï·Éê·Éú·Éò 
                            ·Éê·Éì·Éê·Éõ·Éò·Éê·Éú·Éî·Éë·Éò·É°·Éó·Éï·Éò·É° (18 ·É¨·Éî·Éö·Éò ·Éì·Éê ·Éñ·Éî·Éõ·Éù·Éó).
                        </p>
                        
                    </div>
                    
                    <!-- Back Button -->
                    <button onclick="closePrivacyPolicy()" 
                            style="width: 100%; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; padding: 18px; border-radius: 12px; cursor: pointer; font-weight: 600; font-size: 17px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">
                        ‚Üê ·É£·Éô·Éê·Éú
                    </button>
                    
                </div>
            </div>
            
            <!-- Privacy Declined Modal -->
            <div id="privacyDeclinedModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); z-index: 10002;">
                <div style="background: white; max-width: 500px; margin: 100px auto; border-radius: 16px; padding: 40px 30px; text-align: center;">
                    
                    <div style="font-size: 60px; margin-bottom: 20px;">‚ö†Ô∏è</div>
                    
                    <h2 style="color: #333; margin-bottom: 25px; font-size: 22px; font-weight: 700;">·Éí·Éê·Éõ·Éù·Éß·Éî·Éú·Éî·Éë·Éò·É° ·Éí·Éê·Éí·É†·É´·Éî·Éö·Éî·Éë·Éê ·É®·Éî·É£·É´·Éö·Éî·Éë·Éî·Éö·Éò·Éê</h2>
                    
                    <p style="color: #555; line-height: 1.8; font-size: 16px; margin-bottom: 30px;">
                        ·Éî·É° ·Éê·Éû·Éò ·É°·Éê·É≠·Éò·É†·Éù·Éî·Éë·É° ·É®·Éî·Éú·É° ·Éó·Éê·Éú·ÉÆ·Éõ·Éù·Éë·Éê·É° 
                        ·Éô·Éù·Éú·É§·Éò·Éì·Éî·Éú·É™·Éò·Éê·Éö·É£·É†·Éù·Éë·Éò·É° ·Éû·Éù·Éö·Éò·É¢·Éò·Éô·Éê·É°·Éó·Éê·Éú.
                    </p>
                    
                    <button onclick="retryPrivacy()" 
                            style="width: 100%; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; padding: 18px; border-radius: 12px; cursor: pointer; font-weight: 600; font-size: 17px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">
                        ·Éô·Éò·Éì·Éî·Éï ·Éî·É†·Éó·ÉÆ·Éî·Éö ·Éï·É™·Éê·Éì·Éù
                    </button>
                    
                </div>
            </div>
            
    <!-- Bottom Navigation -->
    <div class="bottom-nav" id="bottomNav">
        <button class="bottom-nav-item active" onclick="bottomNavClick('home')">
            <div class="bottom-nav-icon">‚åÇ</div>
            <div class="bottom-nav-label">·Éõ·Éó·Éê·Éï·Éê·É†·Éò</div>
        </button>
        <button class="bottom-nav-item" onclick="bottomNavClick('willpower')">
            <div class="bottom-nav-icon">‚ö°</div>
            <div class="bottom-nav-label">·Éú·Éî·Éë·Éò·É° ·É´·Éê·Éö·Éê</div>
        </button>
        <button class="bottom-nav-item" onclick="bottomNavClick('connection')">
            <div class="bottom-nav-icon">‚óâ</div>
            <div class="bottom-nav-label">·Éô·Éê·Éï·É®·Éò·É†·Éò</div>
        </button>
        <button class="bottom-nav-item" onclick="bottomNavClick('support')">
            <div class="bottom-nav-icon">‚óê</div>
            <div class="bottom-nav-label">·Éõ·ÉÆ·Éê·É†·Éì·Éê·É≠·Éî·É†·Éê</div>
        </button>
        <button class="bottom-nav-item" onclick="bottomNavClick('profile')">
            <div class="bottom-nav-icon">‚óØ</div>
            <div class="bottom-nav-label">·Éû·É†·Éù·É§·Éò·Éö·Éò</div>
        </button>
    </div>
            
</body>
</html>
