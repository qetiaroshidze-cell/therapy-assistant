<!DOCTYPE html>
<html lang="ka">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>áƒ—áƒ”áƒ áƒáƒáƒ˜áƒ£áƒšáƒ˜ áƒáƒ¡áƒ˜áƒ¡áƒ¢áƒ”áƒœáƒ¢áƒ˜ - áƒ›áƒáƒ¢áƒ˜áƒ•áƒáƒªáƒ˜áƒ”áƒ‘áƒ˜áƒ—</title>
    
    <!-- PWA Meta Tags -->
    <link rel="manifest" href="manifest.json">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="áƒ—áƒ”áƒ áƒáƒáƒ˜áƒ">
    <meta name="theme-color" content="#667eea">
    <link rel="apple-touch-icon" href="icon-192.png">
    
    <style>
        /* 
         * ===== áƒ«áƒ˜áƒ áƒ˜áƒ—áƒáƒ“áƒ˜ áƒ¤áƒ”áƒ áƒ˜ =====
         * PRIMARY_COLOR (áƒ¦áƒ˜áƒšáƒáƒ™áƒ”áƒ‘áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡ - áƒ¤áƒ˜áƒ áƒ£áƒ–áƒ˜áƒ¡áƒ¤áƒ”áƒ áƒ˜-áƒ˜áƒáƒ¡áƒáƒ›áƒœáƒ˜áƒ¡áƒ¤áƒ”áƒ áƒ˜):
         * background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%);
         * 
         * áƒ”áƒ¡ áƒ¤áƒ”áƒ áƒ˜ áƒ’áƒáƒ›áƒáƒ˜áƒ§áƒ”áƒœáƒ”áƒ‘áƒ á²§á²•á²”á²šá² áƒ¦áƒ˜áƒšáƒáƒ™áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡!
         */
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            /* No white background */
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 30px;
            text-align: center;
            position: relative;
        }
        .logout-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(255,255,255,0.2);
            color: white;
            border: 1px solid rgba(255,255,255,0.4);
            padding: 8px 15px;
            border-radius: 8px;
            font-size: 13px;
            cursor: pointer;
            font-weight: 600;
        }
        .logout-btn:hover {
            background: rgba(255,255,255,0.3);
        }
        .header h1 { 
            font-size: 18px; 
            margin-bottom: 3px;
            font-weight: 600;
        }
        .header p {
            font-size: 12px;
            opacity: 0.85;
        }
        .content { padding: 12px; }
        .section { display: none; }
        .section.active { display: block; }
        .form-group { margin-bottom: 20px; }
        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 500;
        }
        .form-group input,
        .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 16px;
        }
        .btn {
            width: 100%;
            padding: 12px;
            border: none;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 10px;
        }
        .btn-primary {
            background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%);
            color: white;
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(139, 92, 246, 0.4);
        }
        .btn-teal {
            background: #14b8a6;
            color: white;
        }
        .btn-teal:hover {
            background: #0d9488;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(20, 184, 166, 0.4);
        }
        .btn-secondary {
            background: #f0f0f0;
            color: #666;
        }
        .btn-yes { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important; color: white; }
        .btn-no { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important; color: white; }
        .btn-logout { background: #ef4444; color: white; }
        .message {
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 15px;
            display: none;
        }
        .error { background: #fee; color: #c33; }
        .success { background: #e3f2fd; color: #1976d2; border: 1px solid #90caf9; }
        .streak-display {
            text-align: center;
            padding: 30px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 15px;
            color: white;
            margin-bottom: 30px;
        }
        .streak-number { font-size: 64px; font-weight: bold; }
        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 30px;
        }
        .stat-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
        }
        .stat-value {
            font-size: 32px;
            font-weight: bold;
            color: #667eea;
        }
        .check-in-section {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 30px;
        }
        .check-in-buttons {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        .btn-yes, .btn-no { flex: 1; }
        .milestone {
            padding: 12px;
            background: #f8f9fa;
            border-radius: 10px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }
        .milestone.achieved {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
        }
        .milestone-icon {
            font-size: 32px;
            margin-right: 15px;
        }
        .profile-section {
            margin-top: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 15px;
        }
        .profile-info { margin-bottom: 15px; }
        .congrats {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 20px;
            display: none;
        }
        .congrats.show { display: block; }
        .calendar { margin: 30px 0; }
        .calendar h3 {
            text-align: center;
            margin-bottom: 15px;
            color: #333;
        }
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
            max-width: 800px;
            margin: 0 auto;
        }
        .day-dot {
            aspect-ratio: 1;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            font-weight: 600;
            min-width: 35px;
        }
        .day-dot.sober { background: #10b981; color: white; }
        .day-dot.relapse { background: #ef4444; color: white; }
        .day-dot.empty { background: #e5e7eb; color: #9ca3af; }
        .day-dot.today { box-shadow: 0 0 0 3px #667eea; }
        
        /* Motivations styles */
        .step-indicator {
            text-align: center;
            margin-bottom: 20px;
            color: #666;
            font-size: 14px;
            font-weight: 600;
        }
        .motivation-item {
            padding: 12px;
            background: #f8f9fa;
            border-radius: 10px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
            -webkit-tap-highlight-color: transparent;
            user-select: none;
        }
        .motivation-item:hover { background: #e9ecef; }
        .motivation-item:active { background: #dee2e6; }
        .motivation-item.selected {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: #667eea;
        }
        .motivation-item label {
            cursor: pointer;
            display: flex;
            align-items: flex-start;
            margin: 0;
            width: 100%;
            pointer-events: none;
        }
        .motivation-item input[type="checkbox"] {
            margin-right: 10px;
            margin-top: 3px;
            width: 20px;
            height: 20px;
            flex-shrink: 0;
            pointer-events: auto;
        }
        .custom-motivation-box {
            margin-top: 20px;
            padding: 12px;
            background: #fff3cd;
            border-radius: 10px;
            border-left: 4px solid #ffc107;
        }
        .custom-motivation-box h4 {
            margin-bottom: 10px;
            font-size: 14px;
            color: #856404;
        }
        .recovery-motivation-item {
            padding: 12px;
            background: #e7f3ff;
            border-radius: 8px;
            margin-bottom: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-left: 3px solid #667eea;
        }
        .delete-btn {
            background: #ef4444;
            color: white;
            border: none;
            padding: 5px 12px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 12px;
            font-weight: 600;
        }
        .motivation-card {
            background: #f8f9fa;
            padding: 12px;
            border-radius: 10px;
            margin-bottom: 15px;
            border-left: 4px solid #667eea;
        }
        .motivation-card-header {
            font-weight: 600;
            color: #333;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .motivation-detail {
            margin-top: 10px;
            padding: 10px;
            background: white;
            border-radius: 6px;
        }
        .motivation-detail-label {
            font-size: 12px;
            font-weight: 600;
            margin-bottom: 5px;
        }
        .motivation-detail-negative { color: #ef4444; }
        .motivation-detail-positive { color: #10b981; }
        @media (max-width: 800px) {
            .stats-grid { grid-template-columns: 1fr; }
        }
        .recovery-checkbox.checked {
            background: #e7f3ff !important;
            border-color: #10b981 !important;
        }
        .recovery-checkbox:hover {
            background: #e9ecef !important;
        }
        
        /* New Dashboard Styles */
        .results-button {
            background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%);
            color: white;
            border: none;
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 12px;
            box-shadow: 0 4px 15px rgba(139, 92, 246, 0.3);
            cursor: pointer;
            width: 100%;
            transition: all 0.3s;
            text-align: left;
            font-family: inherit;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        .results-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(139, 92, 246, 0.4);
        }
        .results-content {
            flex: 1;
            text-align: center;
        }
        .results-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 5px;
            text-align: center;
        }
        .results-days {
            font-size: 32px;
            font-weight: bold;
            text-align: center;
        }
        .results-arrow {
            font-size: 24px;
            opacity: 0.8;
        }
        .sos-button {
            background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%);
            color: white;
            border: none;
            border-radius: 16px;
            padding: 20px;
            font-size: 20px;
            font-weight: bold;
            cursor: pointer;
            width: 100%;
            margin-bottom: 12px;
            box-shadow: 0 4px 15px rgba(139, 92, 246, 0.3);
            transition: all 0.3s;
            text-align: center;
        }
        .sos-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(139, 92, 246, 0.4);
        }
        
        /* Motivation buttons - same style as SOS */
        .motivation-btn {
            background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%);
            color: white;
            border: none;
            border-radius: 16px;
            padding: 20px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            width: 100%;
            margin-bottom: 12px;
            box-shadow: 0 4px 15px rgba(139, 92, 246, 0.3);
            transition: all 0.3s;
            text-align: center;
            font-family: inherit;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .motivation-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(139, 92, 246, 0.4);
        }
        
        .grid-section {
            background: white;
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            max-width: 800px;
            margin: 0 auto;
        }
        .grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        .grid-item {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 16px;
            padding: 18px 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
            border: none;
            font-family: inherit;
            height: 115px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }
        .grid-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }
        .grid-icon {
            font-size: 28px;
            margin-bottom: 6px;
        }
        .grid-title {
            font-size: 13px;
            font-weight: bold;
            line-height: 1.1;
        }
        .grid-item.disabled {
            background: #e0e0e0;
            color: #999;
            cursor: not-allowed;
        }
        .grid-item.disabled:hover {
            transform: none;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        .coming-soon {
            font-size: 9px;
            opacity: 0.7;
            position: absolute;
            bottom: 6px;
            left: 0;
            right: 0;
        }
        .tab-button {
            padding: 10px 24px 10px 16px;
            border: 2px solid #a78bfa;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 20px;
            font-size: 14px;
            cursor: pointer;
            white-space: nowrap;
            transition: all 0.3s;
            min-width: 160px;
            text-align: left;
        }
        .tab-button.active {
            background: linear-gradient(135deg, #FCD34D 0%, #F59E0B 100%);
            color: #78350F;
            border-color: #F59E0B;
            font-weight: 600;
        }
        .tab-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 20px;
        }
        .modal-overlay.active {
            display: flex;
        }
        .modal-content {
            background: white;
            border-radius: 20px;
            padding: 25px;
            max-width: 800px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
        }
        .modal-title {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 20px;
            color: #333;
        }
        .modal-btn {
            padding: 12px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            font-family: inherit;
            width: 100%;
        }
        .modal-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 20px;
        }
        .btn-close {
            background: #667eea;
            color: white;
            margin-top: 20px;
        }
        .congrats-box {
            background: #10b981;
            color: white;
            padding: 25px;
            border-radius: 16px;
            margin: 20px 0;
            font-size: 18px;
            line-height: 1.6;
        }
        .relapse-box {
            background: #667eea;
            color: white;
            padding: 25px;
            border-radius: 16px;
            margin: 20px 0;
            font-size: 18px;
            line-height: 1.6;
        }
        .streak-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            border-radius: 16px;
            margin-bottom: 20px;
            text-align: center;
        }
        .streak-big {
            font-size: 72px;
            font-weight: bold;
        }
        .streak-label {
            font-size: 18px;
            margin-top: 10px;
        }
        .calendar-section {
            margin-top: 20px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 12px;
        }
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
            max-width: 800px;
            margin: 0 auto;
        }
        .calendar-day {
            aspect-ratio: 1;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            font-weight: 600;
            min-width: 35px;
            background: #e5e7eb;
            color: #9ca3af;
        }
        .calendar-day.success {
            background: #10b981;
            color: white;
        }
        .calendar-day.today {
            box-shadow: 0 0 0 3px #667eea;
        }
        .milestone {
            background: #f8f9fa;
            padding: 15px 20px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        .milestone-icon {
            font-size: 28px;
        }
        .milestone-label {
            font-size: 16px;
            font-weight: 600;
            color: #333;
        }
        .milestone.achieved {
            background: #10b981;
            color: white;
        }
        .milestone.achieved .milestone-label {
            color: white;
        }
        .milestone.next {
            background: #f8f9fa;
            border: 2px dashed #999;
        }
        .milestone.next .milestone-label {
            color: #666;
        }
        
        /* === COPING MECHANISMS STYLES === */
        
        /* Main menu buttons */
        .menu-card {
            background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%);
            color: white;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(20, 184, 166, 0.3);
        }
        .menu-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }
        .menu-card-title {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 8px;
        }
        .menu-card-desc {
            font-size: 14px;
            opacity: 0.9;
        }
        
        /* Wave section */
        .wave-title {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 12px 12px 0 0;
            text-align: center;
            font-size: 22px;
            font-weight: bold;
        }
        .wave-text {
            background: #e3f2fd;
            padding: 25px;
            border-radius: 0 0 12px 12px;
            line-height: 1.8;
            color: #333;
            margin-bottom: 30px;
        }
        .wave-text p {
            margin-bottom: 15px;
        }
        .wave-text p:last-child {
            margin-bottom: 0;
        }
        
        .divider {
            height: 2px;
            background: linear-gradient(90deg, transparent, #667eea, transparent);
            margin: 30px 0;
        }
        
        /* Mechanisms */
        .mechanism-item {
            background: #f8f9fa;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 12px;
            border-left: 4px solid #667eea;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .mechanism-item:hover {
            background: #e8ecff;
        }
        .mechanism-item.selected {
            background: #e8f5e9;
            border-left-color: #10b981;
        }
        .mechanism-checkbox {
            width: 24px;
            height: 24px;
            border: 2px solid #667eea;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            flex-shrink: 0;
        }
        .mechanism-item.selected .mechanism-checkbox {
            background: #10b981;
            border-color: #10b981;
            color: white;
        }
        .mechanism-icon {
            font-size: 24px;
            flex-shrink: 0;
        }
        .mechanism-text {
            flex: 1;
            color: #333;
            line-height: 1.6;
        }
        
        /* Thoughts */
        .thought-card {
            background: #f8f9fa;
            padding: 12px;
            border-radius: 8px;
            border-left: 4px solid #667eea;
            margin-bottom: 15px;
            cursor: pointer;
            transition: all 0.2s;
        }
        .thought-card:hover { background: #e8ecff; }
        .thought-card-header {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .status-icon { font-size: 20px; }
        .thought-text { 
            flex: 1;
            font-weight: 600;
            color: #333;
        }
        .status-text {
            font-size: 12px;
            margin-top: 4px;
        }
        .filled { color: #10b981; }
        .empty { color: #999; }
        .arrow { color: #667eea; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸŒŸ áƒ—áƒ”áƒ áƒáƒáƒ˜áƒ£áƒšáƒ˜ áƒáƒ¡áƒ˜áƒ¡áƒ¢áƒ”áƒœáƒ¢áƒ˜</h1>
            <p>áƒ¨áƒ”áƒœáƒ˜ áƒ’áƒ–áƒ áƒ¯áƒáƒœáƒ¡áƒáƒ¦áƒ˜ áƒªáƒ®áƒáƒ•áƒ áƒ”áƒ‘áƒ˜áƒ¡áƒ™áƒ”áƒœ</p>
        </div>

        <div class="content">
            <!-- Login -->
            <div id="loginSection" class="section active">
                <h2 style="margin-bottom: 20px;">áƒ¨áƒ”áƒ¡áƒ•áƒšáƒ</h2>
                <div id="loginError" class="message error"></div>
                <div class="form-group">
                    <label>áƒ”áƒš. áƒ¤áƒáƒ¡áƒ¢áƒ</label>
                    <input type="email" id="loginEmail">
                </div>
                <div class="form-group">
                    <label>áƒáƒáƒ áƒáƒšáƒ˜</label>
                    <input type="password" id="loginPassword">
                </div>
                <button class="btn btn-primary" onclick="handleLogin()">áƒ¨áƒ”áƒ¡áƒ•áƒšáƒ</button>
                <button class="btn btn-secondary" onclick="showSection('register')">áƒ áƒ”áƒ’áƒ˜áƒ¡áƒ¢áƒ áƒáƒªáƒ˜áƒ</button>
            </div>

            <!-- Register -->
            <div id="registerSection" class="section">
                <h2 style="margin-bottom: 20px;">áƒ áƒ”áƒ’áƒ˜áƒ¡áƒ¢áƒ áƒáƒªáƒ˜áƒ</h2>
                <div id="registerError" class="message error"></div>
                <div id="registerSuccess" class="message success"></div>
                <div class="form-group">
                    <label>áƒ¡áƒáƒ®áƒ”áƒšáƒ˜</label>
                    <input type="text" id="registerName">
                </div>
                <div class="form-group">
                    <label>áƒ”áƒš. áƒ¤áƒáƒ¡áƒ¢áƒ</label>
                    <input type="email" id="registerEmail">
                </div>
                <div class="form-group">
                    <label>áƒáƒáƒ áƒáƒšáƒ˜</label>
                    <input type="password" id="registerPassword">
                </div>
                <button class="btn btn-primary" onclick="handleRegister()">áƒ áƒ”áƒ’áƒ˜áƒ¡áƒ¢áƒ áƒáƒªáƒ˜áƒ</button>
                <button class="btn btn-secondary" onclick="showSection('login')">áƒ¨áƒ”áƒ¡áƒ•áƒšáƒ</button>
            </div>

            <!-- Setup -->
            <div id="setupSection" class="section">
                <h2 style="margin-bottom: 20px;">áƒáƒ áƒáƒ¤áƒ˜áƒšáƒ˜áƒ¡ áƒ¨áƒ”áƒ•áƒ¡áƒ”áƒ‘áƒ</h2>
                <p style="margin-bottom: 20px; color: #666;">áƒ“áƒáƒ›áƒáƒ™áƒ˜áƒ“áƒ”áƒ‘áƒ£áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒáƒ“áƒ£áƒšáƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡</p>
                
                <div class="form-group">
                    <label>áƒ“áƒáƒ›áƒáƒ™áƒ˜áƒ“áƒ”áƒ‘áƒ£áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ¢áƒ˜áƒáƒ˜</label>
                    <select id="addictionType">
                        <option value="">áƒáƒ˜áƒ áƒ©áƒ˜áƒ”áƒ—...</option>
                        <option value="áƒáƒšáƒ™áƒáƒ°áƒáƒšáƒ˜">áƒáƒšáƒ™áƒáƒ°áƒáƒšáƒ˜</option>
                        <option value="áƒœáƒáƒ áƒ™áƒáƒ¢áƒ˜áƒ™áƒ”áƒ‘áƒ˜">áƒœáƒáƒ áƒ™áƒáƒ¢áƒ˜áƒ™áƒ”áƒ‘áƒ˜</option>
                        <option value="áƒ¡áƒ®áƒ•áƒ">áƒ¡áƒ®áƒ•áƒ</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>áƒ‘áƒáƒšáƒ áƒ›áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ</label>
                    <input type="date" id="lastUseDate">
                </div>
                <button class="btn btn-primary" onclick="finishSimpleSetup()">áƒ“áƒáƒ¡áƒ áƒ£áƒšáƒ”áƒ‘áƒ âœ“</button>
                <!-- <button class="btn btn-secondary" onclick="skipSetup()">áƒ’áƒáƒ›áƒáƒ¢áƒáƒ•áƒ”áƒ‘áƒ</button> -->
            </div>

            <!-- Dashboard -->
            <div id="dashboardSection" class="section">
                <!-- Results Button -->
                <button class="results-button" onclick="showFullResultsDirect()">
                    <div class="results-content">
                        <div class="results-title">áƒ©áƒ”áƒ›áƒ˜ áƒ¨áƒ”áƒ“áƒ”áƒ’áƒ”áƒ‘áƒ˜</div>
                        <div class="results-days" id="dashboardStreakDisplay">ğŸ”¥ 0 áƒ“áƒ¦áƒ”</div>
                    </div>
                </button>
                
                <!-- SOS Button -->
                <button class="sos-button" onclick="showSOS()">
                    ğŸ†˜ áƒ’áƒ­áƒ˜áƒ áƒ“áƒ”áƒ‘áƒ áƒ“áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ?
                </button>
                
                <!-- Grid Section -->
                <div class="grid-section">
                    <div class="grid">
                        <button class="grid-item" onclick="showMotivations()">
                            <div class="grid-icon">ğŸ’­</div>
                            <div class="grid-title">áƒ©áƒ”áƒ›áƒ˜<br>áƒ›áƒáƒ¢áƒ˜áƒ•áƒáƒªáƒ˜áƒ”áƒ‘áƒ˜</div>
                        </button>
                        
                        <button class="grid-item" onclick="showCoping()">
                            <div class="grid-icon">ğŸ§ </div>
                            <div class="grid-title">áƒ’áƒáƒ›áƒ™áƒšáƒáƒ•áƒ”áƒ‘áƒ˜áƒ¡<br>áƒ›áƒ”áƒ¥áƒáƒœáƒ˜áƒ–áƒ›áƒ”áƒ‘áƒ˜</div>
                        </button>
                        
                        <button class="grid-item" onclick="showContact()">
                            <div class="grid-icon">ğŸ“</div>
                            <div class="grid-title">áƒ™áƒáƒœáƒ¢áƒáƒ¥áƒ¢áƒ˜</div>
                            <span id="contactBadge" style="display: none; position: absolute; top: 8px; right: 8px; background: #ef4444; color: white; border-radius: 50%; width: 20px; height: 20px; font-size: 12px; font-weight: bold; display: flex; align-items: center; justify-content: center;">!</span>
                        </button>
                        
                        <button class="grid-item" onclick="showMyGoals()">
                            <div class="grid-icon">ğŸ¯</div>
                            <div class="grid-title">áƒ©áƒ”áƒ›áƒ˜<br>áƒ›áƒ˜áƒ–áƒœáƒ”áƒ‘áƒ˜</div>
                        </button>
                        
                        <button class="grid-item" onclick="showMySpace()">
                            <div class="grid-icon">âœ¨</div>
                            <div class="grid-title">áƒ©áƒ”áƒ›áƒ˜<br>áƒ¡áƒ˜áƒ•áƒ áƒªáƒ”</div>
                        </button>
                        
                        <button class="grid-item" onclick="showProfile()">
                            <div class="grid-icon">ğŸ‘¤</div>
                            <div class="grid-title">áƒáƒ áƒáƒ¤áƒ˜áƒšáƒ˜</div>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Message Modal (Success) -->
            <div id="messageModal" class="modal-overlay">
                <div class="modal-content">
                    <div class="congrats-box">
                        ğŸ‰ áƒ’áƒ˜áƒšáƒáƒªáƒáƒ•! áƒ™áƒ˜áƒ“áƒ”áƒ• áƒ”áƒ áƒ—áƒ˜ áƒ¬áƒáƒ áƒ›áƒáƒ¢áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒœáƒáƒ‘áƒ˜áƒ¯áƒ˜ áƒáƒ› áƒ¦áƒ˜áƒ áƒ¡áƒ”áƒ£áƒš áƒ’áƒ–áƒáƒ–áƒ”! ğŸ”¥
                    </div>
                    
                    <button class="modal-btn btn-close" onclick="showFullResults(true)">áƒ“áƒáƒ®áƒ£áƒ áƒ•áƒ</button>
                </div>
            </div>

            <!-- Message Modal (Relapse) -->
            <div id="relapseMessageModal" class="modal-overlay">
                <div class="modal-content">
                    <div class="relapse-box">
                        ğŸ’ª áƒ©áƒáƒ•áƒáƒ áƒ“áƒœáƒ áƒáƒ  áƒœáƒ˜áƒ¨áƒœáƒáƒ•áƒ¡ áƒ áƒ”áƒªáƒ˜áƒ“áƒ˜áƒ•áƒ¡. áƒ’áƒáƒ›áƒáƒ’áƒ áƒ“áƒ˜! áƒ’áƒ­áƒ˜áƒ áƒ“áƒ”áƒ‘áƒ áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜ áƒ—áƒáƒ•áƒ˜áƒ¡ áƒ’áƒáƒ«áƒšáƒ˜áƒ”áƒ áƒ”áƒ‘áƒ!
                    </div>
                    
                    <button class="modal-btn btn-close" onclick="showFullResults(false)">áƒ“áƒáƒ®áƒ£áƒ áƒ•áƒ</button>
                </div>
            </div>

            <!-- Full Results Modal -->
            <div id="fullResultsModal" class="modal-overlay">
                <div class="modal-content" style="padding: 0; overflow: hidden; max-width: 95%; width: 95%; max-height: 90vh; height: 90vh; margin: 5vh auto; border-radius: 20px;">
                    <!-- Close button -->
                    <button onclick="closeFullResults()" style="position: absolute; top: 15px; right: 15px; z-index: 10; background: rgba(0,0,0,0.1); border: none; color: #333; width: 35px; height: 35px; border-radius: 50%; font-size: 24px; cursor: pointer; display: flex; align-items: center; justify-content: center;">Ã—</button>
                    
                    <!-- Swipeable container -->
                    <div id="resultsSwipeContainer" style="display: flex; transition: transform 0.3s ease; width: 600%; touch-action: pan-y; height: calc(100% - 60px);">
                        
                        <!-- Page 1: Streak -->
                        <div class="results-page" style="width: 16.666%; flex-shrink: 0; padding: 40px 20px; display: flex; flex-direction: column; align-items: center; justify-content: center;">
                            <div style="font-size: 100px; margin-bottom: 20px;">ğŸ”¥</div>
                            <div class="streak-big" id="fullResultsStreakDisplay" style="font-size: 96px; font-weight: bold; color: #667eea; margin-bottom: 10px;">0</div>
                            <div style="font-size: 32px; color: #666; font-weight: 500;">áƒ“áƒ¦áƒ”</div>
                        </div>
                        
                        <!-- Page 2: Milestones -->
                        <div class="results-page" style="width: 16.666%; flex-shrink: 0; padding: 40px 20px; display: flex; flex-direction: column;">
                            <h3 style="color: #333; margin-bottom: 25px; font-size: 28px; text-align: center;">ğŸ† áƒ›áƒ˜áƒ¦áƒ¬áƒ”áƒ•áƒ”áƒ‘áƒ˜</h3>
                            <div id="milestonesContainer" style="display: flex; flex-direction: column; gap: 15px; overflow-y: auto; padding: 10px; flex: 1;">
                                <!-- Milestones will be generated by JS -->
                            </div>
                        </div>
                        
                        <!-- Page 3: Calendar -->
                        <div class="results-page" style="width: 16.666%; flex-shrink: 0; padding: 40px 20px; display: flex; flex-direction: column; align-items: center; justify-content: center;">
                            <div style="text-align: center; margin-bottom: 20px;">
                                <h3 style="margin: 0 0 15px 0; color: #333; font-size: 28px;">ğŸ“… áƒ‘áƒáƒšáƒ 28 áƒ“áƒ¦áƒ”</h3>
                                <div class="calendar-grid" id="calendarFull" style="display: grid; grid-template-columns: repeat(7, 1fr); gap: 10px; max-width: 420px; width: 100%;">
                                    <!-- Calendar will be generated by JS -->
                                </div>
                            </div>
                        </div>
                        
                        <!-- Page 4: Badges -->
                        <div class="results-page" style="width: 16.666%; flex-shrink: 0; padding: 40px 20px; display: flex; flex-direction: column;">
                            <div id="badgesPageContent">
                                <!-- Will be filled by JS -->
                            </div>
                        </div>
                        
                        <!-- Page 5: Savings -->
                        <div class="results-page" style="width: 16.666%; flex-shrink: 0; padding: 20px; display: flex; flex-direction: column;">
                            <h3 style="color: #333; margin-bottom: 25px; font-size: 28px; text-align: center;">ğŸ’° áƒ“áƒáƒœáƒáƒ–áƒáƒ’áƒ˜</h3>
                            <div id="resultsSavingsContent" style="flex: 1; overflow-y: auto;">
                                <!-- Will be filled by JS -->
                            </div>
                        </div>
                        
                        <!-- Page 6: Willpower -->
                        <div class="results-page" style="width: 16.666%; flex-shrink: 0; padding: 20px; display: flex; flex-direction: column; overflow-y: auto;">
                            <h3 style="color: #333; margin-bottom: 25px; font-size: 28px; text-align: center;">ğŸ’ª áƒœáƒ”áƒ‘áƒ˜áƒ¡ áƒ«áƒáƒšáƒ</h3>
                            <div id="resultsWillpowerContent" style="flex: 1; overflow-y: auto;">
                                <!-- Will be filled by JS -->
                            </div>
                        </div>
                        
                    </div>
                    
                    <!-- Page indicators -->
                    <div style="display: flex; justify-content: center; gap: 12px; padding: 20px; background: white; height: 60px; align-items: center;">
                        <div class="page-dot" data-page="0" style="width: 12px; height: 12px; border-radius: 50%; background: #667eea; cursor: pointer; transition: all 0.3s;"></div>
                        <div class="page-dot" data-page="1" style="width: 12px; height: 12px; border-radius: 50%; background: #d1d5db; cursor: pointer; transition: all 0.3s;"></div>
                        <div class="page-dot" data-page="2" style="width: 12px; height: 12px; border-radius: 50%; background: #d1d5db; cursor: pointer; transition: all 0.3s;"></div>
                        <div class="page-dot" data-page="3" style="width: 12px; height: 12px; border-radius: 50%; background: #d1d5db; cursor: pointer; transition: all 0.3s;"></div>
                        <div class="page-dot" data-page="4" style="width: 12px; height: 12px; border-radius: 50%; background: #d1d5db; cursor: pointer; transition: all 0.3s;"></div>
                        <div class="page-dot" data-page="5" style="width: 12px; height: 12px; border-radius: 50%; background: #d1d5db; cursor: pointer; transition: all 0.3s;"></div>
                    </div>
                </div>
            </div>

            <!-- SOS Section -->
            <div id="sosSection" class="section" style="display: none;">
            </div>
            
            <!-- SOS New Thought Modal -->
            <div id="sosNewThoughtModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; overflow-y: auto;">
                <div style="background: white; max-width: 800px; margin: 30px auto; border-radius: 12px; padding: 40px 20px; min-height: 650px; display: flex; flex-direction: column;">
                    <h2 style="color: #10b981; margin-bottom: 25px; text-align: center; font-size: 22px;">â• áƒáƒ®áƒáƒšáƒ˜ áƒáƒ–áƒ áƒ˜áƒ¡ áƒ“áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒ</h2>
                    
                    <div style="margin-bottom: 25px;">
                        <label style="display: block; margin-bottom: 10px; color: #333; font-size: 15px; font-weight: 600;">áƒ áƒ áƒáƒ–áƒ áƒ˜ áƒ’áƒ˜áƒ©áƒœáƒ“áƒ”áƒ‘áƒ?</label>
                        <textarea id="sosNewThoughtText" placeholder="áƒ›áƒáƒ’: áƒ›áƒ” áƒ¨áƒ”áƒ›áƒ˜áƒ«áƒšáƒ˜áƒ áƒ›áƒáƒ•áƒ˜áƒ®áƒ›áƒáƒ áƒ..." style="width: 100%; min-height: 100px; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px; font-family: inherit; resize: vertical; box-sizing: border-box;"></textarea>
                    </div>
                    
                    <div style="display: flex; gap: 15px; margin-top: auto;">
                        <button class="btn btn-primary" onclick="sosCreateNewThought()" style="flex: 1;">áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’áƒ˜ â†’</button>
                        <button class="btn btn-secondary" onclick="sosCancelNewThought()" style="flex: 1;">áƒ’áƒáƒ£áƒ¥áƒ›áƒ”áƒ‘áƒ</button>
                    </div>
                </div>
            </div>
            
            <!-- SOS Question Modal -->
            <div id="sosQuestionModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; overflow-y: auto;">
                <div style="background: white; max-width: 800px; margin: 30px auto; border-radius: 12px; padding: 40px 20px; min-height: 650px; display: flex; flex-direction: column;">
                    <h2 style="color: #333; margin-bottom: 25px; text-align: center; font-size: 24px;">ğŸ†˜ áƒ áƒ áƒáƒ–áƒ áƒ˜ áƒ’áƒ˜áƒ©áƒœáƒ“áƒ”áƒ‘áƒ áƒáƒ®áƒšáƒ?</h2>
                    
                    <!-- Dropdown Container -->
                    <div id="sosDropdownContainer">
                        <!-- Dropdown for filled thoughts only -->
                        <div style="margin-bottom: 20px;">
                            <select id="sosThoughtSelect" style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 16px; background: white;">
                                <option value="">áƒáƒ˜áƒ áƒ©áƒ˜áƒ” áƒáƒ–áƒ áƒ˜...</option>
                            </select>
                        </div>
                        
                        
                        <!-- Show Other Thoughts Button -->
                        <button id="sosShowOtherThoughtsBtn" class="btn btn-secondary" onclick="sosToggleAllThoughts()" style="width: 100%; margin-bottom: 15px; padding: 12px; display: none;">
                            <span id="sosShowOtherThoughtsBtnText">ğŸ‘ï¸ áƒ’áƒáƒ›áƒáƒáƒ©áƒ˜áƒœáƒ” áƒ“áƒáƒœáƒáƒ áƒ©áƒ”áƒœáƒ˜ áƒáƒ–áƒ áƒ”áƒ‘áƒ˜áƒª</span>
                        </button>
                        <!-- Add New Button -->
                        <button id="sosAddNewBtn" class="btn btn-primary" onclick="sosAddNewThought()" style="width: 100%; margin-bottom: 15px; padding: 12px;">
                            â• áƒáƒ®áƒáƒšáƒ˜ áƒáƒ–áƒ áƒ˜áƒ¡ áƒ“áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒ
                        </button>
                    </div>
                    
                    <!-- Skip Button - Outside container to use margin-top: auto -->
                    <button id="sosSkipBtn" onclick="sosSkipThoughts()" style="width: 100%; padding: 15px; margin-top: auto; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 16px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">
                        â­ï¸ áƒ’áƒáƒ›áƒáƒ¢áƒáƒ•áƒ”áƒ‘áƒ
                    </button>
                    
                    <!-- Confirmation Box (hidden by default) -->
                    <div id="sosConfirmBox" style="display: none; margin-bottom: 20px; padding: 20px; background: #f8f9fa; border-radius: 8px;">
                        <h3 style="color: #667eea; margin-bottom: 15px; font-size: 18px;">áƒáƒ áƒ©áƒ”áƒ£áƒšáƒ˜ áƒáƒ–áƒ áƒ˜:</h3>
                        <p id="sosConfirmText" style="color: #333; margin-bottom: 20px; line-height: 1.6; font-size: 16px;"></p>
                        
                        <div style="display: flex; gap: 15px; margin-top: auto;">
                            <button onclick="sosConfirmSelection()" style="flex: 1; padding: 12px; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 14px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">áƒáƒ áƒ©áƒ”áƒ•áƒ</button>
                            <button onclick="sosCancelSelection()" style="flex: 1; padding: 12px; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 14px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">â† áƒ£áƒ™áƒáƒœ</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- SOS Step-by-Step Modal -->
            <div id="sosStepModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1001; overflow-y: auto;">
                <div style="background: white; max-width: 800px; margin: 30px auto; border-radius: 12px; padding: 40px 20px; min-height: 650px; display: flex; flex-direction: column;">
                    <h2 id="sosStepTitle" style="color: #667eea; margin-bottom: 25px; font-size: 20px; font-weight: 400;"></h2>
                    
                    <div style="margin-bottom: 20px;">
                        <label id="sosStepLabel" style="display: block; margin-bottom: 10px; color: #333; font-size: 16px; font-weight: 500;"></label>
                        <textarea id="sosStepTextarea" style="width: 100%; min-height: 180px; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 15px; font-family: inherit; resize: vertical; box-sizing: border-box;"></textarea>
                    </div>
                    
                    <div style="display: flex; gap: 15px; margin-top: auto;">
                        <button id="sosBackBtn" onclick="sosStepBack()" style="flex: 1; display: none; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; padding: 12px; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 14px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">â† áƒ£áƒ™áƒáƒœ</button>
                        <button id="sosNextBtn" onclick="sosStepNext()" style="flex: 1; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; padding: 12px; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 14px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’áƒ˜ â†’</button>
                    </div>
                </div>
            </div>
            
            <!-- SOS Completion Modal -->
            <div id="sosCompletionModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1002; overflow-y: auto;">
                <div style="background: white; max-width: 800px; margin: 30px auto; border-radius: 12px; padding: 40px 20px; min-height: 650px; text-align: center;">
                    <div style="font-size: 60px; margin-bottom: 20px;">âœ…</div>
                    <h2 style="color: #10b981; margin-bottom: 20px;">áƒáƒ–áƒ áƒ˜ áƒ“áƒáƒ›áƒ£áƒ¨áƒáƒ•áƒ”áƒ‘áƒ£áƒšáƒ˜áƒ!</h2>
                    <p style="color: #666; margin-bottom: 30px; font-size: 16px;">áƒ’áƒ¡áƒ£áƒ áƒ— áƒ™áƒ˜áƒ“áƒ”áƒ• áƒ”áƒ áƒ—áƒ˜ áƒáƒ–áƒ áƒ˜áƒ¡ áƒ“áƒáƒ›áƒ£áƒ¨áƒáƒ•áƒ”áƒ‘áƒ áƒ—áƒ£ áƒ’áƒáƒ“áƒáƒ•áƒ˜áƒ“áƒ”áƒ— áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’ áƒ”áƒ¢áƒáƒáƒ–áƒ”?</p>
                    
                    <div style="display: flex; gap: 15px; margin-top: auto;">
                        <button class="btn" onclick="sosProcessAnother()" style="flex: 1; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white;">ğŸ”„ áƒ™áƒ˜áƒ“áƒ”áƒ• áƒ”áƒ áƒ—áƒ˜ áƒáƒ–áƒ áƒ˜</button>
                        <button class="btn" onclick="sosNextStage()" style="flex: 1; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white;">â†’ áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’áƒ˜ áƒ”áƒ¢áƒáƒáƒ˜</button>
                    </div>
                </div>
            </div>
            
            <!-- SOS Motivation Question Modal -->
            <div id="sosMotivationModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; overflow-y: auto;">
                <div onclick="event.stopPropagation()" style="background: white; max-width: 800px; margin: 30px auto; border-radius: 12px; padding: 40px 20px; min-height: 650px; display: flex; flex-direction: column;">
                    <h2 style="color: #333; margin-bottom: 25px; text-align: center; font-size: 24px;">ğŸ¯ áƒ áƒáƒ¢áƒáƒ› áƒ’áƒ˜áƒœáƒ“áƒ áƒ›áƒáƒ˜áƒ®áƒ›áƒáƒ áƒ?</h2>
                    
                    <!-- Dropdown Container -->
                    <div id="sosMotivationDropdownContainer">
                        <!-- Dropdown for motivations -->
                        <div style="margin-bottom: 20px;">
                            <select id="sosMotivationSelect" style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 16px; background: white;">
                                <option value="">áƒáƒ˜áƒ áƒ©áƒ˜áƒ” áƒ›áƒáƒ¢áƒ˜áƒ•áƒáƒªáƒ˜áƒ...</option>
                            </select>
                        </div>
                        
                        <!-- Show Other Motivations Button (hidden by default) -->
                        <button id="sosShowOtherMotivationsBtn" class="btn btn-secondary" onclick="sosToggleOtherMotivations()" style="width: 100%; margin-bottom: 15px; padding: 12px; display: none;">
                            <span id="sosShowOtherMotivationsBtnText">ğŸ‘ï¸ áƒ’áƒáƒ›áƒáƒáƒ©áƒ˜áƒœáƒ” áƒ“áƒáƒœáƒáƒ áƒ©áƒ”áƒœáƒ˜ áƒ¡áƒ£áƒ áƒ•áƒ˜áƒšáƒ”áƒ‘áƒ˜áƒª</span>
                        </button>
                        
                        <!-- Add New Motivation Button -->
                        <button class="btn btn-primary" onclick="sosAddNewMotivation()" style="width: 100%; margin-bottom: 15px; padding: 12px;">
                            â• áƒáƒ®áƒáƒšáƒ˜ áƒ›áƒáƒ¢áƒ˜áƒ•áƒáƒªáƒ˜áƒ˜áƒ¡ áƒ“áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒ
                        </button>
                    </div>
                    
                    <!-- Skip Button - Outside container to use margin-top: auto -->
                    <button id="sosMotivationSkipBtn" onclick="sosSkipMotivations()" style="width: 100%; padding: 15px; margin-top: auto; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 16px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">
                        â­ï¸ áƒ’áƒáƒ›áƒáƒ¢áƒáƒ•áƒ”áƒ‘áƒ
                    </button>
                    
                    <!-- Confirmation Box (hidden by default) -->
                    <div id="sosMotivationConfirmBox" style="display: none; margin-bottom: 20px; padding: 20px; background: #f8f9fa; border-radius: 8px;">
                        <h3 style="color: #667eea; margin-bottom: 15px; font-size: 18px;">áƒáƒ áƒ©áƒ”áƒ£áƒšáƒ˜ áƒ›áƒáƒ¢áƒ˜áƒ•áƒáƒªáƒ˜áƒ:</h3>
                        <p id="sosMotivationConfirmText" style="color: #333; margin-bottom: 20px; line-height: 1.6; font-size: 16px;"></p>
                        
                        <div style="display: flex; gap: 15px; margin-top: auto;">
                            <button onclick="sosConfirmMotivationSelection()" style="flex: 1; padding: 12px; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 14px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">áƒáƒ áƒ©áƒ”áƒ•áƒ</button>
                            <button onclick="sosCancelMotivationSelection()" style="flex: 1; padding: 12px; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 14px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">â† áƒ£áƒ™áƒáƒœ</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- SOS Motivation Step Modal -->
            <div id="sosMotivationStepModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1001; overflow-y: auto;">
                <div style="background: white; max-width: 800px; margin: 30px auto; border-radius: 12px; padding: 40px 20px; min-height: 650px; display: flex; flex-direction: column;">
                    <h2 id="sosMotivationStepTitle" style="color: #667eea; margin-bottom: 25px; font-size: 20px; font-weight: 400;"></h2>
                    
                    <div style="margin-bottom: 20px;">
                        <label id="sosMotivationStepLabel" style="display: block; margin-bottom: 10px; color: #333; font-size: 16px; font-weight: 500;"></label>
                        <textarea id="sosMotivationStepTextarea" style="width: 100%; min-height: 180px; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 15px; font-family: inherit; resize: vertical; box-sizing: border-box;"></textarea>
                    </div>
                    
                    <div style="display: flex; gap: 15px; margin-top: auto;">
                        <button id="sosMotivationBackBtn" onclick="sosMotivationStepBack()" style="flex: 1; display: none; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; padding: 12px; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 14px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">â† áƒ£áƒ™áƒáƒœ</button>
                        <button id="sosMotivationNextBtn" onclick="sosMotivationStepNext()" style="flex: 1; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; padding: 12px; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 14px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’áƒ˜ â†’</button>
                    </div>
                </div>
            </div>
            
            <!-- SOS Motivation Completion Modal -->
            <div id="sosMotivationCompletionModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1002; overflow-y: auto;">
                <div style="background: white; max-width: 800px; margin: 30px auto; border-radius: 12px; padding: 40px 20px; min-height: 650px; text-align: center;">
                    <div style="font-size: 60px; margin-bottom: 20px;">âœ…</div>
                    <h2 style="color: #10b981; margin-bottom: 20px;">áƒ›áƒáƒ¢áƒ˜áƒ•áƒáƒªáƒ˜áƒ áƒ“áƒáƒ›áƒ£áƒ¨áƒáƒ•áƒ”áƒ‘áƒ£áƒšáƒ˜áƒ!</h2>
                    <p style="color: #666; margin-bottom: 30px; font-size: 16px;">áƒ’áƒ¡áƒ£áƒ áƒ— áƒ¡áƒ®áƒ•áƒ áƒ›áƒáƒ¢áƒ˜áƒ•áƒáƒªáƒ˜áƒ˜áƒ¡ áƒ“áƒáƒ›áƒ£áƒ¨áƒáƒ•áƒ”áƒ‘áƒ áƒ—áƒ£ áƒ’áƒáƒ“áƒáƒ•áƒ˜áƒ“áƒ”áƒ— áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’ áƒ”áƒ¢áƒáƒáƒ–áƒ”?</p>
                    
                    <div style="display: flex; gap: 15px; margin-top: auto;">
                        <button class="btn" onclick="sosProcessAnotherMotivation()" style="flex: 1; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white;">ğŸ”„ áƒ¡áƒ®áƒ•áƒ áƒ›áƒáƒ¢áƒ˜áƒ•áƒáƒªáƒ˜áƒ</button>
                        <button class="btn" onclick="sosMotivationNextStage()" style="flex: 1; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white;">â†’ áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’áƒ˜ áƒ”áƒ¢áƒáƒáƒ˜</button>
                    </div>
                </div>
            </div>
            
            <!-- SOS New Motivation Modal -->
            <div id="sosNewMotivationModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; overflow-y: auto;">
                <div style="background: white; max-width: 800px; margin: 30px auto; border-radius: 12px; padding: 40px 20px; min-height: 650px; display: flex; flex-direction: column;">
                    <h2 style="color: #667eea; margin-bottom: 25px; text-align: center; font-size: 22px;">â• áƒáƒ®áƒáƒšáƒ˜ áƒ›áƒáƒ¢áƒ˜áƒ•áƒáƒªáƒ˜áƒ˜áƒ¡ áƒ“áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒ</h2>
                    
                    <div style="margin-bottom: 25px;">
                        <label style="display: block; margin-bottom: 10px; color: #667eea; font-size: 15px; font-weight: 600;">áƒ áƒáƒ¢áƒáƒ› áƒ’áƒ˜áƒœáƒ“áƒ áƒ›áƒáƒ˜áƒ®áƒ›áƒáƒ áƒ?</label>
                        <textarea id="sosNewMotivationText" placeholder="áƒ›áƒáƒ’: áƒ áƒáƒ› áƒ’áƒáƒ•áƒ‘áƒ”áƒ“áƒ áƒ“áƒ..." style="width: 100%; min-height: 100px; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px; font-family: inherit; resize: vertical; box-sizing: border-box;"></textarea>
                    </div>
                    
                    <div style="display: flex; gap: 15px; margin-top: auto;">
                        <button class="btn btn-primary" onclick="sosCreateNewMotivation()" style="flex: 1;">áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’áƒ˜ â†’</button>
                        <button class="btn btn-secondary" onclick="sosCancelNewMotivation()" style="flex: 1;">áƒ’áƒáƒ£áƒ¥áƒ›áƒ”áƒ‘áƒ</button>
                    </div>
                </div>
            </div>
            
            
            <!-- ============ WAVE SCREEN MODAL ============ -->
            
            <!-- SOS Wave Modal -->
            <div id="sosWaveModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; overflow-y: auto;">
                <div style="background: white; max-width: 800px; margin: 30px auto; border-radius: 12px; padding: 40px 20px; min-height: 550px; display: flex; flex-direction: column;">
                    <div style="font-size: 60px; margin-bottom: 20px; text-align: center;">ğŸŒŠ</div>
                    <h2 style="color: #667eea; margin-bottom: 25px; text-align: center; font-size: 24px; font-weight: 700;">áƒ›áƒáƒáƒ—áƒ•áƒ˜áƒœáƒ˜áƒ”áƒ áƒ” áƒ¢áƒáƒšáƒ¦áƒ</h2>
                    
                    <p style="font-size: 17px; line-height: 1.8; color: #333; margin-bottom: 15px; text-align: center;">
                        <strong>áƒšáƒ¢áƒáƒšáƒ•áƒ˜áƒ¡ áƒ¡áƒáƒ¨áƒ£áƒáƒšáƒ áƒ®áƒáƒœáƒ’áƒ áƒ«áƒšáƒ˜áƒ•áƒáƒ‘áƒ áƒáƒ áƒ˜áƒ¡ 15-20 áƒ¬áƒ£áƒ—áƒ˜.</strong>
                    </p>
                    
                    <p style="font-size: 17px; line-height: 1.8; color: #333; margin-bottom: 15px; text-align: center;">
                        áƒ¬áƒáƒ áƒ›áƒáƒ˜áƒ“áƒ’áƒ˜áƒœáƒ” áƒšáƒ¢áƒáƒšáƒ•áƒ, áƒ áƒáƒ’áƒáƒ áƒª áƒáƒ™áƒ”áƒáƒœáƒ˜áƒ¡ áƒ¢áƒáƒšáƒ¦áƒ - áƒ˜áƒ¡ áƒáƒ¦áƒ˜áƒ›áƒáƒ áƒ—áƒ”áƒ‘áƒ, áƒ˜áƒ–áƒ áƒ“áƒ”áƒ‘áƒ, áƒáƒ¦áƒ¬áƒ”áƒ•áƒ¡ áƒáƒ˜áƒ™áƒ¡ áƒ“áƒ áƒ”áƒªáƒ”áƒ›áƒ.
                    </p>
                    
                    <p style="font-size: 17px; line-height: 1.8; color: #333; margin-bottom: 15px; text-align: center;">
                        <strong>áƒœáƒ£ áƒ¨áƒ”áƒ”áƒ‘áƒ áƒ«áƒáƒšáƒ”áƒ‘áƒ˜ áƒ›áƒáƒ¡. áƒ”áƒ¡ áƒšáƒ¢áƒáƒšáƒ•áƒáƒ¡ áƒ›áƒ®áƒáƒšáƒáƒ“ áƒáƒ«áƒšáƒ˜áƒ”áƒ áƒ”áƒ‘áƒ¡. áƒ“áƒ áƒœáƒ£áƒ áƒª áƒ“áƒáƒ”áƒ›áƒáƒ áƒ©áƒ˜áƒšáƒ”áƒ‘áƒ˜ áƒ›áƒáƒ¡. áƒ£áƒ‘áƒ áƒáƒšáƒáƒ“ áƒ›áƒ˜áƒ˜áƒ¦áƒ”, áƒ áƒáƒ› áƒ˜áƒ¡ áƒáƒ áƒ˜áƒ¡.</strong>
                    </p>
                    
                    <p style="font-size: 17px; line-height: 1.8; color: #333; margin-bottom: 30px; text-align: center;">
                        áƒ—áƒ£ áƒ¨áƒ”áƒœ áƒ¨áƒ”áƒ«áƒšáƒ”áƒ‘ áƒ“áƒáƒ˜áƒ›áƒáƒ áƒ©áƒ˜áƒšáƒ áƒ¢áƒáƒšáƒ¦áƒ, áƒ¨áƒ”áƒœ áƒ˜áƒ’áƒ áƒ«áƒœáƒáƒ‘ áƒšáƒ¢áƒáƒšáƒ•áƒ˜áƒ¡ áƒ¨áƒ”áƒ’áƒ áƒ«áƒœáƒ”áƒ‘áƒ áƒœáƒ”áƒš-áƒœáƒ”áƒšáƒ áƒ áƒáƒ’áƒáƒ  áƒ¡áƒ£áƒ¡áƒ¢áƒ“áƒ”áƒ‘áƒ áƒ“áƒ áƒ›áƒ˜áƒ“áƒ˜áƒ¡.
                    </p>
                    
                    <button onclick="sosWaveNext()" 
                            style="background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; padding: 15px; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 16px; box-shadow: 0 4px 12px rgba(20,184,166,0.4); width: 100%; margin-top: auto;">
                        áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’áƒ˜ â†’
                    </button>
                </div>
            </div>
            
            
            <!-- ============ MECHANISMS MODALS ============ -->
            
            <!-- Single Mechanism Modal -->
            <div id="sosMechanismModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; overflow-y: auto;">
                <div style="background: white; max-width: 800px; margin: 30px auto; border-radius: 12px; padding: 40px 20px; min-height: 650px; display: flex; flex-direction: column;">
                    <div id="sosMechanismIcon" style="font-size: 60px; margin-bottom: 20px; text-align: center;">ğŸ”§</div>
                    <div id="sosMechanismProgress" style="text-align: center; color: #667eea; font-weight: 600; margin-bottom: 15px; font-size: 16px;">1/5</div>
                    <p id="sosMechanismText" style="font-size: 17px; line-height: 1.8; color: #333; margin-bottom: 30px; text-align: center;">
                        áƒ›áƒ”áƒ¥áƒáƒœáƒ˜áƒ–áƒ›áƒ˜áƒ¡ áƒ¢áƒ”áƒ¥áƒ¡áƒ¢áƒ˜
                    </p>
                    
                    <div style="display: flex; gap: 15px; margin-top: auto;">
                        <button onclick="sosMechanismHelped()" 
                                style="flex: 1; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; padding: 12px 30px; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 16px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">
                            âœ“ áƒ›áƒ˜áƒ¨áƒ•áƒ”áƒšáƒ
                        </button>
                        <button onclick="sosMechanismNext()" 
                                style="flex: 1; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; padding: 12px 30px; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 16px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">
                            áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’áƒ˜ â†’
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Other Mechanisms Modal -->
            <div id="sosOtherMechanismsModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; overflow-y: auto;">
                <div style="background: white; max-width: 800px; margin: 30px auto; border-radius: 12px; padding: 40px 20px; height: 650px; display: flex; flex-direction: column;">
                    <h2 style="color: #667eea; margin-bottom: 25px; text-align: center; font-size: 24px; font-weight: 700;">áƒ“áƒáƒœáƒáƒ áƒ©áƒ”áƒœáƒ˜ áƒ›áƒ”áƒ¥áƒáƒœáƒ˜áƒ–áƒ›áƒ”áƒ‘áƒ˜</h2>
                    
                    <div id="sosOtherMechanismsList" style="flex: 1; overflow-y: auto; margin-bottom: 20px;">
                        <!-- Mechanisms list will be populated here -->
                    </div>
                    
                    <button onclick="sosShowTechniques()" 
                            style="width: 100%; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; padding: 15px; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 16px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">
                        áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’áƒ˜ â†’
                    </button>
                </div>
            </div>
            
            <!-- ============ SOS TECHNIQUES MODAL ============ -->
            
            <!-- SOS Techniques Modal -->
            <div id="sosTechniquesModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; padding: 20px;">
                <div style="position: relative; background: white; max-width: 800px; margin: 0 auto; height: 100%; border-radius: 12px; display: flex; flex-direction: column; overflow: hidden;">
                    
                    <!-- Scrollable Content -->
                    <div id="sosTechniqueContent" style="flex: 1; overflow-y: auto; padding: 40px 20px;">
                        <!-- Content will be dynamically loaded here -->
                    </div>
                    
                    <!-- Counter -->
                    <div id="sosTechniqueCounter" style="text-align: center; color: #667eea; font-weight: 600; padding: 15px; font-size: 16px;">
                        1/9
                    </div>
                    
                    <!-- Fixed Buttons -->
                    <div style="padding: 20px; border-top: 1px solid #e0e0e0; background: white; display: flex; gap: 15px;">
                        <button id="sosTechniqueHelpedBtn" onclick="sosTechniqueHelped()" 
                                style="flex: 1; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; padding: 15px; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 16px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">
                            âœ“ áƒ›áƒ˜áƒ¨áƒ•áƒ”áƒšáƒ
                        </button>
                        <button id="sosTechniqueNextBtn" onclick="sosTechniqueNext()" 
                                style="flex: 1; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; padding: 15px; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 16px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">
                            áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’áƒ˜ â†’
                        </button>
                    </div>
                    
                </div>
            </div>
            
            <!-- Final Reminder Modal -->
            <div id="sosFinalReminderModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1001; overflow-y: auto;">
                <div style="background: white; max-width: 800px; margin: 30px auto; border-radius: 12px; padding: 40px 20px; min-height: 650px; display: flex; flex-direction: column; text-align: center;">
                    <div style="font-size: 60px; margin-bottom: 20px;">ğŸ“–</div>
                    <p style="font-size: 20px; font-weight: 700; color: #333; margin-bottom: 40px; line-height: 1.6;">
                        áƒ áƒáƒ“áƒ”áƒ¡áƒáƒª áƒ«áƒáƒšáƒ˜áƒáƒœ áƒáƒ®áƒšáƒáƒ¡ áƒ®áƒáƒ  áƒ“áƒáƒœáƒ”áƒ‘áƒ”áƒ‘áƒáƒ¡áƒ—áƒáƒœ, áƒ’áƒáƒ˜áƒ®áƒ¡áƒ”áƒœáƒ” áƒ áƒáƒ¢áƒáƒ› áƒ˜áƒ¬áƒ§áƒ”áƒ‘áƒ“áƒ˜!
                    </p>
                    
                    <div style="display: flex; gap: 15px; margin-top: auto;">
                        <button onclick="sosGoToMotivations()" 
                                style="flex: 1; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; padding: 8px; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 13px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">
                            ğŸ’ª áƒ’áƒáƒ“áƒáƒ®áƒ”áƒ“áƒ” áƒ›áƒáƒ¢áƒ˜áƒ•áƒáƒªáƒ˜áƒ”áƒ‘áƒ¡
                        </button>
                        <button onclick="sosFinish()" 
                                style="flex: 1; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; padding: 8px; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 13px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">
                            âœ“ áƒ“áƒáƒ¡áƒ áƒ£áƒšáƒ”áƒ‘áƒ
                        </button>
                    </div>
                </div>
            </div>
            
            
            <!-- ============ COGNITIVE DISTORTIONS MODALS ============ -->
            
            <!-- SOS Distortions Selection Modal -->
            <div id="sosDistortionsModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; overflow-y: auto;">
                <div style="background: white; max-width: 800px; margin: 30px auto; border-radius: 12px; padding: 40px 20px; min-height: 650px; display: flex; flex-direction: column;">
                    <h2 style="color: #667eea; margin-bottom: 25px; text-align: center; font-size: 24px;">ğŸ§  áƒáƒ–áƒ áƒáƒ•áƒœáƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒªáƒ“áƒáƒ›áƒ”áƒ‘áƒ˜</h2>
                    <p style="color: #666; margin-bottom: 25px; text-align: center;">áƒ áƒ áƒ“áƒáƒ›áƒáƒ®áƒ˜áƒœáƒ¯áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒáƒ–áƒ áƒ˜ áƒ’áƒ˜áƒ©áƒœáƒ“áƒ”áƒ‘áƒ?</p>
                    
                    <!-- Dropdown Container -->
                    <div id="sosDistortionsDropdownContainer">
                        <div style="margin-bottom: 20px;">
                            <select id="sosDistortionSelect" style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 16px; background: white;">
                                <option value="">áƒáƒ˜áƒ áƒ©áƒ˜áƒ” áƒáƒ–áƒ áƒ˜...</option>
                            </select>
                        </div>
                        
                        <!-- Show Other Distortions Button -->
                        <button id="sosShowOtherDistortionsBtn" class="btn btn-secondary" onclick="sosToggleAllDistortions()" style="width: 100%; margin-bottom: 15px; padding: 12px; display: none;">
                            <span id="sosShowOtherDistortionsBtnText">ğŸ‘ï¸ áƒ’áƒáƒ›áƒáƒáƒ©áƒ˜áƒœáƒ” áƒ“áƒáƒœáƒáƒ áƒ©áƒ”áƒœáƒ˜ áƒáƒ–áƒ áƒ”áƒ‘áƒ˜áƒª</span>
                        </button>
                    </div>
                    
                    <!-- Skip Button - Outside container to use margin-top: auto -->
                    <button onclick="sosSkipDistortions()" style="width: 100%; padding: 15px; margin-top: auto; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 16px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">
                        â­ï¸ áƒ’áƒáƒ›áƒáƒ¢áƒáƒ•áƒ”áƒ‘áƒ
                    </button>
                    
                    <!-- Confirmation Box -->
                    <div id="sosDistortionsConfirmBox" style="display: none; margin-bottom: 20px; padding: 20px; background: #f8f9fa; border-radius: 8px;">
                        <h3 style="color: #667eea; margin-bottom: 15px; font-size: 18px;">áƒáƒ áƒ©áƒ”áƒ£áƒšáƒ˜ áƒáƒ–áƒ áƒ˜:</h3>
                        <p id="sosDistortionsConfirmText" style="color: #333; margin-bottom: 20px; line-height: 1.6; font-size: 16px;"></p>
                        
                        <div style="display: flex; gap: 15px; margin-top: auto;">
                            <button onclick="sosConfirmDistortion()" style="flex: 1; padding: 12px; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 14px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">áƒáƒ áƒ©áƒ”áƒ•áƒ</button>
                            <button onclick="sosCancelDistortion()" style="flex: 1; padding: 12px; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 14px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">â† áƒ£áƒ™áƒáƒœ</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- SOS Distortions Step Modal -->
            <div id="sosDistortionsStepModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1001; overflow-y: auto;">
                <div style="background: white; max-width: 800px; margin: 30px auto; border-radius: 12px; padding: 40px 20px; min-height: 650px; display: flex; flex-direction: column;">
                    <h2 id="sosDistortionsStepTitle" style="color: #667eea; margin-bottom: 25px; text-align: center; font-size: 22px;"></h2>
                    
                    <div style="margin-bottom: 25px;">
                        <label id="sosDistortionsStepLabel" style="display: block; margin-bottom: 10px; color: #333; font-size: 16px; font-weight: 600;"></label>
                        <textarea id="sosDistortionsStepTextarea" style="width: 100%; min-height: 180px; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 15px; font-family: inherit; resize: vertical; box-sizing: border-box;"></textarea>
                    </div>
                    
                    <div style="display: flex; gap: 15px; margin-top: auto;">
                        <button id="sosDistortionsBackBtn" onclick="sosDistortionsStepBack()" style="flex: 1; display: none; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; padding: 12px; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 14px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">â† áƒ£áƒ™áƒáƒœ</button>
                        <button id="sosDistortionsNextBtn" onclick="sosDistortionsStepNext()" style="flex: 1; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; padding: 12px; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 14px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’áƒ˜ â†’</button>
                    </div>
                </div>
            </div>
            
            <!-- SOS Distortions Completion Modal -->
            <div id="sosDistortionsCompletionModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1002; overflow-y: auto;">
                <div style="background: white; max-width: 800px; margin: 30px auto; border-radius: 12px; padding: 40px 20px; min-height: 650px; text-align: center;">
                    <div style="font-size: 60px; margin-bottom: 20px;">ğŸ¯</div>
                    <h2 style="color: #10b981; margin-bottom: 20px;">áƒáƒ–áƒ áƒáƒ•áƒœáƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒªáƒ“áƒáƒ›áƒ áƒ“áƒáƒ›áƒ£áƒ¨áƒáƒ•áƒ”áƒ‘áƒ£áƒšáƒ˜áƒ!</h2>
                    <p style="color: #666; margin-bottom: 30px; font-size: 16px;">áƒ’áƒ¡áƒ£áƒ áƒ— áƒ¡áƒ®áƒ•áƒ áƒáƒ–áƒ áƒ˜áƒ¡ áƒ“áƒáƒ›áƒ£áƒ¨áƒáƒ•áƒ”áƒ‘áƒ áƒ—áƒ£ áƒ“áƒáƒ¡áƒ áƒ£áƒšáƒ”áƒ‘áƒ?</p>
                    
                    <div style="display: flex; gap: 15px; margin-top: auto;">
                        <button class="btn" onclick="sosProcessAnotherDistortion()" style="flex: 1; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white;">ğŸ”„ áƒ¡áƒ®áƒ•áƒ áƒáƒ–áƒ áƒ˜</button>
                        <button class="btn" onclick="sosFinishDistortions()" style="flex: 1; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white;">â†’ áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’ áƒ”áƒ¢áƒáƒáƒ–áƒ” áƒ’áƒáƒ“áƒáƒ¡áƒ•áƒšáƒ</button>
                    </div>
                </div>
            </div>
            
            <!-- Contact Section -->
            <div id="contactSection" class="section">
                <h2 style="margin-bottom: 20px;">ğŸ“ áƒ™áƒáƒœáƒ¢áƒáƒ¥áƒ¢áƒ˜</h2>
                
                <!-- Morning Contact Card -->
                <div id="morningContactCard" style="display: none; background: linear-gradient(135deg, #FEF3C7 0%, #FCD34D 100%); border-radius: 15px; padding: 20px; margin-bottom: 15px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                    <div style="display: flex; align-items: center; justify-content: space-between;">
                        <div>
                            <div style="font-size: 24px; margin-bottom: 5px;">ğŸŒ…</div>
                            <h3 style="color: #92400E; margin-bottom: 5px; font-size: 18px;">áƒ“áƒ˜áƒšáƒ˜áƒ¡ áƒ™áƒáƒœáƒ¢áƒáƒ¥áƒ¢áƒ˜</h3>
                            <p style="color: #78350F; font-size: 14px; margin: 0;">áƒ“áƒ¦áƒ”áƒ¡</p>
                        </div>
                        <button onclick="showMorningContact()" style="background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; border-radius: 10px; cursor: pointer; width: 120px !important; min-width: 120px !important; max-width: 120px !important; padding: 12px 16px; font-size: 16px; text-align: center; flex-shrink: 0; transition: all 0.3s;">áƒ’áƒáƒ®áƒ¡áƒœáƒ</button>
                    </div>
                </div>
                
                <!-- Evening Contact Card -->
                <div id="eveningContactCard" style="display: none; background: linear-gradient(135deg, #DBEAFE 0%, #93C5FD 100%); border-radius: 15px; padding: 20px; margin-bottom: 15px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                    <div style="display: flex; align-items: center; justify-content: space-between;">
                        <div>
                            <div style="font-size: 24px; margin-bottom: 5px;">ğŸŒ™</div>
                            <h3 style="color: #1E40AF; margin-bottom: 5px; font-size: 18px;">áƒ¡áƒáƒ¦áƒáƒ›áƒáƒ¡ áƒ™áƒáƒœáƒ¢áƒáƒ¥áƒ¢áƒ˜</h3>
                            <p style="color: #1E3A8A; font-size: 14px; margin: 0;">áƒ“áƒ¦áƒ”áƒ¡</p>
                        </div>
                        <button onclick="showEveningContact()" style="background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; border-radius: 10px; cursor: pointer; width: 120px !important; min-width: 120px !important; max-width: 120px !important; padding: 12px 16px; font-size: 16px; text-align: center; flex-shrink: 0; transition: all 0.3s;">áƒ’áƒáƒ®áƒ¡áƒœáƒ</button>
                    </div>
                </div>
                
                <!-- Yesterday Evening Card (if missed) -->
                <div id="yesterdayEveningCard" style="display: none; background: linear-gradient(135deg, #DBEAFE 0%, #93C5FD 100%); border-radius: 15px; padding: 20px; margin-bottom: 15px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                    <div style="display: flex; align-items: center; justify-content: space-between;">
                        <div>
                            <div style="font-size: 24px; margin-bottom: 5px;">ğŸŒ™</div>
                            <h3 style="color: #1E40AF; margin-bottom: 5px; font-size: 18px;">áƒ’áƒ£áƒ¨áƒ˜áƒœáƒ“áƒ”áƒšáƒ˜ áƒ¡áƒáƒ¦áƒáƒ›áƒáƒ¡ áƒ™áƒáƒœáƒ¢áƒáƒ¥áƒ¢áƒ˜</h3>
                            <p style="color: #1E3A8A; font-size: 14px; margin: 0;">áƒáƒ  áƒáƒ áƒ˜áƒ¡ áƒ¨áƒ”áƒ•áƒ¡áƒ”áƒ‘áƒ£áƒšáƒ˜</p>
                        </div>
                        <button onclick="showYesterdayEvening()" style="background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; border-radius: 10px; cursor: pointer; width: 120px !important; min-width: 120px !important; max-width: 120px !important; padding: 12px 16px; font-size: 16px; text-align: center; flex-shrink: 0; transition: all 0.3s;">áƒ’áƒáƒ®áƒ¡áƒœáƒ</button>
                    </div>
                </div>
                
                <!-- All Complete Message -->
                <div id="contactAllComplete" style="display: none; background: linear-gradient(135deg, #D1FAE5 0%, #6EE7B7 100%); border-radius: 15px; padding: 30px; text-align: center;">
                    <div style="font-size: 48px; margin-bottom: 15px;">âœ…</div>
                    <h3 style="color: #065F46; margin-bottom: 10px; font-size: 20px;">áƒ§áƒ•áƒ”áƒšáƒ áƒ™áƒáƒœáƒ¢áƒáƒ¥áƒ¢áƒ˜ áƒ¨áƒ”áƒ•áƒ¡áƒ”áƒ‘áƒ£áƒšáƒ˜áƒ!</h3>
                    <p style="color: #047857; font-size: 16px; margin: 0;">áƒ›áƒáƒ“áƒšáƒáƒ‘áƒ, áƒ áƒáƒ› áƒ§áƒ£áƒ áƒáƒ“áƒ¦áƒ”áƒ‘áƒ˜áƒ— áƒ®áƒáƒ  áƒ©áƒáƒ áƒ—áƒ£áƒšáƒ˜ áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜ áƒ›áƒ“áƒ’áƒáƒ›áƒáƒ áƒ”áƒáƒ‘áƒ˜áƒ¡ áƒ›áƒáƒœáƒ˜áƒ¢áƒáƒ áƒ˜áƒœáƒ’áƒ¨áƒ˜ ğŸ’š</p>
                </div>
                
                <!-- My Goals Card -->
                <div id="myGoalsContactCard" style="background: linear-gradient(135deg, #F3E8FF 0%, #C084FC 100%); border-radius: 15px; padding: 20px; margin-bottom: 15px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                    <div style="display: flex; align-items: center; justify-content: space-between;">
                        <div>
                            <div style="font-size: 24px; margin-bottom: 5px;">ğŸ¯</div>
                            <h3 style="color: #6B21A8; margin-bottom: 5px; font-size: 18px;">áƒ©áƒ”áƒ›áƒ˜ áƒ¡áƒ®áƒ•áƒ áƒ›áƒ˜áƒ–áƒœáƒ”áƒ‘áƒ˜</h3>
                            <p id="goalsContactStatus" style="color: #7C3AED; font-size: 14px; margin: 0;">áƒ“áƒ¦áƒ”áƒ¡</p>
                        </div>
                        <button onclick="showMyGoalsContact()" style="background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; border-radius: 10px; cursor: pointer; width: 120px !important; min-width: 120px !important; max-width: 120px !important; padding: 12px 16px; font-size: 16px; text-align: center; flex-shrink: 0; transition: all 0.3s;">áƒ’áƒáƒ®áƒ¡áƒœáƒ</button>
                    </div>
                </div>
                
                <!-- My Achievements Card -->
                <div id="myAchievementsCard" style="background: white; border: 2px solid #e5e7eb; border-radius: 15px; padding: 20px; margin-bottom: 15px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                    <!-- Collapsed view -->
                    <div id="achievementCardCollapsed" style="cursor: pointer;" onclick="openAchievementMessage()">
                        <div style="display: flex; align-items: center; justify-content: space-between;">
                            <div>
                                <div style="font-size: 24px; margin-bottom: 5px;">ğŸ…</div>
                                <h3 style="color: #374151; margin-bottom: 5px; font-size: 18px;" id="achievementCardTitle">áƒ›áƒ˜áƒ›áƒ“áƒ˜áƒœáƒáƒ áƒ” áƒ›áƒ˜áƒ–áƒáƒœáƒ˜</h3>
                                <p style="color: #6B7280; font-size: 14px; margin: 0;" id="achievementBadgeCount">áƒ˜áƒ¢áƒ•áƒ˜áƒ áƒ—áƒ”áƒ‘áƒ...</p>
                            </div>
                            <button onclick="event.stopPropagation(); openAchievementMessage()" style="background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; border-radius: 10px; cursor: pointer; width: 120px !important; min-width: 120px !important; max-width: 120px !important; padding: 12px 16px; font-size: 16px; text-align: center; flex-shrink: 0; transition: all 0.3s;">áƒ’áƒáƒ®áƒ¡áƒœáƒ</button>
                        </div>
                    </div>
                    
                    <!-- Motivational message (hidden by default) -->
                    <div id="achievementMotivationalMsg" style="display: none;">
                        <div style="font-size: 20px; text-align: center; margin-bottom: 15px;" id="achievementMsgEmoji"></div>
                        <p style="color: #374151; font-size: 16px; line-height: 1.6; text-align: center; margin-bottom: 20px;" id="achievementMsgText"></p>
                        <button onclick="closeAchievementMessage()" class="btn btn-secondary" style="width: 100%;">áƒ“áƒáƒ®áƒ£áƒ áƒ•áƒ</button>
                    </div>
                </div>
                
                
                <button class="btn" onclick="backToDashboard()" style="margin-top: 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">â† Dashboard-áƒ–áƒ” áƒ“áƒáƒ‘áƒ áƒ£áƒœáƒ”áƒ‘áƒ</button>
            </div>
            
            <!-- My Goals Contact Section -->
            <div id="myGoalsContactSection" class="section">
                <h2 style="margin-bottom: 20px;">ğŸ¯ áƒ“áƒ¦áƒ”áƒ•áƒáƒœáƒ“áƒ”áƒšáƒ˜ áƒ›áƒ˜áƒ–áƒœáƒ”áƒ‘áƒ˜</h2>
                
                <div id="goalsContactContainer">
                    <p style="color: #999; text-align: center; padding: 40px 20px;">
                        áƒ¯áƒ”áƒ  áƒáƒ  áƒ’áƒáƒ¥áƒ•áƒ¡ áƒ“áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ›áƒ˜áƒ–áƒœáƒ”áƒ‘áƒ˜
                    </p>
                </div>
                
                <button id="saveGoalsContactBtn" onclick="saveGoalsContact()" class="btn btn-primary" style="width: 100%; padding: 15px; margin-top: 20px; font-size: 16px;">áƒ¨áƒ”áƒœáƒáƒ®áƒ•áƒ</button>
                <button id="finalizeGoalsContactBtn" onclick="finalizeGoalsContact()" class="btn" style="width: 100%; padding: 15px; margin-top: 15px; font-size: 16px; background: linear-gradient(135deg, #10b981 0%, #059669 100%); color: white; border: none;">áƒ“áƒ¦áƒ˜áƒ¡ áƒ¨áƒ”áƒ“áƒ”áƒ’áƒ˜áƒ¡ áƒ“áƒáƒ¤áƒ˜áƒ¥áƒ¡áƒ˜áƒ áƒ”áƒ‘áƒ</button>
                <button class="btn btn-secondary" onclick="backToDashboard()" style="width: 100%; margin-top: 15px;">â† áƒ£áƒ™áƒáƒœ</button>
            </div>
            
            <!-- My Space Section -->
            <div id="mySpaceSection" class="section">
                <h2 style="margin-bottom: 20px; font-family: 'Georgia', 'Garamond', serif; font-style: italic; color: #5B21B6; font-size: 28px; letter-spacing: 2px;">âœ¨ áƒ©áƒ”áƒ›áƒ˜ áƒ¡áƒ˜áƒ•áƒ áƒªáƒ”</h2>
                
                <!-- Navigation tabs -->
                <div style="display: flex; gap: 10px; margin-bottom: 20px; overflow-x: auto;">
                    <button id="tabGratitude" class="tab-button active" onclick="showMySpaceTab('gratitude')">ğŸ™ áƒ›áƒáƒ“áƒšáƒ˜áƒ”áƒ áƒ”áƒ‘áƒ</button>
                    <button id="tabPositive" class="tab-button" onclick="showMySpaceTab('positive')">âœ¨ áƒáƒáƒ–áƒ˜áƒ¢áƒ˜áƒ•áƒ˜</button>
                    <button id="tabSatisfaction" class="tab-button" onclick="showMySpaceTab('satisfaction')">áƒ—áƒ•áƒ˜áƒ—áƒ™áƒ›áƒáƒ§áƒáƒ¤áƒ˜áƒšáƒ”áƒ‘áƒ</button>
                </div>
                
                <!-- Gratitude Tab -->
                <div id="gratitudeTab" class="myspace-tab" style="display: block;">
                    <div style="background: linear-gradient(135deg, #F3F4F6 0%, #E5E7EB 100%); border-radius: 15px; padding: 20px; margin-bottom: 20px;">
                        <h3 style="color: #374151; margin-bottom: 15px; font-size: 18px;">ğŸ™ áƒ›áƒáƒ“áƒšáƒ˜áƒ”áƒ áƒ”áƒ‘áƒ</h3>
                        <p style="color: #4B5563; font-size: 14px; margin-bottom: 15px;">
                            áƒ§áƒáƒ•áƒ”áƒšáƒ“áƒ¦áƒ” áƒ©áƒáƒ¬áƒ”áƒ áƒ” 3 áƒ áƒáƒ›, áƒ áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡áƒáƒª áƒ›áƒáƒ“áƒšáƒáƒ‘áƒ”áƒšáƒ˜ áƒ®áƒáƒ 
                        </p>
                        <button class="btn btn-primary" onclick="addGratitudeEntry()" style="width: 100%;">+ áƒ“áƒ¦áƒ”áƒ•áƒáƒœáƒ“áƒ”áƒšáƒ˜ áƒ©áƒáƒœáƒáƒ¬áƒ”áƒ áƒ˜</button>
                    </div>
                    
                    <button class="btn" onclick="backToDashboard()" style="margin-bottom: 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; width: 100%;">â† Dashboard-áƒ–áƒ” áƒ“áƒáƒ‘áƒ áƒ£áƒœáƒ”áƒ‘áƒ</button>
                    
                    <!-- Gratitude entries list -->
                    <div id="gratitudeList"></div>
                </div>
                
                <!-- Positive Moments Tab -->
                <div id="positiveTab" class="myspace-tab" style="display: none;">
                    <div style="background: linear-gradient(135deg, #DBEAFE 0%, #93C5FD 100%); border-radius: 15px; padding: 20px; margin-bottom: 20px;">
                        <h3 style="color: #1E40AF; margin-bottom: 15px; font-size: 18px;">âœ¨ áƒáƒáƒ–áƒ˜áƒ¢áƒ˜áƒ£áƒ áƒ˜ áƒ›áƒáƒ›áƒ”áƒœáƒ¢áƒ”áƒ‘áƒ˜</h3>
                        <p style="color: #1E3A8A; font-size: 14px; margin-bottom: 15px;">
                            áƒáƒ¦áƒœáƒ˜áƒ¨áƒœáƒ” áƒáƒáƒ¢áƒáƒ áƒ áƒ¡áƒ˜áƒáƒ›áƒáƒ•áƒœáƒ”áƒ‘áƒ”áƒ‘áƒ˜ áƒ“áƒ áƒáƒáƒ–áƒ˜áƒ¢áƒ˜áƒ£áƒ áƒ˜ áƒ›áƒáƒ›áƒ”áƒœáƒ¢áƒ”áƒ‘áƒ˜, áƒ áƒáƒ›áƒšáƒ”áƒ‘áƒ˜áƒª áƒ¨áƒ”áƒáƒ›áƒ©áƒœáƒ˜áƒ”
                        </p>
                        <button class="btn btn-primary" onclick="addPositiveMoment()" style="width: 100%;">+ áƒ“áƒ¦áƒ”áƒ•áƒáƒœáƒ“áƒ”áƒšáƒ˜ áƒ›áƒáƒ›áƒ”áƒœáƒ¢áƒ˜</button>
                    </div>
                    
                    <button class="btn" onclick="backToDashboard()" style="margin-bottom: 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; width: 100%;">â† Dashboard-áƒ–áƒ” áƒ“áƒáƒ‘áƒ áƒ£áƒœáƒ”áƒ‘áƒ</button>
                    
                    <!-- Positive moments list -->
                    <div id="positiveList"></div>
                </div>
                
                <!-- Self-Satisfaction Tab -->
                <div id="satisfactionTab" class="myspace-tab" style="display: none;">
                    <div style="background: linear-gradient(135deg, #F3F4F6 0%, #E5E7EB 100%); border-radius: 15px; padding: 20px; margin-bottom: 20px;">
                        <h3 style="color: #374151; margin-bottom: 15px; font-size: 18px;">ğŸ’ áƒ—áƒ•áƒ˜áƒ—áƒ™áƒ›áƒáƒ§áƒáƒ¤áƒ˜áƒšáƒ”áƒ‘áƒ</h3>
                        <p style="color: #4B5563; font-size: 14px; margin-bottom: 15px;">
                            áƒ áƒ˜áƒ—áƒ˜ áƒ®áƒáƒ  áƒ“áƒ¦áƒ”áƒ¡ áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜ áƒ—áƒáƒ•áƒ˜áƒ— áƒ™áƒ›áƒáƒ§áƒáƒ¤áƒ˜áƒšáƒ˜?<br>
                            áƒ áƒ˜áƒ¡áƒ˜ áƒ’áƒáƒ™áƒ”áƒ—áƒ”áƒ‘áƒ áƒ¨áƒ”áƒ«áƒ”áƒšáƒ˜ áƒ“áƒ¦áƒ”áƒ¡?
                        </p>
                        <button class="btn btn-primary" onclick="openSatisfactionModal()" style="width: 100%;">+ áƒ“áƒ¦áƒ”áƒ•áƒáƒœáƒ“áƒ”áƒšáƒ˜ áƒ©áƒáƒœáƒáƒ¬áƒ”áƒ áƒ˜</button>
                    </div>
                    
                    <button class="btn" onclick="backToDashboard()" style="margin-bottom: 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; width: 100%;">â† Dashboard-áƒ–áƒ” áƒ“áƒáƒ‘áƒ áƒ£áƒœáƒ”áƒ‘áƒ</button>
                    
                    <!-- Satisfaction entries list -->
                    <div id="satisfactionList"></div>
                </div>
            </div>
            
            <!-- My Goals Section -->
            <div id="myGoalsSection" class="section">
                <h2 style="margin-bottom: 20px; font-family: 'Georgia', 'Garamond', serif; font-style: italic; color: #5B21B6; font-size: 28px; letter-spacing: 2px;">ğŸ¯ áƒ©áƒ”áƒ›áƒ˜ áƒ›áƒ˜áƒ–áƒœáƒ”áƒ‘áƒ˜</h2>
                
                <!-- Add Goal Button -->
                <button onclick="openAddGoalModal()" class="btn btn-primary" style="width: 100%; padding: 15px; margin-bottom: 15px; font-size: 16px;">
                    + áƒáƒ®áƒáƒšáƒ˜ áƒ›áƒ˜áƒ–áƒáƒœáƒ˜áƒ¡ áƒ“áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒ
                </button>
                
                <!-- My Space Activities Button -->
                <button onclick="openMySpaceActivitiesModal()" class="btn" style="width: 100%; padding: 15px; margin-bottom: 20px; font-size: 16px; background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; border: none;">
                    + áƒ©áƒ”áƒ›áƒ˜ áƒ¡áƒ˜áƒ•áƒ áƒªáƒ˜áƒ¡ áƒáƒ¥áƒ¢áƒ˜áƒ•áƒáƒ‘áƒ”áƒ‘áƒ˜
                </button>
                
                <!-- Goals List -->
                <div id="goalsListContainer">
                    <p style="color: #999; text-align: center; padding: 40px 20px;">
                        áƒ¯áƒ”áƒ  áƒáƒ  áƒ’áƒáƒ¥áƒ•áƒ¡ áƒ“áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ›áƒ˜áƒ–áƒœáƒ”áƒ‘áƒ˜<br><br>
                        áƒ“áƒáƒáƒ­áƒ˜áƒ áƒ” áƒ–áƒ”áƒ›áƒáƒ— áƒ¦áƒ˜áƒšáƒáƒ™áƒ¡ áƒáƒ˜áƒ áƒ•áƒ”áƒšáƒ˜ áƒ›áƒ˜áƒ–áƒœáƒ˜áƒ¡ áƒ“áƒáƒ¡áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒšáƒáƒ“!
                    </p>
                </div>
                
                <button class="btn" onclick="backToDashboard()" style="margin-top: 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">â† Dashboard-áƒ–áƒ” áƒ“áƒáƒ‘áƒ áƒ£áƒœáƒ”áƒ‘áƒ</button>
            </div>
            
            <!-- Results Section -->
            <div id="resultsSection" class="section">
                <h2 style="margin-bottom: 20px;">ğŸ“Š áƒ¨áƒ”áƒ“áƒ”áƒ’áƒ”áƒ‘áƒ˜</h2>
                
                <!-- Willpower Overview -->
                <div style="background: white; border-radius: 15px; padding: 20px; margin-bottom: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                    <h3 style="color: #374151; font-size: 18px; margin-bottom: 15px;">ğŸ’ª áƒœáƒ”áƒ‘áƒ˜áƒ¡ áƒ«áƒáƒšáƒ</h3>
                    <div style="margin-bottom: 10px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                            <span style="color: #6b7280; font-size: 14px;">áƒ›áƒ—áƒšáƒ˜áƒáƒœáƒ˜:</span>
                            <span id="resultsWillpowerTotal" style="color: #374151; font-weight: 600; font-size: 16px;">0%</span>
                        </div>
                        <div style="background: #e5e7eb; border-radius: 8px; height: 12px; overflow: hidden;">
                            <div id="resultsWillpowerBar" style="background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); height: 100%; width: 0%; transition: width 0.3s;"></div>
                        </div>
                    </div>
                </div>
                
                <!-- Goals List -->
                <div id="resultsGoalsList">
                    <!-- Goals will be inserted here -->
                </div>
                
                <button class="btn btn-primary" onclick="backToDashboard()" style="margin-top: 20px;">â† Dashboard-áƒ–áƒ” áƒ“áƒáƒ‘áƒ áƒ£áƒœáƒ”áƒ‘áƒ</button>
            </div>
            
            <!-- Profile Section (moved to separate view) -->
            <div id="profileSection" class="section">
                <h2 style="margin-bottom: 20px;">ğŸ‘¤ áƒáƒ áƒáƒ¤áƒ˜áƒšáƒ˜</h2>
                <div class="profile-section">
                    <div class="profile-info">
                        <div style="font-weight: 600; color: #666; font-size: 14px;">áƒ¡áƒáƒ®áƒ”áƒšáƒ˜</div>
                        <div id="profName" style="margin-top: 5px;"></div>
                    </div>
                    <div class="profile-info">
                        <div style="font-weight: 600; color: #666; font-size: 14px;">áƒ”áƒš. áƒ¤áƒáƒ¡áƒ¢áƒ</div>
                        <div id="profEmail" style="margin-top: 5px;"></div>
                    </div>
                    <div class="profile-info">
                        <div style="font-weight: 600; color: #666; font-size: 14px;">áƒ“áƒáƒ›áƒáƒ™áƒ˜áƒ“áƒ”áƒ‘áƒ£áƒšáƒ”áƒ‘áƒ</div>
                        <div id="profAddiction" style="margin-top: 5px;"></div>
                    </div>
                    <div class="profile-info">
                        <div style="font-weight: 600; color: #666; font-size: 14px;">áƒ‘áƒáƒšáƒ áƒ›áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ</div>
                        <div id="profLastUse" style="margin-top: 5px;"></div>
                    </div>
                    <!-- <button class="btn btn-secondary" onclick="editProf()">áƒ áƒ”áƒ“áƒáƒ¥áƒ¢áƒ˜áƒ áƒ”áƒ‘áƒ</button> -->
                    <button class="btn btn-logout" onclick="doLogout()">áƒ’áƒáƒ›áƒáƒ¡áƒ•áƒšáƒ</button>
                </div>
                <button class="btn" onclick="backToDashboard()" style="margin-top: 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">â† Dashboard-áƒ–áƒ” áƒ“áƒáƒ‘áƒ áƒ£áƒœáƒ”áƒ‘áƒ</button>
            </div>
            
            <!-- Resources Modal -->
            <div id="resourcesModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; overflow-y: auto;">
                <div style="background: white; max-width: 800px; margin: 30px auto; border-radius: 12px; padding: 40px 20px; min-height: 650px; display: flex; flex-direction: column;">
                    <h2 style="color: #667eea; margin-bottom: 25px; text-align: center; font-size: 22px;">ğŸŒŸ áƒáƒ®áƒáƒšáƒ˜ áƒ áƒ”áƒ¡áƒ£áƒ áƒ¡áƒ˜áƒ¡ áƒ“áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒ</h2>
                    
                    <!-- Question 1: Resource Description -->
                    <div style="margin-bottom: 25px;">
                        <label style="display: block; margin-bottom: 10px; color: #333; font-size: 15px; font-weight: 600;">1ï¸âƒ£ áƒ—áƒ£ áƒ’áƒáƒ¥áƒ•áƒ¡ áƒ áƒáƒ˜áƒ›áƒ” áƒ áƒ”áƒ¡áƒ£áƒ áƒ¡áƒ˜, áƒ áƒáƒ›áƒ”áƒšáƒ˜áƒª áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒáƒ¨áƒ˜ áƒ›áƒáƒ’áƒ”áƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ?</label>
                        <p style="color: #666; font-size: 13px; margin-bottom: 10px;">áƒ”áƒ¡ áƒ¨áƒ”áƒ˜áƒ«áƒšáƒ”áƒ‘áƒ áƒ˜áƒ§áƒáƒ¡: áƒ—áƒ•áƒ˜áƒ¡áƒ”áƒ‘áƒ, áƒ£áƒœáƒáƒ áƒ˜, áƒ áƒ¬áƒ›áƒ£áƒœáƒ”áƒ‘áƒ£áƒšáƒ”áƒ‘áƒ, áƒáƒ áƒ˜áƒœáƒªáƒ˜áƒáƒ˜, áƒ’áƒáƒ áƒ¨áƒ”áƒ›áƒáƒ›áƒ§áƒáƒ¤áƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒ®áƒáƒ áƒ“áƒáƒ­áƒ”áƒ áƒ áƒ“áƒ áƒ.áƒ¨.</p>
                        <textarea id="resourceDescription" placeholder="áƒ›áƒáƒ’: áƒ©áƒ”áƒ›áƒ˜ áƒáƒ¯áƒáƒ®áƒ˜áƒ¡ áƒ›áƒ®áƒáƒ áƒ“áƒáƒ­áƒ”áƒ áƒ, áƒ¡áƒ˜áƒ›áƒ¢áƒ™áƒ˜áƒªáƒ”, áƒ áƒ¬áƒ›áƒ”áƒœáƒ..." style="width: 100%; min-height: 100px; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px; font-family: inherit; resize: vertical; box-sizing: border-box;"></textarea>
                    </div>
                    
                    <!-- Question 2: Three Experiences -->
                    <div style="margin-bottom: 25px;">
                        <label style="display: block; margin-bottom: 10px; color: #333; font-size: 15px; font-weight: 600;">2ï¸âƒ£ áƒªáƒ®áƒáƒ•áƒ áƒ”áƒ‘áƒáƒ¨áƒ˜ áƒ—áƒ£ áƒ’áƒáƒ›áƒáƒ’áƒ˜áƒ§áƒ”áƒœáƒ”áƒ‘áƒ˜áƒ áƒ”áƒ¡ áƒ áƒ”áƒ¡áƒ£áƒ áƒ¡áƒ˜? áƒáƒ¦áƒ¬áƒ”áƒ áƒ” áƒ¡áƒáƒ›áƒ˜ áƒ’áƒáƒœáƒ¡áƒ®áƒ•áƒáƒ•áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ’áƒáƒ›áƒáƒªáƒ“áƒ˜áƒšáƒ”áƒ‘áƒ</label>
                        
                        <div style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; color: #666; font-size: 14px;">áƒ’áƒáƒ›áƒáƒªáƒ“áƒ˜áƒšáƒ”áƒ‘áƒ 1:</label>
                            <textarea id="resourceExperience1" placeholder="áƒáƒ¦áƒ¬áƒ”áƒ áƒ” áƒáƒ˜áƒ áƒ•áƒ”áƒšáƒ˜ áƒ¨áƒ”áƒ›áƒ—áƒ®áƒ•áƒ”áƒ•áƒ..." style="width: 100%; min-height: 80px; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px; font-family: inherit; resize: vertical; box-sizing: border-box;"></textarea>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; color: #666; font-size: 14px;">áƒ’áƒáƒ›áƒáƒªáƒ“áƒ˜áƒšáƒ”áƒ‘áƒ 2:</label>
                            <textarea id="resourceExperience2" placeholder="áƒáƒ¦áƒ¬áƒ”áƒ áƒ” áƒ›áƒ”áƒáƒ áƒ” áƒ¨áƒ”áƒ›áƒ—áƒ®áƒ•áƒ”áƒ•áƒ..." style="width: 100%; min-height: 80px; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px; font-family: inherit; resize: vertical; box-sizing: border-box;"></textarea>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; color: #666; font-size: 14px;">áƒ’áƒáƒ›áƒáƒªáƒ“áƒ˜áƒšáƒ”áƒ‘áƒ 3:</label>
                            <textarea id="resourceExperience3" placeholder="áƒáƒ¦áƒ¬áƒ”áƒ áƒ” áƒ›áƒ”áƒ¡áƒáƒ›áƒ” áƒ¨áƒ”áƒ›áƒ—áƒ®áƒ•áƒ”áƒ•áƒ..." style="width: 100%; min-height: 80px; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px; font-family: inherit; resize: vertical; box-sizing: border-box;"></textarea>
                        </div>
                    </div>
                    
                    <!-- Question 3: Three Results -->
                    <div style="margin-bottom: 25px;">
                        <label style="display: block; margin-bottom: 10px; color: #333; font-size: 15px; font-weight: 600;">3ï¸âƒ£ áƒ áƒ áƒ¨áƒ”áƒ“áƒ”áƒ’áƒ˜ áƒ›áƒ˜áƒ’áƒ˜áƒ¦áƒ˜áƒ?</label>
                        
                        <div style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; color: #666; font-size: 14px;">áƒ¨áƒ”áƒ“áƒ”áƒ’áƒ˜ 1:</label>
                            <textarea id="resourceResult1" placeholder="áƒáƒ¦áƒ¬áƒ”áƒ áƒ” áƒáƒ˜áƒ áƒ•áƒ”áƒšáƒ˜ áƒ¨áƒ”áƒ“áƒ”áƒ’áƒ˜..." style="width: 100%; min-height: 80px; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px; font-family: inherit; resize: vertical; box-sizing: border-box;"></textarea>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; color: #666; font-size: 14px;">áƒ¨áƒ”áƒ“áƒ”áƒ’áƒ˜ 2:</label>
                            <textarea id="resourceResult2" placeholder="áƒáƒ¦áƒ¬áƒ”áƒ áƒ” áƒ›áƒ”áƒáƒ áƒ” áƒ¨áƒ”áƒ“áƒ”áƒ’áƒ˜..." style="width: 100%; min-height: 80px; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px; font-family: inherit; resize: vertical; box-sizing: border-box;"></textarea>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; color: #666; font-size: 14px;">áƒ¨áƒ”áƒ“áƒ”áƒ’áƒ˜ 3:</label>
                            <textarea id="resourceResult3" placeholder="áƒáƒ¦áƒ¬áƒ”áƒ áƒ” áƒ›áƒ”áƒ¡áƒáƒ›áƒ” áƒ¨áƒ”áƒ“áƒ”áƒ’áƒ˜..." style="width: 100%; min-height: 80px; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px; font-family: inherit; resize: vertical; box-sizing: border-box;"></textarea>
                        </div>
                    </div>
                    
                    <div style="display: flex; gap: 15px; margin-top: auto;">
                        <button class="btn btn-primary" onclick="saveResource()" style="flex: 1;">âœ“ áƒ¨áƒ”áƒœáƒáƒ®áƒ•áƒ</button>
                        <button class="btn btn-secondary" onclick="closeResourcesModal()" style="flex: 1;">áƒ’áƒáƒ£áƒ¥áƒ›áƒ”áƒ‘áƒ</button>
                    </div>
                </div>
            </div>

            <!-- Add Goal Modal -->
            <div id="addGoalModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; overflow-y: auto; padding: 20px 0;">
                <div style="background: white; max-width: 600px; margin: 20px auto; border-radius: 15px; padding: 25px 20px; box-shadow: 0 4px 20px rgba(0,0,0,0.2);">
                    <h2 style="color: #374151; margin-bottom: 20px; text-align: center; font-size: 22px;">ğŸ¯ áƒáƒ®áƒáƒšáƒ˜ áƒ›áƒ˜áƒ–áƒáƒœáƒ˜</h2>
                    
                    <!-- Goal Name -->
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; color: #374151; font-size: 15px; font-weight: 600;">áƒ›áƒ˜áƒ–áƒœáƒ˜áƒ¡ áƒ¡áƒáƒ®áƒ”áƒšáƒ˜:</label>
                        <input type="text" id="goalName" placeholder="áƒ›áƒáƒ’: áƒ•áƒáƒ áƒ¯áƒ˜áƒ¨áƒ˜, áƒáƒ®áƒáƒšáƒ˜ áƒáƒ áƒáƒ”áƒ¥áƒ¢áƒ˜, áƒ¬áƒ˜áƒ’áƒœáƒ˜áƒ¡ áƒ™áƒ˜áƒ—áƒ®áƒ•áƒ..." style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 10px; font-size: 16px; font-family: inherit; box-sizing: border-box;">
                    </div>
                    
                    <!-- Goal Description (Optional) -->
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; color: #374151; font-size: 15px; font-weight: 600;">áƒ“áƒ”áƒ¢áƒáƒšáƒ£áƒ áƒ˜ áƒáƒ¦áƒ¬áƒ”áƒ áƒ <span style="color: #9ca3af; font-weight: 400;">(áƒáƒ áƒ©áƒ”áƒ•áƒ˜áƒ—áƒ˜)</span>:</label>
                        <textarea id="goalDescription" placeholder="áƒ áƒáƒ¡ áƒ’áƒ£áƒšáƒ˜áƒ¡áƒ®áƒ›áƒáƒ‘áƒ¡ áƒ”áƒ¡ áƒ›áƒ˜áƒ–áƒáƒœáƒ˜?" style="width: 100%; min-height: 80px; padding: 12px; border: 2px solid #e5e7eb; border-radius: 10px; font-size: 15px; font-family: inherit; resize: vertical; box-sizing: border-box;"></textarea>
                    </div>
                    
                    <!-- Daily Action -->
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; color: #374151; font-size: 15px; font-weight: 600;">áƒ§áƒáƒ•áƒ”áƒšáƒ“áƒ¦áƒ˜áƒ£áƒ áƒ˜ áƒ›áƒáƒ¥áƒ›áƒ”áƒ“áƒ”áƒ‘áƒ:</label>
                        <input type="text" id="goalDailyAction" placeholder='áƒ›áƒáƒ’: "áƒ“áƒ¦áƒ”áƒ¨áƒ˜ 30 áƒ¬áƒ£áƒ—áƒ˜ áƒ•áƒ˜áƒ•áƒáƒ áƒ¯áƒ˜áƒ¨áƒ"' style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 10px; font-size: 16px; font-family: inherit; box-sizing: border-box;">
                    </div>
                    
                    <!-- Frequency per Week -->
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; color: #374151; font-size: 15px; font-weight: 600;">áƒ™áƒ•áƒ˜áƒ áƒáƒ¨áƒ˜ áƒ áƒáƒ›áƒ“áƒ”áƒœáƒ¯áƒ”áƒ ?</label>
                        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 15px;">
                            <select id="goalFrequency" style="width: 80px; padding: 12px; border: 2px solid #e5e7eb; border-radius: 10px; font-size: 18px; text-align: center; box-sizing: border-box; background: white; cursor: pointer;">
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3" selected>3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                                <option value="7">7</option>
                            </select>
                            <span style="color: #6b7280;">áƒ¯áƒ”áƒ /áƒ™áƒ•áƒ˜áƒ áƒáƒ¨áƒ˜</span>
                        </div>
                        
                        <!-- Day Selection Buttons -->
                        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; margin-bottom: 10px;">
                            <button type="button" onclick="toggleDayButton('monday', this)" class="day-button" data-day="monday" style="padding: 10px 8px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 14px; transition: all 0.2s;">áƒáƒ áƒ¨</button>
                            <button type="button" onclick="toggleDayButton('tuesday', this)" class="day-button" data-day="tuesday" style="padding: 10px 8px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 14px; transition: all 0.2s;">áƒ¡áƒáƒ›</button>
                            <button type="button" onclick="toggleDayButton('wednesday', this)" class="day-button" data-day="wednesday" style="padding: 10px 8px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 14px; transition: all 0.2s;">áƒáƒ—áƒ®</button>
                            <button type="button" onclick="toggleDayButton('thursday', this)" class="day-button" data-day="thursday" style="padding: 10px 8px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 14px; transition: all 0.2s;">áƒ®áƒ£áƒ—</button>
                        </div>
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px;">
                            <button type="button" onclick="toggleDayButton('friday', this)" class="day-button" data-day="friday" style="padding: 10px 8px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 14px; transition: all 0.2s;">áƒáƒáƒ </button>
                            <button type="button" onclick="toggleDayButton('saturday', this)" class="day-button" data-day="saturday" style="padding: 10px 8px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 14px; transition: all 0.2s;">áƒ¨áƒáƒ‘</button>
                            <button type="button" onclick="toggleDayButton('sunday', this)" class="day-button" data-day="sunday" style="padding: 10px 8px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 14px; transition: all 0.2s;">áƒ™áƒ•áƒ˜áƒ </button>
                        </div>
                    </div>
                    
                    <!-- Duration -->
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 12px; color: #374151; font-size: 15px; font-weight: 600;">áƒ›áƒ˜áƒ–áƒœáƒ˜áƒ¡ áƒ•áƒáƒ“áƒ:</label>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                            <label style="display: flex; align-items: center; gap: 8px; padding: 12px; background: #f9fafb; border: 2px solid #e5e7eb; border-radius: 10px; cursor: pointer;">
                                <input type="radio" name="duration" value="1" style="width: 16px; height: 16px;">
                                <span>1 áƒ—áƒ•áƒ”</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; padding: 12px; background: #f9fafb; border: 2px solid #e5e7eb; border-radius: 10px; cursor: pointer;">
                                <input type="radio" name="duration" value="3" checked style="width: 16px; height: 16px;">
                                <span>3 áƒ—áƒ•áƒ”</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; padding: 12px; background: #f9fafb; border: 2px solid #e5e7eb; border-radius: 10px; cursor: pointer;">
                                <input type="radio" name="duration" value="6" style="width: 16px; height: 16px;">
                                <span>6 áƒ—áƒ•áƒ”</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; padding: 12px; background: #f9fafb; border: 2px solid #e5e7eb; border-radius: 10px; cursor: pointer;">
                                <input type="radio" name="duration" value="9" style="width: 16px; height: 16px;">
                                <span>9 áƒ—áƒ•áƒ”</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; padding: 12px; background: #f9fafb; border: 2px solid #e5e7eb; border-radius: 10px; cursor: pointer;">
                                <input type="radio" name="duration" value="12" style="width: 16px; height: 16px;">
                                <span>1 áƒ¬áƒ”áƒšáƒ˜</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; padding: 12px; background: #f9fafb; border: 2px solid #e5e7eb; border-radius: 10px; cursor: pointer;">
                                <input type="radio" name="duration" value="unlimited" style="width: 16px; height: 16px;">
                                <span>áƒ£áƒ•áƒáƒ“áƒ</span>
                            </label>
                        </div>
                        
                        <!-- Custom Duration -->
                        <div style="margin-top: 15px;">
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="radio" name="duration" value="custom" style="width: 16px; height: 16px;">
                                <span style="color: #374151;">áƒ¡áƒ®áƒ•áƒ áƒ•áƒáƒ“áƒ:</span>
                                <input type="number" id="customDuration" min="1" placeholder="áƒ áƒáƒáƒ“áƒ”áƒœáƒáƒ‘áƒ" style="width: 100px; padding: 8px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 15px; box-sizing: border-box;">
                                <select id="customDurationUnit" style="padding: 8px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 15px;">
                                    <option value="days">áƒ“áƒ¦áƒ”</option>
                                    <option value="months">áƒ—áƒ•áƒ”</option>
                                </select>
                            </label>
                        </div>
                    </div>
                    
                    <!-- Connection to Recovery -->
                    <div style="margin-bottom: 25px;">
                        <label style="display: block; margin-bottom: 8px; color: #374151; font-size: 15px; font-weight: 600;">ğŸ¤” áƒ áƒáƒ’áƒáƒ  áƒáƒ áƒ˜áƒ¡ áƒ“áƒáƒ™áƒáƒ•áƒ¨áƒ˜áƒ áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ”áƒ¡ áƒ›áƒ˜áƒ–áƒáƒœáƒ˜ áƒ¨áƒ”áƒœáƒ¡ áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒáƒ¡áƒ—áƒáƒœ?</label>
                        <textarea id="goalConnection" placeholder="áƒ›áƒáƒ’: áƒ•áƒáƒ áƒ¯áƒ˜áƒ¨áƒ˜ áƒ›áƒ”áƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ áƒ¡áƒ¢áƒ áƒ”áƒ¡áƒ˜áƒ¡ áƒ“áƒáƒ«áƒšáƒ”áƒ•áƒáƒ¨áƒ˜, áƒ”áƒ›áƒáƒªáƒ˜áƒ£áƒ  áƒ áƒ”áƒ’áƒ£áƒšáƒáƒªáƒ˜áƒáƒ¨áƒ˜ áƒ“áƒ áƒ¯áƒáƒœáƒ¡áƒáƒ¦áƒ˜ áƒ áƒ£áƒ¢áƒ˜áƒœáƒ˜áƒ¡ áƒ¨áƒ”áƒ¥áƒ›áƒœáƒáƒ¨áƒ˜, áƒ áƒáƒª áƒ¡áƒ˜áƒ¤áƒ®áƒ˜áƒ–áƒšáƒ˜áƒ¡ áƒ¨áƒ”áƒœáƒáƒ áƒ©áƒ£áƒœáƒ”áƒ‘áƒáƒ¨áƒ˜ áƒ›áƒ”áƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ. áƒ¡áƒ˜áƒ¤áƒ®áƒ˜áƒ–áƒšáƒ” áƒ›áƒ”áƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ áƒ›áƒ¥áƒáƒœáƒ“áƒ”áƒ¡ áƒ”áƒœáƒ”áƒ áƒ’áƒ˜áƒ áƒ“áƒ áƒ›áƒáƒ¢áƒ˜áƒ•áƒáƒªáƒ˜áƒ áƒ áƒ”áƒ’áƒ£áƒšáƒáƒ áƒ£áƒšáƒáƒ“ áƒ•áƒ˜áƒ•áƒáƒ áƒ¯áƒ˜áƒ¨áƒ." style="width: 100%; min-height: 100px; padding: 12px; border: 2px solid #e5e7eb; border-radius: 10px; font-size: 15px; font-family: inherit; resize: vertical; box-sizing: border-box;"></textarea>
                    </div>
                    
                    <!-- Buttons -->
                    <div style="display: flex; gap: 15px;">
                        <button onclick="saveGoal()" class="btn btn-primary" style="flex: 1; padding: 14px; font-size: 16px;">áƒ“áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒ</button>
                        <button onclick="closeAddGoalModal()" class="btn btn-secondary" style="flex: 1; padding: 14px; font-size: 16px;">áƒ’áƒáƒ£áƒ¥áƒ›áƒ”áƒ‘áƒ</button>
                    </div>
                </div>
            </div>

            <!-- My Space Activities Modal -->
            <div id="mySpaceActivitiesModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; overflow-y: auto; padding: 20px 0;">
                <div style="background: white; max-width: 600px; margin: 20px auto; border-radius: 15px; padding: 25px 20px; box-shadow: 0 4px 20px rgba(0,0,0,0.2);">
                    <h2 style="color: #374151; margin-bottom: 20px; text-align: center; font-size: 22px;">ğŸ¯ áƒ©áƒ”áƒ›áƒ˜ áƒ¡áƒ˜áƒ•áƒ áƒªáƒ˜áƒ¡ áƒáƒ¥áƒ¢áƒ˜áƒ•áƒáƒ‘áƒ”áƒ‘áƒ˜</h2>
                    
                    <!-- Gratitude Activity -->
                    <div style="border: 2px solid #e5e7eb; border-radius: 12px; padding: 15px; margin-bottom: 15px;">
                        <label style="display: flex; align-items: center; gap: 12px; cursor: pointer; margin-bottom: 15px;">
                            <input type="checkbox" id="activityGratitude" style="width: 20px; height: 20px; cursor: pointer;">
                            <span style="font-size: 18px; font-weight: 600; color: #374151;">ğŸ™ áƒ›áƒáƒ“áƒšáƒ˜áƒ”áƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ“áƒ¦áƒ˜áƒ£áƒ áƒ˜</span>
                        </label>
                        
                        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 12px;">
                            <label style="color: #6b7280; font-size: 14px;">áƒ™áƒ•áƒ˜áƒ áƒáƒ¨áƒ˜:</label>
                            <select id="gratitudeFrequency" style="padding: 8px 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 15px; background: white; cursor: pointer;">
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5" selected>5</option>
                                <option value="6">6</option>
                                <option value="7">7</option>
                            </select>
                            <span style="color: #6b7280; font-size: 14px;">áƒ¯áƒ”áƒ </span>
                        </div>
                        
                        <div>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; margin-bottom: 10px;">
                                <input type="checkbox" id="gratitudeSpecificDays" onchange="toggleActivityDays('gratitude')" style="width: 16px; height: 16px; cursor: pointer;">
                                <span style="color: #6b7280; font-size: 14px;">áƒ™áƒáƒœáƒ™áƒ áƒ”áƒ¢áƒ£áƒšáƒ˜ áƒ“áƒ¦áƒ”áƒ‘áƒ˜áƒ¡ áƒáƒ áƒ©áƒ”áƒ•áƒ</span>
                            </label>
                            
                            <div id="gratitudeDaysContainer" style="display: none;">
                                <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 6px; margin-bottom: 8px;">
                                    <button type="button" onclick="toggleActivityDayButton('gratitude', 'monday', this)" class="activity-day-btn gratitude-day" data-day="monday" style="padding: 8px 6px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 13px;">áƒáƒ áƒ¨</button>
                                    <button type="button" onclick="toggleActivityDayButton('gratitude', 'tuesday', this)" class="activity-day-btn gratitude-day" data-day="tuesday" style="padding: 8px 6px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 13px;">áƒ¡áƒáƒ›</button>
                                    <button type="button" onclick="toggleActivityDayButton('gratitude', 'wednesday', this)" class="activity-day-btn gratitude-day" data-day="wednesday" style="padding: 8px 6px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 13px;">áƒáƒ—áƒ®</button>
                                    <button type="button" onclick="toggleActivityDayButton('gratitude', 'thursday', this)" class="activity-day-btn gratitude-day" data-day="thursday" style="padding: 8px 6px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 13px;">áƒ®áƒ£áƒ—</button>
                                </div>
                                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 6px;">
                                    <button type="button" onclick="toggleActivityDayButton('gratitude', 'friday', this)" class="activity-day-btn gratitude-day" data-day="friday" style="padding: 8px 6px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 13px;">áƒáƒáƒ </button>
                                    <button type="button" onclick="toggleActivityDayButton('gratitude', 'saturday', this)" class="activity-day-btn gratitude-day" data-day="saturday" style="padding: 8px 6px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 13px;">áƒ¨áƒáƒ‘</button>
                                    <button type="button" onclick="toggleActivityDayButton('gratitude', 'sunday', this)" class="activity-day-btn gratitude-day" data-day="sunday" style="padding: 8px 6px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 13px;">áƒ™áƒ•áƒ˜áƒ </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Positive Moments Activity -->
                    <div style="border: 2px solid #e5e7eb; border-radius: 12px; padding: 15px; margin-bottom: 15px;">
                        <label style="display: flex; align-items: center; gap: 12px; cursor: pointer; margin-bottom: 15px;">
                            <input type="checkbox" id="activityPositive" style="width: 20px; height: 20px; cursor: pointer;">
                            <span style="font-size: 18px; font-weight: 600; color: #374151;">âœ¨ áƒáƒáƒ–áƒ˜áƒ¢áƒ˜áƒ£áƒ áƒ˜ áƒ›áƒáƒ›áƒ”áƒœáƒ¢áƒ”áƒ‘áƒ˜</span>
                        </label>
                        
                        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 12px;">
                            <label style="color: #6b7280; font-size: 14px;">áƒ™áƒ•áƒ˜áƒ áƒáƒ¨áƒ˜:</label>
                            <select id="positiveFrequency" style="padding: 8px 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 15px; background: white; cursor: pointer;">
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                                <option value="7" selected>7</option>
                            </select>
                            <span style="color: #6b7280; font-size: 14px;">áƒ¯áƒ”áƒ </span>
                        </div>
                        
                        <div>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; margin-bottom: 10px;">
                                <input type="checkbox" id="positiveSpecificDays" onchange="toggleActivityDays('positive')" style="width: 16px; height: 16px; cursor: pointer;">
                                <span style="color: #6b7280; font-size: 14px;">áƒ™áƒáƒœáƒ™áƒ áƒ”áƒ¢áƒ£áƒšáƒ˜ áƒ“áƒ¦áƒ”áƒ‘áƒ˜áƒ¡ áƒáƒ áƒ©áƒ”áƒ•áƒ</span>
                            </label>
                            
                            <div id="positiveDaysContainer" style="display: none;">
                                <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 6px; margin-bottom: 8px;">
                                    <button type="button" onclick="toggleActivityDayButton('positive', 'monday', this)" class="activity-day-btn positive-day" data-day="monday" style="padding: 8px 6px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 13px;">áƒáƒ áƒ¨</button>
                                    <button type="button" onclick="toggleActivityDayButton('positive', 'tuesday', this)" class="activity-day-btn positive-day" data-day="tuesday" style="padding: 8px 6px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 13px;">áƒ¡áƒáƒ›</button>
                                    <button type="button" onclick="toggleActivityDayButton('positive', 'wednesday', this)" class="activity-day-btn positive-day" data-day="wednesday" style="padding: 8px 6px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 13px;">áƒáƒ—áƒ®</button>
                                    <button type="button" onclick="toggleActivityDayButton('positive', 'thursday', this)" class="activity-day-btn positive-day" data-day="thursday" style="padding: 8px 6px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 13px;">áƒ®áƒ£áƒ—</button>
                                </div>
                                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 6px;">
                                    <button type="button" onclick="toggleActivityDayButton('positive', 'friday', this)" class="activity-day-btn positive-day" data-day="friday" style="padding: 8px 6px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 13px;">áƒáƒáƒ </button>
                                    <button type="button" onclick="toggleActivityDayButton('positive', 'saturday', this)" class="activity-day-btn positive-day" data-day="saturday" style="padding: 8px 6px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 13px;">áƒ¨áƒáƒ‘</button>
                                    <button type="button" onclick="toggleActivityDayButton('positive', 'sunday', this)" class="activity-day-btn positive-day" data-day="sunday" style="padding: 8px 6px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 13px;">áƒ™áƒ•áƒ˜áƒ </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Self-Satisfaction Activity -->
                    <div style="border: 2px solid #e5e7eb; border-radius: 12px; padding: 15px; margin-bottom: 20px;">
                        <label style="display: flex; align-items: center; gap: 12px; cursor: pointer; margin-bottom: 15px;">
                            <input type="checkbox" id="activitySatisfaction" style="width: 20px; height: 20px; cursor: pointer;">
                            <span style="font-size: 18px; font-weight: 600; color: #374151;">ğŸ’ áƒ—áƒ•áƒ˜áƒ—áƒ™áƒ›áƒáƒ§áƒáƒ¤áƒ˜áƒšáƒ”áƒ‘áƒ</span>
                        </label>
                        
                        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 12px;">
                            <label style="color: #6b7280; font-size: 14px;">áƒ™áƒ•áƒ˜áƒ áƒáƒ¨áƒ˜:</label>
                            <select id="satisfactionFrequency" style="padding: 8px 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 15px; background: white; cursor: pointer;">
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3" selected>3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                                <option value="7">7</option>
                            </select>
                            <span style="color: #6b7280; font-size: 14px;">áƒ¯áƒ”áƒ </span>
                        </div>
                        
                        <div>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; margin-bottom: 10px;">
                                <input type="checkbox" id="satisfactionSpecificDays" onchange="toggleActivityDays('satisfaction')" style="width: 16px; height: 16px; cursor: pointer;">
                                <span style="color: #6b7280; font-size: 14px;">áƒ™áƒáƒœáƒ™áƒ áƒ”áƒ¢áƒ£áƒšáƒ˜ áƒ“áƒ¦áƒ”áƒ‘áƒ˜áƒ¡ áƒáƒ áƒ©áƒ”áƒ•áƒ</span>
                            </label>
                            
                            <div id="satisfactionDaysContainer" style="display: none;">
                                <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 6px; margin-bottom: 8px;">
                                    <button type="button" onclick="toggleActivityDayButton('satisfaction', 'monday', this)" class="activity-day-btn satisfaction-day" data-day="monday" style="padding: 8px 6px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 13px;">áƒáƒ áƒ¨</button>
                                    <button type="button" onclick="toggleActivityDayButton('satisfaction', 'tuesday', this)" class="activity-day-btn satisfaction-day" data-day="tuesday" style="padding: 8px 6px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 13px;">áƒ¡áƒáƒ›</button>
                                    <button type="button" onclick="toggleActivityDayButton('satisfaction', 'wednesday', this)" class="activity-day-btn satisfaction-day" data-day="wednesday" style="padding: 8px 6px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 13px;">áƒáƒ—áƒ®</button>
                                    <button type="button" onclick="toggleActivityDayButton('satisfaction', 'thursday', this)" class="activity-day-btn satisfaction-day" data-day="thursday" style="padding: 8px 6px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 13px;">áƒ®áƒ£áƒ—</button>
                                </div>
                                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 6px;">
                                    <button type="button" onclick="toggleActivityDayButton('satisfaction', 'friday', this)" class="activity-day-btn satisfaction-day" data-day="friday" style="padding: 8px 6px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 13px;">áƒáƒáƒ </button>
                                    <button type="button" onclick="toggleActivityDayButton('satisfaction', 'saturday', this)" class="activity-day-btn satisfaction-day" data-day="saturday" style="padding: 8px 6px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 13px;">áƒ¨áƒáƒ‘</button>
                                    <button type="button" onclick="toggleActivityDayButton('satisfaction', 'sunday', this)" class="activity-day-btn satisfaction-day" data-day="sunday" style="padding: 8px 6px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 13px;">áƒ™áƒ•áƒ˜áƒ </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Buttons -->
                    <div style="display: flex; gap: 15px;">
                        <button onclick="saveMySpaceActivities()" class="btn btn-primary" style="flex: 1; padding: 14px; font-size: 16px;">áƒ“áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒ</button>
                        <button onclick="closeMySpaceActivitiesModal()" class="btn btn-secondary" style="flex: 1; padding: 14px; font-size: 16px;">áƒ’áƒáƒ£áƒ¥áƒ›áƒ”áƒ‘áƒ</button>
                    </div>
                </div>
            </div>

            <!-- Motivations View -->
            <div id="motivationsSection" class="section">
                <h2 style="margin-bottom: 20px; font-family: 'Georgia', 'Garamond', serif; font-style: italic; color: #5B21B6; font-size: 28px; letter-spacing: 2px;">ğŸ’­ áƒ©áƒ”áƒ›áƒ˜ áƒ›áƒáƒ¢áƒ˜áƒ•áƒáƒªáƒ˜áƒ”áƒ‘áƒ˜</h2>
                
                <!-- Four main buttons -->
                <button class="motivation-btn" onclick="showUsageMotivationsView()">
                    ğŸ’Š áƒ áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡ áƒ•áƒ˜áƒ§áƒ”áƒœáƒ”áƒ‘áƒ“áƒ˜ áƒœáƒ˜áƒ•áƒ—áƒ˜áƒ”áƒ áƒ”áƒ‘áƒáƒ¡?
                </button>
                
                <button class="motivation-btn" onclick="showRecoveryMotivationsView()">
                    ğŸŒŸ áƒ áƒáƒ¢áƒáƒ› áƒ›áƒ˜áƒœáƒ“áƒ áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ?
                </button>
                
                <button class="motivation-btn" onclick="showFutureVision()">
                    ğŸ”® áƒ áƒáƒ’áƒáƒ áƒ˜ áƒ˜áƒ¥áƒœáƒ”áƒ‘áƒ áƒ©áƒ”áƒ›áƒ˜ áƒ›áƒáƒ›áƒáƒ•áƒáƒšáƒ˜?
                </button>
                
                <button class="motivation-btn" onclick="showReadinessAssessment()">
                    ğŸ“Š áƒ áƒáƒ›áƒ“áƒ”áƒœáƒáƒ“ áƒ›áƒ–áƒáƒ“ áƒ•áƒáƒ  áƒªáƒ•áƒšáƒ˜áƒšáƒ”áƒ‘áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡?
                </button>
                
                <button class="motivation-btn" onclick="showGoals()" style="display: none;">
                    ğŸ¯ áƒ©áƒ”áƒ›áƒ˜ áƒ›áƒ˜áƒ–áƒœáƒ”áƒ‘áƒ˜
                </button>
                
                <button class="motivation-btn" onclick="showSavings()">
                    ğŸ’° áƒ©áƒ”áƒ›áƒ˜ áƒ“áƒáƒœáƒáƒ–áƒáƒ’áƒ”áƒ‘áƒ˜
                </button>
                
                <button class="btn" onclick="backToDashboard()" style="margin-top: 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">â† Dashboard-áƒ–áƒ” áƒ“áƒáƒ‘áƒ áƒ£áƒœáƒ”áƒ‘áƒ</button>
            </div>
            
            <!-- Usage Motivations Detail View -->
            <div id="usageMotivationsViewSection" class="section">
                <h2 style="margin-bottom: 20px;">ğŸ’Š áƒ áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡ áƒ•áƒ˜áƒ§áƒ”áƒœáƒ”áƒ‘áƒ“áƒ˜ áƒœáƒ˜áƒ•áƒ—áƒ˜áƒ”áƒ áƒ”áƒ‘áƒáƒ¡?</h2>
                
                <!-- Remember Button -->
                <button class="motivation-btn" onclick="showRememberModal()" style="margin-bottom: 20px;">
                    ğŸ’¡ áƒ’áƒáƒ®áƒ¡áƒáƒ•áƒ“áƒ”áƒ¡!
                </button>
                
                <div id="viewUsageMotivations"></div>
                <div style="margin-top: 15px;">
                    <button class="btn btn-secondary" onclick="showUsageModal()" style="width: auto; padding: 10px 20px;">+ áƒ“áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒ</button>
                </div>
                <button class="btn btn-primary" onclick="showSection('motivations')" style="margin-top: 20px;">â† áƒ£áƒ™áƒáƒœ</button>
            </div>
            
            <!-- Recovery Motivations Detail View -->
            <div id="recoveryMotivationsViewSection" class="section">
                <h2 style="margin-bottom: 20px;">ğŸŒŸ áƒ áƒáƒ¢áƒáƒ› áƒ›áƒ˜áƒœáƒ“áƒ áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ?</h2>
                <div id="viewRecoveryMotivations"></div>
                <div style="margin-top: 15px;">
                    <button class="btn btn-secondary" onclick="showRecoveryModal()" style="width: auto; padding: 10px 20px;">+ áƒ“áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒ</button>
                </div>
                <button class="btn btn-primary" onclick="showSection('motivations')" style="margin-top: 20px;">â† áƒ£áƒ™áƒáƒœ</button>
            </div>
            
            <!-- Future Vision Section -->
            <div id="futureVisionSection" class="section">
                <h2 style="margin-bottom: 20px;">ğŸ”® áƒ áƒáƒ’áƒáƒ áƒ˜ áƒ˜áƒ¥áƒœáƒ”áƒ‘áƒ áƒ©áƒ”áƒ›áƒ˜ áƒ›áƒáƒ›áƒáƒ•áƒáƒšáƒ˜?</h2>
                
                <!-- Question 1: If continued using -->
                <div style="background: #d1d5db; padding: 20px; border-radius: 12px; margin-bottom: 20px; border-left: 4px solid #6b7280;">
                    <h3 style="color: #1f2937; font-size: 16px; margin-bottom: 15px;">
                        ğŸ“‰ áƒ áƒáƒ’áƒáƒ áƒ˜ áƒ˜áƒ¥áƒœáƒ”áƒ‘áƒáƒ“áƒ áƒ¨áƒ”áƒœáƒ˜ áƒªáƒ®áƒáƒ•áƒ áƒ”áƒ‘áƒ 2 áƒ¬áƒ”áƒšáƒ˜áƒ¬áƒáƒ“áƒ¨áƒ˜, áƒ—áƒ£ áƒ’áƒáƒáƒ’áƒ áƒ«áƒ”áƒšáƒ”áƒ‘áƒ“áƒ˜ áƒ›áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒáƒ¡ áƒ˜áƒ’áƒ˜áƒ•áƒ” áƒáƒ“áƒ”áƒœáƒáƒ‘áƒ˜áƒ— áƒáƒœ áƒ“áƒáƒ–áƒ áƒ™áƒ˜áƒ“áƒ”áƒ• áƒ£áƒ¤áƒ áƒ áƒ’áƒáƒ˜áƒ–áƒ áƒ“áƒ”áƒ‘áƒáƒ“áƒ?
                    </h3>
                    <textarea 
                        id="futureIfContinued" 
                        placeholder="áƒáƒ¦áƒ¬áƒ”áƒ áƒ” áƒ“áƒ”áƒ¢áƒáƒšáƒ£áƒ áƒáƒ“..." 
                        style="width: 100%; padding: 12px; border-radius: 8px; border: 2px solid #9ca3af; font-size: 14px; font-family: inherit; min-height: 150px; background: white;"
                    ></textarea>
                </div>
                
                <!-- Question 2: If recovered -->
                <div style="background: #d1d5db; padding: 20px; border-radius: 12px; margin-bottom: 20px; border-left: 4px solid #6b7280;">
                    <h3 style="color: #1f2937; font-size: 16px; margin-bottom: 15px;">
                        ğŸŒŸ áƒ áƒáƒ’áƒáƒ áƒ˜ áƒ˜áƒ¥áƒœáƒ”áƒ‘áƒ áƒ¨áƒ”áƒœáƒ˜ áƒªáƒ®áƒáƒ•áƒ áƒ”áƒ‘áƒ 2 áƒ¬áƒ”áƒšáƒ˜áƒ¬áƒáƒ“áƒ¨áƒ˜, áƒ—áƒ£ áƒ¬áƒáƒ áƒ›áƒáƒ¢áƒ”áƒ‘áƒ˜áƒ— áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ“áƒ”áƒ‘áƒ˜? áƒ áƒ˜áƒ—áƒ˜ áƒ˜áƒ¥áƒœáƒ”áƒ‘áƒ áƒ¨áƒ”áƒœáƒ˜ áƒáƒ®áƒáƒšáƒ˜ áƒªáƒ®áƒáƒ•áƒ áƒ”áƒ‘áƒ áƒ’áƒáƒ›áƒáƒ áƒ©áƒ”áƒ£áƒšáƒ˜?
                    </h3>
                    <textarea 
                        id="futureIfRecovered" 
                        placeholder="áƒáƒ¦áƒ¬áƒ”áƒ áƒ” áƒ“áƒ”áƒ¢áƒáƒšáƒ£áƒ áƒáƒ“..." 
                        style="width: 100%; padding: 12px; border-radius: 8px; border: 2px solid #9ca3af; font-size: 14px; font-family: inherit; min-height: 150px; background: white;"
                    ></textarea>
                </div>
                
                <button class="btn btn-primary" onclick="saveFutureVision()" style="width: 100%; margin-bottom: 10px;">ğŸ’¾ áƒ¨áƒ”áƒœáƒáƒ®áƒ•áƒ</button>
                <button class="btn btn-primary" onclick="showSection('motivations')" style="width: 100%;">â† áƒ£áƒ™áƒáƒœ</button>
            </div>

            
            
            <!-- Readiness Assessment Section -->
            <div id="readinessSection" class="section">
                <h2 style="margin-bottom: 20px;">ğŸ“Š áƒ áƒáƒ›áƒ“áƒ”áƒœáƒáƒ“ áƒ›áƒ–áƒáƒ“ áƒ•áƒáƒ  áƒªáƒ•áƒšáƒ˜áƒšáƒ”áƒ‘áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡?</h2>
                
                <!-- Initial Menu (shows when not completed or as button after completion) -->
                <div id="readinessInitialMenu">
                    <!-- Addiction Symptoms Button -->
                    <button class="motivation-btn" onclick="showAddictionSymptoms()" style="margin-bottom: 15px; padding: 12px 20px;">
                        ğŸ” áƒ“áƒáƒ›áƒáƒ™áƒ˜áƒ“áƒ”áƒ‘áƒ£áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒœáƒ˜áƒ¨áƒœáƒ”áƒ‘áƒ˜ áƒ“áƒ áƒ¡áƒ˜áƒ›áƒáƒ¢áƒáƒ›áƒ”áƒ‘áƒ˜
                    </button>
                    
                    <!-- Readiness Assessment Button (or will be replaced by summary) -->
                    <div id="readinessAssessmentContainer">
                        <button class="motivation-btn" onclick="startReadinessAssessment()">
                            ğŸ“Š áƒ áƒáƒ›áƒ“áƒ”áƒœáƒáƒ“ áƒ›áƒ–áƒáƒ“ áƒ•áƒáƒ  áƒªáƒ•áƒšáƒ˜áƒšáƒ”áƒ‘áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡
                        </button>
                    </div>
                </div>
                
                <!-- Step 1: Stage Selection -->
                <div id="readinessStep1" style="background: #f9fafb; padding: 25px; border-radius: 12px; margin-bottom: 20px;">
                    <div style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 25px; border-left: 4px solid #667eea;">
                        <p style="color: #333; line-height: 1.8; margin-bottom: 15px; text-align: justify;">áƒ–áƒáƒ’áƒáƒ“áƒáƒ“ áƒ’áƒáƒœáƒ›áƒ”áƒáƒ áƒ”áƒ‘áƒáƒ“áƒ˜ áƒ¥áƒªáƒ”áƒ•áƒ˜áƒ¡ áƒªáƒ•áƒšáƒ˜áƒšáƒ”áƒ‘áƒáƒ¡ áƒáƒ®áƒáƒ¡áƒ˜áƒáƒ—áƒ”áƒ‘áƒ¡ áƒ”áƒ¢áƒáƒáƒ”áƒ‘áƒ˜.</p>
                    </div>
                    
                    <h3 style="color: #667eea; margin-bottom: 20px; font-size: 18px;">áƒ›áƒáƒœáƒ˜áƒ¨áƒœáƒ” áƒ áƒáƒ›áƒ”áƒš áƒ”áƒ¢áƒáƒáƒ–áƒ” áƒ˜áƒ›áƒ§áƒáƒ¤áƒ”áƒ‘áƒ˜ áƒáƒ®áƒšáƒ?</h3>
                    
                    <div style="margin-bottom: 15px;">
                        <label style="display: flex; align-items: start; padding: 12px; background: white; border-radius: 8px; cursor: pointer; margin-bottom: 10px; border: 2px solid #e5e7eb; transition: all 0.2s;">
                            <input type="radio" name="readinessStage" value="precontemplation" style="margin-top: 4px; margin-right: 12px; width: 18px; height: 18px;">
                            <div>
                                <div style="font-weight: 600; color: #1f2937; margin-bottom: 5px;">1. áƒáƒ áƒ”áƒ’áƒáƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ</div>
                                <div style="color: #666; font-size: 14px; line-height: 1.5; text-align: justify;">áƒáƒ› áƒ“áƒ áƒáƒ¡ áƒ¨áƒ”áƒœ áƒ•áƒ”áƒ áƒª áƒ™áƒ˜ áƒáƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”áƒ‘, áƒ áƒáƒ› áƒ¨áƒ”áƒœ áƒ áƒáƒ›áƒ”áƒœáƒáƒ˜áƒ áƒáƒ“ áƒ£áƒœáƒ“áƒ áƒ¨áƒ”áƒªáƒ•áƒáƒšáƒ áƒ¨áƒ”áƒœáƒ˜ áƒ¥áƒªáƒ”áƒ•áƒ. áƒ˜áƒ¥áƒœáƒ”áƒ‘ áƒ’áƒáƒ áƒ¨áƒ”áƒ›áƒáƒ›áƒ§áƒáƒ¤áƒ”áƒ‘áƒ›áƒ áƒ¨áƒ”áƒœáƒ˜áƒ¨áƒœáƒ”áƒ¡, áƒ áƒáƒ› áƒ¨áƒ”áƒœ áƒ›áƒáƒ˜áƒ®áƒ›áƒáƒ  áƒœáƒ˜áƒ•áƒ—áƒ˜áƒ”áƒ áƒ”áƒ‘áƒáƒ¡ áƒ“áƒ áƒ’áƒáƒ›áƒáƒ®áƒáƒ¢áƒ”áƒ¡ áƒáƒ¦áƒ”áƒšáƒ•áƒ”áƒ‘áƒ, áƒ›áƒáƒ’áƒ áƒáƒ› áƒáƒ˜áƒ áƒáƒ“áƒáƒ“ áƒ¨áƒ”áƒœ áƒ•áƒ”áƒ áƒáƒ¤áƒ”áƒ áƒ¡ áƒ•áƒ”áƒ  áƒáƒ›áƒ©áƒœáƒ”áƒ•.</div>
                            </div>
                        </label>
                        
                        <label style="display: flex; align-items: start; padding: 12px; background: white; border-radius: 8px; cursor: pointer; margin-bottom: 10px; border: 2px solid #e5e7eb; transition: all 0.2s;">
                            <input type="radio" name="readinessStage" value="contemplation" style="margin-top: 4px; margin-right: 12px; width: 18px; height: 18px;">
                            <div>
                                <div style="font-weight: 600; color: #1f2937; margin-bottom: 5px;">2. áƒ›áƒ¡áƒ¯áƒ”áƒšáƒáƒ‘áƒ</div>
                                <div style="color: #666; font-size: 14px; line-height: 1.5; text-align: justify;">áƒ”áƒ¡ áƒáƒ áƒ˜áƒ¡ áƒ“áƒ áƒ, áƒ áƒáƒ“áƒ”áƒ¡áƒáƒª áƒ¨áƒ”áƒœ áƒ˜áƒ¬áƒ§áƒ”áƒ‘ áƒ©áƒáƒ¤áƒ˜áƒ¥áƒ áƒ”áƒ‘áƒáƒ¡ áƒ¨áƒ”áƒªáƒ•áƒšáƒ˜áƒ¡ áƒ¨áƒ”áƒ¡áƒáƒ«áƒšáƒ”áƒ‘áƒšáƒáƒ‘áƒáƒ–áƒ”. â€áƒ˜áƒ¥áƒœáƒ”áƒ‘ áƒ›áƒ” áƒ›áƒ­áƒ˜áƒ áƒ“áƒ”áƒ‘áƒ, áƒ áƒáƒ› áƒªáƒáƒ¢áƒ áƒ¨áƒ”áƒ•áƒ˜áƒªáƒ•áƒáƒšáƒ", áƒáƒœ â€áƒ›áƒ”áƒ›áƒ’áƒáƒœáƒ˜ áƒ›áƒ” áƒ£áƒ™áƒ•áƒ” áƒ•áƒ”áƒ¦áƒáƒ  áƒ•áƒáƒ™áƒáƒœáƒ¢áƒ áƒáƒšáƒ”áƒ‘ áƒ›áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒáƒ¡". áƒáƒ› áƒ”áƒ¢áƒáƒáƒ–áƒ” áƒ¨áƒ”áƒœ áƒ£áƒ™áƒ•áƒ” áƒ˜áƒ¬áƒ§áƒ”áƒ‘ áƒ˜áƒ›áƒ˜áƒ¡ áƒ’áƒáƒáƒ–áƒ áƒ”áƒ‘áƒáƒ¡, áƒ áƒáƒ› áƒ¨áƒ”áƒœáƒ˜ áƒ¥áƒªáƒ”áƒ•áƒ áƒáƒ  áƒ¨áƒ”áƒ”áƒ¡áƒáƒ‘áƒáƒ›áƒ”áƒ‘áƒ áƒ˜áƒ› áƒªáƒ®áƒáƒ•áƒ áƒ”áƒ‘áƒáƒ¡, áƒ áƒáƒ›áƒ”áƒšáƒ˜áƒª áƒ’áƒ˜áƒœáƒ“áƒáƒ“áƒ, áƒ áƒáƒ› áƒ¬áƒáƒ’áƒ”áƒ›áƒáƒ áƒ—áƒ.</div>
                            </div>
                        </label>
                        
                        <label style="display: flex; align-items: start; padding: 12px; background: white; border-radius: 8px; cursor: pointer; margin-bottom: 10px; border: 2px solid #e5e7eb; transition: all 0.2s;">
                            <input type="radio" name="readinessStage" value="preparation" style="margin-top: 4px; margin-right: 12px; width: 18px; height: 18px;">
                            <div>
                                <div style="font-weight: 600; color: #1f2937; margin-bottom: 5px;">3. áƒ“áƒáƒ’áƒ”áƒ’áƒ›áƒ•áƒ</div>
                                <div style="color: #666; font-size: 14px; line-height: 1.5; text-align: justify;">áƒ›áƒ”áƒ¡áƒáƒ›áƒ” áƒ”áƒ¢áƒáƒáƒ–áƒ” áƒ’áƒáƒ“áƒáƒ¡áƒ•áƒšáƒ˜áƒ¡áƒáƒ¡ áƒ¨áƒ”áƒœ áƒ“áƒáƒ áƒ¬áƒ›áƒ£áƒœáƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ®áƒáƒ , áƒ áƒáƒ› áƒ£áƒœáƒ“áƒ áƒ¨áƒ”áƒªáƒ•áƒáƒšáƒ áƒ¨áƒ”áƒœáƒ˜ áƒ¥áƒªáƒ”áƒ•áƒ áƒ“áƒ áƒ˜áƒ¬áƒ§áƒ”áƒ‘ áƒáƒ› áƒªáƒ•áƒšáƒ˜áƒšáƒ”áƒ‘áƒ”áƒ‘áƒ˜áƒ¡ áƒ“áƒáƒ’áƒ”áƒ’áƒ›áƒ•áƒáƒ¡. áƒáƒ› áƒ”áƒ¢áƒáƒáƒ–áƒ” áƒ¨áƒ”áƒœ áƒ’áƒáƒœáƒ˜áƒ®áƒ˜áƒšáƒáƒ• áƒ’áƒ–áƒ”áƒ‘áƒ¡, áƒ áƒáƒ›áƒšáƒ”áƒ‘áƒ˜áƒª áƒ’áƒáƒ›áƒáƒ’áƒáƒ“áƒ’áƒ”áƒ‘áƒáƒ“áƒ áƒ›áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒáƒ¡áƒ—áƒáƒœ áƒ‘áƒ áƒ«áƒáƒšáƒáƒ¨áƒ˜.</div>
                            </div>
                        </label>
                        
                        <label style="display: flex; align-items: start; padding: 12px; background: white; border-radius: 8px; cursor: pointer; margin-bottom: 10px; border: 2px solid #e5e7eb; transition: all 0.2s;">
                            <input type="radio" name="readinessStage" value="action" style="margin-top: 4px; margin-right: 12px; width: 18px; height: 18px;">
                            <div>
                                <div style="font-weight: 600; color: #1f2937; margin-bottom: 5px;">4. áƒ›áƒáƒ¥áƒ›áƒ”áƒ“áƒ”áƒ‘áƒ</div>
                                <div style="color: #666; font-size: 14px; line-height: 1.5; text-align: justify;">áƒáƒ› áƒ”áƒ¢áƒáƒáƒ–áƒ” áƒ¨áƒ”áƒœ áƒ›áƒ˜áƒ°áƒ§áƒ•áƒ”áƒ‘áƒ˜ áƒ’áƒ”áƒ’áƒ›áƒáƒ¡, áƒ áƒáƒ›áƒ”áƒšáƒ˜áƒª áƒ¬áƒ˜áƒœáƒ áƒ”áƒ¢áƒáƒáƒ–áƒ” áƒ¨áƒ”áƒ˜áƒ›áƒ£áƒ¨áƒáƒ•áƒ”. áƒ¨áƒ”áƒœ áƒ˜áƒ¬áƒ§áƒ”áƒ‘ áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒáƒ¡.</div>
                            </div>
                        </label>
                        
                        <label style="display: flex; align-items: start; padding: 12px; background: white; border-radius: 8px; cursor: pointer; margin-bottom: 10px; border: 2px solid #e5e7eb; transition: all 0.2s;">
                            <input type="radio" name="readinessStage" value="maintenance" style="margin-top: 4px; margin-right: 12px; width: 18px; height: 18px;">
                            <div>
                                <div style="font-weight: 600; color: #1f2937; margin-bottom: 5px;">5. áƒªáƒ•áƒšáƒ˜áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒœáƒáƒ áƒ©áƒ£áƒœáƒ”áƒ‘áƒ (6 áƒ—áƒ•áƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’)</div>
                                <div style="color: #666; font-size: 14px; line-height: 1.5; text-align: justify;">áƒ—áƒ£ áƒ¨áƒ”áƒœ áƒ¨áƒ”áƒ«áƒ”áƒšáƒ˜ 6 áƒ—áƒ•áƒ˜áƒ¡ áƒáƒœ áƒ›áƒ”áƒ¢áƒ˜áƒ¡ áƒ’áƒáƒœáƒ›áƒáƒ•áƒšáƒáƒ‘áƒáƒ¨áƒ˜ áƒ—áƒáƒœáƒ›áƒ˜áƒ›áƒ“áƒ”áƒ•áƒ áƒ£áƒšáƒáƒ“ áƒ“áƒáƒ áƒ©áƒ”áƒœáƒ˜áƒšáƒ˜áƒ§áƒáƒ•áƒ˜ áƒ¬áƒ˜áƒœáƒ áƒ”áƒ¢áƒáƒáƒ”áƒ‘áƒ–áƒ” áƒ¨áƒ”áƒ›áƒ£áƒ¨áƒáƒ•áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ›áƒáƒ¥áƒ›áƒ”áƒ“áƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒ”áƒ’áƒ›áƒ˜áƒ¡ áƒ¤áƒáƒ áƒ’áƒšáƒ”áƒ‘áƒ¨áƒ˜, áƒ¨áƒ”áƒœ áƒ’áƒáƒ“áƒáƒ®áƒ•áƒ”áƒ“áƒ˜ áƒªáƒ•áƒšáƒ˜áƒšáƒ”áƒ‘áƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒœáƒáƒ áƒ©áƒ£áƒœáƒ”áƒ‘áƒ˜áƒ¡ áƒ”áƒ¢áƒáƒáƒ–áƒ”.</div>
                            </div>
                        </label>
                    </div>
                    
                    <button class="btn btn-primary" onclick="readinessNext1()" style="width: 100%;">áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’áƒ˜ â†’</button>
                </div>
                
                <!-- Step 2a: Info Text -->
                <div id="readinessStep2a" style="display: none; background: #f9fafb; padding: 25px; border-radius: 12px; margin-bottom: 20px;">
                    <div style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 25px; border-left: 4px solid #667eea;">
                        <p style="color: #333; line-height: 1.8; margin-bottom: 15px; text-align: justify;">áƒ’áƒáƒœáƒ™áƒ£áƒ áƒœáƒ”áƒ‘áƒ˜áƒ¡ áƒáƒ áƒáƒªáƒ”áƒ¡áƒ¡, áƒ˜áƒ¡áƒ”áƒ•áƒ” áƒ áƒáƒ’áƒáƒ áƒª áƒ–áƒáƒ’áƒáƒ“áƒáƒ“ áƒªáƒ®áƒáƒ•áƒ áƒ”áƒ‘áƒáƒ¡ áƒáƒ¥áƒ•áƒ¡ áƒ—áƒáƒ•áƒ˜áƒ¡áƒ˜ áƒáƒ¦áƒ›áƒáƒ•áƒáƒšáƒ˜ áƒ“áƒ áƒ“áƒáƒ¦áƒ›áƒáƒ•áƒáƒšáƒ˜ áƒ”áƒ¢áƒáƒáƒ”áƒ‘áƒ˜ (áƒáƒ¤áƒ áƒ”áƒœáƒ”áƒ‘áƒ˜ áƒ“áƒ áƒ•áƒáƒ áƒ“áƒœáƒ”áƒ‘áƒ˜). áƒáƒ¥áƒ”áƒ“áƒáƒœ áƒ’áƒáƒ›áƒáƒ›áƒ“áƒ˜áƒœáƒáƒ áƒ” áƒáƒ‘áƒ¡áƒáƒšáƒ£áƒ¢áƒ£áƒ áƒáƒ“ áƒœáƒáƒ áƒ›áƒáƒšáƒ£áƒ áƒ˜áƒ, áƒ áƒáƒ› áƒ¨áƒ”áƒœ áƒ’áƒ¥áƒáƒœáƒ“áƒ”áƒ¡ áƒ“áƒ¦áƒ”áƒ”áƒ‘áƒ˜, áƒ áƒáƒ›áƒšáƒ”áƒ‘áƒ¨áƒ˜áƒª áƒ¨áƒ”áƒœ áƒªáƒ®áƒáƒ“áƒáƒ“ áƒ’áƒ”áƒªáƒáƒ“áƒ˜áƒœáƒ”áƒ‘áƒ áƒ áƒáƒ¢áƒáƒ› áƒáƒ áƒ˜áƒ¡ áƒáƒ£áƒªáƒ˜áƒšáƒ”áƒ‘áƒ”áƒšáƒ˜ áƒ“áƒáƒœáƒ”áƒ‘áƒ”áƒ‘áƒ, áƒ¨áƒ”áƒœáƒ˜ áƒáƒ®áƒáƒšáƒ˜ áƒ¯áƒáƒœáƒ¡áƒáƒ¦áƒ˜ áƒªáƒ®áƒáƒ•áƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒ¥áƒ›áƒœáƒ˜áƒ¡áƒáƒ—áƒ•áƒ˜áƒ¡ áƒ“áƒ áƒ”áƒ¡ áƒ“áƒ¦áƒ”áƒ”áƒ‘áƒ˜ áƒ¨áƒ”áƒ˜áƒ«áƒšáƒ”áƒ‘áƒ áƒ¨áƒ”áƒªáƒ•áƒáƒšáƒáƒœ áƒ“áƒ¦áƒ”áƒ”áƒ‘áƒ›áƒ, áƒ áƒáƒ“áƒ”áƒ¡áƒáƒª áƒ¨áƒ”áƒœ áƒ—áƒáƒ•áƒ¡ áƒ“áƒáƒ£áƒ¡áƒ•áƒáƒ› áƒ™áƒ˜áƒ—áƒ®áƒ•áƒ”áƒ‘áƒ¡ áƒ¡áƒáƒ”áƒ áƒ—áƒáƒ“ áƒ áƒáƒ¨áƒ˜ áƒ’áƒ­áƒ˜áƒ áƒ“áƒ”áƒ‘áƒ áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒáƒ¡áƒ—áƒáƒœ áƒ“áƒáƒ™áƒáƒ•áƒ¨áƒ˜áƒ áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ›áƒ—áƒ”áƒšáƒ˜ áƒ”áƒ¡ áƒáƒ áƒáƒ‘áƒšáƒ”áƒ›áƒ”áƒ‘áƒ˜.</p>
                        <p style="color: #333; line-height: 1.8; margin-bottom: 15px; text-align: justify;">áƒ©áƒ•áƒ”áƒœáƒ˜ áƒ›áƒ˜áƒ–áƒáƒœáƒ˜áƒ áƒáƒ› áƒ áƒ—áƒ£áƒš áƒáƒ”áƒ áƒ˜áƒáƒ“áƒ”áƒ‘áƒ¨áƒ˜ áƒ•áƒ˜áƒ§áƒáƒ— áƒ“áƒáƒ›áƒ®áƒ›áƒáƒ áƒ”, áƒ áƒáƒ—áƒ áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒáƒ áƒáƒªáƒ”áƒ¡áƒ˜ áƒ’áƒáƒ’áƒ áƒ«áƒ”áƒšáƒ“áƒ”áƒ¡ áƒ—áƒáƒœáƒ›áƒ˜áƒ›áƒ“áƒ”áƒ•áƒ áƒ£áƒšáƒáƒ“.</p>
                        <p style="color: #667eea; font-weight: 600; line-height: 1.8; text-align: justify;">áƒ áƒáƒ“áƒ”áƒ¡áƒáƒª áƒ«áƒáƒšáƒ˜áƒáƒœ áƒáƒ®áƒšáƒáƒ¡ áƒ®áƒáƒ  áƒ“áƒáƒœáƒ”áƒ‘áƒ”áƒ‘áƒáƒ¡áƒ—áƒáƒœ, áƒ’áƒáƒ˜áƒ®áƒ¡áƒ”áƒœáƒ” áƒ áƒáƒ¢áƒáƒ› áƒ˜áƒ¬áƒ§áƒ”áƒ‘áƒ“áƒ˜!</p>
                    </div>
                    
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-secondary" onclick="readinessBack2a()" style="flex: 1;">â† áƒ£áƒ™áƒáƒœ</button>
                        <button class="btn btn-primary" onclick="readinessNext2a()" style="flex: 1;">áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’áƒ˜ â†’</button>
                    </div>
                </div>
                
                <!-- Step 2b: Cycle Awareness Question -->
                <div id="readinessStep2b" style="display: none; background: #f9fafb; padding: 25px; border-radius: 12px; margin-bottom: 20px;">
                    <h3 style="color: #667eea; margin-bottom: 20px; font-size: 18px;">áƒ®áƒáƒ› áƒáƒ  áƒ¨áƒ”áƒ’áƒ˜áƒ›áƒ©áƒœáƒ”áƒ•áƒ˜áƒ áƒ¨áƒ”áƒœáƒ¡ áƒªáƒ®áƒáƒ•áƒ áƒ”áƒ‘áƒáƒ¨áƒ˜ áƒ›áƒáƒ¢áƒ˜áƒ•áƒáƒªáƒ˜áƒ˜áƒ¡ áƒ‘áƒ£áƒœáƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒáƒœáƒáƒªáƒ•áƒšáƒ”áƒáƒ‘áƒ?</h3>
                    
                    <div style="display: flex; gap: 15px; margin-bottom: 20px;">
                        <label style="flex: 1; padding: 20px; background: white; border-radius: 8px; cursor: pointer; text-align: center; border: 2px solid #e5e7eb; transition: all 0.2s;">
                            <input type="radio" name="cycleAwareness" value="yes" style="display: none;">
                            <div style="font-size: 40px; margin-bottom: 10px;">âœ…</div>
                            <div style="font-weight: 600; color: #1f2937;">áƒ“áƒ˜áƒáƒ®</div>
                        </label>
                        
                        <label style="flex: 1; padding: 20px; background: white; border-radius: 8px; cursor: pointer; text-align: center; border: 2px solid #e5e7eb; transition: all 0.2s;">
                            <input type="radio" name="cycleAwareness" value="no" style="display: none;">
                            <div style="font-size: 40px; margin-bottom: 10px;">âŒ</div>
                            <div style="font-weight: 600; color: #1f2937;">áƒáƒ áƒ</div>
                        </label>
                    </div>
                    
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-secondary" onclick="readinessBack2b()" style="flex: 1;">â† áƒ£áƒ™áƒáƒœ</button>
                        <button class="btn btn-primary" onclick="readinessNext2b()" style="flex: 1;">áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’áƒ˜ â†’</button>
                    </div>
                </div>
                
                <!-- Step 3: Motivation Score -->
                <div id="readinessStep3" style="display: none; background: #f9fafb; padding: 25px; border-radius: 12px; margin-bottom: 20px;">
                    <h3 style="color: #667eea; margin-bottom: 20px; font-size: 18px;">áƒ¨áƒ”áƒáƒ¤áƒáƒ¡áƒ” áƒ¨áƒ”áƒœáƒ˜ áƒ›áƒáƒ¢áƒ˜áƒ•áƒáƒªáƒ˜áƒ˜áƒ¡ áƒ¡áƒ˜áƒ«áƒšáƒ˜áƒ”áƒ áƒ” 10 áƒ¥áƒ£áƒšáƒ˜áƒáƒœ áƒ¨áƒ™áƒáƒšáƒáƒ–áƒ”</h3>
                    
                    <div style="margin-bottom: 30px;">
                        <div style="display: flex; justify-content: center; align-items: center; margin-bottom: 20px;">
                            <div id="motivationScoreDisplay" style="font-size: 48px; font-weight: bold; color: #667eea;">5</div>
                            <div style="font-size: 24px; color: #999; margin-left: 5px;">/10</div>
                        </div>
                        
                        <input type="range" id="motivationScore" min="1" max="10" value="5" 
                            style="width: 100%; height: 8px; border-radius: 5px; background: linear-gradient(to right, #ef4444 0%, #f59e0b 50%, #10b981 100%); outline: none; cursor: pointer;"
                            oninput="document.getElementById('motivationScoreDisplay').textContent = this.value">
                        
                        <div style="display: flex; justify-content: space-between; margin-top: 10px; color: #666; font-size: 14px;">
                            <span>1 - áƒ“áƒáƒ‘áƒáƒšáƒ˜</span>
                            <span>10 - áƒ›áƒáƒ¦áƒáƒšáƒ˜</span>
                        </div>
                    </div>
                    
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-secondary" onclick="readinessBack3()" style="flex: 1;">â† áƒ£áƒ™áƒáƒœ</button>
                        <button class="btn btn-primary" onclick="readinessNext3()" style="flex: 1;">áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’áƒ˜ â†’</button>
                    </div>
                </div>
                
                <!-- Step 4: Motivation Check Time -->
                <div id="readinessStep4" style="display: none; background: #f9fafb; padding: 25px; border-radius: 12px; margin-bottom: 20px;">
                    <h3 style="color: #667eea; margin-bottom: 15px; font-size: 18px;">áƒ’áƒ—áƒ®áƒáƒ• áƒáƒ˜áƒ áƒ©áƒ˜áƒ áƒ“áƒ áƒ áƒ áƒáƒ“áƒ”áƒ¡áƒáƒª áƒ’áƒ¡áƒ£áƒ áƒ¡, áƒ áƒáƒ› áƒ’áƒáƒ›áƒáƒ•áƒ˜áƒ™áƒ˜áƒ—áƒ®áƒ áƒ¨áƒ”áƒœáƒ˜ áƒ’áƒáƒ›áƒ&shy;áƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒáƒ¢áƒ˜áƒ•áƒáƒªáƒ˜áƒ</h3>
                    <p style="color: #666; margin-bottom: 20px; font-size: 14px;">(áƒ¡áƒáƒ¡áƒ£áƒ áƒ•áƒ”áƒšáƒ˜áƒ áƒáƒ˜áƒ áƒ©áƒ˜áƒ áƒ“áƒ¦áƒ˜áƒ¡ áƒáƒ˜áƒ áƒ•áƒ”áƒšáƒ˜ áƒœáƒáƒ®áƒ”áƒ•áƒáƒ áƒ˜)</p>
                    
                    <div style="margin-bottom: 25px;">
                        <input type="time" id="motivationCheckTime" 
                            style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 16px;">
                    </div>
                    
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-secondary" onclick="readinessBack4()" style="flex: 1;">â† áƒ£áƒ™áƒáƒœ</button>
                        <button class="btn btn-primary" onclick="readinessNext4()" style="flex: 1;">áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’áƒ˜ â†’</button>
                    </div>
                </div>
                
                <!-- Step 5: Results Check Time -->
                <div id="readinessStep5" style="display: none; background: #f9fafb; padding: 25px; border-radius: 12px; margin-bottom: 20px;">
                    <h3 style="color: #667eea; margin-bottom: 20px; font-size: 18px;">áƒ’áƒ—áƒ®áƒáƒ• áƒáƒ˜áƒ áƒ©áƒ˜áƒ áƒ“áƒ áƒ áƒ áƒáƒ“áƒ”áƒ¡áƒáƒª áƒ’áƒ¡áƒ£áƒ áƒ¡, áƒ áƒáƒ› áƒ’áƒáƒ›áƒáƒ•áƒ˜áƒ™áƒ˜áƒ—áƒ®áƒ áƒ¨áƒ”áƒœáƒ˜ áƒ¨áƒ”áƒ“áƒ”áƒ’áƒ”áƒ‘áƒ˜</h3>
                    
                    <div style="margin-bottom: 25px;">
                        <input type="time" id="resultsCheckTime" 
                            style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 16px;">
                    </div>
                    
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-secondary" onclick="readinessBack5()" style="flex: 1;">â† áƒ£áƒ™áƒáƒœ</button>
                        <button class="btn btn-primary" onclick="readinessNext5()" style="flex: 1;">áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’áƒ˜ â†’</button>
                    </div>
                </div>
                
                <!-- Step 6: Summary -->
                <div id="readinessStep6" style="display: none; background: #f9fafb; padding: 25px; border-radius: 12px; margin-bottom: 20px;">
                    <h3 style="color: #667eea; margin-bottom: 25px; font-size: 20px; text-align: center;">ğŸ“‹ áƒ¨áƒ”áƒœáƒ˜ áƒ›áƒ–áƒáƒáƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒ¤áƒáƒ¡áƒ”áƒ‘áƒ</h3>
                    
                    <div id="readinessSummary" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                        <!-- Summary content will be populated by JS -->
                    </div>
                    
                    <button class="btn btn-secondary" onclick="readinessBack6()" style="width: 100%;">â† áƒ áƒ”áƒ“áƒáƒ¥áƒ¢áƒ˜áƒ áƒ”áƒ‘áƒ</button>
                </div>
                
                <button class="btn btn-primary" onclick="showSection('motivations')" style="margin-top: 20px;">â† áƒ£áƒ™áƒáƒœ</button>
            </div>
            
            <!-- Addiction Symptoms Section -->
            <div id="addictionSymptomsSection" class="section">
                <h2 style="margin-bottom: 20px;">ğŸ©º áƒ“áƒáƒ›áƒáƒ™áƒ˜áƒ“áƒ”áƒ‘áƒ£áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒœáƒ˜áƒ¨áƒœáƒ”áƒ‘áƒ˜ áƒ“áƒ áƒ¡áƒ˜áƒ›áƒáƒ¢áƒáƒ›áƒ”áƒ‘áƒ˜</h2>
                
                <div style="background: #f0fdfa; border-left: 4px solid #14b8a6; padding: 20px; border-radius: 8px; margin-bottom: 25px;">
                    <p style="color: #333; line-height: 1.8; margin: 0; text-align: justify;">
                        áƒ¥áƒ•áƒ”áƒ›áƒáƒ— áƒ›áƒáƒªáƒ”áƒ›áƒ£áƒšáƒ˜áƒ áƒáƒšáƒ™áƒáƒ°áƒáƒšáƒ˜áƒ¡áƒ áƒ“áƒ áƒœáƒáƒ áƒ™áƒáƒ¢áƒ˜áƒ™áƒ”áƒ‘áƒ–áƒ” áƒ“áƒáƒ›áƒáƒ™áƒ˜áƒ“áƒ”áƒ‘áƒ£áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ¡áƒ˜áƒ›áƒáƒ¢áƒáƒ›áƒ”áƒ‘áƒ˜. áƒ›áƒáƒœáƒ˜áƒ¨áƒœáƒ” áƒ§áƒ•áƒ”áƒšáƒ áƒáƒ£áƒœáƒ¥áƒ¢áƒ˜, áƒ áƒáƒ›áƒ”áƒšáƒ˜áƒª áƒ’áƒáƒ›áƒáƒ’áƒ˜áƒªáƒáƒ“áƒ˜áƒ <strong>áƒ‘áƒáƒšáƒ 12 áƒ—áƒ•áƒ˜áƒ¡ áƒ’áƒáƒœáƒ›áƒáƒ•áƒšáƒáƒ‘áƒáƒ¨áƒ˜</strong>:
                    </p>
                </div>
                
                <div id="symptomsList" style="margin-bottom: 25px;">
                    <!-- Symptoms will be populated by JavaScript -->
                </div>
                
                <div id="symptomsResult" style="display: none; background: white; padding: 20px; border-radius: 12px; margin-bottom: 20px; border-left: 4px solid #667eea;">
                    <h3 style="color: #667eea; margin-bottom: 15px; font-size: 18px;">áƒ¨áƒ”áƒ“áƒ”áƒ’áƒ˜</h3>
                    <p id="symptomsResultText" style="color: #333; line-height: 1.8; margin: 0;"></p>
                </div>
                
                <button id="calculateSymptomsBtn" class="btn btn-primary" onclick="calculateSymptoms()" style="width: 100%; margin-bottom: 10px;">ğŸ“Š áƒ¨áƒ”áƒ“áƒ”áƒ’áƒ˜áƒ¡ áƒœáƒáƒ®áƒ•áƒ</button>
                <button class="btn btn-secondary" onclick="backToReadinessMenu()" style="width: 100%;">â† áƒ£áƒ™áƒáƒœ</button>
            </div>
            
            <!-- Goals Section -->
            <div id="goalsSection" class="section">
                <h2 style="margin-bottom: 20px;">ğŸ¯ áƒ©áƒ”áƒ›áƒ˜ áƒ›áƒ˜áƒ–áƒœáƒ”áƒ‘áƒ˜</h2>
                <p style="color: white; margin-bottom: 25px; font-size: 15px;">áƒ“áƒáƒáƒ¡áƒáƒ®áƒ”áƒšáƒ” áƒ¨áƒ”áƒœáƒ˜ áƒ™áƒáƒœáƒ™áƒ áƒ”áƒ¢áƒ£áƒšáƒ˜ áƒ›áƒ˜áƒ–áƒœáƒ”áƒ‘áƒ˜ áƒ“áƒ áƒ¡áƒáƒ•áƒáƒ áƒáƒ£áƒ“áƒ áƒ“áƒ áƒ áƒ áƒáƒ›áƒ”áƒšáƒ¨áƒ˜áƒª áƒ’áƒ¡áƒ£áƒ áƒ¡, áƒ áƒáƒ› áƒáƒ› áƒ›áƒ˜áƒ–áƒœáƒ”áƒ‘áƒ¡ áƒ›áƒ˜áƒáƒ¦áƒ¬áƒ˜áƒ</p>
                
                <div id="goalsList"></div>
                
                <div style="margin-top: 20px;">
                    <button class="btn btn-secondary" onclick="showAddGoalModal()" style="width: auto; padding: 10px 20px;">+ áƒ“áƒáƒáƒ›áƒáƒ¢áƒ” áƒ›áƒ˜áƒ–áƒáƒœáƒ˜</button>
                </div>
                
                <button class="btn btn-primary" onclick="showSection('motivations')" style="margin-top: 20px;">â† áƒ£áƒ™áƒáƒœ</button>
            </div>
            
            <!-- Add/Edit Goal Modal -->
            <div id="goalModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; overflow-y: auto;">
                <div style="background: white; max-width: 800px; margin: 50px auto; border-radius: 12px; padding: 30px;">
                    <h2 style="color: #667eea; margin-bottom: 25px; font-size: 22px;" id="goalModalTitle">ğŸ¯ áƒáƒ®áƒáƒšáƒ˜ áƒ›áƒ˜áƒ–áƒáƒœáƒ˜</h2>
                    
                    <!-- Goal Input -->
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #333;">áƒ áƒ áƒáƒ áƒ˜áƒ¡ áƒ¨áƒ”áƒœáƒ˜ áƒ›áƒ˜áƒ–áƒáƒœáƒ˜?</label>
                        <input 
                            type="text" 
                            id="goalText" 
                            placeholder="áƒ›áƒáƒ’: áƒ•áƒ˜áƒáƒáƒ•áƒ áƒ¡áƒáƒ›áƒ£áƒ¨áƒáƒ, áƒ“áƒáƒ•áƒáƒ›áƒ—áƒáƒ•áƒ áƒ áƒ£áƒœáƒ˜áƒ•áƒ”áƒ áƒ¡áƒ˜áƒ¢áƒ”áƒ¢áƒ˜..." 
                            style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 15px;"
                        >
                    </div>
                    
                    <!-- Timeframe Dropdown -->
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #333;">áƒ áƒ áƒ•áƒáƒ“áƒáƒ¨áƒ˜ áƒ’áƒ¡áƒ£áƒ áƒ¡ áƒ›áƒ˜áƒáƒ¦áƒ¬áƒ˜áƒ?</label>
                        <select 
                            id="goalTimeframe" 
                            style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 15px;"
                        >
                            <option value="">áƒáƒ˜áƒ áƒ©áƒ˜áƒ” áƒ•áƒáƒ“áƒ...</option>
                            <option value="1_month">1 áƒ—áƒ•áƒ”</option>
                            <option value="3_months">3 áƒ—áƒ•áƒ”</option>
                            <option value="6_months">6 áƒ—áƒ•áƒ”</option>
                            <option value="1_year">1 áƒ¬áƒ”áƒšáƒ˜</option>
                            <option value="2_years">2 áƒ¬áƒ”áƒšáƒ˜</option>
                            <option value="5_years">5 áƒ¬áƒ”áƒšáƒ˜</option>
                            <option value="custom">áƒ¡áƒ®áƒ•áƒ áƒ•áƒáƒ“áƒ</option>
                        </select>
                    </div>
                    
                    <!-- Custom Timeframe (hidden by default) -->
                    <div id="customTimeframeDiv" style="display: none; margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #333;">áƒ›áƒ˜áƒ£áƒ—áƒ˜áƒ—áƒ” áƒ¨áƒ”áƒœáƒ˜ áƒ•áƒáƒ“áƒ</label>
                        <input 
                            type="text" 
                            id="customTimeframe" 
                            placeholder="áƒ›áƒáƒ’: 9 áƒ—áƒ•áƒ”, 18 áƒ—áƒ•áƒ”..." 
                            style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 15px;"
                        >
                    </div>
                    
                    <!-- Recovery Connection Textarea -->
                    <div style="margin-bottom: 25px;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #333;">áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ áƒ áƒáƒ’áƒáƒ  áƒ¨áƒ”áƒ£áƒ¬áƒ§áƒáƒ‘áƒ¡ áƒ®áƒ”áƒšáƒ¡ áƒ¨áƒ”áƒœáƒ˜ áƒ›áƒ˜áƒ–áƒœáƒ˜áƒ¡ áƒ›áƒ˜áƒ¦áƒ¬áƒ”áƒ•áƒáƒ¡?</label>
                        <textarea 
                            id="goalRecoveryConnection" 
                            placeholder="áƒáƒ¦áƒ¬áƒ”áƒ áƒ” áƒ áƒáƒ’áƒáƒ  áƒ“áƒáƒ’áƒ”áƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ áƒ¡áƒ˜áƒ¤áƒ®áƒ˜áƒ–áƒšáƒ” áƒáƒ› áƒ›áƒ˜áƒ–áƒœáƒ˜áƒ¡ áƒ›áƒ˜áƒ¦áƒ¬áƒ”áƒ•áƒáƒ¨áƒ˜..." 
                            style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 15px; min-height: 180px; font-family: inherit;"
                        ></textarea>
                    </div>
                    
                    <!-- Buttons -->
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-primary" onclick="saveGoal()" style="flex: 1;">áƒ¨áƒ”áƒœáƒáƒ®áƒ•áƒ</button>
                        <button class="btn btn-secondary" onclick="closeGoalModal()" style="flex: 1;">áƒ’áƒáƒ£áƒ¥áƒ›áƒ”áƒ‘áƒ</button>
                    </div>
                </div>
            </div>
            <!-- Coping Main Menu -->
            
            <!-- Savings Section -->
            <div id="savingsSection" class="section">
                <h2 style="margin-bottom: 20px;">ğŸ’° áƒ©áƒ”áƒ›áƒ˜ áƒ“áƒáƒœáƒáƒ–áƒáƒ’áƒ”áƒ‘áƒ˜</h2>
                
                <!-- Savings Configuration -->
                <div id="savingsConfig" style="background: #f9fafb; padding: 25px; border-radius: 12px; margin-bottom: 20px;">
                    <h3 style="color: #374151; margin-bottom: 20px;">áƒ’áƒ¡áƒ£áƒ áƒ¡ áƒ—áƒ£ áƒáƒ áƒ áƒ“áƒáƒ•áƒ˜áƒ—áƒ•áƒáƒšáƒáƒ— áƒ“áƒáƒœáƒáƒ–áƒáƒ’áƒ”áƒ‘áƒ˜?</h3>
                    
                    <!-- Money Savings Toggle -->
                    <div style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 15px;">
                        <label style="display: flex; align-items: center; justify-content: space-between; cursor: pointer;">
                            <div>
                                <div style="font-weight: 600; color: #1f2937; margin-bottom: 5px;">ğŸ’µ áƒ¤áƒ£áƒšáƒ˜</div>
                                <div style="color: #666; font-size: 14px;">áƒ“áƒáƒ˜áƒ—áƒ•áƒáƒšáƒ” áƒ¤áƒ£áƒšáƒáƒ“áƒ˜ áƒ“áƒáƒœáƒáƒ–áƒáƒ’áƒ˜</div>
                            </div>
                            <input type="checkbox" id="enableMoneySavings" onchange="toggleMoneySavings()" style="width: 20px; height: 20px; cursor: pointer;">
                        </label>
                        
                        <!-- Money input (hidden by default) -->
                        <div id="moneyInputSection" style="display: none; margin-top: 15px; padding-top: 15px; border-top: 2px solid #f3f4f6;">
                            <label style="display: block; margin-bottom: 8px; color: #333; font-weight: 500;">áƒ“áƒáƒáƒ®áƒšáƒáƒ”áƒ‘áƒ˜áƒ— áƒ áƒ áƒ—áƒáƒœáƒ®áƒ áƒ’áƒ”áƒ®áƒáƒ áƒ¯áƒ”áƒ‘áƒáƒ“áƒ áƒ§áƒáƒ•áƒ”áƒšáƒ“áƒ¦áƒ˜áƒ£áƒ áƒáƒ“ áƒœáƒ˜áƒ•áƒ—áƒ˜áƒ”áƒ áƒ”áƒ‘áƒáƒ¨áƒ˜?</label>
                            <input type="number" id="dailyMoneyCost" placeholder="áƒ›áƒáƒ’: 50" 
                                style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 15px;">
                            <div style="color: #999; font-size: 13px; margin-top: 5px;">áƒšáƒáƒ áƒ˜ (â‚¾)</div>
                        </div>
                    </div>
                    
                    <!-- Time Savings Toggle -->
                    <div style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                        <label style="display: flex; align-items: center; justify-content: space-between; cursor: pointer;">
                            <div>
                                <div style="font-weight: 600; color: #1f2937; margin-bottom: 5px;">â° áƒ“áƒ áƒ</div>
                                <div style="color: #666; font-size: 14px;">áƒ“áƒáƒ˜áƒ—áƒ•áƒáƒšáƒ” áƒ“áƒ áƒáƒ˜áƒ¡ áƒ“áƒáƒœáƒáƒ–áƒáƒ’áƒ˜</div>
                            </div>
                            <input type="checkbox" id="enableTimeSavings" onchange="toggleTimeSavings()" style="width: 20px; height: 20px; cursor: pointer;">
                        </label>
                        
                        <!-- Time input (hidden by default) -->
                        <div id="timeInputSection" style="display: none; margin-top: 15px; padding-top: 15px; border-top: 2px solid #f3f4f6;">
                            <label style="display: block; margin-bottom: 8px; color: #333; font-weight: 500;">áƒ“áƒáƒáƒ®áƒšáƒáƒ”áƒ‘áƒ˜áƒ— áƒ áƒ áƒ“áƒ áƒ áƒ’áƒ”áƒ®áƒáƒ áƒ¯áƒ”áƒ‘áƒáƒ“áƒ áƒ§áƒáƒ•áƒ”áƒšáƒ“áƒ¦áƒ˜áƒ£áƒ áƒáƒ“ áƒ›áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒáƒ¡áƒ—áƒáƒœ áƒ“áƒáƒ™áƒáƒ•áƒ¨áƒ˜áƒ áƒ”áƒ‘áƒ˜áƒ—?</label>
                            <input type="number" id="dailyTimeHours" placeholder="áƒ›áƒáƒ’: 3" 
                                style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 15px;">
                            <div style="color: #999; font-size: 13px; margin-top: 5px;">áƒ¡áƒáƒáƒ—áƒ˜</div>
                        </div>
                    </div>
                    
                    <button class="btn btn-primary" onclick="saveSavingsConfig()" style="width: 100%;">áƒ¨áƒ”áƒœáƒáƒ®áƒ•áƒ</button>
                </div>
                
                <!-- Savings Display -->
                <div id="savingsDisplay" style="display: none;">
                    <!-- Daily Savings -->
                    <div style="background: white; color: #333; padding: 25px; border-radius: 12px; margin-bottom: 15px; border: 2px solid #e5e7eb;">
                        <h3 style="margin-bottom: 20px; font-size: 18px; color: #374151;">ğŸ“Š áƒ›áƒ—áƒšáƒ˜áƒáƒœáƒ˜ áƒ“áƒáƒœáƒáƒ–áƒáƒ’áƒ˜</h3>
                        
                        <div id="moneySavingsDisplay" style="display: none; margin-bottom: 15px;">
                            <div style="font-size: 14px; color: #6b7280; margin-bottom: 5px;">ğŸ’µ áƒ¤áƒ£áƒšáƒáƒ“áƒ˜ áƒ“áƒáƒœáƒáƒ–áƒáƒ’áƒ˜:</div>
                            <div style="font-size: 32px; font-weight: bold; color: #374151;" id="totalMoneySaved">0 â‚¾</div>
                        </div>
                        
                        <div id="timeSavingsDisplay" style="display: none;">
                            <div style="font-size: 14px; color: #6b7280; margin-bottom: 5px;">â° áƒ“áƒ áƒáƒ˜áƒ¡ áƒ“áƒáƒœáƒáƒ–áƒáƒ’áƒ˜:</div>
                            <div style="font-size: 32px; font-weight: bold; color: #374151;" id="totalTimeSaved">0 áƒ¡áƒáƒáƒ—áƒ˜</div>
                        </div>
                    </div>
                    
                    <!-- Yearly Projection -->
                    <div style="background: linear-gradient(135deg, #a5b4fc 0%, #c7d2fe 100%); padding: 20px; border-radius: 12px; border-left: 4px solid #667eea;">
                        <h4 style="color: #5B21B6; margin-bottom: 15px;">ğŸ“… áƒ¬áƒšáƒ˜áƒ£áƒ áƒ˜ áƒáƒ áƒáƒ’áƒœáƒáƒ–áƒ˜</h4>
                        
                        <div id="yearlyMoneyProjection" style="display: none; margin-bottom: 10px;">
                            <div style="color: #5B21B6; font-size: 14px;">ğŸ’µ áƒ¬áƒ”áƒšáƒ˜áƒ¬áƒáƒ“áƒ¨áƒ˜ áƒ“áƒáƒ–áƒáƒ’áƒáƒ•áƒ“áƒ˜:</div>
                            <div style="color: #5B21B6; font-size: 24px; font-weight: bold;" id="yearlyMoneySaved">0 â‚¾</div>
                        </div>
                        
                        <div id="yearlyTimeProjection" style="display: none;">
                            <div style="color: #5B21B6; font-size: 14px;">â° áƒ¬áƒ”áƒšáƒ˜áƒ¬áƒáƒ“áƒ¨áƒ˜ áƒ“áƒáƒ–áƒáƒ’áƒáƒ•áƒ“áƒ˜:</div>
                            <div style="color: #5B21B6; font-size: 24px; font-weight: bold;" id="yearlyTimeSaved">0 áƒ¡áƒáƒáƒ—áƒ˜</div>
                        </div>
                    </div>
                    
                    <!-- Edit Button -->
                    <button class="btn" onclick="editSavingsConfig()" style="width: 100%; margin-top: 15px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">âœï¸ áƒ áƒ”áƒ“áƒáƒ¥áƒ¢áƒ˜áƒ áƒ”áƒ‘áƒ</button>
                </div>
                
                <button class="btn btn-primary" onclick="showSection('motivations')" style="margin-top: 20px;">â† áƒ£áƒ™áƒáƒœ</button>
            </div>
            <div id="copingMainSection" class="section">
                <h1 style="font-family: 'Georgia', 'Garamond', serif; font-style: italic; color: #5B21B6; font-size: 22px; letter-spacing: 1px; margin-bottom: 30px;">ğŸ§  áƒ’áƒáƒ›áƒ™áƒšáƒáƒ•áƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒ”áƒ¥áƒáƒœáƒ˜áƒ–áƒ›áƒ”áƒ‘áƒ˜</h1>
                
                <div class="menu-card" onclick="showCopingThoughts()">
                    <div class="menu-card-title">ğŸ’­ áƒ áƒ áƒáƒ–áƒ áƒ˜ áƒ›áƒ˜áƒ©áƒœáƒ“áƒ”áƒ‘áƒ</div>
                    <div class="menu-card-desc">áƒáƒ–áƒ áƒ”áƒ‘áƒ˜, áƒ áƒáƒ›áƒšáƒ”áƒ‘áƒ˜áƒª áƒ áƒ—áƒ£áƒš áƒ›áƒáƒ›áƒ”áƒœáƒ¢áƒ¨áƒ˜ áƒ©áƒœáƒ“áƒ”áƒ‘áƒ áƒ“áƒ áƒ áƒáƒ’áƒáƒ  áƒ¨áƒ”áƒ•áƒ”áƒ¬áƒ˜áƒœáƒáƒáƒ¦áƒ›áƒ“áƒ”áƒ’áƒ áƒ›áƒáƒ—</div>
                </div>
                
                <div class="menu-card" onclick="showRiskFactors()">
                    <div class="menu-card-title">âš ï¸ áƒ¡áƒáƒ¤áƒ áƒ—áƒ®áƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒªáƒ•áƒ”áƒšáƒ˜ áƒ¤áƒáƒ¥áƒ¢áƒáƒ áƒ”áƒ‘áƒ˜</div>
                    <div class="menu-card-desc">áƒáƒ›áƒáƒ˜áƒªáƒáƒœáƒ˜ áƒ¢áƒ áƒ˜áƒ’áƒ”áƒ áƒ”áƒ‘áƒ˜, áƒ áƒáƒ›áƒšáƒ”áƒ‘áƒ˜áƒª áƒ˜áƒ¬áƒ•áƒ”áƒ•áƒ¡ áƒšáƒ¢áƒáƒšáƒ•áƒáƒ¡</div>
                </div>
                
                <div class="menu-card" onclick="showCopingMechanisms()">
                    <div class="menu-card-title">â° áƒ áƒáƒ’áƒáƒ  áƒ’áƒáƒ•áƒ£áƒ›áƒ™áƒšáƒáƒ•áƒ“áƒ” áƒšáƒ¢áƒáƒšáƒ•áƒáƒ¡</div>
                    <div class="menu-card-desc">áƒáƒ áƒáƒ¥áƒ¢áƒ˜áƒ™áƒ£áƒšáƒ˜ áƒ¢áƒ”áƒ¥áƒœáƒ˜áƒ™áƒ”áƒ‘áƒ˜ áƒ›áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒ“áƒáƒ¡áƒáƒ“áƒ”áƒ‘áƒšáƒáƒ“</div>
                </div>
                
                <div class="menu-card" onclick="showSection('techniques')">
                    <div class="menu-card-title">ğŸ¯ áƒ¢áƒ”áƒ¥áƒœáƒ˜áƒ™áƒ”áƒ‘áƒ˜</div>
                    <div class="menu-card-desc">áƒ¤áƒ¡áƒ˜áƒ¥áƒáƒ›áƒáƒ áƒ”áƒ’áƒ£áƒšáƒ˜áƒ áƒ”áƒ‘áƒ”áƒšáƒ˜ áƒ¡áƒáƒ•áƒáƒ áƒ¯áƒ˜áƒ¨áƒáƒ”áƒ‘áƒ˜</div>
                </div>
                
                <div class="menu-card" onclick="showRecommendations()">
                    <div class="menu-card-title">ğŸ›¡ï¸ áƒ áƒ”áƒ™áƒáƒ›áƒ”áƒœáƒ“áƒáƒªáƒ˜áƒ”áƒ‘áƒ˜</div>
                    <div class="menu-card-desc">áƒ“áƒáƒ›áƒªáƒáƒ•áƒ˜ áƒ›áƒ”áƒ¥áƒáƒœáƒ˜áƒ–áƒ›áƒ”áƒ‘áƒ˜ áƒ“áƒ áƒ¡áƒ¢áƒ áƒáƒ¢áƒ”áƒ’áƒ˜áƒ”áƒ‘áƒ˜ áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡</div>
                </div>
                
                <div class="menu-card" onclick="showResources()">
                    <div class="menu-card-title">ğŸŒŸ áƒ áƒ”áƒ¡áƒ£áƒ áƒ¡áƒ”áƒ‘áƒ˜</div>
                    <div class="menu-card-desc">áƒ¨áƒ”áƒœáƒ˜ áƒ¨áƒ˜áƒœáƒáƒ’áƒáƒœáƒ˜ áƒ“áƒ áƒ’áƒáƒ áƒ”áƒ’áƒáƒœáƒ˜ áƒ áƒ”áƒ¡áƒ£áƒ áƒ¡áƒ”áƒ‘áƒ˜ áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡</div>
                </div>
                
                <button class="btn" onclick="backToDashboard()" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">â† Dashboard-áƒ–áƒ” áƒ“áƒáƒ‘áƒ áƒ£áƒœáƒ”áƒ‘áƒ</button>
            </div>
            
            <!-- Coping Thoughts Section -->
            <div id="copingThoughtsSection" class="section">
                <h1>ğŸ’­ áƒ áƒ áƒáƒ–áƒ áƒ˜ áƒ›áƒ˜áƒ©áƒœáƒ“áƒ”áƒ‘áƒ</h1>
                
                <h3 style="margin-bottom: 15px;">áƒáƒ–áƒ áƒ”áƒ‘áƒ˜, áƒ áƒáƒ›áƒšáƒ”áƒ‘áƒ˜áƒª áƒ áƒ—áƒ£áƒš áƒ›áƒáƒ›áƒ”áƒœáƒ¢áƒ¨áƒ˜ áƒ©áƒœáƒ“áƒ”áƒ‘áƒ áƒ“áƒ áƒ áƒáƒ’áƒáƒ  áƒ¨áƒ”áƒ•áƒ”áƒ¬áƒ˜áƒœáƒáƒáƒ¦áƒ›áƒ“áƒ”áƒ’áƒ áƒ›áƒáƒ—</h3>
                
                <div id="copingThoughtsList"></div>
                
                <button class="btn btn-secondary" onclick="showCopingAddModal()">+ áƒáƒ®áƒáƒšáƒ˜ áƒáƒ–áƒ áƒ˜áƒ¡ áƒ“áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒ</button>
                <button class="btn btn-primary" onclick="showSection('copingMain')" style="margin-top: 15px;">â† áƒ£áƒ™áƒáƒœ</button>
            </div>
            
            <!-- Risk Factors Recognition Section -->
            <div id="riskFactorsSection" class="section">
                <h1>âš ï¸ áƒ¡áƒáƒ¤áƒ áƒ—áƒ®áƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒªáƒ•áƒ”áƒšáƒ˜ áƒ¤áƒáƒ¥áƒ¢áƒáƒ áƒ”áƒ‘áƒ˜</h1>
                
                <div style="background: #fff3cd; padding: 20px; border-radius: 12px; border-left: 4px solid #ffc107; margin-bottom: 25px;">
                    <p style="color: #856404; line-height: 1.8; margin: 0; text-align: justify;">
                        <strong>áƒ áƒáƒª áƒ£áƒ¤áƒ áƒ áƒ£áƒ™áƒ”áƒ— áƒ“áƒáƒ˜áƒ¡áƒ¬áƒáƒ•áƒšáƒ˜ áƒ˜áƒ› áƒ¡áƒ˜áƒ¢áƒ£áƒáƒªáƒ˜áƒ”áƒ‘áƒ˜áƒ¡ áƒáƒ›áƒáƒªáƒœáƒáƒ‘áƒáƒ¡, áƒ áƒáƒ›áƒ”áƒšáƒ¨áƒ˜áƒª áƒ¨áƒ”áƒœáƒ˜ áƒ“áƒáƒ›áƒáƒ™áƒ˜áƒ“áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ’áƒáƒœáƒ”áƒ‘áƒ áƒ’áƒ›áƒáƒ áƒ—áƒáƒ•áƒ¡ áƒ¨áƒ”áƒœ áƒ“áƒ áƒ’áƒáƒ˜áƒ«áƒ£áƒšáƒ”áƒ‘áƒ¡ áƒ˜áƒ¤áƒ˜áƒ¥áƒ áƒ áƒ“áƒ áƒ˜áƒ›áƒáƒ¥áƒ›áƒ”áƒ“áƒ áƒáƒ áƒáƒ áƒáƒªáƒ˜áƒáƒœáƒáƒšáƒ£áƒ áƒáƒ“, áƒ›áƒ˜áƒ— áƒ›áƒ”áƒ¢áƒáƒ“ áƒ›áƒáƒáƒ®áƒ”áƒ áƒ®áƒ”áƒ‘ áƒ›áƒ˜áƒ–áƒáƒœáƒ›áƒ˜áƒ›áƒáƒ áƒ—áƒ£áƒšáƒáƒ“ áƒ’áƒáƒ›áƒáƒ˜áƒ§áƒ”áƒœáƒ áƒ áƒáƒªáƒ˜áƒáƒœáƒáƒšáƒ£áƒ áƒ˜ áƒ’áƒáƒœáƒ”áƒ‘áƒ, áƒ áƒáƒ—áƒ áƒ’áƒáƒáƒ™áƒ”áƒ—áƒ áƒ£áƒ¤áƒ áƒ áƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ˜ áƒáƒ áƒ©áƒ”áƒ•áƒáƒœáƒ˜.</strong>
                    </p>
                </div>
                
                <!-- Collapsible Recommendation Section -->
                <div style="margin-bottom: 25px;">
                    <button onclick="toggleRiskRecommendation()" 
                            style="width: 100%; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; padding: 15px 20px; border-radius: 12px; cursor: pointer; font-weight: 600; font-size: 16px; text-align: left; display: flex; align-items: center; justify-content: space-between; box-shadow: 0 2px 8px rgba(102,126,234,0.3);">
                        <span>ğŸ’¡ áƒ áƒ”áƒ™áƒáƒ›áƒ”áƒœáƒ“áƒáƒªáƒ˜áƒ</span>
                        <span id="riskRecommendationArrow" style="font-size: 20px; transition: transform 0.3s;">â–¼</span>
                    </button>
                    
                    <div id="riskRecommendationContent" style="display: none; background: #f0f4ff; padding: 20px; border-radius: 0 0 12px 12px; margin-top: -10px;">
                        <!-- Original blue card content -->
                        <div style="margin-bottom: 20px;">
                            <h3 style="color: #667eea; margin-bottom: 15px;">ğŸ“Œ áƒ®áƒ¨áƒ˜áƒ áƒáƒ“ áƒ›áƒáƒ¥áƒ›áƒ”áƒ“áƒ”áƒ‘áƒ¡ áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’áƒ˜ áƒ™áƒáƒœáƒáƒœáƒ–áƒáƒ›áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ:</h3>
                            <div style="background: white; padding: 12px; border-radius: 8px; text-align: center; font-size: 18px; font-weight: 600; color: #333;">
                                áƒ¢áƒ áƒ˜áƒ’áƒ”áƒ áƒ˜ â†’ áƒ¤áƒ˜áƒ¥áƒ áƒ˜ â†’ áƒšáƒ¢áƒáƒšáƒ•áƒ â†’ áƒ›áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ
                            </div>
                        </div>
                        
                        <!-- New recommendation text -->
                        <div style="background: white; padding: 20px; border-radius: 8px;">
                            <p style="color: #333; line-height: 1.8; margin-bottom: 15px; text-align: justify; word-wrap: break-word;">
                                áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒáƒ•áƒáƒœáƒ˜áƒ áƒ˜áƒ§áƒ áƒ­áƒ™áƒ•áƒ˜áƒáƒœáƒ˜ áƒ“áƒ áƒ–áƒ”áƒ“áƒ›áƒ”áƒ¢áƒáƒ“ áƒáƒ  áƒ’áƒáƒ›áƒáƒ¡áƒªáƒáƒ“áƒ áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜ áƒœáƒ”áƒ‘áƒ˜áƒ¡áƒ§áƒáƒ¤áƒ!
                            </p>
                            <p style="color: #333; line-height: 1.8; margin-bottom: 15px; text-align: justify; word-wrap: break-word;">
                                áƒ˜áƒ›áƒ’áƒ•áƒáƒ áƒáƒ“ áƒ“áƒáƒ’áƒ”áƒ’áƒ›áƒ” áƒ“áƒ¦áƒ” áƒ“áƒ áƒáƒ¥áƒ¢áƒ˜áƒ•áƒáƒ‘áƒ”áƒ‘áƒ˜, áƒ áƒáƒ› áƒ áƒáƒª áƒ¨áƒ”áƒ˜áƒ«áƒšáƒ”áƒ‘áƒ áƒœáƒáƒ™áƒšáƒ”áƒ‘áƒáƒ“ áƒ›áƒáƒ’áƒ˜áƒ¬áƒ˜áƒáƒ¡ áƒ¢áƒ áƒ˜áƒ’áƒ”áƒ áƒ”áƒ‘áƒ—áƒáƒœ áƒ¨áƒ”áƒ®áƒ”áƒ‘áƒ.
                            </p>
                            <p style="color: #333; line-height: 1.8; margin-bottom: 15px; text-align: justify; word-wrap: break-word;">
                                áƒ›áƒ˜áƒ˜áƒ¦áƒ” áƒ’áƒáƒáƒ–áƒ áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ’áƒáƒ“áƒáƒ¬áƒ§áƒ•áƒ”áƒ¢áƒ˜&shy;áƒšáƒ”áƒ‘áƒ”áƒ‘áƒ˜!
                            </p>
                            <p style="color: #333; line-height: 1.8; margin: 0; text-align: justify; word-wrap: break-word;">
                                áƒ—áƒ£ áƒ›áƒáƒ˜áƒœáƒª áƒ›áƒáƒ’áƒ˜áƒ¬áƒ”áƒ•áƒ¡ áƒ¢áƒ áƒ˜áƒ’áƒ”áƒ áƒ”áƒ‘áƒ—áƒáƒœ áƒ¨áƒ”áƒ®áƒ”áƒ‘áƒ, áƒ˜áƒ§áƒáƒ•áƒ˜ áƒ›áƒáƒ›áƒ–áƒáƒ“áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ“áƒ áƒ¨áƒ”áƒ˜áƒ›áƒ£áƒ¨áƒáƒ•áƒ” áƒ’áƒáƒ›áƒ™áƒšáƒáƒ•áƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒ”áƒ¥áƒáƒœáƒ˜áƒ–áƒ›áƒ”áƒ‘áƒ˜, áƒ áƒáƒ›áƒšáƒ”áƒ‘áƒ¡áƒáƒª áƒáƒ› áƒ“áƒ áƒáƒ¡ áƒ’áƒáƒ›áƒáƒ˜áƒ§áƒ”áƒœáƒ”áƒ‘.
                            </p>
                        </div>
                    </div>
                </div>
                
                <div id="riskFactorsList"></div>
                
                <button class="btn btn-primary" onclick="showSection('copingMain')" style="margin-top: 20px;">â† áƒ£áƒ™áƒáƒœ</button>
            </div>
            
            <!-- Coping Mechanisms Section -->
            <div id="copingMechanismsSection" class="section">
                <h1>â° áƒ áƒáƒ’áƒáƒ  áƒ’áƒáƒ•áƒ£áƒ›áƒ™áƒšáƒáƒ•áƒ“áƒ” áƒšáƒ¢áƒáƒšáƒ•áƒáƒ¡</h1>
                
                <div class="wave-title">
                    ğŸŒŠ áƒ›áƒáƒáƒ—áƒ•áƒ˜áƒœáƒ˜áƒ”áƒ áƒ” áƒ¢áƒáƒšáƒ¦áƒ
                </div>
                <div class="wave-text">
                    <p>áƒšáƒ¢áƒáƒšáƒ•áƒ˜áƒ¡ áƒ¡áƒáƒ¨áƒ£áƒáƒšáƒ áƒ®áƒáƒœáƒ’áƒ áƒ«áƒšáƒ˜áƒ•áƒáƒ‘áƒ áƒáƒ áƒ˜áƒ¡ 15-20 áƒ¬áƒ£áƒ—áƒ˜.</p>
                    
                    <p>áƒ¬áƒáƒ áƒ›áƒáƒ˜áƒ“áƒ’áƒ˜áƒœáƒ” áƒšáƒ¢áƒáƒšáƒ•áƒ, áƒ áƒáƒ’áƒáƒ áƒª áƒáƒ™áƒ”áƒáƒœáƒ˜áƒ¡ áƒ¢áƒáƒšáƒ¦áƒ - áƒ˜áƒ¡ áƒáƒ¦áƒ˜áƒ›áƒáƒ áƒ—áƒ”áƒ‘áƒ, áƒ˜áƒ–áƒ áƒ“áƒ”áƒ‘áƒ, áƒáƒ¦áƒ¬áƒ”áƒ•áƒ¡ áƒáƒ˜áƒ™áƒ¡ áƒ“áƒ áƒ”áƒªáƒ”áƒ›áƒ.</p>
                    
                    <p>áƒ—áƒ£ áƒ¨áƒ”áƒœ áƒ¨áƒ”áƒ«áƒšáƒ”áƒ‘ áƒ“áƒáƒ˜áƒ›áƒáƒ áƒ©áƒ˜áƒšáƒ áƒ¢áƒáƒšáƒ¦áƒ, áƒ¨áƒ”áƒœ áƒ˜áƒ’áƒ áƒ«áƒœáƒáƒ‘ áƒšáƒ¢áƒáƒšáƒ•áƒ˜áƒ¡ áƒ¨áƒ”áƒ’áƒ áƒ«áƒœáƒ”áƒ‘áƒ áƒœáƒ”áƒš-áƒœáƒ”áƒšáƒ áƒ áƒáƒ’áƒáƒ  áƒ¡áƒ£áƒ¡áƒ¢áƒ“áƒ”áƒ‘áƒ áƒ“áƒ áƒ›áƒ˜áƒ“áƒ˜áƒ¡.</p>
                </div>
                
                <div class="divider"></div>
                
                <h2>ğŸ“‹ áƒ áƒ áƒ¨áƒ”áƒ›áƒ˜áƒ«áƒšáƒ˜áƒ áƒ’áƒáƒ•áƒáƒ™áƒ”áƒ—áƒ:</h2>
                
                <div id="copingMechanismsList"></div>
                
                <button class="btn btn-primary" onclick="showSection('copingMain')" style="margin-top: 30px;">â† áƒ£áƒ™áƒáƒœ</button>
            </div>
            
            <!-- Recommendations Section -->
            <div id="recommendationsSection" class="section">
                <h1>ğŸ›¡ï¸ áƒ áƒ”áƒ™áƒáƒ›áƒ”áƒœáƒ“áƒáƒªáƒ˜áƒ”áƒ‘áƒ˜</h1>
                
                <!-- Introduction -->
                <div style="background: #fff3cd; padding: 20px; border-radius: 12px; border-left: 4px solid #ffc107; margin-bottom: 25px;">
                    <p style="color: #856404; line-height: 1.8; margin: 0 0 15px 0;">
                        <strong>áƒ“áƒáƒ›áƒáƒ™áƒ˜áƒ“áƒ”áƒ‘áƒ£áƒšáƒ”áƒ‘áƒ áƒ”áƒ¡ áƒáƒ áƒ˜áƒ¡ áƒ“áƒáƒáƒ•áƒáƒ“áƒ”áƒ‘áƒ, áƒ áƒáƒ›áƒšáƒ˜áƒ¡ áƒ’áƒáƒ›áƒáƒ®áƒáƒ¢áƒ£áƒšáƒ”áƒ‘áƒáƒª áƒáƒ áƒ˜áƒ¡ áƒ›áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒáƒ–áƒ” áƒ—áƒáƒœáƒ“áƒáƒ—áƒáƒœáƒáƒ‘áƒ˜áƒ—áƒ˜ áƒ™áƒáƒœáƒ¢áƒ áƒáƒšáƒ˜áƒ¡ áƒ“áƒáƒ™áƒáƒ áƒ’áƒ•áƒ.</strong>
                    </p>
                    <p style="color: #856404; line-height: 1.8; margin: 0;">
                        áƒ¨áƒ”áƒ’áƒ•áƒ˜áƒ«áƒšáƒ˜áƒ áƒ•áƒ—áƒ¥áƒ•áƒáƒ—, áƒ áƒáƒ› áƒ›áƒáƒ¡ áƒáƒ®áƒáƒ¡áƒ˜áƒáƒ—áƒ”áƒ‘áƒ¡ â€áƒ›áƒáƒ’áƒœáƒ˜áƒ¢áƒ£áƒ áƒ˜ áƒ‘áƒ£áƒœáƒ”áƒ‘áƒ". áƒ¨áƒ”áƒ¡áƒáƒ‘áƒáƒ›áƒ˜áƒ¡áƒáƒ“ áƒ¨áƒ”áƒœáƒ˜ áƒ›áƒ˜áƒ–áƒáƒœáƒ˜ áƒáƒ áƒ˜áƒ¡ áƒáƒáƒ¨áƒ”áƒœáƒ, áƒ áƒáƒª áƒ¨áƒ”áƒ˜áƒ«áƒšáƒ”áƒ‘áƒ áƒ›áƒ”áƒ¢áƒ˜ áƒ“áƒáƒ›áƒªáƒáƒ•áƒ˜ áƒ›áƒ”áƒ¥áƒáƒœáƒ˜áƒ–áƒ›áƒ˜, áƒ¨áƒ”áƒœáƒ¡áƒ áƒ“áƒ áƒ áƒ”áƒªáƒ˜áƒ“áƒ˜áƒ•áƒ¡ áƒ¨áƒáƒ áƒ˜áƒ¡.
                    </p>
                </div>
                
                <div id="recommendationsList"></div>
                
                <button class="btn btn-primary" onclick="showSection('copingMain')" style="margin-top: 20px;">â† áƒ£áƒ™áƒáƒœ</button>
            </div>
            
            <!-- Techniques Section -->
            <div id="techniquesSection" class="section">
                <h1>ğŸ¯ áƒ¢áƒ”áƒ¥áƒœáƒ˜áƒ™áƒ”áƒ‘áƒ˜</h1>
                <p style="margin-bottom: 30px; color: #666;">áƒ¤áƒ¡áƒ˜áƒ¥áƒáƒ›áƒáƒ áƒ”áƒ’áƒ£áƒšáƒ˜áƒ áƒ”áƒ‘áƒ”áƒšáƒ˜ áƒ¡áƒáƒ•áƒáƒ áƒ¯áƒ˜áƒ¨áƒáƒ”áƒ‘áƒ˜</p>
                
                <div class="menu-card" onclick="openTechniqueModal('technique0Modal')" style="background: white;">
                    <div class="menu-card-title" style="color: #333;">ğŸ“– áƒ’áƒáƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ£áƒšáƒáƒ‘áƒ áƒ§áƒáƒ•áƒ”áƒšáƒ“áƒ¦áƒ˜áƒ£áƒ áƒáƒ‘áƒáƒ¨áƒ˜</div>
                </div>
                
                <div class="menu-card" onclick="openTechniqueModal('technique3Modal')" style="background: white;">
                    <div class="menu-card-title" style="color: #333;">ğŸ áƒ’áƒáƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ­áƒáƒ›áƒ</div>
                </div>
                
                <div class="menu-card" onclick="openTechniqueModal('technique4Modal')" style="background: white;">
                    <div class="menu-card-title" style="color: #333;">ğŸš¶â€â™‚ï¸ áƒ’áƒáƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ¡áƒ˜áƒáƒ áƒ£áƒšáƒ˜</div>
                </div>
                
                <div class="menu-card" onclick="openTechniqueModal('technique5Modal')" style="background: white;">
                    <div class="menu-card-title" style="color: #333;">ğŸŒ¬ï¸ áƒ’áƒáƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ¡áƒ£áƒœáƒ—áƒ¥áƒ•áƒ</div>
                </div>
                
                <div class="menu-card" onclick="openTechniqueModal('technique6Modal')" style="background: white;">
                    <div class="menu-card-title" style="color: #333;">ğŸ§˜â€â™€ï¸ áƒ¡áƒ®áƒ”áƒ£áƒšáƒ–áƒ” áƒ“áƒáƒ™áƒ•áƒ˜áƒ áƒ•áƒ”áƒ‘áƒ</div>
                </div>
                
                <div class="menu-card" onclick="openTechniqueModal('technique7Modal')" style="background: white;">
                    <div class="menu-card-title" style="color: #333;">ğŸš¿ áƒ’áƒáƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ¨áƒ®áƒáƒáƒ˜</div>
                </div>
                
                <div class="menu-card" onclick="openTechniqueModal('technique8Modal')" style="background: white;">
                    <div class="menu-card-title" style="color: #333;">ğŸ§¼ áƒ®áƒ”áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ“áƒáƒ‘áƒáƒœáƒ</div>
                </div>
                
                <div class="menu-card" onclick="openTechniqueModal('technique9Modal')" style="background: white;">
                    <div class="menu-card-title" style="color: #333;">ğŸ›‘ 5 áƒœáƒáƒ‘áƒ˜áƒ¯áƒ˜</div>
                </div>
                
                <div class="menu-card" onclick="openTechniqueModal('technique1Modal')" style="background: white;">
                    <div class="menu-card-title" style="color: #333;">ğŸ« áƒ“áƒáƒ›áƒáƒ›áƒ¨áƒ•áƒ˜áƒ“áƒ”áƒ‘áƒ”áƒšáƒ˜ áƒ¡áƒ£áƒœáƒ—áƒ¥áƒ•áƒ</div>
                </div>
                
                <div class="menu-card" onclick="openTechniqueModal('technique2Modal')" style="background: white;">
                    <div class="menu-card-title" style="color: #333;">ğŸ‘ï¸ 5-4-3-2-1 áƒ¢áƒ”áƒ¥áƒœáƒ˜áƒ™áƒ</div>
                </div>
                
                <button class="btn btn-primary" onclick="showSection('copingMain')" style="margin-top: 30px;">â† áƒ£áƒ™áƒáƒœ</button>
            </div>
            
            <!-- Technique 1 Detail -->
            <div id="technique1Section" class="section" style="background: white; min-height: 100vh; padding: 0;">
                <div style="max-width: 800px; margin: 0 auto; padding: 40px 20px;">
                    <h1 style="color: #333; margin-bottom: 30px; text-align: center;">ğŸ« áƒ“áƒáƒ›áƒáƒ›áƒ¨áƒ•áƒ˜áƒ“áƒ”áƒ‘áƒ”áƒšáƒ˜ áƒ¡áƒ£áƒœáƒ—áƒ¥áƒ•áƒ</h1>
                    
                    <h3 style="color: #667eea; margin-bottom: 20px;">4-7-8 áƒ¡áƒ£áƒœáƒ—áƒ¥áƒ•áƒ˜áƒ¡ áƒ¢áƒ”áƒ¥áƒœáƒ˜áƒ™áƒ</h3>
                    
                    <div style="color: #333; line-height: 1.8; font-size: 16px;">
                        <p style="margin-bottom: 15px;">â€¢ <strong>áƒ©áƒáƒ˜áƒ¡áƒ£áƒœáƒ—áƒ¥áƒ”</strong> áƒªáƒ®áƒ•áƒ˜áƒ áƒ˜áƒ— 4 áƒ¬áƒáƒ›áƒ˜áƒ¡ áƒ’áƒáƒœáƒ›áƒáƒ•áƒšáƒáƒ‘áƒáƒ¨áƒ˜</p>
                        <p style="margin-bottom: 15px;">â€¢ <strong>áƒ¨áƒ”áƒáƒ©áƒ”áƒ áƒ”</strong> áƒ¡áƒ£áƒœáƒ—áƒ¥áƒ•áƒ 7 áƒ¬áƒáƒ›áƒ˜áƒ—</p>
                        <p style="margin-bottom: 15px;">â€¢ <strong>áƒáƒ›áƒáƒ˜áƒ¡áƒ£áƒœáƒ—áƒ¥áƒ”</strong> áƒœáƒ”áƒšáƒ áƒáƒ˜áƒ áƒ˜áƒ— 8 áƒ¬áƒáƒ›áƒ˜áƒ¡ áƒ’áƒáƒœáƒ›áƒáƒ•áƒšáƒáƒ‘áƒáƒ¨áƒ˜</p>
                        <p style="margin-top: 25px; color: #666;">áƒ’áƒáƒ˜áƒ›áƒ”áƒáƒ áƒ” 4-5-áƒ¯áƒ”áƒ . áƒ”áƒ¡ áƒ¢áƒ”áƒ¥áƒœáƒ˜áƒ™áƒ áƒáƒ›áƒ¨áƒ•áƒ˜áƒ“áƒ”áƒ‘áƒ¡ áƒœáƒ”áƒ áƒ•áƒ£áƒš áƒ¡áƒ˜áƒ¡áƒ¢áƒ”áƒ›áƒáƒ¡ áƒ“áƒ áƒ’áƒ”áƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ áƒ¡áƒ¢áƒ áƒ”áƒ¡áƒ˜áƒ¡ áƒ›áƒáƒ áƒ—áƒ•áƒáƒ¨áƒ˜.</p>
                    </div>
                    
                    <button class="btn btn-primary" onclick="showSection('techniques')" style="width: 100%; padding: 15px; margin-top: 50px;">â† áƒ£áƒ™áƒáƒœ</button>
                </div>
            </div>
            
            <!-- Technique 2 Detail -->
            <div id="technique2Section" class="section" style="background: white; min-height: 100vh; padding: 0;">
                <div style="max-width: 800px; margin: 0 auto; padding: 40px 20px;">
                    <h1 style="color: #333; margin-bottom: 30px; text-align: center;">ğŸ‘ï¸ 5-4-3-2-1 áƒ¢áƒ”áƒ¥áƒœáƒ˜áƒ™áƒ</h1>
                    
                    <h3 style="color: #667eea; margin-bottom: 20px;">áƒ’áƒ áƒ«áƒœáƒáƒ‘áƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒáƒ¥áƒ¢áƒ˜áƒ£áƒ áƒ”áƒ‘áƒ</h3>
                    
                    <div style="color: #333; line-height: 1.8; font-size: 16px;">
                        <p style="margin-bottom: 15px;"><strong>5 áƒ áƒáƒ›, áƒ áƒáƒ¡áƒáƒª áƒ®áƒ”áƒ“áƒáƒ•</strong> - áƒ›áƒ˜áƒ›áƒáƒ˜áƒ®áƒ”áƒ“áƒ” áƒ’áƒáƒ áƒ¨áƒ”áƒ›áƒ áƒ“áƒ áƒ“áƒáƒáƒ¡áƒáƒ®áƒ”áƒšáƒ” 5 áƒ¡áƒáƒ’áƒáƒœáƒ˜, áƒ áƒáƒ›áƒ”áƒšáƒ¡áƒáƒª áƒ®áƒ”áƒ“áƒáƒ•</p>
                        <p style="margin-bottom: 15px;"><strong>4 áƒ áƒáƒ›, áƒ áƒáƒ¡áƒáƒª áƒ¨áƒ”áƒ”áƒ®áƒ”áƒ‘áƒ˜</strong> - áƒ¨áƒ”áƒ”áƒ®áƒ” 4 áƒáƒ‘áƒ˜áƒ”áƒ¥áƒ¢áƒ¡ áƒ“áƒ áƒ˜áƒ’áƒ áƒ«áƒ”áƒœáƒ˜ áƒ›áƒáƒ—áƒ˜ áƒ¢áƒ”áƒ¥áƒ¡áƒ¢áƒ£áƒ áƒ</p>
                        <p style="margin-bottom: 15px;"><strong>3 áƒ áƒáƒ›, áƒ áƒáƒ¡áƒáƒª áƒ˜áƒ¡áƒ›áƒ”áƒœ</strong> - áƒ§áƒ£áƒ áƒáƒ“áƒ¦áƒ”áƒ‘áƒ áƒ›áƒ˜áƒáƒ¥áƒªáƒ˜áƒ” 3 áƒ®áƒ›áƒáƒ¡</p>
                        <p style="margin-bottom: 15px;"><strong>2 áƒ áƒáƒ›, áƒ áƒáƒ¡áƒáƒª áƒ§áƒœáƒáƒ¡áƒáƒ•</strong> - áƒ˜áƒ’áƒ áƒ«áƒ”áƒœáƒ˜ 2 áƒ¡áƒ£áƒœáƒ˜</p>
                        <p style="margin-bottom: 15px;"><strong>1 áƒ áƒáƒ›, áƒ áƒáƒ¡áƒáƒª áƒ“áƒáƒáƒ’áƒ”áƒ›áƒáƒ•áƒœáƒ”áƒ‘</strong> - áƒ“áƒáƒáƒ’áƒ”áƒ›áƒáƒ•áƒœáƒ” áƒ áƒáƒ˜áƒ›áƒ” áƒ“áƒ áƒ¨áƒ”áƒ˜áƒ’áƒ áƒ«áƒ”áƒœáƒ˜ áƒ›áƒ˜áƒ¡áƒ˜ áƒ’áƒ”áƒ›áƒ áƒáƒ˜áƒ áƒ¨áƒ˜</p>
                    </div>
                    
                    <button class="btn btn-primary" onclick="showSection('techniques')" style="width: 100%; padding: 15px; margin-top: 50px;">â† áƒ£áƒ™áƒáƒœ</button>
                </div>
            </div>
            
            <!-- Technique 0 Modal - áƒ’áƒáƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ£áƒšáƒáƒ‘áƒ -->
            <div id="technique0Modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; padding: 20px;">
                <div style="position: relative; background: white; max-width: 800px; margin: 0 auto; height: 100%; border-radius: 12px; display: flex; flex-direction: column; overflow: hidden;">
                    
                    <!-- Scrollable Content -->
                    <div style="flex: 1; overflow-y: auto; padding: 40px 20px;">
                        <h1 style="color: #333; margin-bottom: 30px; text-align: center;">ğŸ“– áƒ’áƒáƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ£áƒšáƒáƒ‘áƒ áƒ§áƒáƒ•áƒ”áƒšáƒ“áƒ¦áƒ˜áƒ£áƒ áƒáƒ‘áƒáƒ¨áƒ˜</h1>
                        
                        <div style="color: #333; line-height: 1.8; font-size: 16px;">
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">áƒ áƒ áƒáƒ áƒ˜áƒ¡ áƒ’áƒáƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ£áƒšáƒáƒ‘áƒ?</h3>
                                <p>áƒ’áƒáƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ£áƒšáƒáƒ‘áƒ - áƒ”áƒ¡ áƒáƒ áƒ˜áƒ¡ áƒ’áƒáƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ, áƒ áƒáƒ›áƒ”áƒšáƒ˜áƒª áƒ“áƒ’áƒ”áƒ‘áƒ áƒáƒ áƒ¡áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ›áƒáƒ›áƒ”áƒœáƒ¢áƒ˜áƒ¡áƒáƒ“áƒ›áƒ˜ áƒ›áƒ˜áƒ–áƒáƒœáƒ›áƒ˜áƒ›áƒáƒ áƒ—áƒ£áƒšáƒ˜ áƒ§áƒ£áƒ áƒáƒ“áƒ¦áƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒ˜áƒ›áƒáƒ áƒ—áƒ•áƒ˜áƒ— áƒ“áƒ áƒ›áƒáƒ›áƒ”áƒœáƒ¢áƒ˜áƒ“áƒáƒœ áƒ›áƒáƒ›áƒ”áƒœáƒ¢áƒáƒ›áƒ“áƒ” áƒ›áƒ˜áƒ›áƒ“áƒ˜áƒœáƒáƒ áƒ” áƒ›áƒáƒ•áƒšáƒ”áƒœáƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒ˜áƒ›áƒáƒ áƒ—, áƒ¨áƒ”áƒ¤áƒáƒ¡áƒ”áƒ‘áƒ˜áƒ¡áƒ’áƒáƒœ áƒ—áƒáƒ•áƒ˜áƒ¡áƒ£áƒ¤áƒáƒšáƒ˜ áƒ“áƒáƒ›áƒáƒ™áƒ˜áƒ“áƒ”áƒ‘áƒ£áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ©áƒáƒ›áƒáƒ§áƒáƒšáƒ˜áƒ‘áƒ”áƒ‘áƒ˜áƒ—.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">áƒ¨áƒ”áƒ¤áƒáƒ¡áƒ”áƒ‘áƒ˜áƒ¡áƒ’áƒáƒœ áƒ’áƒáƒ—áƒáƒ•áƒ˜áƒ¡áƒ£áƒ¤áƒšáƒ”áƒ‘áƒ</h3>
                                <p>áƒáƒ  áƒ•áƒ™áƒ˜áƒ“áƒ”áƒ‘áƒ— áƒ˜áƒáƒ áƒšáƒ˜áƒ§áƒ”áƒ‘áƒ¡ áƒ©áƒ•áƒ”áƒœáƒ¡ áƒ¨áƒ”áƒ’áƒ áƒ«áƒœáƒ”áƒ‘áƒ”áƒ‘áƒ¡, áƒ¤áƒ˜áƒ¥áƒ áƒ”áƒ‘áƒ¡, áƒ”áƒ›áƒáƒªáƒ˜áƒ”áƒ‘áƒ¡. áƒ•áƒ˜áƒ¦áƒ”áƒ‘áƒ— áƒ©áƒ•áƒ”áƒœáƒ˜ áƒ’áƒáƒ›áƒáƒªáƒ“áƒ˜áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ—áƒ˜áƒ—áƒáƒ”áƒ£áƒš áƒáƒ¡áƒáƒ”áƒ¥áƒ¢áƒ¡ áƒ™áƒ áƒ˜áƒ¢áƒ˜áƒ™áƒ˜áƒ¡ áƒ’áƒáƒ áƒ”áƒ¨áƒ”, áƒ˜áƒ¡áƒ”áƒ—áƒ¡, áƒ áƒáƒ’áƒáƒ áƒ˜áƒª áƒ˜áƒ¡ áƒáƒ áƒ˜áƒ¡.</p>
                                <p style="margin-top: 10px;">áƒáƒ›áƒ˜áƒ¡ áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒáƒ•áƒáƒœáƒ˜ áƒœáƒáƒ¬áƒ˜áƒšáƒ˜ - áƒ™áƒ”áƒ—áƒ˜áƒšáƒ’áƒáƒœáƒ¬áƒ§áƒáƒ‘áƒ˜áƒ¡, áƒ›áƒáƒ¡áƒ˜áƒ§áƒ•áƒáƒ áƒ£áƒšáƒ” áƒ“áƒáƒ›áƒáƒ™áƒ˜áƒ“áƒ”áƒ‘áƒ£áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒ¢áƒáƒœáƒ áƒ’áƒáƒ›áƒáƒªáƒ“áƒ˜áƒšáƒ”áƒ‘áƒ”áƒ‘áƒ¨áƒ˜, áƒ áƒáƒ’áƒáƒ áƒª áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜ áƒ—áƒáƒ•áƒ˜áƒ¡áƒáƒ“áƒ›áƒ˜ áƒ”áƒ›áƒáƒáƒ—áƒ˜áƒ.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">áƒ áƒáƒ¢áƒáƒ› áƒáƒ áƒ˜áƒ¡ áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒáƒ•áƒáƒœáƒ˜?</h3>
                                <p>áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ áƒ“áƒáƒ™áƒáƒ•áƒ¨áƒ˜áƒ áƒ”áƒ‘áƒ£áƒšáƒ˜áƒ áƒ‘áƒ”áƒ•áƒ  áƒ£áƒ¡áƒ˜áƒáƒ›áƒáƒ•áƒœáƒ áƒ›áƒáƒ›áƒ”áƒœáƒ¢áƒ—áƒáƒœ. áƒ˜áƒ¡áƒ¬áƒáƒ•áƒšáƒ áƒ›áƒ˜áƒ–áƒáƒœáƒ›áƒ˜áƒ›áƒáƒ áƒ—áƒ£áƒšáƒáƒ“ áƒ›áƒ˜áƒ›áƒáƒ áƒ—áƒ áƒ§áƒ£áƒ áƒáƒ“áƒ¦áƒ”áƒ‘áƒ áƒáƒ› áƒ›áƒáƒ›áƒ”áƒœáƒ¢áƒ”áƒ‘áƒ˜áƒ¡áƒáƒ“áƒ›áƒ˜, áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜ áƒ—áƒáƒ•áƒ˜áƒ¡áƒáƒ“áƒ›áƒ˜ áƒ”áƒ›áƒáƒáƒ—áƒ˜áƒ˜áƒ— áƒ“áƒ áƒ›áƒáƒ— áƒ’áƒáƒ›áƒ áƒ—áƒ•áƒ˜áƒ—áƒ’áƒáƒœáƒ¡áƒ¯áƒ˜áƒ¡ áƒ’áƒáƒ áƒ”áƒ¨áƒ” - áƒ’áƒáƒ›áƒáƒ¡áƒáƒ•áƒšáƒ˜áƒ¡ áƒáƒáƒ•áƒœáƒ˜áƒ¡ áƒ”áƒ áƒ—-áƒ”áƒ áƒ—áƒ˜ áƒ›áƒ«áƒšáƒáƒ•áƒ áƒ˜ áƒ›áƒ”áƒ—áƒáƒ“áƒ˜áƒ.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">áƒáƒ•áƒ¢áƒáƒáƒ˜áƒšáƒáƒ¢áƒ˜</h3>
                                <p>áƒ áƒáƒªáƒ áƒ áƒáƒ¦áƒáƒªáƒáƒ¡ áƒ•áƒáƒ™áƒ”áƒ—áƒ”áƒ‘áƒ— áƒ“áƒ áƒáƒ  áƒ•áƒ›áƒáƒœáƒáƒ¬áƒ˜áƒšáƒ”áƒáƒ‘áƒ— áƒáƒ›áƒáƒ¨áƒ˜, áƒ©áƒ•áƒ”áƒœ áƒ•áƒáƒ áƒ— áƒáƒ•áƒ¢áƒáƒáƒ˜áƒšáƒáƒ¢áƒ–áƒ”. áƒ“áƒáƒ›áƒáƒ™áƒ˜áƒ“áƒ”áƒ‘áƒ£áƒšáƒ”áƒ‘áƒ”áƒ‘áƒ—áƒáƒœ áƒ”áƒ¡ áƒáƒ¡áƒáƒ”áƒ¥áƒ¢áƒ˜ áƒáƒ¥áƒ¢áƒ£áƒáƒšáƒ£áƒ áƒ˜áƒ, áƒ áƒáƒ“áƒ’áƒáƒœ áƒáƒ“áƒáƒ›áƒ˜áƒáƒœáƒ˜ áƒ®áƒ¨áƒ˜áƒ áƒáƒ“ áƒáƒ•áƒ¢áƒáƒáƒ˜áƒšáƒáƒ¢áƒ˜áƒ— áƒ˜áƒ¬áƒ§áƒ”áƒ‘áƒ¡ áƒ›áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒáƒ¡ áƒ“áƒ áƒ•áƒ”áƒ áƒª áƒáƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ¡, áƒ áƒáƒ› áƒ’áƒáƒ›áƒáƒ˜áƒ¬áƒ•áƒ˜áƒ áƒ›áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">áƒ¡áƒ¬áƒáƒ áƒáƒ“ áƒ•áƒáƒ¡áƒ áƒ£áƒšáƒ”áƒ‘ áƒ—áƒ£ áƒáƒ áƒ?</h3>
                                <p>áƒ¨áƒ”áƒ˜áƒ«áƒšáƒ”áƒ‘áƒ áƒ’áƒáƒ©áƒœáƒ“áƒ”áƒ¡ áƒ™áƒ˜áƒ—áƒ®áƒ•áƒ, áƒ¡áƒ¬áƒáƒ áƒ”áƒ“ áƒ•áƒáƒ™áƒ”áƒ—áƒ”áƒ‘ áƒ—áƒ£ áƒáƒ áƒ áƒ’áƒáƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ£áƒšáƒáƒ‘áƒ˜áƒ¡ áƒ¢áƒ”áƒ¥áƒœáƒ˜áƒ™áƒ”áƒ‘áƒ¡? áƒáƒ  áƒáƒ áƒ¡áƒ”áƒ‘áƒáƒ‘áƒ¡ áƒ¡áƒ¬áƒáƒ áƒ˜ áƒáƒœ áƒáƒ áƒáƒ¡áƒ¬áƒáƒ áƒ˜ áƒ¨áƒ”áƒ¡áƒ áƒ£áƒšáƒ”áƒ‘áƒ, áƒ£áƒ‘áƒ áƒáƒšáƒáƒ“ áƒ£áƒœáƒ“áƒ áƒ“áƒáƒáƒ™áƒ•áƒ˜áƒ áƒ“áƒ” áƒ¨áƒ”áƒœáƒ¡ áƒ’áƒáƒ›áƒáƒªáƒ“áƒ˜áƒšáƒ”áƒ‘áƒ”áƒ‘áƒ¡.</p>
                                <p style="margin-top: 10px;">áƒ áƒáƒ’áƒáƒ áƒª áƒáƒ  áƒ£áƒœáƒ“áƒ áƒ˜áƒ§áƒáƒ¡ - áƒªáƒ£áƒ“áƒáƒ“, áƒ™áƒáƒ áƒ’áƒáƒ“, áƒ£áƒªáƒœáƒáƒ£áƒ áƒáƒ“ áƒáƒœ áƒœáƒ”áƒ˜áƒ¢áƒ áƒáƒšáƒ£áƒ áƒáƒ“ - áƒ¨áƒ”áƒœ áƒ£áƒ‘áƒ áƒáƒšáƒáƒ“ áƒáƒ™áƒ•áƒ˜áƒ áƒ“áƒ”áƒ‘áƒ˜ áƒ¨áƒ”áƒœáƒ¡ áƒ¨áƒ”áƒ’áƒ áƒ«áƒœáƒ”áƒ‘áƒ”áƒ‘áƒ¡, áƒ áƒ‘áƒ˜áƒšáƒáƒ“ áƒ“áƒ áƒ™áƒ”áƒ—áƒ˜áƒšáƒ’áƒáƒœáƒ¬áƒ§áƒáƒ‘áƒ˜áƒ— áƒáƒ‘áƒ áƒ£áƒœáƒ”áƒ‘ áƒ¨áƒ”áƒœáƒ¡ áƒ’áƒáƒœáƒ”áƒ‘áƒáƒ¡ áƒ›áƒáƒ—áƒ—áƒáƒœ áƒ§áƒáƒ•áƒ”áƒš áƒ¯áƒ”áƒ áƒ–áƒ”, áƒ áƒáƒ“áƒ”áƒ¡áƒáƒª áƒ’áƒáƒœáƒ”áƒ‘áƒ áƒ“áƒáƒ«áƒ áƒ¬áƒ˜áƒ¡. áƒ”áƒ¡ áƒáƒ áƒ˜áƒ¡ áƒ£áƒœáƒáƒ áƒ˜, áƒ áƒáƒ›áƒ”áƒšáƒ¡áƒáƒª áƒáƒ áƒáƒ¥áƒ¢áƒ˜áƒ™áƒ áƒ¡áƒ­áƒ˜áƒ áƒ“áƒ”áƒ‘áƒ.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">áƒ áƒáƒ’áƒáƒ  áƒ•áƒ˜áƒ•áƒáƒ áƒ¯áƒ˜áƒ¨áƒáƒ—?</h3>
                                <p>áƒ˜áƒ•áƒáƒ áƒ¯áƒ˜áƒ¨áƒ”áƒ— áƒ©áƒáƒ áƒ—áƒ£áƒšáƒáƒ‘áƒáƒ¡áƒ áƒ“áƒ áƒ’áƒáƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ£áƒšáƒáƒ‘áƒáƒ¨áƒ˜ áƒ›áƒáƒ¨áƒ˜áƒœ, áƒ áƒáƒ“áƒ”áƒ¡áƒáƒª áƒáƒ¡áƒ áƒ£áƒšáƒ”áƒ‘áƒ— áƒ§áƒáƒ•áƒ”áƒšáƒ“áƒ¦áƒ˜áƒ£áƒ  áƒ¡áƒáƒ¥áƒ›áƒ˜áƒáƒœáƒáƒ‘áƒ”áƒ‘áƒ¡. áƒ áƒáƒ’áƒáƒ áƒª áƒ™áƒ˜ áƒ’áƒáƒœáƒ”áƒ‘áƒ áƒ›áƒ˜áƒ“áƒ˜áƒ¡ áƒ¡áƒáƒ“áƒ¦áƒáƒª áƒ¡áƒ®áƒ•áƒáƒ’áƒáƒœ, áƒ¬áƒáƒ áƒ¡áƒ£áƒšáƒ¨áƒ˜ áƒáƒœ áƒ›áƒáƒ›áƒáƒ•áƒáƒšáƒ¨áƒ˜, áƒ áƒ‘áƒ˜áƒšáƒáƒ“ áƒ“áƒáƒáƒ‘áƒ áƒ£áƒœáƒ”áƒ— áƒ˜áƒ¡ áƒ›áƒ˜áƒ›áƒ“áƒ˜áƒœáƒáƒ áƒ” áƒ›áƒáƒ›áƒ”áƒœáƒ¢áƒ¨áƒ˜.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px; padding: 20px; background: #f8f9ff; border-radius: 8px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">áƒ áƒ”áƒ¤áƒšáƒ”áƒ¥áƒ¡áƒ˜áƒ áƒ¡áƒáƒ•áƒáƒ áƒ¯áƒ˜áƒ¨áƒáƒ¡ áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’</h3>
                                <p>áƒ áƒáƒ“áƒ”áƒ¡áƒáƒª áƒ“áƒáƒáƒ¡áƒ áƒ£áƒšáƒ”áƒ‘áƒ— áƒ¡áƒáƒ•áƒáƒ áƒ¯áƒ˜áƒ¨áƒáƒ¡ áƒ“áƒáƒ£áƒ¡áƒ•áƒ˜áƒ— áƒ—áƒ¥áƒ•áƒ”áƒœáƒ¡ áƒ—áƒáƒ•áƒ¡ áƒ™áƒ˜áƒ—áƒ®áƒ•áƒ”áƒ‘áƒ˜:</p>
                                <ul style="margin-top: 10px; padding-left: 20px;">
                                    <li>áƒ áƒáƒ¡ áƒ’áƒ áƒ«áƒœáƒáƒ‘áƒ“áƒ˜áƒ—?</li>
                                    <li>áƒ áƒ áƒ¨áƒ”áƒáƒ›áƒ©áƒœáƒ˜áƒ”áƒ—?</li>
                                    <li>áƒ áƒ áƒ˜áƒ§áƒ áƒ˜áƒ¡, áƒ áƒáƒ¡áƒáƒª áƒ•áƒ”áƒ  áƒ¨áƒ”áƒ˜áƒ’áƒ áƒ«áƒœáƒáƒ‘áƒ“áƒ˜áƒ— áƒ”áƒ¡ áƒ¡áƒáƒ•áƒáƒ áƒ¯áƒ˜áƒ¨áƒ áƒ áƒáƒ› áƒáƒ  áƒ¨áƒ”áƒ’áƒ”áƒ¡áƒ áƒ£áƒšáƒ”áƒ‘áƒ˜áƒœáƒáƒ—?</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Fixed Button -->
                    <div style="padding: 20px; border-top: 1px solid #e0e0e0; background: white;">
                        <button class="btn btn-primary" onclick="closeTechniqueModal('technique0Modal')" style="width: 100%; padding: 15px;">áƒ“áƒáƒ®áƒ£áƒ áƒ•áƒ</button>
                    </div>
                    
                </div>
            </div>
            
            <!-- Technique 1 Modal -->
            <div id="technique1Modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; overflow-y: auto;">
                <div style="background: white; max-width: 800px; margin: 30px auto; border-radius: 12px; padding: 40px 20px; min-height: 500px;">
                    <h1 style="color: #333; margin-bottom: 30px; text-align: center;">ğŸ« áƒ“áƒáƒ›áƒáƒ›áƒ¨áƒ•áƒ˜áƒ“áƒ”áƒ‘áƒ”áƒšáƒ˜ áƒ¡áƒ£áƒœáƒ—áƒ¥áƒ•áƒ</h1>
                    
                    <h3 style="color: #667eea; margin-bottom: 20px;">4-7-8 áƒ¡áƒ£áƒœáƒ—áƒ¥áƒ•áƒ˜áƒ¡ áƒ¢áƒ”áƒ¥áƒœáƒ˜áƒ™áƒ</h3>
                    
                    <div style="color: #333; line-height: 1.8; font-size: 16px;">
                        <p style="margin-bottom: 15px;">â€¢ <strong>áƒ©áƒáƒ˜áƒ¡áƒ£áƒœáƒ—áƒ¥áƒ”</strong> áƒªáƒ®áƒ•áƒ˜áƒ áƒ˜áƒ— 4 áƒ¬áƒáƒ›áƒ˜áƒ¡ áƒ’áƒáƒœáƒ›áƒáƒ•áƒšáƒáƒ‘áƒáƒ¨áƒ˜</p>
                        <p style="margin-bottom: 15px;">â€¢ <strong>áƒ¨áƒ”áƒáƒ©áƒ”áƒ áƒ”</strong> áƒ¡áƒ£áƒœáƒ—áƒ¥áƒ•áƒ 7 áƒ¬áƒáƒ›áƒ˜áƒ—</p>
                        <p style="margin-bottom: 15px;">â€¢ <strong>áƒáƒ›áƒáƒ˜áƒ¡áƒ£áƒœáƒ—áƒ¥áƒ”</strong> áƒœáƒ”áƒšáƒ áƒáƒ˜áƒ áƒ˜áƒ— 8 áƒ¬áƒáƒ›áƒ˜áƒ¡ áƒ’áƒáƒœáƒ›áƒáƒ•áƒšáƒáƒ‘áƒáƒ¨áƒ˜</p>
                        <p style="margin-top: 25px; color: #666;">áƒ’áƒáƒ˜áƒ›áƒ”áƒáƒ áƒ” 4-5-áƒ¯áƒ”áƒ . áƒ”áƒ¡ áƒ¢áƒ”áƒ¥áƒœáƒ˜áƒ™áƒ áƒáƒ›áƒ¨áƒ•áƒ˜áƒ“áƒ”áƒ‘áƒ¡ áƒœáƒ”áƒ áƒ•áƒ£áƒš áƒ¡áƒ˜áƒ¡áƒ¢áƒ”áƒ›áƒáƒ¡ áƒ“áƒ áƒ’áƒ”áƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ áƒ¡áƒ¢áƒ áƒ”áƒ¡áƒ˜áƒ¡ áƒ›áƒáƒ áƒ—áƒ•áƒáƒ¨áƒ˜.</p>
                    </div>
                    
                    <button class="btn btn-primary" onclick="closeTechniqueModal('technique1Modal')" style="width: 100%; padding: 15px; margin-top: 40px;">áƒ“áƒáƒ®áƒ£áƒ áƒ•áƒ</button>
                </div>
            </div>
            
            <!-- Technique 2 Modal -->
            <div id="technique2Modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; overflow-y: auto;">
                <div style="background: white; max-width: 800px; margin: 30px auto; border-radius: 12px; padding: 40px 20px; min-height: 500px;">
                    <h1 style="color: #333; margin-bottom: 30px; text-align: center;">ğŸ‘ï¸ 5-4-3-2-1 áƒ¢áƒ”áƒ¥áƒœáƒ˜áƒ™áƒ</h1>
                    
                    <h3 style="color: #667eea; margin-bottom: 20px;">áƒ’áƒ áƒ«áƒœáƒáƒ‘áƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒáƒ¥áƒ¢áƒ˜áƒ£áƒ áƒ”áƒ‘áƒ</h3>
                    
                    <div style="color: #333; line-height: 1.8; font-size: 16px;">
                        <p style="margin-bottom: 15px;"><strong>5 áƒ áƒáƒ›, áƒ áƒáƒ¡áƒáƒª áƒ®áƒ”áƒ“áƒáƒ•</strong> - áƒ›áƒ˜áƒ›áƒáƒ˜áƒ®áƒ”áƒ“áƒ” áƒ’áƒáƒ áƒ¨áƒ”áƒ›áƒ áƒ“áƒ áƒ“áƒáƒáƒ¡áƒáƒ®áƒ”áƒšáƒ” 5 áƒ¡áƒáƒ’áƒáƒœáƒ˜, áƒ áƒáƒ›áƒ”áƒšáƒ¡áƒáƒª áƒ®áƒ”áƒ“áƒáƒ•</p>
                        <p style="margin-bottom: 15px;"><strong>4 áƒ áƒáƒ›, áƒ áƒáƒ¡áƒáƒª áƒ¨áƒ”áƒ”áƒ®áƒ”áƒ‘áƒ˜</strong> - áƒ¨áƒ”áƒ”áƒ®áƒ” 4 áƒáƒ‘áƒ˜áƒ”áƒ¥áƒ¢áƒ¡ áƒ“áƒ áƒ˜áƒ’áƒ áƒ«áƒ”áƒœáƒ˜ áƒ›áƒáƒ—áƒ˜ áƒ¢áƒ”áƒ¥áƒ¡áƒ¢áƒ£áƒ áƒ</p>
                        <p style="margin-bottom: 15px;"><strong>3 áƒ áƒáƒ›, áƒ áƒáƒ¡áƒáƒª áƒ˜áƒ¡áƒ›áƒ”áƒœ</strong> - áƒ§áƒ£áƒ áƒáƒ“áƒ¦áƒ”áƒ‘áƒ áƒ›áƒ˜áƒáƒ¥áƒªáƒ˜áƒ” 3 áƒ®áƒ›áƒáƒ¡</p>
                        <p style="margin-bottom: 15px;"><strong>2 áƒ áƒáƒ›, áƒ áƒáƒ¡áƒáƒª áƒ§áƒœáƒáƒ¡áƒáƒ•</strong> - áƒ˜áƒ’áƒ áƒ«áƒ”áƒœáƒ˜ 2 áƒ¡áƒ£áƒœáƒ˜</p>
                        <p style="margin-bottom: 15px;"><strong>1 áƒ áƒáƒ›, áƒ áƒáƒ¡áƒáƒª áƒ“áƒáƒáƒ’áƒ”áƒ›áƒáƒ•áƒœáƒ”áƒ‘</strong> - áƒ“áƒáƒáƒ’áƒ”áƒ›áƒáƒ•áƒœáƒ” áƒ áƒáƒ˜áƒ›áƒ” áƒ“áƒ áƒ¨áƒ”áƒ˜áƒ’áƒ áƒ«áƒ”áƒœáƒ˜ áƒ›áƒ˜áƒ¡áƒ˜ áƒ’áƒ”áƒ›áƒ áƒáƒ˜áƒ áƒ¨áƒ˜</p>
                    </div>
                    
                    <button class="btn btn-primary" onclick="closeTechniqueModal('technique2Modal')" style="width: 100%; padding: 15px; margin-top: 40px;">áƒ“áƒáƒ®áƒ£áƒ áƒ•áƒ</button>
                </div>
            </div>
            
            <!-- Technique 3 Modal - Fixed Button Inside -->
            <div id="technique3Modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; padding: 20px;">
                <div style="position: relative; background: white; max-width: 800px; margin: 0 auto; height: 100%; border-radius: 12px; display: flex; flex-direction: column; overflow: hidden;">
                    
                    <!-- Scrollable Content -->
                    <div style="flex: 1; overflow-y: auto; padding: 40px 20px;">
                        <h1 style="color: #333; margin-bottom: 30px; text-align: center;">ğŸ áƒ’áƒáƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ­áƒáƒ›áƒ</h1>
                        
                        <div style="color: #333; line-height: 1.8; font-size: 16px;">
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">1. áƒ“áƒáƒáƒ™áƒ•áƒ˜áƒ áƒ“áƒ˜ áƒ®áƒ˜áƒšáƒ¡</h3>
                                <p>áƒáƒ˜áƒ¦áƒ” áƒ®áƒ˜áƒšáƒ˜. áƒ›áƒ˜áƒáƒ¥áƒªáƒ˜áƒ” áƒ§áƒ£áƒ áƒáƒ“áƒ¦áƒ”áƒ‘áƒ áƒ›áƒ˜áƒ¡ áƒ¤áƒáƒ áƒ›áƒáƒ¡, áƒ¤áƒ”áƒ áƒ¡ áƒ“áƒ áƒ§áƒ•áƒ”áƒšáƒ áƒ¡áƒ®áƒ•áƒ áƒ›áƒáƒ®áƒáƒ¡áƒ˜áƒáƒ—áƒ”áƒ‘áƒ”áƒšáƒ¡, áƒ áƒáƒ¡áƒáƒª áƒ™áƒ˜ áƒ¨áƒ”áƒáƒ›áƒ©áƒœáƒ”áƒ•. áƒ¬áƒáƒ áƒ›áƒáƒ˜áƒ“áƒ’áƒ˜áƒœáƒ”, áƒ—áƒ˜áƒ—áƒ¥áƒáƒ¡ áƒáƒ˜áƒ áƒ•áƒ”áƒšáƒáƒ“ áƒ®áƒ”áƒ“áƒáƒ•.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">2. áƒ›áƒ˜áƒ˜áƒ¢áƒáƒœáƒ” áƒªáƒ®áƒ•áƒ˜áƒ áƒ—áƒáƒœ</h3>
                                <p>áƒ áƒ áƒ¡áƒ£áƒœáƒ˜ áƒáƒ¥áƒ•áƒ¡? áƒœáƒáƒªáƒœáƒáƒ‘áƒ˜áƒ? áƒ¢áƒ™áƒ‘áƒ˜áƒšáƒ˜áƒ, áƒ›áƒŸáƒáƒ•áƒ” áƒ—áƒ£ áƒœáƒ”áƒ˜áƒ¢áƒ áƒáƒšáƒ£áƒ áƒ˜?</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">3. áƒáƒ˜áƒ áƒ˜áƒ¡ áƒ›áƒáƒ›áƒ–áƒáƒ“áƒ”áƒ‘áƒ</h3>
                                <p>áƒ¡áƒáƒœáƒáƒ› áƒ›áƒáƒ™áƒ‘áƒ˜áƒ©áƒáƒ•, áƒ“áƒáƒáƒ™áƒ•áƒ˜áƒ áƒ“áƒ˜ áƒ áƒáƒ’áƒáƒ  áƒ”áƒ›áƒ–áƒáƒ“áƒ”áƒ‘áƒ áƒáƒ˜áƒ áƒ˜. áƒ’áƒáƒ©áƒœáƒ“áƒ áƒœáƒ”áƒ áƒ¬áƒ§áƒ•áƒ˜? áƒ¡áƒáƒ“ áƒ’áƒ áƒ«áƒœáƒáƒ‘?</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">4. áƒáƒ˜áƒ áƒ•áƒ”áƒšáƒ˜ áƒšáƒ£áƒ™áƒ›áƒ</h3>
                                <p>áƒ áƒáƒ’áƒáƒ áƒ˜áƒ áƒ’áƒ”áƒ›áƒ? áƒ’áƒáƒáƒ©áƒ”áƒ áƒ” áƒ”áƒœáƒáƒ–áƒ” áƒ¡áƒáƒœáƒáƒ› áƒ“áƒáƒ˜áƒ¬áƒ§áƒ”áƒ‘ áƒ¦áƒ”áƒ­áƒ•áƒáƒ¡.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">5. áƒ¦áƒ”áƒ­áƒ•áƒ</h3>
                                <p>áƒ áƒáƒ’áƒáƒ  áƒ˜áƒªáƒ•áƒšáƒ”áƒ‘áƒ áƒ¢áƒ”áƒ¥áƒ¡áƒ¢áƒ£áƒ áƒ? áƒ áƒáƒ“áƒ˜áƒ¡ áƒ©áƒœáƒ“áƒ”áƒ‘áƒ áƒ¡áƒ£áƒ áƒ•áƒ˜áƒšáƒ˜ áƒ’áƒáƒ“áƒáƒ§áƒšáƒáƒáƒ•áƒ˜áƒ¡?</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">6. áƒ’áƒáƒ“áƒáƒ§áƒšáƒáƒáƒ•áƒ</h3>
                                <p>áƒ“áƒáƒáƒ™áƒ•áƒ˜áƒ áƒ“áƒ˜ áƒ áƒáƒ’áƒáƒ  áƒ’áƒáƒ“áƒáƒ“áƒ˜áƒ¡ áƒáƒ˜áƒ áƒ˜áƒ“áƒáƒœ áƒ›áƒ£áƒªáƒ”áƒšáƒ¨áƒ˜.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">7. áƒ“áƒáƒ¤áƒ˜áƒ¥áƒ áƒ”áƒ‘áƒ</h3>
                                <p>áƒ›áƒáƒ™áƒ‘áƒ”áƒœáƒ”áƒ¡ áƒ¨áƒáƒ áƒ˜áƒ¡ áƒ¨áƒ”áƒ’áƒ˜áƒ«áƒšáƒ˜áƒ áƒ˜áƒ¤áƒ˜áƒ¥áƒ áƒ áƒ˜áƒ›áƒáƒ–áƒ”, áƒ¡áƒáƒœáƒáƒ› áƒ¨áƒ”áƒœáƒ¡ áƒ¡áƒáƒ®áƒšáƒ¨áƒ˜ áƒ›áƒáƒ®áƒ•áƒ“áƒ”áƒ‘áƒáƒ“áƒ, áƒ¡áƒáƒ“ áƒ˜áƒ–áƒ áƒ“áƒ”áƒ‘áƒáƒ“áƒ áƒ”áƒ¡ áƒ®áƒ˜áƒšáƒ˜ áƒ“áƒ áƒ áƒáƒ’áƒáƒ  áƒ’áƒáƒ•áƒšáƒ”áƒœáƒáƒ¡ áƒáƒ®áƒ“áƒ”áƒœáƒ“áƒ áƒ›áƒáƒ¡áƒ–áƒ” áƒ‘áƒ£áƒœáƒ”áƒ‘áƒ áƒ˜áƒ•áƒ˜ áƒáƒ˜áƒ áƒáƒ‘áƒ”áƒ‘áƒ˜ áƒ“áƒ áƒáƒ“áƒáƒ›áƒ˜áƒáƒœáƒ—áƒ áƒ’áƒáƒ•áƒšáƒ”áƒœáƒ”áƒ‘áƒ˜.</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Fixed Button -->
                    <div style="padding: 20px; border-top: 1px solid #e0e0e0; background: white;">
                        <button class="btn btn-primary" onclick="closeTechniqueModal('technique3Modal')" style="width: 100%; padding: 15px;">áƒ“áƒáƒ®áƒ£áƒ áƒ•áƒ</button>
                    </div>
                    
                </div>
            </div>
            
            <!-- Technique 4 Modal - áƒ’áƒáƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ¡áƒ˜áƒáƒ áƒ£áƒšáƒ˜ -->
            <div id="technique4Modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; padding: 20px;">
                <div style="position: relative; background: white; max-width: 800px; margin: 0 auto; height: 100%; border-radius: 12px; display: flex; flex-direction: column; overflow: hidden;">
                    
                    <!-- Scrollable Content -->
                    <div style="flex: 1; overflow-y: auto; padding: 40px 20px;">
                        <h1 style="color: #333; margin-bottom: 30px; text-align: center;">ğŸš¶â€â™‚ï¸ áƒ’áƒáƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ¡áƒ˜áƒáƒ áƒ£áƒšáƒ˜</h1>
                        
                        <div style="color: #333; line-height: 1.8; font-size: 16px;">
                            <p style="margin-bottom: 20px;">áƒáƒ› áƒ¡áƒáƒ•áƒáƒ áƒ¯áƒ˜áƒ¨áƒáƒ¡áƒ—áƒ•áƒ˜áƒ¡ áƒáƒ˜áƒ áƒ©áƒ˜áƒ” áƒáƒ“áƒ’áƒ˜áƒšáƒ˜, áƒ¡áƒáƒ“áƒáƒª áƒ¡áƒáƒ™áƒ›áƒáƒ áƒ˜áƒ¡áƒ˜ áƒ¡áƒ˜áƒ•áƒ áƒªáƒ”áƒ.</p>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">1. áƒ“áƒáƒ¡áƒáƒ¬áƒ§áƒ˜áƒ¡áƒ˜</h3>
                                <p>áƒ“áƒáƒ“áƒ”áƒ¥áƒ˜ áƒ—áƒáƒœáƒáƒ‘áƒ áƒáƒ“, áƒ“áƒ áƒ¤áƒáƒ™áƒ£áƒ¡áƒ˜áƒ áƒ“áƒ˜ áƒ¢áƒ”áƒ áƒ¤áƒ”áƒ‘áƒ˜áƒ¡ áƒ¥áƒ•áƒ”áƒ¨ áƒáƒ áƒ¡áƒ”áƒ‘áƒ£áƒš áƒ¤áƒ˜áƒ–áƒ˜áƒ™áƒ£áƒ  áƒ¨áƒ”áƒ’áƒ áƒ«áƒœáƒ”áƒ‘áƒáƒ–áƒ”, áƒ¡áƒáƒ“áƒáƒª áƒ˜áƒ¡áƒ˜áƒœáƒ˜ áƒ”áƒ®áƒ”áƒ‘áƒ˜áƒáƒœ áƒ˜áƒáƒ¢áƒáƒ™áƒ¡. áƒ¨áƒ”áƒáƒ›áƒ©áƒœáƒ˜áƒ” áƒ›áƒ—áƒ”áƒšáƒ˜ áƒ¨áƒ”áƒœáƒ˜ áƒ¡áƒ®áƒ”áƒ£áƒšáƒ˜, áƒ áƒáƒ›áƒ”áƒšáƒ¡áƒáƒª áƒ˜áƒ­áƒ”áƒ áƒ¡ áƒ¨áƒ”áƒœáƒ˜ áƒ¤áƒ”áƒ®áƒ”áƒ‘áƒ˜.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">2. áƒ›áƒáƒ áƒ¯áƒ•áƒ”áƒœáƒ áƒ¤áƒ”áƒ®áƒ˜</h3>
                                <p>áƒ áƒáƒ“áƒ”áƒ¡áƒáƒª áƒ›áƒ–áƒáƒ“ áƒ˜áƒ¥áƒœáƒ”áƒ‘áƒ˜, áƒœáƒ”áƒšáƒ áƒ’áƒáƒ“áƒáƒ˜áƒ¢áƒáƒœáƒ” áƒ¡áƒ®áƒ”áƒ£áƒšáƒ˜áƒ¡ áƒ¬áƒáƒœáƒ áƒ›áƒáƒ áƒ¯áƒ•áƒ”áƒœáƒ áƒ¤áƒ”áƒ®áƒ–áƒ”. áƒ¨áƒ”áƒáƒ›áƒ©áƒœáƒ˜áƒ” áƒ¨áƒ”áƒ’áƒ áƒ«áƒœáƒ”áƒ‘áƒ”áƒ‘áƒ˜, áƒ áƒáƒ›áƒ”áƒšáƒ¡áƒáƒª áƒ¨áƒ”áƒ˜áƒ’áƒ áƒ«áƒœáƒáƒ‘ áƒ›áƒáƒ áƒ¯áƒ•áƒ”áƒœáƒ áƒ¤áƒ”áƒ®áƒ¨áƒ˜ áƒ“áƒ áƒ¢áƒ”áƒ áƒ¤áƒ¨áƒ˜, áƒ›áƒáƒ áƒªáƒ®áƒ”áƒœáƒ áƒ¤áƒ”áƒ®áƒ˜áƒ“áƒáƒœ áƒ›áƒáƒ¡áƒ˜áƒ¡ áƒ’áƒáƒ“áƒ›áƒáƒ¢áƒáƒœáƒ˜áƒ¡ áƒ“áƒ áƒáƒ¡.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">3. áƒ›áƒáƒ áƒªáƒ®áƒ”áƒœáƒ áƒ¤áƒ”áƒ®áƒ˜áƒ¡ áƒ›áƒáƒ¬áƒ§áƒ•áƒ”áƒ¢áƒ</h3>
                                <p>áƒ áƒáƒ“áƒ”áƒ¡áƒáƒª áƒ›áƒáƒ¬áƒ§áƒ•áƒ˜áƒ¢áƒáƒ• áƒ›áƒáƒ áƒªáƒ®áƒ”áƒœáƒ áƒ¤áƒ”áƒ®áƒ¡ áƒ›áƒ˜áƒ¬áƒ˜áƒ“áƒáƒœ, áƒ›áƒ˜áƒ›áƒáƒ áƒ—áƒ” áƒ¨áƒ”áƒœáƒ˜ áƒ§áƒ£áƒ áƒáƒ“áƒ¦áƒ”áƒ‘áƒ áƒ¨áƒ”áƒ’áƒ áƒ«áƒœáƒ”áƒ‘áƒ”áƒ‘áƒ–áƒ” áƒ›áƒáƒ áƒªáƒ®áƒ”áƒœáƒ áƒ¤áƒ”áƒ®áƒ¨áƒ˜ áƒ“áƒ áƒ¢áƒ”áƒ áƒ¤áƒ¨áƒ˜, áƒ áƒáƒ“áƒ”áƒ¡áƒáƒª áƒ˜áƒ¡ áƒ˜áƒ¬áƒ”áƒ•áƒ, áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’ áƒ áƒáƒ“áƒ”áƒ¡áƒáƒª áƒ˜áƒ¡ áƒ”áƒ¨áƒ•áƒ”áƒ‘áƒ áƒ¥áƒ•áƒ”áƒ›áƒáƒ— áƒ“áƒ áƒ”áƒ®áƒ”áƒ‘áƒ áƒ˜áƒáƒ¢áƒáƒ™áƒ¡.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">4. áƒ›áƒáƒ áƒªáƒ®áƒ”áƒœáƒ áƒ¤áƒ”áƒ®áƒ–áƒ” áƒ¬áƒáƒœáƒ˜áƒ¡ áƒ’áƒáƒ“áƒáƒ¢áƒáƒœáƒ</h3>
                                <p>áƒ›áƒáƒ áƒªáƒ®áƒ”áƒœáƒ áƒ¤áƒ”áƒ®áƒ˜áƒ¡ áƒ˜áƒáƒ¢áƒáƒ™áƒ–áƒ” áƒ›áƒ§áƒáƒ áƒáƒ“ áƒ“áƒáƒ“áƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’, áƒ¤áƒ áƒ—áƒ®áƒ˜áƒšáƒáƒ“ áƒ›áƒ˜áƒ›áƒáƒ áƒ—áƒ” áƒ¨áƒ”áƒœáƒ˜ áƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ áƒ˜áƒ› áƒ¨áƒ”áƒ’áƒ áƒ«áƒœáƒ”áƒ‘áƒ”áƒ‘áƒ˜áƒ¡áƒ™áƒ”áƒœ, áƒ áƒáƒ›áƒšáƒ”áƒ‘áƒ¡áƒáƒª áƒ¨áƒ”áƒœ áƒ¨áƒ”áƒ˜áƒ’áƒ áƒ«áƒœáƒáƒ‘ áƒ¡áƒ®áƒ”áƒ£áƒšáƒ˜áƒ¡ áƒ¬áƒáƒœáƒ˜áƒ¡ áƒ›áƒáƒ áƒªáƒ®áƒœáƒ˜áƒ• áƒ’áƒáƒ“áƒáƒ¢áƒáƒœáƒ˜áƒ¡áƒáƒ¡. áƒ¨áƒ”áƒ˜áƒ’áƒ áƒ«áƒ”áƒœáƒ˜ áƒ›áƒáƒ áƒ¯áƒ•áƒ”áƒœáƒ áƒ¤áƒ”áƒ®áƒ¨áƒ˜ áƒ’áƒáƒ©áƒ”áƒœáƒ˜áƒšáƒ˜ áƒ¡áƒ˜áƒ›áƒ¡áƒ£áƒ‘áƒ£áƒ¥áƒ”, áƒ áƒáƒ“áƒ”áƒ¡áƒáƒª áƒ˜áƒ¡ áƒ—áƒáƒ•áƒ˜áƒ¡áƒ£áƒ¤áƒšáƒ“áƒ”áƒ‘áƒ áƒ¬áƒáƒœáƒ˜áƒ¡áƒ’áƒáƒœ.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">5. áƒ›áƒáƒ áƒ¯áƒ•áƒ”áƒœáƒ áƒ¤áƒ”áƒ®áƒ˜áƒ¡ áƒ¬áƒ˜áƒœ áƒ’áƒáƒ“áƒáƒ®áƒ áƒ</h3>
                                <p>áƒáƒ®áƒšáƒ áƒ¤áƒ áƒ—áƒ®áƒ˜áƒšáƒáƒ“ áƒáƒ¡áƒ¬áƒ˜áƒ” áƒ›áƒáƒ áƒ¯áƒ•áƒ”áƒœáƒ áƒ¤áƒ”áƒ®áƒ˜ áƒ“áƒ áƒ¬áƒ˜áƒœ áƒ’áƒáƒ“áƒáƒ®áƒ áƒ˜áƒ¡áƒáƒ¡, áƒ›áƒ˜áƒáƒ¥áƒªáƒ˜áƒ” áƒ§áƒ£áƒ áƒáƒ“áƒ¦áƒ”áƒ‘áƒ áƒ›áƒáƒ áƒ¯áƒ•áƒ”áƒœáƒ áƒ¤áƒ”áƒ®áƒ¨áƒ˜ áƒáƒ áƒ¡áƒ”áƒ‘áƒ£áƒš áƒ¨áƒ”áƒ’áƒ áƒ«áƒœáƒ”áƒ‘áƒ”áƒ‘áƒ¡. áƒ áƒáƒ’áƒáƒ  áƒ“áƒ”áƒ‘ áƒ›áƒáƒ áƒ¯áƒ•áƒ”áƒœáƒ áƒ¤áƒ”áƒ®áƒ¡ áƒ˜áƒáƒ¢áƒáƒ™áƒ–áƒ”, áƒ áƒáƒ’áƒáƒ  áƒ’áƒáƒ“áƒáƒ“áƒ˜áƒ¡ áƒ¡áƒ®áƒ”áƒ£áƒšáƒ˜áƒ¡ áƒ¬áƒáƒœáƒ áƒ›áƒáƒ áƒªáƒ®áƒ”áƒœáƒ áƒ¤áƒ”áƒ®áƒ˜áƒ“áƒáƒœ áƒ›áƒáƒ áƒ¯áƒ•áƒ”áƒœáƒáƒ–áƒ”.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">6. áƒ’áƒáƒ’áƒ áƒ«áƒ”áƒšáƒ”áƒ‘áƒ</h3>
                                <p>áƒ›áƒ˜áƒáƒ¥áƒªáƒ˜áƒ” áƒ§áƒ£áƒ áƒáƒ“áƒ¦áƒ”áƒ‘áƒ, áƒ áƒáƒ“áƒ”áƒ¡áƒáƒª áƒ¨áƒ”áƒœ áƒ“áƒ’áƒáƒ• áƒœáƒáƒ‘áƒ˜áƒ¯áƒ”áƒ‘áƒ¡, áƒ áƒáƒ’áƒáƒ  áƒ˜áƒªáƒ•áƒšáƒ”áƒ‘áƒ˜áƒáƒœ áƒ¨áƒ”áƒ’áƒ áƒ«áƒœáƒ”áƒ‘áƒ”áƒ‘áƒ˜ áƒáƒ áƒ˜áƒ•áƒ” áƒ¤áƒ”áƒ®áƒ¨áƒ˜ áƒ“áƒ áƒ¢áƒ”áƒ áƒ¤áƒ¨áƒ˜. áƒ—áƒ£ áƒ¨áƒ”áƒœáƒ˜ áƒ§áƒ£áƒ áƒáƒ“áƒ¦áƒ”áƒ‘áƒ áƒ˜áƒ¤áƒáƒœáƒ¢áƒ”áƒ‘áƒ áƒ¡áƒ˜áƒáƒ áƒ£áƒšáƒ˜áƒ¡ áƒáƒ áƒáƒªáƒ”áƒ¡áƒ˜áƒ¡áƒ’áƒáƒœ, áƒ£áƒ‘áƒ áƒáƒšáƒáƒ“ áƒáƒ¦áƒœáƒ˜áƒ¨áƒœáƒ” áƒ”áƒ¡ áƒ“áƒ áƒ¤áƒ áƒ—áƒ®áƒ˜áƒšáƒáƒ“ áƒ“áƒáƒáƒ‘áƒ áƒ£áƒœáƒ” áƒ˜áƒ¡, áƒ˜áƒ¡áƒ”áƒ• áƒ¨áƒ”áƒ’áƒ áƒ«áƒœáƒ”áƒ‘áƒ”áƒ‘áƒ—áƒáƒœ áƒ¤áƒ”áƒ®áƒ”áƒ‘áƒ¨áƒ˜.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <p style="color: #666; font-style: italic;">áƒ˜áƒ•áƒáƒ áƒ¯áƒ˜áƒ¨áƒ” áƒ’áƒáƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ£áƒš áƒ¡áƒ˜áƒáƒ áƒ£áƒšáƒ¨áƒ˜ áƒ áƒáƒ›áƒ“áƒ”áƒœáƒ˜áƒ›áƒ” áƒ¬áƒ£áƒ—áƒ˜áƒ¡ áƒ’áƒáƒœáƒ›áƒáƒ•áƒšáƒáƒ‘áƒáƒ¨áƒ˜.</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Fixed Button -->
                    <div style="padding: 20px; border-top: 1px solid #e0e0e0; background: white;">
                        <button class="btn btn-primary" onclick="closeTechniqueModal('technique4Modal')" style="width: 100%; padding: 15px;">áƒ“áƒáƒ®áƒ£áƒ áƒ•áƒ</button>
                    </div>
                    
                </div>
            </div>
            
            <!-- Technique 5 Modal - áƒ’áƒáƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ¡áƒ£áƒœáƒ—áƒ¥áƒ•áƒ -->
            <div id="technique5Modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; padding: 20px;">
                <div style="position: relative; background: white; max-width: 800px; margin: 0 auto; height: 100%; border-radius: 12px; display: flex; flex-direction: column; overflow: hidden;">
                    
                    <!-- Scrollable Content -->
                    <div style="flex: 1; overflow-y: auto; padding: 40px 20px;">
                        <h1 style="color: #333; margin-bottom: 30px; text-align: center;">ğŸŒ¬ï¸ áƒ’áƒáƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ¡áƒ£áƒœáƒ—áƒ¥áƒ•áƒ</h1>
                        
                        <div style="color: #333; line-height: 1.8; font-size: 16px;">
                            <p style="margin-bottom: 20px; color: #666; font-style: italic;">áƒ¡áƒáƒ•áƒáƒ áƒ¯áƒ˜áƒ¨áƒáƒ¡ áƒ›áƒ˜áƒ–áƒáƒœáƒ˜ áƒáƒ  áƒáƒ áƒ˜áƒ¡ áƒ›áƒáƒ“áƒ£áƒœáƒ”áƒ‘áƒ, áƒ›áƒ˜áƒ¡áƒ˜ áƒ›áƒ˜áƒ–áƒáƒœáƒ˜áƒ áƒ£áƒ‘áƒ áƒáƒšáƒáƒ“ áƒ¡áƒ£áƒœáƒ—áƒ¥áƒ•áƒ˜áƒ¡ áƒ’áƒáƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ áƒ“áƒ áƒ›áƒáƒ¡áƒ–áƒ” áƒ›áƒ¨áƒ•áƒ˜áƒ“áƒáƒ“ áƒ“áƒ áƒ“áƒáƒªáƒ˜áƒšáƒ”áƒ‘áƒ£áƒšáƒáƒ“ áƒ“áƒáƒ™áƒ•áƒ˜áƒ áƒ•áƒ”áƒ‘áƒ. áƒ—áƒáƒ•áƒ˜áƒ“áƒáƒœ áƒ“áƒáƒ˜áƒ¬áƒ§áƒ” 5 áƒ¬áƒ£áƒ—áƒ˜áƒ— áƒ“áƒ áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’ áƒ¨áƒ”áƒ’áƒ˜áƒ«áƒšáƒ˜áƒ áƒáƒ®áƒ•áƒ˜áƒ“áƒ” áƒœáƒáƒ®áƒ”áƒ•áƒáƒ  áƒ¡áƒáƒáƒ—áƒ–áƒ”, áƒ—áƒ£ áƒ”áƒ¡ áƒ¨áƒ”áƒœáƒ—áƒ•áƒ˜áƒ¡ áƒ™áƒáƒ›áƒ¤áƒáƒ áƒ¢áƒ£áƒšáƒ˜ áƒ˜áƒ¥áƒœáƒ”áƒ‘áƒ.</p>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">1. áƒáƒ“áƒ’áƒ˜áƒšáƒ˜áƒ¡ áƒáƒ áƒ©áƒ”áƒ•áƒ</h3>
                                <p>áƒ“áƒáƒ˜áƒ¬áƒ§áƒ” áƒáƒ“áƒ’áƒ˜áƒšáƒ˜áƒ¡ áƒáƒ áƒ©áƒ”áƒ•áƒ˜áƒ—. áƒáƒ˜áƒ áƒ©áƒ˜áƒ” áƒáƒ“áƒ’áƒ˜áƒšáƒ˜, áƒ¡áƒáƒ“áƒáƒª áƒ¯áƒ“áƒáƒ›áƒ áƒ¨áƒ”áƒœáƒ—áƒ•áƒ˜áƒ¡ áƒ™áƒáƒ›áƒ¤áƒáƒ áƒ¢áƒ£áƒšáƒ˜áƒ.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">2. áƒ¡áƒ®áƒ”áƒ£áƒšáƒ˜áƒ¡ áƒ’áƒáƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ</h3>
                                <p>áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’ áƒ’áƒáƒáƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”, áƒ áƒáƒ’áƒáƒ  áƒ’áƒ áƒ«áƒœáƒáƒ‘áƒ¡ áƒ—áƒáƒ•áƒ¡ áƒ¨áƒ”áƒœáƒ˜ áƒ¡áƒ®áƒ”áƒ£áƒšáƒ˜ áƒ¡áƒáƒ•áƒáƒ áƒ«áƒ”áƒšáƒ¨áƒ˜, áƒ áƒ áƒ¨áƒ”áƒ’áƒ áƒ«áƒœáƒ”áƒ‘áƒ”áƒ‘áƒ˜áƒ áƒ›áƒáƒ¡áƒ¨áƒ˜, áƒ áƒ áƒ¨áƒ”áƒ’áƒ áƒ«áƒœáƒ”áƒ‘áƒ”áƒ‘áƒ˜áƒ áƒ˜áƒ¥, áƒ¡áƒáƒ“áƒáƒª áƒ˜áƒ¡ áƒ”áƒ®áƒ”áƒ‘áƒ áƒ¡áƒ™áƒáƒ›áƒ¡ áƒ“áƒ áƒ˜áƒáƒ¢áƒáƒ™áƒ¡. áƒ›áƒ˜áƒ£áƒ«áƒ¦áƒ•áƒ”áƒœáƒ˜ áƒ áƒáƒ›áƒ“áƒ”áƒœáƒ˜áƒ›áƒ” áƒ¬áƒáƒ›áƒ˜ áƒáƒ› áƒ¨áƒ”áƒ’áƒ áƒ«áƒœáƒ”áƒ‘áƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒ›áƒáƒ™áƒ•áƒšáƒ”áƒ•áƒáƒ¡.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">3. áƒ¡áƒ£áƒœáƒ—áƒ¥áƒ•áƒáƒ–áƒ” áƒ§áƒ£áƒ áƒáƒ“áƒ¦áƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒ˜áƒ¥áƒªáƒ”áƒ•áƒ</h3>
                                <p>áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’ áƒ›áƒ˜áƒáƒ¥áƒªáƒ˜áƒ” áƒ§áƒ£áƒ áƒáƒ“áƒ¦áƒ”áƒ‘áƒ áƒ¨áƒ”áƒœáƒ¡ áƒ¡áƒ£áƒœáƒ—áƒ¥áƒ•áƒáƒ¡. áƒ¨áƒ”áƒáƒ›áƒ©áƒœáƒ˜áƒ”, áƒ áƒáƒ’áƒáƒ  áƒ¨áƒ”áƒ›áƒáƒ“áƒ˜áƒ¡ áƒ°áƒáƒ”áƒ áƒ˜ áƒ¨áƒ”áƒœáƒ¡ áƒ¡áƒ®áƒ”áƒ£áƒšáƒ¨áƒ˜ áƒªáƒ®áƒ•áƒ˜áƒ áƒ˜áƒ“áƒáƒœ áƒ“áƒ áƒ’áƒáƒ“áƒáƒáƒ“áƒ’áƒ˜áƒšáƒ“áƒ”áƒ‘áƒ áƒ¨áƒ”áƒœáƒ¡ áƒ¡áƒ®áƒ”áƒ£áƒšáƒ¨áƒ˜ áƒ¤áƒ˜áƒšáƒ¢áƒ•áƒ”áƒ‘áƒ˜áƒ¡áƒ™áƒ”áƒœ. áƒ¨áƒ”áƒœ áƒ¨áƒ”áƒ’áƒ˜áƒ«áƒšáƒ˜áƒ áƒ¨áƒ”áƒáƒ›áƒ©áƒœáƒ˜áƒ, áƒ áƒáƒ’áƒáƒ  áƒ›áƒáƒ«áƒ áƒáƒáƒ‘áƒ¡ áƒ¨áƒ”áƒœáƒ˜ áƒ›áƒ£áƒªáƒ”áƒšáƒ˜ áƒ–áƒ”áƒ›áƒáƒ— áƒ“áƒ áƒ¥áƒ•áƒ”áƒ›áƒáƒ— áƒ—áƒ˜áƒ—áƒáƒ”áƒ£áƒš áƒ©áƒáƒ¡áƒ£áƒœáƒ—áƒ¥áƒ•áƒ-áƒáƒ›áƒáƒ¡áƒ£áƒœáƒ—áƒ¥áƒ•áƒáƒ¡áƒ—áƒáƒœ áƒ”áƒ áƒ—áƒáƒ“. áƒ¨áƒ”áƒ’áƒ˜áƒ«áƒšáƒ˜áƒ áƒ“áƒáƒ˜áƒ“áƒ áƒ®áƒ”áƒšáƒ˜ áƒ›áƒ£áƒªáƒ”áƒšáƒ–áƒ”, áƒ—áƒ£ áƒ”áƒ¡ áƒ“áƒáƒ’áƒ”áƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ áƒ¨áƒ”áƒœáƒ˜ áƒ§áƒ£áƒ áƒáƒ“áƒ¦áƒ”áƒ‘áƒ˜áƒ¡ áƒ¡áƒ£áƒœáƒ—áƒ¥áƒ•áƒáƒ–áƒ” áƒ™áƒáƒœáƒªáƒ”áƒœáƒ¢áƒ áƒ˜áƒ áƒ”áƒ‘áƒáƒ¨áƒ˜.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">4. áƒ“áƒáƒ˜áƒœáƒ¢áƒ”áƒ áƒ”áƒ¡áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ“áƒáƒ™áƒ•áƒ˜áƒ áƒ•áƒ”áƒ‘áƒ</h3>
                                <p>áƒ“áƒáƒáƒ™áƒ•áƒ˜áƒ áƒ“áƒ˜ áƒ¨áƒ”áƒœáƒ¡ áƒ¡áƒ£áƒœáƒ—áƒ¥áƒ•áƒáƒ¡ áƒ“áƒáƒ˜áƒœáƒ¢áƒ”áƒ áƒ”áƒ¡áƒ”áƒ‘áƒ£áƒšáƒáƒ“. áƒ¤áƒ áƒ—áƒ®áƒ˜áƒšáƒáƒ“ áƒ›áƒ˜áƒ›áƒáƒ áƒ—áƒ” áƒ¨áƒ”áƒœáƒ˜ áƒ§áƒ£áƒ áƒáƒ“áƒ¦áƒ”áƒ‘áƒ áƒ°áƒáƒ”áƒ áƒ˜áƒ¡ áƒ¢áƒ”áƒ›áƒáƒ”áƒ áƒáƒ¢áƒ£áƒ áƒáƒ–áƒ”, áƒ áƒáƒ›áƒ”áƒšáƒ¡áƒáƒª áƒ˜áƒ¡áƒ£áƒœáƒ—áƒ¥áƒáƒ• áƒ“áƒ áƒ¨áƒ”áƒáƒ›áƒ©áƒœáƒ˜áƒ” áƒ®áƒ“áƒ”áƒ‘áƒ áƒ—áƒ£ áƒáƒ áƒ áƒ˜áƒ¡ áƒ£áƒ¤áƒ áƒ áƒªáƒ˜áƒ•áƒ˜, áƒáƒœ áƒ—áƒ‘áƒ˜áƒšáƒ˜, áƒ©áƒáƒ¡áƒ£áƒœáƒ—áƒ¥áƒ•áƒ˜áƒ¡áƒ áƒ“áƒ áƒáƒ›áƒáƒ¡áƒ£áƒœáƒ—áƒ¥áƒ•áƒ˜áƒ¡áƒáƒ¡. áƒ’áƒáƒáƒ›áƒáƒ®áƒ•áƒ˜áƒšáƒ” áƒ§áƒ£áƒ áƒáƒ“áƒ¦áƒ”áƒ‘áƒ áƒ°áƒáƒ”áƒ áƒ–áƒ”, áƒ áƒáƒ›áƒ”áƒšáƒ˜áƒª áƒ¨áƒ”áƒ“áƒ˜áƒ¡ áƒ¨áƒ”áƒœáƒ¡ áƒ¡áƒ®áƒ”áƒ£áƒšáƒ¨áƒ˜ áƒ—áƒ˜áƒ—áƒáƒ”áƒ£áƒš áƒ©áƒáƒ¡áƒ£áƒœáƒ—áƒ¥áƒ•áƒáƒ¡áƒ—áƒáƒœ áƒ”áƒ áƒ—áƒáƒ“ áƒ“áƒ áƒ’áƒáƒ›áƒáƒ“áƒ˜áƒ¡ áƒ¡áƒ®áƒ”áƒ£áƒšáƒ˜áƒ“áƒáƒœ áƒ—áƒ˜áƒ—áƒáƒ”áƒ£áƒš áƒáƒ›áƒáƒ¡áƒ£áƒœáƒ—áƒ¥áƒ•áƒáƒ¡áƒ—áƒáƒœ áƒ”áƒ áƒ—áƒáƒ“.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">5. áƒ‘áƒ£áƒœáƒ”áƒ‘áƒ áƒ˜áƒ•áƒ˜ áƒ¡áƒ£áƒœáƒ—áƒ¥áƒ•áƒ</h3>
                                <p>áƒ˜áƒ›áƒ˜áƒ¡ áƒ›áƒ˜áƒ£áƒ®áƒ”áƒ“áƒáƒ•áƒáƒ“, áƒáƒ áƒ˜áƒ¡ áƒ—áƒ£ áƒáƒ áƒ áƒ¨áƒ”áƒœáƒ˜ áƒ¡áƒ£áƒœáƒ—áƒ¥áƒ•áƒ áƒ©áƒ¥áƒáƒ áƒ˜ áƒáƒœ áƒœáƒ”áƒšáƒ˜, áƒ¦áƒ áƒ›áƒ áƒáƒœ áƒ–áƒ”áƒ“áƒáƒáƒ˜áƒ áƒ£áƒšáƒ˜, áƒ£áƒ‘áƒ áƒáƒšáƒáƒ“ áƒ›áƒ˜áƒ”áƒªáƒ˜ áƒ¨áƒ”áƒœáƒ¡ áƒ¡áƒ®áƒ”áƒ£áƒšáƒ¡ áƒ£áƒ¤áƒšáƒ”áƒ‘áƒ áƒ˜áƒ¡áƒ£áƒœáƒ—áƒ¥áƒáƒ¡ áƒ˜áƒ¡áƒ”, áƒ áƒáƒ’áƒáƒ áƒª áƒ˜áƒ¡ áƒ¡áƒ£áƒœáƒ—áƒ¥áƒ•áƒáƒ•áƒ¡ - áƒ‘áƒ£áƒœáƒ”áƒ‘áƒ áƒ˜áƒ•áƒáƒ“, áƒ¨áƒ”áƒ¤áƒáƒ¡áƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒ áƒ”áƒ¨áƒ”. áƒáƒ  áƒ”áƒªáƒáƒ“áƒ áƒ˜áƒ¡ áƒ áƒáƒ˜áƒ›áƒ” áƒ’áƒ–áƒ˜áƒ— áƒ¨áƒ”áƒªáƒ•áƒáƒšáƒ.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">6. áƒ¤áƒ˜áƒ¥áƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒáƒ áƒ—áƒ•áƒ</h3>
                                <p>áƒ—áƒ£ áƒ’áƒáƒœáƒ”áƒ‘áƒáƒ¨áƒ˜ áƒ›áƒáƒ’áƒ“áƒ˜áƒ¡ áƒ¤áƒ˜áƒ¥áƒ áƒ”áƒ‘áƒ˜, áƒ£áƒ‘áƒ áƒáƒšáƒáƒ“ áƒáƒ¦áƒœáƒ˜áƒ¨áƒœáƒ” áƒ”áƒ¡ áƒ“áƒ áƒ¤áƒ áƒ—áƒ®áƒ˜áƒšáƒáƒ“ áƒ›áƒ˜áƒ›áƒáƒ áƒ—áƒ” áƒ¨áƒ”áƒœáƒ˜ áƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ áƒ˜áƒ¡áƒ”áƒ• áƒ¡áƒ£áƒœáƒ—áƒ¥áƒ•áƒ˜áƒ¡áƒ™áƒ”áƒœ.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <p style="color: #666; font-style: italic;">áƒ˜áƒ•áƒáƒ áƒ¯áƒ˜áƒ¨áƒ” áƒáƒ›áƒáƒ¨áƒ˜ áƒ áƒáƒ›áƒ“áƒ”áƒœáƒ˜áƒ›áƒ” áƒ¬áƒ£áƒ—áƒ˜áƒ¡ áƒ’áƒáƒœáƒ›áƒáƒ•áƒšáƒáƒ‘áƒáƒ¨áƒ˜.</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Fixed Button -->
                    <div style="padding: 20px; border-top: 1px solid #e0e0e0; background: white;">
                        <button class="btn btn-primary" onclick="closeTechniqueModal('technique5Modal')" style="width: 100%; padding: 15px;">áƒ“áƒáƒ®áƒ£áƒ áƒ•áƒ</button>
                    </div>
                    
                </div>
            </div>
            
            <!-- Technique 6 Modal - áƒ¡áƒ®áƒ”áƒ£áƒšáƒ–áƒ” áƒ“áƒáƒ™áƒ•áƒ˜áƒ áƒ•áƒ”áƒ‘áƒ -->
            <div id="technique6Modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; padding: 20px;">
                <div style="position: relative; background: white; max-width: 800px; margin: 0 auto; height: 100%; border-radius: 12px; display: flex; flex-direction: column; overflow: hidden;">
                    
                    <!-- Scrollable Content -->
                    <div style="flex: 1; overflow-y: auto; padding: 40px 20px;">
                        <h1 style="color: #333; margin-bottom: 30px; text-align: center;">ğŸ§˜â€â™€ï¸ áƒ¡áƒ®áƒ”áƒ£áƒšáƒ–áƒ” áƒ“áƒáƒ™áƒ•áƒ˜áƒ áƒ•áƒ”áƒ‘áƒ</h1>
                        
                        <div style="color: #333; line-height: 1.8; font-size: 16px;">
                            <p style="margin-bottom: 20px; color: #666; font-style: italic;">áƒ”áƒ¡ áƒ¡áƒáƒ•áƒáƒ áƒ¯áƒ˜áƒ¨áƒ áƒáƒ áƒáƒ áƒ˜áƒ›áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡, áƒ áƒáƒ› áƒ—áƒáƒ•áƒ˜ áƒ áƒáƒ›áƒ”áƒœáƒáƒ˜áƒ áƒáƒ“ áƒ’áƒáƒ’áƒ áƒ«áƒœáƒáƒ‘áƒ˜áƒœáƒáƒ¡ áƒáƒœ áƒ›áƒáƒ’áƒáƒ“áƒ£áƒœáƒáƒ¡. áƒ¨áƒ”áƒœ áƒ£áƒœáƒ“áƒ áƒ’áƒáƒ•áƒáƒ áƒ¯áƒ˜áƒ¨áƒ“áƒ” áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜ áƒ¤áƒ˜áƒ–áƒ˜áƒ™áƒ£áƒ áƒ˜ áƒ›áƒ”áƒ¡ áƒ’áƒáƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”áƒ‘áƒáƒ¨áƒ˜ áƒ“áƒ áƒáƒ¥ áƒ“áƒ áƒáƒ®áƒšáƒ áƒ›áƒáƒ›áƒ”áƒœáƒ¢áƒ¨áƒ˜ áƒ›áƒáƒœáƒáƒ¬áƒ˜áƒšáƒ”áƒáƒ‘áƒáƒ¨áƒ˜, áƒ˜áƒ›áƒ˜áƒ¡ áƒ›áƒ˜áƒ£áƒ®áƒ”áƒ“áƒáƒ•áƒáƒ“, áƒáƒ áƒ˜áƒ¡ áƒ”áƒ¡ áƒ›áƒáƒ“áƒ£áƒœáƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒ’áƒ áƒ«áƒœáƒ”áƒ‘áƒ, áƒœáƒ”áƒ˜áƒ¢áƒ áƒáƒšáƒ£áƒ áƒ˜ áƒ›áƒ“áƒ’áƒáƒ›áƒáƒ áƒ”áƒáƒ‘áƒ áƒ—áƒ£ áƒ“áƒ˜áƒ¡áƒ™áƒáƒ›áƒ¤áƒáƒ áƒ¢áƒ˜. áƒ£áƒ‘áƒ áƒáƒšáƒáƒ“ áƒ“áƒáƒáƒ™áƒ•áƒ˜áƒ áƒ“áƒ˜ áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ  áƒ¨áƒ”áƒ’áƒ áƒ«áƒœáƒ”áƒ‘áƒ”áƒ‘áƒ¡, áƒ áƒáƒ’áƒáƒ áƒ”áƒ‘áƒ˜áƒª áƒáƒ  áƒ£áƒœáƒ“áƒ áƒ˜áƒ§áƒ•áƒœáƒ”áƒœ áƒ˜áƒ¡áƒ˜áƒœáƒ˜.</p>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">1. áƒ“áƒáƒ¡áƒáƒ¬áƒ§áƒ˜áƒ¡áƒ˜ - áƒ¡áƒ£áƒœáƒ—áƒ¥áƒ•áƒ</h3>
                                <p>áƒ“áƒáƒ¡áƒáƒ¬áƒ§áƒ˜áƒ¡áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡ áƒ“áƒáƒ¯áƒ”áƒ¥áƒ˜ áƒ›áƒáƒ®áƒ”áƒ áƒ®áƒ”áƒ‘áƒ£áƒš áƒáƒáƒ–áƒáƒ¨áƒ˜ áƒ“áƒ áƒ“áƒáƒáƒ™áƒ•áƒ˜áƒ áƒ“áƒ˜ áƒ¨áƒ”áƒœáƒ˜ áƒ’áƒ£áƒšáƒ›áƒ™áƒ”áƒ áƒ“áƒ˜áƒ¡ áƒ›áƒáƒ«áƒ áƒáƒáƒ‘áƒáƒ¡ áƒ¡áƒ£áƒœáƒ—áƒ¥áƒ•áƒ˜áƒ¡ áƒ“áƒ áƒáƒ¡, áƒ¨áƒ”áƒœáƒ˜ áƒ’áƒ£áƒšáƒ›áƒ™áƒ”áƒ áƒ“áƒ˜áƒ¡ áƒáƒ›áƒáƒ¦áƒšáƒ”áƒ‘áƒáƒ¡áƒ áƒ“áƒ áƒ©áƒáƒ¬áƒ”áƒ•áƒáƒ¡ áƒ—áƒ˜áƒ—áƒáƒ”áƒ£áƒšáƒ˜ áƒ©áƒáƒ¡áƒ£áƒœáƒ—áƒ¥áƒ•áƒ˜áƒ¡áƒ áƒ“áƒ áƒáƒ›áƒáƒ¡áƒ£áƒœáƒ—áƒ¥áƒ•áƒ˜áƒ¡áƒáƒ¡. áƒ™áƒáƒœáƒªáƒ”áƒœáƒ¢áƒ áƒ˜áƒ áƒ“áƒ˜ áƒ¨áƒ”áƒœáƒ¡ áƒ¡áƒ£áƒœáƒ—áƒ¥áƒ•áƒáƒ–áƒ” 1 áƒ¬áƒ£áƒ—áƒ˜áƒ¡ áƒ’áƒáƒœáƒ›áƒáƒ•áƒšáƒáƒ‘áƒáƒ¨áƒ˜.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">2. áƒ¡áƒ™áƒáƒ›áƒ˜ áƒ“áƒ áƒ˜áƒáƒ¢áƒáƒ™áƒ˜</h3>
                                <p>áƒáƒ›áƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’, áƒ’áƒáƒáƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ” áƒ¤áƒ˜áƒ–áƒ˜áƒ™áƒ£áƒ áƒ˜ áƒ¨áƒ”áƒ’áƒ áƒ«áƒœáƒ”áƒ‘áƒ”áƒ‘áƒ˜ áƒ›áƒ—áƒ”áƒšáƒ¡ áƒ¡áƒ®áƒ”áƒ£áƒšáƒ¨áƒ˜. áƒ“áƒáƒ˜áƒ¬áƒ§áƒ” áƒ˜áƒ›áƒ˜áƒ¡ áƒ¨áƒ”áƒ’áƒ áƒ«áƒœáƒ”áƒ‘áƒ˜áƒ“áƒáƒœ, áƒ áƒáƒ› áƒ¨áƒ”áƒœáƒ˜ áƒ¡áƒ®áƒ”áƒ£áƒšáƒ˜ áƒ¡áƒ™áƒáƒ›áƒ¡ áƒ”áƒ®áƒ”áƒ‘áƒ áƒ“áƒ áƒ¨áƒ”áƒœáƒ˜ áƒ¤áƒ”áƒ®áƒ”áƒ‘áƒ˜ áƒ˜áƒáƒ¢áƒáƒ™áƒ¡. áƒ£áƒ‘áƒ áƒáƒšáƒáƒ“ áƒ”áƒ áƒ—áƒ˜ áƒ¬áƒ£áƒ—áƒ˜áƒ— áƒ›áƒ˜áƒ›áƒáƒ áƒ—áƒ” áƒ¨áƒ”áƒœáƒ˜ áƒ§áƒ£áƒ áƒáƒ“áƒ¦áƒ”áƒ‘áƒ áƒ˜áƒ›áƒ˜áƒ¡áƒ™áƒ”áƒœ, áƒ—áƒ£ áƒ áƒáƒ¡ áƒ’áƒ áƒ«áƒœáƒáƒ‘. áƒ—áƒ£ áƒ¨áƒ”áƒœ áƒ’áƒ áƒ«áƒœáƒáƒ‘ áƒ¦áƒ”áƒšáƒ•áƒáƒ¡ áƒáƒœ áƒ’áƒáƒœáƒ”áƒ‘áƒ áƒ’áƒ”áƒ¤áƒáƒœáƒ¢áƒ”áƒ‘áƒ áƒ¤áƒ˜áƒ¥áƒ áƒ”áƒ‘áƒ–áƒ”, áƒ®áƒ›áƒ”áƒ‘áƒ–áƒ” áƒáƒœ áƒœáƒ˜áƒ•áƒ—áƒ”áƒ‘áƒ–áƒ”, áƒ áƒáƒ›áƒšáƒ”áƒ‘áƒ˜áƒª áƒáƒ áƒ˜áƒ¡ áƒ’áƒáƒ áƒ”áƒ›áƒáƒªáƒ•áƒáƒ¨áƒ˜, áƒ£áƒ‘áƒ áƒáƒšáƒáƒ“ áƒ›áƒ˜áƒ£áƒšáƒáƒªáƒ” áƒ¨áƒ”áƒœáƒ¡ áƒ—áƒáƒ•áƒ¡ áƒ˜áƒ¡, áƒ áƒáƒ› áƒ¨áƒ”áƒáƒ›áƒ©áƒœáƒ˜áƒ” áƒ áƒáƒ’áƒáƒ  áƒ“áƒáƒ«áƒ áƒ¬áƒ˜áƒ¡ áƒ¨áƒ”áƒœáƒ˜ áƒ’áƒáƒœáƒ”áƒ‘áƒ áƒ“áƒ áƒ¤áƒ áƒ—áƒ®áƒ˜áƒšáƒáƒ“ áƒ“áƒáƒáƒ‘áƒ áƒ£áƒœáƒ” áƒ§áƒ£áƒ áƒáƒ“áƒ¦áƒ”áƒ‘áƒ áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜ áƒ¡áƒ®áƒ”áƒ£áƒšáƒ˜áƒ¡ áƒ’áƒáƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”áƒ‘áƒáƒ–áƒ”.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">3. áƒ¢áƒ”áƒ áƒ¤áƒ”áƒ‘áƒ˜</h3>
                                <p>áƒáƒ®áƒšáƒ áƒ›áƒ˜áƒ›áƒáƒ áƒ—áƒ” áƒ¨áƒ”áƒœáƒ˜ áƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ áƒ¢áƒ”áƒ áƒ¤áƒ”áƒ‘áƒ˜áƒ¡áƒ™áƒ”áƒœ. áƒáƒ¦áƒœáƒ˜áƒ¨áƒœáƒ” áƒ§áƒ•áƒ”áƒšáƒ áƒ¨áƒ”áƒ’áƒ áƒ«áƒœáƒ”áƒ‘áƒ, áƒ áƒáƒ›áƒšáƒ”áƒ‘áƒ¡áƒáƒª áƒ¨áƒ”áƒœ áƒ¨áƒ”áƒ˜áƒ’áƒ áƒ«áƒœáƒáƒ‘ áƒ¢áƒ”áƒ áƒ¤áƒ”áƒ‘áƒ¨áƒ˜, áƒ›áƒ˜áƒáƒ¥áƒªáƒ˜áƒ” áƒ§áƒ£áƒ áƒáƒ“áƒ¦áƒ”áƒ‘áƒ áƒ›áƒáƒ— áƒ¢áƒ”áƒ›áƒáƒ”áƒ áƒáƒ¢áƒ£áƒ áƒáƒ¡, áƒ˜áƒ›áƒáƒ¡, áƒ—áƒ£ áƒ áƒáƒ’áƒáƒ  áƒ”áƒ®áƒ”áƒ‘áƒ˜áƒáƒœ áƒ˜áƒ¡áƒ˜áƒœáƒ˜ áƒ¨áƒ”áƒœáƒ¡ áƒ¤áƒ”áƒ®áƒ¡áƒáƒªáƒ›áƒ”áƒšáƒ¡, áƒ˜áƒ›áƒáƒ¡, áƒ—áƒ£ áƒ áƒáƒ’áƒáƒ  áƒ”áƒ®áƒ”áƒ‘áƒ˜áƒáƒœ áƒ¤áƒ”áƒ®áƒ˜áƒ¡ áƒ—áƒ˜áƒ—áƒ”áƒ‘áƒ˜ áƒ”áƒ áƒ—áƒ›áƒáƒœáƒ”áƒ—áƒ¡ áƒ“áƒ áƒœáƒ”áƒ‘áƒ˜áƒ¡áƒ›áƒ˜áƒ”áƒ  áƒ¨áƒ”áƒ’áƒ áƒ«áƒœáƒ”áƒ‘áƒáƒ¡ áƒ¢áƒ”áƒ áƒ¤áƒ˜áƒ¡ áƒ¡áƒ®áƒ•áƒáƒ“áƒáƒ¡áƒ®áƒ•áƒ áƒœáƒáƒ¬áƒ˜áƒšáƒ¨áƒ˜.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">4. áƒ¤áƒ”áƒ®áƒ”áƒ‘áƒ˜</h3>
                                <p>áƒáƒ®áƒšáƒ áƒ“áƒáƒ¢áƒáƒ•áƒ” áƒ¢áƒ”áƒ áƒ¤áƒ”áƒ‘áƒ˜ áƒ“áƒ áƒáƒáƒ›áƒáƒ¦áƒšáƒ” áƒ¨áƒ”áƒœáƒ˜ áƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ áƒ¤áƒ”áƒ®áƒ”áƒ‘áƒ˜áƒ¡ áƒ–áƒ”áƒ“áƒ áƒœáƒáƒ¬áƒ˜áƒšáƒ˜áƒ¡áƒ™áƒ”áƒœ. áƒ¨áƒ”áƒ’áƒœáƒ”áƒ‘áƒ£áƒšáƒáƒ“ áƒ’áƒáƒ›áƒáƒ˜áƒ™áƒ•áƒšáƒ˜áƒ” áƒ§áƒ•áƒ”áƒšáƒ áƒ¨áƒ”áƒ’áƒ áƒ«áƒœáƒ”áƒ‘áƒ áƒ¤áƒ”áƒ®áƒ”áƒ‘áƒ¨áƒ˜, áƒ“áƒáƒ¬áƒ§áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ˜áƒ¥áƒ˜áƒ“áƒáƒœ, áƒ—áƒ£ áƒ áƒáƒ¡ áƒ’áƒ áƒ«áƒœáƒáƒ‘ áƒ¬áƒ•áƒ˜áƒ•áƒ”áƒ‘áƒ¨áƒ˜, áƒ›áƒ£áƒ®áƒšáƒ”áƒ‘áƒ¨áƒ˜, áƒ‘áƒáƒ áƒ«áƒáƒ§áƒ”áƒ‘áƒ¨áƒ˜. áƒ›áƒ˜áƒáƒ¥áƒªáƒ˜áƒ” áƒ§áƒ£áƒ áƒáƒ“áƒ¦áƒ”áƒ‘áƒ áƒ¤áƒ”áƒ®áƒ˜áƒ¡ áƒ˜áƒ› áƒœáƒáƒ¬áƒ˜áƒšáƒ”áƒ‘áƒ¡, áƒ áƒáƒ›áƒšáƒ”áƒ‘áƒ˜áƒª áƒ™áƒáƒœáƒ¢áƒáƒ¥áƒ¢áƒáƒ‘áƒ”áƒœ áƒ¡áƒ™áƒáƒ›áƒ—áƒáƒœ, áƒ“áƒ áƒ¨áƒ”áƒáƒ›áƒ©áƒœáƒ˜áƒ” áƒ¨áƒ”áƒ’áƒ áƒ«áƒœáƒ”áƒ‘áƒ”áƒ‘áƒ˜ áƒáƒ› áƒáƒ“áƒ’áƒ˜áƒšáƒ”áƒ‘áƒ¨áƒ˜.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">5. áƒ’áƒ•áƒ”áƒ áƒ“áƒ”áƒ‘áƒ˜ áƒ“áƒ áƒ¬áƒ”áƒšáƒ˜</h3>
                                <p>áƒáƒ®áƒšáƒ áƒ›áƒ˜áƒ›áƒáƒ áƒ—áƒ” áƒ¨áƒ”áƒœáƒ˜ áƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ áƒ’áƒ•áƒ”áƒ áƒ“áƒ”áƒ‘áƒ˜áƒ¡áƒ áƒ“áƒ áƒ¬áƒ”áƒšáƒ˜áƒ¡áƒ™áƒ”áƒœ. áƒ—áƒ£ áƒ¨áƒ”áƒœ áƒáƒ›áƒ©áƒœáƒ”áƒ• áƒ“áƒ˜áƒ¡áƒ™áƒáƒ›áƒ¤áƒáƒ áƒ¢áƒ¡, áƒ’áƒáƒ˜áƒ•áƒáƒ áƒ¯áƒ˜áƒ¨áƒ” áƒáƒ›áƒ˜áƒ¡ áƒ’áƒáƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”áƒ‘áƒáƒ¨áƒ˜, áƒ˜áƒ›áƒ’áƒ•áƒáƒ áƒáƒ“, áƒ áƒáƒ› áƒ§áƒ•áƒ”áƒšáƒáƒ¤áƒ”áƒ áƒ¡ áƒáƒ«áƒšáƒ”áƒ• áƒ£áƒ¤áƒšáƒ”áƒ‘áƒáƒ¡ áƒ˜áƒ§áƒ•áƒœáƒ”áƒœ, áƒ˜áƒ¡áƒ”áƒ—áƒ”áƒ‘áƒ˜ áƒ áƒáƒ’áƒáƒ áƒ”áƒ‘áƒ˜áƒª áƒáƒ áƒ˜áƒáƒœ.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">6. áƒ–áƒ£áƒ áƒ’áƒ˜</h3>
                                <p>áƒ’áƒáƒ“áƒáƒ˜áƒ¢áƒáƒœáƒ” áƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ áƒ–áƒ£áƒ áƒ’áƒ˜áƒ¡ áƒáƒ áƒ”áƒáƒšáƒ¨áƒ˜, áƒ“áƒáƒ˜áƒ¬áƒ§áƒ” áƒ¥áƒ•áƒ”áƒ“áƒ áƒœáƒáƒ¬áƒ˜áƒšáƒ˜áƒ“áƒáƒœ áƒ“áƒ áƒ›áƒ˜áƒáƒ¥áƒªáƒ˜áƒ” áƒ§áƒ£áƒ áƒáƒ“áƒ¦áƒ”áƒ‘áƒ áƒœáƒ”áƒ‘áƒ˜áƒ¡áƒ›áƒ˜áƒ”áƒ  áƒ¨áƒ”áƒ’áƒ áƒ«áƒœáƒ”áƒ‘áƒáƒ¡ áƒáƒ› áƒ›áƒ˜áƒ“áƒáƒ›áƒáƒ¨áƒ˜. áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’ áƒ’áƒáƒ“áƒáƒ˜áƒœáƒáƒªáƒ•áƒšáƒ” áƒ–áƒ£áƒ áƒ’áƒ˜áƒ¡ áƒ–áƒ”áƒ“áƒ áƒœáƒáƒ¬áƒ˜áƒšáƒ¨áƒ˜ áƒ“áƒ áƒáƒ¦áƒœáƒ˜áƒ¨áƒœáƒ” áƒ˜áƒ¡ áƒáƒ“áƒ’áƒ˜áƒšáƒ”áƒ‘áƒ˜, áƒ áƒáƒ›áƒšáƒ”áƒ‘áƒ˜áƒ—áƒáƒª áƒ˜áƒ¡ áƒ¡áƒ™áƒáƒ›áƒ¡ áƒ”áƒ®áƒ”áƒ‘áƒ. áƒ›áƒ˜áƒáƒ¥áƒªáƒ˜áƒ” áƒ§áƒ£áƒ áƒáƒ“áƒ¦áƒ”áƒ‘áƒ áƒœáƒ”áƒ‘áƒ˜áƒ¡áƒ›áƒ˜áƒ”áƒ  áƒ“áƒáƒ­áƒ˜áƒ›áƒ£áƒšáƒáƒ‘áƒáƒ¡ áƒáƒœ áƒ“áƒ˜áƒ¡áƒ™áƒáƒ›áƒ¤áƒáƒ áƒ¢áƒ¡.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">7. áƒ®áƒ”áƒšáƒ”áƒ‘áƒ˜</h3>
                                <p>áƒáƒ›áƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’ áƒ›áƒ˜áƒ›áƒáƒ áƒ—áƒ” áƒ¨áƒ”áƒœáƒ˜ áƒ§áƒ£áƒ áƒáƒ“áƒ¦áƒ”áƒ‘áƒ áƒ®áƒ”áƒšáƒ”áƒ‘áƒ–áƒ”. áƒ“áƒáƒ¬áƒ§áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ—áƒ˜áƒ—áƒ”áƒ‘áƒ˜áƒ“áƒáƒœ áƒáƒ“áƒ˜ áƒ–áƒ”áƒ›áƒáƒ—áƒ™áƒ”áƒœ, áƒ›áƒ˜áƒáƒ¥áƒªáƒ˜áƒ” áƒ¨áƒ”áƒœáƒ˜ áƒ§áƒ£áƒ áƒáƒ“áƒ¦áƒ”áƒ‘áƒ áƒ§áƒ•áƒ”áƒšáƒ áƒ¨áƒ”áƒ’áƒ áƒ«áƒœáƒ”áƒ‘áƒáƒ¡ áƒ®áƒ”áƒšáƒ˜áƒ¡ áƒ§áƒ•áƒ”áƒšáƒ áƒœáƒáƒ¬áƒ˜áƒšáƒ¨áƒ˜ - áƒ›áƒ¢áƒ”áƒ•áƒáƒœáƒ˜, áƒ˜áƒ“áƒáƒ§áƒ•áƒ˜, áƒ›áƒ®áƒ áƒ”áƒ‘áƒ˜.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">8. áƒ™áƒ˜áƒ¡áƒ”áƒ áƒ˜</h3>
                                <p>áƒáƒ®áƒšáƒ áƒ™áƒáƒœáƒªáƒ”áƒœáƒ¢áƒ áƒ˜áƒ áƒ“áƒ˜ áƒ™áƒ˜áƒ¡áƒ”áƒ áƒ–áƒ”. áƒ›áƒ˜áƒáƒ¥áƒªáƒ˜áƒ” áƒ§áƒ£áƒ áƒáƒ“áƒ¦áƒ”áƒ‘áƒ áƒœáƒ”áƒ‘áƒ˜áƒ¡áƒ›áƒ˜áƒ”áƒ  áƒ“áƒáƒ­áƒ˜áƒ›áƒ£áƒšáƒáƒ‘áƒáƒ¡.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">9. áƒ¡áƒáƒ®áƒ” áƒ“áƒ áƒ—áƒáƒ•áƒ˜</h3>
                                <p>áƒáƒ“áƒ˜ áƒ™áƒ˜áƒ¡áƒ áƒ˜áƒ¡ áƒ’áƒáƒ•áƒšáƒ˜áƒ— áƒ–áƒ”áƒ›áƒáƒ— áƒ“áƒ áƒ“áƒáƒ˜áƒ¬áƒ§áƒ” áƒ¡áƒáƒ®áƒ”áƒ–áƒ” áƒ¨áƒ”áƒœáƒ˜ áƒ¨áƒ”áƒ’áƒ áƒ«áƒœáƒ”áƒ‘áƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒ›áƒáƒ™áƒ•áƒšáƒ”áƒ•áƒ. áƒ›áƒ˜áƒáƒ¥áƒªáƒ˜áƒ” áƒ§áƒ£áƒ áƒáƒ“áƒ¦áƒ”áƒ‘áƒ áƒ¨áƒ”áƒœáƒ¡ áƒ¨áƒ”áƒ’áƒ áƒ«áƒœáƒ”áƒ‘áƒ”áƒ‘áƒ¡ áƒ¨áƒ£áƒ‘áƒšáƒ˜áƒ¡, áƒ¬áƒáƒ áƒ‘áƒ”áƒ‘áƒ˜áƒ¡, áƒªáƒ®áƒ•áƒ˜áƒ áƒ˜áƒ¡, áƒšáƒáƒ§áƒ”áƒ‘áƒ˜áƒ¡ áƒáƒ áƒ”áƒáƒšáƒ”áƒ‘áƒ¨áƒ˜. áƒ’áƒáƒ“áƒáƒ“áƒ˜ áƒ¢áƒ£áƒ©áƒ”áƒ‘áƒ–áƒ”, áƒáƒ¡áƒ”áƒ•áƒ” áƒ›áƒ˜áƒáƒ¥áƒªáƒ˜áƒ” áƒ§áƒ£áƒ áƒáƒ“áƒ¦áƒ”áƒ‘áƒ áƒ™áƒ”áƒ¤áƒáƒ¡ áƒ“áƒ áƒœáƒ˜áƒ™áƒáƒáƒ¡. áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’ áƒáƒ˜áƒ¢áƒáƒœáƒ” áƒ¨áƒ”áƒœáƒ˜ áƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ áƒ—áƒáƒ•áƒ˜áƒ¡ áƒ§áƒ•áƒ”áƒšáƒáƒ–áƒ” áƒ›áƒáƒ¦áƒáƒš áƒ¬áƒ”áƒ áƒ¢áƒ˜áƒšáƒ—áƒáƒœ.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">10. áƒ›áƒ—áƒšáƒ˜áƒáƒœáƒáƒ‘áƒ</h3>
                                <p>áƒáƒ®áƒšáƒ, áƒ áƒáƒªáƒ áƒ¨áƒ”áƒœ áƒ’áƒáƒ›áƒáƒ˜áƒ™áƒ•áƒšáƒ˜áƒ” áƒ¨áƒ”áƒœáƒ˜ áƒ¨áƒ”áƒ’áƒ áƒ«áƒœáƒ”áƒ‘áƒ”áƒ‘áƒ˜ áƒ¡áƒ®áƒ”áƒ£áƒšáƒ˜áƒ¡ áƒ¡áƒ®áƒ•áƒáƒ“áƒáƒ¡áƒ®áƒ•áƒ áƒœáƒáƒ¬áƒ˜áƒšáƒ¨áƒ˜, áƒ“áƒáƒáƒ®áƒáƒ áƒ¯áƒ” áƒ áƒáƒ›áƒ“áƒ”áƒœáƒ˜áƒ›áƒ” áƒ¬áƒ£áƒ—áƒ˜, áƒ áƒáƒ—áƒ áƒ¨áƒ”áƒ˜áƒ’áƒ áƒ«áƒœáƒ áƒ›áƒ—áƒ”áƒšáƒ˜ áƒ¨áƒ”áƒœáƒ˜ áƒ¡áƒ®áƒ”áƒ£áƒšáƒ˜ áƒ›áƒ—áƒšáƒ˜áƒáƒœáƒáƒ“. áƒ™áƒ•áƒšáƒáƒ• áƒ¨áƒ”áƒ£áƒ”áƒ áƒ—áƒ“áƒ˜ áƒ¨áƒ”áƒœáƒ¡ áƒ¡áƒ£áƒœáƒ—áƒ¥áƒ•áƒáƒ¡, áƒ˜áƒ¡áƒ”, áƒ áƒáƒ’áƒáƒ áƒª áƒáƒ›áƒáƒ¡ áƒáƒ™áƒ”áƒ—áƒ”áƒ‘áƒ“áƒ˜ áƒ¡áƒáƒ•áƒáƒ áƒ¯áƒ˜áƒ¨áƒáƒ¡ áƒ“áƒáƒ¡áƒáƒ¬áƒ§áƒ˜áƒ¡áƒ¨áƒ˜.</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Fixed Button -->
                    <div style="padding: 20px; border-top: 1px solid #e0e0e0; background: white;">
                        <button class="btn btn-primary" onclick="closeTechniqueModal('technique6Modal')" style="width: 100%; padding: 15px;">áƒ“áƒáƒ®áƒ£áƒ áƒ•áƒ</button>
                    </div>
                    
                </div>
            </div>
            
            <!-- Technique 7 Modal - áƒ’áƒáƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ¨áƒ®áƒáƒáƒ˜ -->
            <div id="technique7Modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; padding: 20px;">
                <div style="position: relative; background: white; max-width: 800px; margin: 0 auto; height: 100%; border-radius: 12px; display: flex; flex-direction: column; overflow: hidden;">
                    
                    <!-- Scrollable Content -->
                    <div style="flex: 1; overflow-y: auto; padding: 40px 20px;">
                        <h1 style="color: #333; margin-bottom: 30px; text-align: center;">ğŸš¿ áƒ’áƒáƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ¨áƒ®áƒáƒáƒ˜</h1>
                        
                        <div style="color: #333; line-height: 1.8; font-size: 16px;">
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">1. áƒáƒ‘áƒáƒ–áƒáƒœáƒáƒ¨áƒ˜ áƒ¨áƒ”áƒ¡áƒ•áƒšáƒ</h3>
                                <p>áƒ“áƒáƒ™áƒ•áƒ˜áƒ áƒ“áƒ˜, áƒ áƒáƒ’áƒáƒ  áƒ“áƒáƒ“áƒ’áƒ˜ áƒ¨áƒ”áƒœáƒ˜ áƒ›áƒáƒ áƒ¯áƒ•áƒ”áƒœáƒ áƒ¤áƒ”áƒ®áƒ˜ áƒáƒ‘áƒáƒ–áƒáƒœáƒáƒ¨áƒ˜, áƒ áƒáƒ’áƒáƒ  áƒ¨áƒ”áƒ”áƒ®áƒ áƒ˜áƒ¡ áƒáƒ‘áƒáƒ–áƒáƒœáƒáƒ¡. áƒ áƒáƒ’áƒáƒ  áƒáƒ¬áƒ˜áƒ” áƒ›áƒ”áƒáƒ áƒ” áƒ¤áƒ”áƒ®áƒ˜ áƒ“áƒ áƒ˜áƒ¡áƒ˜áƒª áƒ“áƒáƒ“áƒ’áƒ˜ áƒ¡áƒáƒ¨áƒ®áƒáƒáƒ”áƒ¨áƒ˜. áƒ áƒáƒ’áƒáƒ  áƒ›áƒ”áƒ“áƒ’áƒ áƒáƒ“ áƒ“áƒ’áƒáƒ¡ áƒ¨áƒ”áƒœáƒ˜ áƒ¡áƒ®áƒ”áƒ£áƒšáƒ˜.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">2. áƒ¨áƒ®áƒáƒáƒ˜áƒ¡ áƒ©áƒáƒ áƒ—áƒ•áƒ</h3>
                                <p>áƒ©áƒáƒ áƒ—áƒ” áƒ¨áƒ®áƒáƒáƒ˜. áƒœáƒ”áƒšáƒ áƒ’áƒáƒ“áƒáƒ áƒ—áƒ” áƒ’áƒáƒ“áƒáƒ›áƒ áƒ—áƒ•áƒ”áƒšáƒ˜ áƒ˜áƒ›áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡, áƒ áƒáƒ› áƒ™áƒáƒ›áƒ¤áƒáƒ áƒ¢áƒ£áƒš áƒ¢áƒ”áƒ›áƒáƒ”áƒ áƒáƒ¢áƒ£áƒ áƒáƒ¡ áƒ›áƒ˜áƒáƒ¦áƒ¬áƒ˜áƒ. áƒ›áƒ˜áƒáƒ¥áƒªáƒ˜áƒ” áƒ§áƒ£áƒ áƒáƒ“áƒ¦áƒ”áƒ‘áƒ, áƒ áƒáƒ’áƒáƒ  áƒ’áƒáƒ¥áƒ•áƒ¡ áƒ’áƒáƒ“áƒáƒ›áƒ áƒ—áƒ•áƒ”áƒšáƒ–áƒ” áƒ®áƒ”áƒšáƒ˜ áƒ›áƒáƒ™áƒ˜áƒ“áƒ”áƒ‘áƒ£áƒšáƒ˜, áƒáƒ¡áƒ”áƒ•áƒ” áƒ›áƒ˜áƒáƒ¥áƒªáƒ˜áƒ” áƒ§áƒ£áƒ áƒáƒ“áƒ¦áƒ”áƒ‘áƒ áƒ˜áƒ› áƒ«áƒáƒšáƒ˜áƒ¡áƒ®áƒ›áƒ”áƒ•áƒáƒ¡, áƒ áƒáƒ›áƒ”áƒšáƒ¡áƒáƒª áƒ¨áƒ”áƒœ áƒ›áƒ˜áƒ›áƒáƒ áƒ—áƒáƒ• áƒ›áƒ˜áƒ¡ áƒ¡áƒ˜áƒ•áƒ áƒªáƒ”áƒ¨áƒ˜ áƒ’áƒáƒ“áƒáƒáƒ“áƒ’áƒ˜áƒšáƒ”áƒ‘áƒ˜áƒ¡áƒáƒ—áƒ•áƒ˜áƒ¡.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">3. áƒ¬áƒ§áƒáƒšáƒ—áƒáƒœ áƒáƒ˜áƒ áƒ•áƒ”áƒšáƒ˜ áƒ¨áƒ”áƒ®áƒ”áƒ‘áƒ</h3>
                                <p>áƒ“áƒáƒáƒ™áƒ•áƒ˜áƒ áƒ“áƒ˜, áƒ áƒáƒ¡ áƒ’áƒ áƒ«áƒœáƒáƒ‘ áƒ™áƒáƒœáƒ–áƒ”, áƒ áƒáƒ“áƒ”áƒ¡áƒáƒª áƒ¬áƒ•áƒ”áƒ—áƒ”áƒ‘áƒ˜ áƒ’áƒ”áƒ¡áƒ®áƒ›áƒ”áƒ•áƒ. áƒáƒ¦áƒ˜áƒ¥áƒ•áƒ˜ áƒ¬áƒ§áƒšáƒ˜áƒ¡ áƒ¢áƒ”áƒ›áƒáƒ”áƒ áƒáƒ¢áƒ£áƒ áƒ áƒ“áƒ áƒ áƒáƒ’áƒáƒ  áƒ˜áƒªáƒ•áƒšáƒ”áƒ‘áƒ áƒ¨áƒ”áƒœáƒ˜ áƒ¡áƒ®áƒ”áƒ£áƒšáƒ˜áƒ¡ áƒ¢áƒ”áƒ›áƒáƒ”áƒ áƒáƒ¢áƒ£áƒ áƒ áƒ¬áƒ§áƒáƒšáƒ—áƒáƒœ áƒ¨áƒ”áƒ®áƒ”áƒ‘áƒ˜áƒ¡áƒáƒ¡.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">4. áƒ®áƒ›áƒ”áƒ‘áƒ˜</h3>
                                <p>áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’ áƒ áƒáƒ›áƒ“áƒ”áƒœáƒ˜áƒ›áƒ” áƒ¬áƒ£áƒ—áƒ˜áƒ¡ áƒ’áƒáƒœáƒ›áƒáƒ•áƒšáƒáƒ‘áƒáƒ¨áƒ˜ áƒ§áƒ£áƒ áƒáƒ“áƒ¦áƒ”áƒ‘áƒ áƒ›áƒ˜áƒáƒ¥áƒªáƒ˜áƒ” áƒ®áƒ›áƒ”áƒ‘áƒ¡, áƒ áƒáƒ›áƒšáƒ”áƒ‘áƒ˜áƒª áƒ’áƒ”áƒ¡áƒ›áƒ˜áƒ¡, áƒ áƒáƒªáƒ áƒ¬áƒ§áƒáƒšáƒ˜ áƒ’áƒáƒ›áƒáƒ“áƒ˜áƒ¡ áƒ¨áƒ®áƒáƒáƒ˜áƒ“áƒáƒœ áƒ“áƒ áƒ”áƒ®áƒ”áƒ‘áƒ áƒ¨áƒ”áƒœáƒ¡ áƒ¡áƒ®áƒ”áƒ£áƒšáƒ¡.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">5. áƒ¤áƒ˜áƒ¥áƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ“áƒáƒ‘áƒ áƒ£áƒœáƒ”áƒ‘áƒ</h3>
                                <p>áƒ—áƒ£ áƒ¨áƒ”áƒœ áƒ¨áƒ”áƒáƒ›áƒ©áƒœáƒ”áƒ•, áƒ áƒáƒ› áƒ¨áƒ”áƒœáƒ˜ áƒ’áƒáƒœáƒ”áƒ‘áƒ áƒ“áƒáƒ«áƒ áƒ¬áƒ˜áƒ¡, áƒ¦áƒ”áƒšáƒáƒ•áƒ¡, áƒ’áƒ”áƒ’áƒ›áƒáƒ•áƒ¡, áƒ˜áƒ®áƒ¡áƒ”áƒœáƒ”áƒ‘áƒ¡ áƒáƒœ áƒ™áƒ˜áƒ“áƒ”áƒ• áƒ¡áƒ®áƒ•áƒ áƒ áƒáƒ˜áƒ›áƒ”áƒ–áƒ” áƒ¤áƒ˜áƒ¥áƒ áƒáƒ‘áƒ¡, áƒ›áƒ˜áƒ£áƒšáƒáƒªáƒ” áƒ¨áƒ”áƒœáƒ¡ áƒ—áƒáƒ•áƒ¡, áƒ áƒáƒ› áƒ¨áƒ”áƒœ áƒ—áƒ•áƒ˜áƒ—áƒáƒœ áƒ¨áƒ”áƒœáƒ˜áƒ¨áƒœáƒ” áƒ”áƒ¡ áƒ“áƒ áƒ›áƒ˜áƒ›áƒáƒ áƒ—áƒ” áƒ¨áƒ”áƒœáƒ˜ áƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ áƒ˜áƒ¡áƒ”áƒ• áƒ›áƒ˜áƒ›áƒ“áƒ˜áƒœáƒáƒ áƒ” áƒ›áƒáƒ›áƒ”áƒœáƒ¢áƒ˜áƒ¡áƒ™áƒ”áƒœ.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">6. áƒ¡áƒ£áƒœáƒ”áƒ‘áƒ˜</h3>
                                <p>áƒ›áƒ˜áƒáƒ¥áƒªáƒ˜áƒ” áƒ§áƒ£áƒ áƒáƒ“áƒ¦áƒ”áƒ‘áƒ áƒ¡áƒ£áƒœáƒ”áƒ‘áƒ¡. áƒ˜áƒ¥áƒœáƒ”áƒ‘ áƒ¡áƒáƒáƒáƒœáƒ¡ áƒáƒ¥áƒ•áƒ¡ áƒœáƒáƒªáƒœáƒáƒ‘áƒ˜ áƒ¡áƒ£áƒœáƒ˜. áƒ áƒáƒ›áƒ“áƒ”áƒœáƒ˜áƒ›áƒ” áƒ¬áƒ£áƒ—áƒ˜áƒ¡ áƒ’áƒáƒœáƒ›áƒáƒ•áƒšáƒáƒ‘áƒáƒ¨áƒ˜, áƒ›áƒ˜áƒ›áƒáƒ áƒ—áƒ” áƒ¨áƒ”áƒœáƒ˜ áƒ§áƒ£áƒ áƒáƒ“áƒ¦áƒ”áƒ‘áƒ áƒ§áƒ•áƒ”áƒšáƒáƒœáƒáƒ˜áƒ áƒ˜ áƒ¡áƒ£áƒœáƒ˜áƒ¡áƒ™áƒ”áƒœ, áƒ áƒáƒ›áƒ”áƒšáƒ˜áƒª áƒ¨áƒ”áƒœ áƒ¨áƒ”áƒ’áƒ˜áƒ«áƒšáƒ˜áƒ, áƒ áƒáƒ› áƒ˜áƒ’áƒ áƒ«áƒœáƒ.</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Fixed Button -->
                    <div style="padding: 20px; border-top: 1px solid #e0e0e0; background: white;">
                        <button class="btn btn-primary" onclick="closeTechniqueModal('technique7Modal')" style="width: 100%; padding: 15px;">áƒ“áƒáƒ®áƒ£áƒ áƒ•áƒ</button>
                    </div>
                    
                </div>
            </div>
            
            <!-- Technique 8 Modal - áƒ®áƒ”áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ“áƒáƒ‘áƒáƒœáƒ -->
            <div id="technique8Modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; padding: 20px;">
                <div style="position: relative; background: white; max-width: 800px; margin: 0 auto; height: 100%; border-radius: 12px; display: flex; flex-direction: column; overflow: hidden;">
                    
                    <!-- Scrollable Content -->
                    <div style="flex: 1; overflow-y: auto; padding: 40px 20px;">
                        <h1 style="color: #333; margin-bottom: 30px; text-align: center;">ğŸ§¼ áƒ®áƒ”áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ“áƒáƒ‘áƒáƒœáƒ</h1>
                        
                        <div style="color: #333; line-height: 1.8; font-size: 16px;">
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">1. áƒáƒœáƒ™áƒáƒœáƒ—áƒáƒœ áƒ›áƒ˜áƒáƒ®áƒšáƒáƒ”áƒ‘áƒ</h3>
                                <p>áƒ›áƒ˜áƒ£áƒáƒ®áƒšáƒáƒ•áƒ“áƒ˜ áƒáƒœáƒ™áƒáƒœáƒ¡. áƒ“áƒáƒ“áƒ”áƒ¥áƒ˜ áƒ áƒáƒáƒ“áƒ”áƒœáƒ˜áƒ›áƒ” áƒ¬áƒáƒ›áƒ˜áƒ— áƒ“áƒ áƒ¨áƒ”áƒ˜áƒ’áƒ áƒ«áƒ”áƒœáƒ˜ áƒ¨áƒ”áƒœáƒ˜ áƒ¤áƒ”áƒ®áƒ”áƒ‘áƒ˜ áƒ áƒáƒ’áƒáƒ  áƒ”áƒ®áƒ”áƒ‘áƒ áƒ˜áƒáƒ¢áƒáƒ™áƒ¡. áƒ“áƒáƒáƒ™áƒ•áƒ˜áƒ áƒ“áƒ˜, áƒ áƒáƒ’áƒáƒ  áƒ›áƒ˜áƒ˜áƒ¬áƒ”áƒ•áƒ¡ áƒ®áƒ”áƒšáƒ˜ áƒáƒœáƒ™áƒáƒœáƒ˜áƒ¡áƒ™áƒ”áƒœ.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">2. áƒáƒœáƒ™áƒáƒœáƒ˜áƒ¡ áƒ©áƒáƒ áƒ—áƒ•áƒ</h3>
                                <p>áƒ›áƒ˜áƒáƒ¥áƒªáƒ˜áƒ” áƒ§áƒ£áƒ áƒáƒ“áƒ¦áƒ”áƒ‘áƒ, áƒ áƒáƒ’áƒáƒ  áƒ”áƒ®áƒ”áƒ‘áƒ˜ áƒáƒœáƒ™áƒáƒœáƒ˜áƒ¡ áƒ’áƒáƒ“áƒáƒ›áƒ áƒ—áƒ•áƒ”áƒšáƒ¡ áƒ—áƒ˜áƒ—áƒ”áƒ‘áƒ˜áƒ—. áƒ áƒáƒ’áƒáƒ  áƒ®áƒ›áƒáƒ¡ áƒ’áƒáƒ›áƒáƒ¡áƒªáƒ”áƒ›áƒ¡ áƒ¬áƒ§áƒáƒšáƒ˜, áƒ áƒáƒ“áƒ”áƒ¡áƒáƒª áƒ˜áƒ¬áƒ§áƒ”áƒ‘áƒ¡ áƒ“áƒ”áƒœáƒáƒ¡.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">3. áƒ¬áƒ§áƒáƒšáƒ—áƒáƒœ áƒ¨áƒ”áƒ®áƒ”áƒ‘áƒ</h3>
                                <p>áƒ›áƒáƒáƒ—áƒáƒ•áƒ¡áƒ” áƒ®áƒ”áƒšáƒ”áƒ‘áƒ˜ áƒ¬áƒ§áƒšáƒ˜áƒ¡ áƒ¥áƒ•áƒ”áƒ¨. áƒáƒ¦áƒ˜áƒ¥áƒ•áƒ˜ áƒ¬áƒ§áƒšáƒ˜áƒ¡ áƒ¢áƒ”áƒ›áƒáƒ”áƒ áƒáƒ¢áƒ£áƒ áƒ - áƒªáƒ˜áƒ•áƒ˜áƒ, áƒ—áƒ‘áƒ˜áƒšáƒ˜ áƒ—áƒ£ áƒªáƒ®áƒ”áƒšáƒ˜. áƒ áƒáƒ’áƒáƒ  áƒ¨áƒ”áƒ˜áƒ’áƒ áƒ«áƒœáƒáƒ‘áƒ áƒ™áƒáƒœáƒ–áƒ”. áƒ“áƒáƒáƒ™áƒ•áƒ˜áƒ áƒ“áƒ˜, áƒ áƒáƒ’áƒáƒ  áƒ˜áƒ¦áƒ•áƒ áƒ”áƒ‘áƒ áƒ¬áƒ§áƒáƒšáƒ˜ áƒ¨áƒ”áƒœáƒ¡ áƒ›áƒ¢áƒ”áƒ•áƒœáƒ”áƒ‘áƒ–áƒ” áƒ“áƒ áƒ—áƒ˜áƒ—áƒ”áƒ‘áƒ–áƒ”.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">4. áƒ¡áƒáƒáƒœáƒ˜áƒ¡ áƒáƒ¦áƒ”áƒ‘áƒ</h3>
                                <p>áƒ¨áƒ”áƒ˜áƒ’áƒ áƒ«áƒ”áƒœáƒ˜ áƒ¡áƒáƒáƒœáƒ˜áƒ¡ áƒ¢áƒ”áƒ¥áƒ¡áƒ¢áƒ£áƒ áƒ áƒ®áƒ”áƒšáƒ¨áƒ˜. áƒ“áƒáƒáƒ™áƒ•áƒ˜áƒ áƒ“áƒ˜ áƒ áƒáƒ’áƒáƒ áƒ˜ áƒ¤áƒáƒ áƒ›áƒ˜áƒ¡ áƒáƒ áƒ˜áƒ¡. áƒ¨áƒ”áƒáƒ›áƒ©áƒœáƒ˜áƒ”, áƒ áƒáƒ’áƒáƒ  áƒ©áƒœáƒ“áƒ”áƒ‘áƒ áƒ¥áƒáƒ¤áƒ˜ áƒ®áƒ”áƒšáƒ”áƒ‘áƒ–áƒ”.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">5. áƒ“áƒáƒ‘áƒáƒœáƒ˜áƒ¡ áƒáƒ áƒáƒªáƒ”áƒ¡áƒ˜</h3>
                                <p>áƒœáƒ”áƒšáƒ áƒ“áƒáƒ˜áƒ‘áƒáƒœáƒ” áƒ®áƒ”áƒšáƒ”áƒ‘áƒ˜. áƒ›áƒ˜áƒáƒ¥áƒªáƒ˜áƒ” áƒ§áƒ£áƒ áƒáƒ“áƒ¦áƒ”áƒ‘áƒ áƒ›áƒ¢áƒ”áƒ•áƒœáƒ”áƒ‘áƒ˜áƒ¡, áƒ—áƒ˜áƒ—áƒ”áƒ‘áƒ˜áƒ¡, áƒ—áƒ˜áƒ—áƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ£áƒáƒšáƒ”áƒ“áƒ”áƒ‘áƒ˜áƒ¡ áƒ“áƒáƒ‘áƒáƒœáƒáƒ¡. áƒ“áƒáƒáƒ™áƒ•áƒ˜áƒ áƒ“áƒ˜ áƒ¥áƒáƒ¤áƒ˜áƒ¡ áƒ¢áƒ”áƒ¥áƒ¡áƒ¢áƒ£áƒ áƒáƒ¡ áƒ“áƒ áƒ¨áƒ”áƒ’áƒ áƒ«áƒœáƒ”áƒ‘áƒ”áƒ‘áƒ¡ áƒ®áƒ”áƒšáƒ”áƒ‘áƒ¨áƒ˜.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">6. áƒ¡áƒ£áƒœáƒ˜</h3>
                                <p>áƒ¨áƒ”áƒ˜áƒ’áƒ áƒ«áƒ”áƒœáƒ˜ áƒ¡áƒáƒáƒœáƒ˜áƒ¡ áƒ¡áƒ£áƒœáƒ˜. áƒœáƒáƒªáƒœáƒáƒ‘áƒ˜áƒ? áƒ’áƒáƒœáƒ¡áƒ®áƒ•áƒáƒ•áƒ”áƒ‘áƒ£áƒšáƒ˜?</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">7. áƒ©áƒáƒ›áƒáƒ áƒ”áƒªáƒ®áƒ•áƒ</h3>
                                <p>áƒ›áƒáƒáƒ—áƒáƒ•áƒ¡áƒ” áƒ®áƒ”áƒšáƒ”áƒ‘áƒ˜ áƒ¬áƒ§áƒšáƒ˜áƒ¡ áƒ¥áƒ•áƒ”áƒ¨ áƒ“áƒ áƒ“áƒáƒáƒ™áƒ•áƒ˜áƒ áƒ“áƒ˜, áƒ áƒáƒ’áƒáƒ  áƒ˜áƒ áƒ”áƒªáƒ®áƒ”áƒ‘áƒ áƒ¥áƒáƒ¤áƒ˜ áƒ¨áƒ”áƒœáƒ˜ áƒ®áƒ”áƒšáƒ”áƒ‘áƒ˜áƒ“áƒáƒœ. áƒ áƒáƒ’áƒáƒ  áƒ˜áƒªáƒ•áƒšáƒ”áƒ‘áƒ áƒ¨áƒ”áƒ’áƒ áƒ«áƒœáƒ”áƒ‘áƒ áƒ™áƒáƒœáƒ–áƒ”.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">8. áƒ’áƒáƒ¨áƒ áƒáƒ‘áƒ</h3>
                                <p>áƒáƒ˜áƒ¦áƒ” áƒáƒ˜áƒ áƒ¡áƒáƒ®áƒáƒªáƒ˜. áƒ˜áƒ’áƒ áƒ«áƒ”áƒœáƒ˜ áƒ›áƒ˜áƒ¡áƒ˜ áƒ¢áƒ”áƒ¥áƒ¡áƒ¢áƒ£áƒ áƒ. áƒ“áƒáƒáƒ™áƒ•áƒ˜áƒ áƒ“áƒ˜, áƒ áƒáƒ’áƒáƒ  áƒáƒ¨áƒ áƒáƒ‘áƒ¡ áƒ®áƒ”áƒšáƒ”áƒ‘áƒ¡ - áƒ—áƒ˜áƒ—áƒáƒ”áƒ£áƒš áƒ—áƒ˜áƒ—áƒ¡, áƒ›áƒ¢áƒ”áƒ•áƒœáƒ”áƒ‘áƒ¡. áƒ áƒáƒ’áƒáƒ  áƒ¨áƒ”áƒ˜áƒ’áƒ áƒ«áƒœáƒáƒ‘áƒ áƒáƒ®áƒšáƒ áƒ¨áƒ”áƒœáƒ˜ áƒ®áƒ”áƒšáƒ”áƒ‘áƒ˜ - áƒ¡áƒ£áƒ¤áƒ—áƒ, áƒ›áƒ¨áƒ áƒáƒšáƒ˜.</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Fixed Button -->
                    <div style="padding: 20px; border-top: 1px solid #e0e0e0; background: white;">
                        <button class="btn btn-primary" onclick="closeTechniqueModal('technique8Modal')" style="width: 100%; padding: 15px;">áƒ“áƒáƒ®áƒ£áƒ áƒ•áƒ</button>
                    </div>
                    
                </div>
            </div>
            
            <!-- Technique 9 Modal - 5 áƒœáƒáƒ‘áƒ˜áƒ¯áƒ˜ -->
            <div id="technique9Modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; padding: 20px;">
                <div style="position: relative; background: white; max-width: 800px; margin: 0 auto; height: 100%; border-radius: 12px; display: flex; flex-direction: column; overflow: hidden;">
                    
                    <!-- Scrollable Content -->
                    <div style="flex: 1; overflow-y: auto; padding: 40px 20px;">
                        <h1 style="color: #333; margin-bottom: 30px; text-align: center;">ğŸ›‘ 5 áƒœáƒáƒ‘áƒ˜áƒ¯áƒ˜</h1>
                        
                        <div style="color: #333; line-height: 1.8; font-size: 16px;">
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">1. áƒ’áƒáƒ©áƒ”áƒ áƒ“áƒ˜ (STOP)</h3>
                                <p>áƒ›áƒáƒªáƒ“áƒ£áƒœáƒ”áƒ‘áƒ”áƒš áƒ¡áƒ˜áƒ¢áƒ£áƒáƒªáƒ˜áƒáƒ¨áƒ˜ áƒ›áƒáƒ®áƒ•áƒ”áƒ“áƒ áƒ˜áƒ¡áƒáƒ¡, áƒáƒ˜áƒ áƒ•áƒ”áƒšáƒ˜ áƒ áƒáƒª áƒ¨áƒ”áƒœ áƒ£áƒœáƒ“áƒ áƒ’áƒáƒáƒ™áƒ”áƒ—áƒ, áƒ áƒáƒ—áƒ áƒ“áƒáƒ£áƒ™áƒáƒ•áƒ¨áƒ˜áƒ áƒ“áƒ” áƒ›áƒ˜áƒ›áƒ“áƒ˜áƒœáƒáƒ áƒ” áƒ›áƒáƒ›áƒ”áƒœáƒ¢áƒ¡, áƒáƒ áƒ˜áƒ¡ áƒ˜áƒ¡ áƒ áƒáƒ› áƒ’áƒáƒ©áƒ”áƒ áƒ“áƒ” áƒ“áƒ áƒ’áƒáƒ›áƒáƒ®áƒ•áƒ˜áƒ“áƒ” áƒáƒ•áƒ¢áƒáƒáƒ˜áƒšáƒáƒ¢áƒ˜áƒ¡ áƒ áƒ”áƒŸáƒ˜áƒ›áƒ˜áƒ“áƒáƒœ. áƒ’áƒáƒ©áƒ”áƒ áƒ”áƒ‘áƒ˜áƒ¡áƒáƒ¡ áƒ¨áƒ”áƒœ áƒáƒ©áƒ”áƒ áƒ”áƒ‘ áƒ˜áƒ› áƒ¥áƒ›áƒ”áƒ“áƒ”áƒ‘áƒ”áƒ‘áƒ˜áƒ¡ áƒáƒ•áƒ¢áƒáƒ›áƒáƒ¢áƒ£áƒ  áƒ—áƒáƒœáƒ›áƒ˜áƒ›áƒ“áƒ”áƒ•áƒ áƒáƒ‘áƒáƒ¡, áƒ áƒáƒª áƒ¨áƒ”áƒ˜áƒ«áƒšáƒ”áƒ‘áƒáƒ“áƒ áƒšáƒ¢áƒáƒšáƒ•áƒáƒ¡ áƒáƒœ áƒ«áƒšáƒ˜áƒ”áƒ  áƒ”áƒ›áƒáƒªáƒ˜áƒáƒ¡ áƒ’áƒáƒ›áƒáƒ”áƒ¬áƒ•áƒ˜áƒ, áƒ“áƒ áƒ áƒáƒ›áƒšáƒ˜áƒ¡ áƒ¨áƒ”áƒªáƒ•áƒšáƒáƒª áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒ–áƒáƒ–áƒ” áƒ£áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒáƒ•áƒáƒœáƒ”áƒ¡áƒ˜áƒ.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">2. áƒ›áƒ˜áƒ›áƒáƒ˜áƒ®áƒ”áƒ“áƒ”</h3>
                                <p>áƒ áƒáƒ’áƒáƒ áƒª áƒ™áƒ˜ áƒ¨áƒ”áƒœ áƒ’áƒáƒ©áƒ”áƒ áƒ“áƒ”áƒ‘áƒ˜ áƒ“áƒ áƒ’áƒáƒ›áƒáƒ®áƒ•áƒáƒš áƒáƒ•áƒ¢áƒáƒáƒ˜áƒšáƒáƒ¢áƒ˜áƒ¡ áƒ áƒ”áƒŸáƒ˜áƒ›áƒ˜áƒ“áƒáƒœ, áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’áƒ˜ áƒœáƒáƒ‘áƒ˜áƒ¯áƒ˜áƒ áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ  áƒ¨áƒ”áƒ’áƒ áƒ«áƒœáƒ”áƒ‘áƒ”áƒ‘áƒ–áƒ” áƒ“áƒáƒ™áƒ•áƒ˜áƒ áƒ•áƒ”áƒ‘áƒ. áƒ“áƒáƒáƒ™áƒ•áƒ˜áƒ áƒ“áƒ˜ áƒ˜áƒ›áƒáƒ¡, áƒ—áƒ£ áƒ áƒ áƒ®áƒ“áƒ”áƒ‘áƒ áƒáƒ› áƒ›áƒáƒ›áƒ”áƒœáƒ¢áƒ¨áƒ˜. áƒ°áƒ™áƒ˜áƒ—áƒ®áƒ” áƒ¨áƒ”áƒœáƒ¡ áƒ—áƒáƒ•áƒ¡, áƒ áƒáƒ¡ áƒ’áƒ áƒ«áƒœáƒáƒ‘ áƒáƒ®áƒšáƒ.</p>
                                <p style="margin-top: 10px;">áƒ’áƒáƒ›áƒáƒ˜áƒ§áƒ”áƒœáƒ” áƒ¨áƒ”áƒœáƒ˜ áƒšáƒ¢áƒáƒšáƒ•áƒ, áƒ áƒáƒ—áƒ áƒ“áƒáƒáƒ™áƒ•áƒ˜áƒ áƒ“áƒ” áƒ˜áƒ›áƒáƒ¡, áƒ—áƒ£ áƒ¡áƒ®áƒ”áƒ£áƒšáƒ˜áƒ¡ áƒ áƒ áƒœáƒáƒ¬áƒ˜áƒšáƒ¨áƒ˜ áƒ’áƒ áƒ«áƒœáƒáƒ‘ áƒ›áƒáƒ¡. áƒ“áƒáƒáƒ™áƒ•áƒ˜áƒ áƒ“áƒ˜ áƒœáƒ”áƒ‘áƒ˜áƒ¡áƒ›áƒ˜áƒ”áƒ  áƒ¤áƒ˜áƒ¥áƒ áƒ¡ áƒœáƒ˜áƒ•áƒ—áƒ˜áƒ”áƒ áƒ”áƒ‘áƒáƒ–áƒ” áƒ“áƒ áƒœáƒ”áƒ‘áƒ˜áƒ¡áƒ›áƒ˜áƒ”áƒ  áƒ”áƒ›áƒáƒªáƒ˜áƒáƒ¡, áƒ áƒáƒ›áƒ”áƒšáƒ¡áƒáƒª áƒ’áƒáƒœáƒ˜áƒªáƒ“áƒ˜. áƒ›áƒ˜áƒ”áƒªáƒ˜ áƒ›áƒáƒ— áƒ£áƒ¤áƒšáƒ”áƒ‘áƒ áƒ áƒáƒ› áƒ˜áƒ§áƒ•áƒœáƒ”áƒœ áƒ¨áƒ”áƒœáƒ—áƒáƒœ. áƒ“áƒáƒáƒ™áƒ•áƒ˜áƒ áƒ“áƒ˜ áƒáƒ› áƒáƒ áƒáƒ™áƒáƒ›áƒ¤áƒáƒ áƒ¢áƒ£áƒš áƒáƒ¡áƒáƒ”áƒ¥áƒ¢áƒ”áƒ‘áƒ¡ áƒ¨áƒ”áƒœáƒ˜ áƒ’áƒáƒ›áƒáƒªáƒ“áƒ˜áƒšáƒ”áƒ‘áƒ˜áƒ¡áƒ, áƒáƒ  áƒ°áƒ™áƒ áƒ áƒ›áƒáƒ— áƒ®áƒ”áƒšáƒ˜ áƒ“áƒ áƒ›áƒ˜áƒ”áƒªáƒ˜ áƒ£áƒ¤áƒšáƒ”áƒ‘áƒ áƒ˜áƒ§áƒ•áƒœáƒ”áƒœ áƒ˜áƒ¡áƒ”áƒ—áƒ”áƒ‘áƒ˜, áƒ áƒáƒ’áƒáƒ áƒ”áƒ‘áƒ˜áƒª áƒáƒ áƒ˜áƒáƒœ.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">3. áƒáƒ›áƒáƒ˜áƒ¡áƒ£áƒœáƒ—áƒ¥áƒ”</h3>
                                <p>áƒ¨áƒ”áƒœ áƒ’áƒáƒ›áƒáƒ®áƒ•áƒ”áƒ“áƒ˜ áƒáƒ•áƒ¢áƒáƒáƒ˜áƒšáƒáƒ¢áƒ˜áƒ¡ áƒ áƒ”áƒŸáƒ˜áƒ›áƒ˜áƒ“áƒáƒœ áƒ“áƒ áƒ“áƒáƒáƒ™áƒ•áƒ˜áƒ áƒ“áƒ˜ áƒ¨áƒ”áƒœáƒ¡ áƒ›áƒ˜áƒ›áƒ“áƒ˜áƒœáƒáƒ áƒ” áƒ¨áƒ—áƒáƒ‘áƒ”áƒ­áƒ“áƒ˜áƒšáƒ”áƒ‘áƒ”áƒ‘áƒ¡. áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’áƒ˜ áƒœáƒáƒ‘áƒ˜áƒ¯áƒ˜ - áƒ’áƒáƒ”áƒ áƒ—áƒ˜áƒáƒœáƒ“áƒ˜ áƒ¨áƒ”áƒœáƒ¡ áƒ¡áƒ£áƒœáƒ—áƒ¥áƒ•áƒáƒ¡áƒ—áƒáƒœ. áƒ’áƒáƒáƒ™áƒ”áƒ—áƒ” áƒ”áƒ¡ áƒ áƒáƒ›áƒ“áƒ”áƒœáƒ˜áƒ›áƒ” áƒ¬áƒáƒ›áƒ˜áƒ¡ áƒ’áƒáƒœáƒ›áƒáƒ•áƒšáƒáƒ‘áƒáƒ¨áƒ˜, áƒ›áƒ˜áƒ›áƒáƒ áƒ—áƒ” áƒ¨áƒ”áƒœáƒ˜ áƒ§áƒ£áƒ áƒáƒ“áƒ¦áƒ”áƒ‘áƒ áƒ©áƒáƒ¡áƒ£áƒœáƒ—áƒ¥áƒ•áƒ”áƒ‘áƒ˜áƒ¡áƒ áƒ“áƒ áƒáƒ›áƒáƒ¡áƒ£áƒœáƒ—áƒ¥áƒ•áƒ”áƒ‘áƒ˜áƒ¡áƒ™áƒ”áƒœ.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">4. áƒ’áƒáƒáƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ” áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜ áƒ¡áƒ®áƒ”áƒ£áƒšáƒ˜</h3>
                                <p>áƒ“áƒáƒáƒ™áƒ•áƒ˜áƒ áƒ“áƒ˜ áƒ’áƒ£áƒšáƒ›áƒ™áƒ”áƒ áƒ“áƒ˜áƒ¡ áƒ›áƒáƒ«áƒ áƒáƒáƒ‘áƒáƒ¡. áƒ¨áƒ”áƒœ áƒáƒ®áƒšáƒ áƒ¨áƒ”áƒ’áƒ˜áƒ«áƒšáƒ˜áƒ áƒ’áƒáƒáƒ¤áƒáƒ áƒ—áƒáƒ•áƒ áƒ¨áƒ”áƒœáƒ˜ áƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ, áƒ©áƒáƒ áƒ—áƒ” áƒ›áƒáƒ¡áƒ¨áƒ˜ áƒ›áƒ—áƒ”áƒšáƒ˜ áƒ¨áƒ”áƒœáƒ˜ áƒ¡áƒ®áƒ”áƒ£áƒšáƒ˜ áƒ›áƒ—áƒšáƒ˜áƒáƒœáƒáƒ“. áƒ“áƒáƒ£áƒ™áƒáƒ•áƒ¨áƒ˜áƒ áƒ“áƒ˜ áƒ§áƒ•áƒ”áƒšáƒ áƒ¨áƒ”áƒ’áƒ áƒ«áƒœáƒ”áƒ‘áƒáƒ¡, áƒ áƒáƒ›áƒ”áƒšáƒ¡áƒáƒª áƒ¨áƒ”áƒœ áƒ¡áƒ®áƒ”áƒ£áƒšáƒ¨áƒ˜ áƒ¨áƒ”áƒ˜áƒ’áƒ áƒ«áƒœáƒáƒ‘ áƒ›áƒ˜áƒ›áƒ“áƒ˜áƒœáƒáƒ áƒ” áƒ›áƒáƒ›áƒ”áƒœáƒ¢áƒ¨áƒ˜.</p>
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <h3 style="color: #667eea; margin-bottom: 10px;">5. áƒ£áƒáƒáƒ¡áƒ£áƒ®áƒ” áƒ’áƒáƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ£áƒšáƒáƒ“</h3>
                                <p>áƒ©áƒ•áƒ”áƒœ áƒ•áƒ¡áƒáƒ£áƒ‘áƒ áƒáƒ‘áƒ— áƒáƒáƒ¡áƒ£áƒ®áƒ–áƒ” áƒ’áƒáƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ§áƒ£áƒ áƒáƒ“áƒ¦áƒ”áƒ‘áƒ˜áƒ— áƒ“áƒ áƒáƒ áƒ áƒáƒ•áƒ¢áƒáƒáƒ˜áƒšáƒáƒ¢áƒ˜áƒ¡ áƒ áƒ”áƒáƒ¥áƒªáƒ˜áƒáƒ–áƒ”. áƒ”áƒ¡ áƒáƒ áƒ˜áƒ¡ áƒáƒ› áƒ¡áƒáƒ•áƒáƒ áƒ¯áƒ˜áƒ¨áƒáƒ¡ áƒ‘áƒáƒšáƒ áƒœáƒáƒ‘áƒ˜áƒ¯áƒ˜.</p>
                                <p style="margin-top: 10px;">áƒáƒ®áƒšáƒ, áƒ áƒáƒªáƒ áƒ¨áƒ”áƒœ áƒ’áƒáƒáƒ”áƒ áƒ—áƒ˜áƒáƒœáƒ” áƒ¨áƒ”áƒœáƒ˜ áƒ’áƒáƒ›áƒáƒªáƒ“áƒ˜áƒšáƒ”áƒ‘áƒ”áƒ‘áƒ˜ áƒ“áƒ áƒ¨áƒ”áƒœáƒ˜ áƒ¡áƒ£áƒœáƒ—áƒ¥áƒ•áƒ, áƒ¨áƒ”áƒœ áƒ¨áƒ”áƒ’áƒ˜áƒ«áƒšáƒ˜áƒ áƒ¨áƒ”áƒáƒ¤áƒáƒ¡áƒ áƒáƒáƒ¡áƒ£áƒ®áƒ”áƒ‘áƒ˜áƒ¡ áƒ“áƒ˜áƒáƒáƒáƒ–áƒáƒœáƒ˜, áƒ áƒáƒ›áƒšáƒ”áƒ‘áƒ˜áƒª áƒ¨áƒ”áƒœ áƒ’áƒáƒ¥áƒ•áƒ¡ áƒáƒ› áƒ¡áƒ˜áƒ¢áƒ£áƒáƒªáƒ˜áƒáƒ¨áƒ˜. áƒáƒ¦áƒ˜áƒáƒ áƒ”, áƒ áƒáƒ› áƒ¨áƒ”áƒœ áƒ’áƒáƒ¥áƒ•áƒ¡ áƒ«áƒáƒšáƒ áƒ›áƒ˜áƒ˜áƒ¦áƒ áƒ“áƒ áƒ’áƒáƒ“áƒáƒ˜áƒ¢áƒáƒœáƒ áƒ“áƒ˜áƒ¡áƒ™áƒáƒ›áƒ¤áƒáƒ áƒ¢áƒ˜. áƒáƒ¡áƒ”áƒ•áƒ” áƒáƒ¦áƒ˜áƒáƒ áƒ”, áƒ áƒáƒ› áƒ¨áƒ”áƒœ áƒ£áƒ¤áƒšáƒ”áƒ‘áƒáƒ¡ áƒáƒ«áƒšáƒ”áƒ• áƒ›áƒáƒ¡ áƒ“áƒáƒ áƒ©áƒ”áƒ¡ áƒ˜áƒ¡áƒ”áƒ—áƒáƒ“, áƒ áƒáƒ’áƒáƒ áƒ˜áƒª áƒáƒ áƒ˜áƒ¡.</p>
                                <p style="margin-top: 10px;">áƒ¨áƒ”áƒœ áƒ¨áƒ”áƒ«áƒšáƒ”áƒ‘ áƒ’áƒáƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ§áƒ£áƒ áƒáƒ“áƒ¦áƒ”áƒ‘áƒ˜áƒ— áƒáƒ˜áƒ áƒ©áƒ˜áƒ, áƒ—áƒ£ áƒ áƒ áƒ¥áƒ›áƒ”áƒ“áƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒœáƒ®áƒáƒ áƒªáƒ˜áƒ”áƒšáƒ”áƒ‘áƒ áƒ˜áƒ¥áƒœáƒ”áƒ‘áƒ áƒ¡áƒáƒ£áƒ™áƒ”áƒ—áƒ”áƒ¡áƒ áƒáƒáƒ¡áƒ£áƒ®áƒ˜ áƒ˜áƒ› áƒ“áƒ˜áƒ¡áƒ™áƒáƒ›áƒ¤áƒáƒ áƒ¢áƒ–áƒ”, áƒ áƒáƒ›áƒ”áƒšáƒ¡áƒáƒª áƒ’áƒáƒœáƒ˜áƒªáƒ“áƒ˜, áƒ áƒáƒ›áƒ”áƒšáƒ˜áƒª áƒáƒáƒ¡áƒ£áƒ®áƒáƒ‘áƒ¡ áƒ¨áƒ”áƒœáƒ˜ áƒ—áƒáƒ•áƒ“áƒáƒªáƒ•áƒ˜áƒ¡, áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ  áƒ—áƒáƒ•áƒ–áƒ” áƒ–áƒ áƒ£áƒœáƒ•áƒ˜áƒ¡áƒ áƒ“áƒ áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒ˜áƒ–áƒœáƒ”áƒ‘áƒ¡.</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Fixed Button -->
                    <div style="padding: 20px; border-top: 1px solid #e0e0e0; background: white;">
                        <button class="btn btn-primary" onclick="closeTechniqueModal('technique9Modal')" style="width: 100%; padding: 15px;">áƒ“áƒáƒ®áƒ£áƒ áƒ•áƒ</button>
                    </div>
                    
                </div>
            </div>
            
            <!-- Resources Section -->
            <div id="resourcesSection" class="section">
                <h1>ğŸŒŸ áƒ áƒ”áƒ¡áƒ£áƒ áƒ¡áƒ”áƒ‘áƒ˜</h1>
                
                <p style="margin-bottom: 20px; color: #999; font-size: 15px;">áƒ¨áƒ”áƒœáƒ˜ áƒ¨áƒ˜áƒœáƒáƒ’áƒáƒœáƒ˜ áƒ“áƒ áƒ’áƒáƒ áƒ”áƒ’áƒáƒœáƒ˜ áƒ áƒ”áƒ¡áƒ£áƒ áƒ¡áƒ”áƒ‘áƒ˜ áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡</p>
                
                <div id="resourcesList"></div>
                
                <button class="btn btn-secondary" onclick="showResourcesModal()">+ áƒáƒ®áƒáƒšáƒ˜ áƒ áƒ”áƒ¡áƒ£áƒ áƒ¡áƒ˜áƒ¡ áƒ“áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒ</button>
                <button class="btn btn-primary" onclick="showSection('copingMain')" style="margin-top: 15px;">â† áƒ£áƒ™áƒáƒœ</button>
            </div>

            <!-- Coping Add Thought Modal -->
            <div id="copingAddModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000;">
                <div style="background: white; max-width: 800px; margin: 50px auto; border-radius: 12px; padding: 20px;">
                    <h2 style="color: #667eea; margin-bottom: 15px;">â• áƒáƒ®áƒáƒšáƒ˜ áƒáƒ–áƒ áƒ˜áƒ¡ áƒ“áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒ</h2>
                    
                    <div class="field">
                        <label>áƒáƒ–áƒ áƒ˜:</label>
                        <textarea id="copingNewThoughtText" placeholder="áƒ›áƒáƒ’: áƒ›áƒ” áƒ¨áƒ”áƒ›áƒ˜áƒ«áƒšáƒ˜áƒ áƒ›áƒáƒ•áƒ˜áƒ®áƒ›áƒáƒ áƒ..." style="width: 100%; min-height: 80px; padding: 10px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px; font-family: inherit;"></textarea>
                    </div>
                    
                    <div style="display: flex; gap: 10px; margin-top: 15px;">
                        <button class="btn btn-primary" onclick="copingConfirmAddThought()" style="flex: 1;">âœ“ áƒ“áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒ</button>
                        <button class="btn btn-secondary" onclick="copingCloseAddModal()" style="flex: 1;">áƒ’áƒáƒ£áƒ¥áƒ›áƒ”áƒ‘áƒ</button>
                    </div>
                </div>
            </div>
            
            <!-- Coping Edit Thought Modal -->
            <div id="copingThoughtModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; overflow-y: auto;">
                <div style="background: white; max-width: 800px; margin: 30px auto; border-radius: 12px; padding: 40px 20px; min-height: 650px; display: flex; flex-direction: column;">
                    <h2 id="copingThoughtModalTitle" style="color: #667eea; margin-bottom: 25px; line-height: 1.4; word-wrap: break-word; font-size: 20px;"></h2>
                    
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 10px; color: #333; font-size: 15px; font-weight: 600;">1ï¸âƒ£ áƒ áƒáƒ¢áƒáƒ› áƒ›áƒ’áƒáƒœáƒ˜áƒ áƒ áƒáƒ› áƒ¡áƒ¬áƒáƒ áƒ˜áƒ?</label>
                        <textarea id="copingWhyRight" placeholder="áƒ›áƒáƒ’: áƒ«áƒšáƒ˜áƒ”áƒ áƒ˜ áƒ›áƒáƒ—áƒ®áƒáƒ•áƒœáƒ˜áƒšáƒ”áƒ‘áƒ áƒ›áƒ’áƒ áƒ«áƒœáƒáƒ‘áƒ˜áƒœáƒ”áƒ‘áƒ¡..." style="width: 100%; min-height: 150px; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px; font-family: inherit; resize: vertical; box-sizing: border-box;"></textarea>
                    </div>
                    
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 10px; color: #333; font-size: 15px; font-weight: 600;">2ï¸âƒ£ áƒ áƒáƒ¢áƒáƒ› áƒ•áƒ—áƒ•áƒšáƒ˜, áƒ áƒáƒ› áƒáƒ áƒáƒ¡áƒ¬áƒáƒ áƒ˜áƒ, áƒ–áƒ”áƒ“áƒáƒáƒ˜áƒ áƒ£áƒšáƒ˜ áƒáƒœ áƒ¡áƒáƒ®áƒ˜áƒ¤áƒáƒ—áƒ?</label>
                        <textarea id="copingWhyWrong" placeholder="áƒ›áƒáƒ’: áƒ”áƒ¡ áƒ“áƒáƒ›áƒáƒ™áƒ˜áƒ“áƒ”áƒ‘áƒ£áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ˜áƒšáƒ£áƒ–áƒ˜áƒáƒ..." style="width: 100%; min-height: 150px; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px; font-family: inherit; resize: vertical; box-sizing: border-box;"></textarea>
                    </div>
                    
                    <div style="margin-bottom: 25px;">
                        <label style="display: block; margin-bottom: 10px; color: #333; font-size: 15px; font-weight: 600;">3ï¸âƒ£ áƒ áƒ áƒ¨áƒ”áƒ›áƒ˜áƒ«áƒšáƒ˜áƒ áƒ©áƒ”áƒ›áƒ¡ áƒ—áƒáƒ•áƒ¡ áƒ•áƒ£áƒ—áƒ®áƒ áƒ áƒ áƒáƒ—áƒ áƒ“áƒáƒ•áƒ‘áƒ áƒ£áƒœáƒ“áƒ” áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒœáƒ¬áƒ§áƒáƒ‘áƒáƒ–áƒ”?</label>
                        <textarea id="copingWhatToSay" placeholder="áƒ›áƒáƒ’: áƒ”áƒ¡ áƒ“áƒ áƒáƒ”áƒ‘áƒ˜áƒ—áƒ˜ áƒ¨áƒ”áƒ’áƒ áƒ«áƒœáƒ”áƒ‘áƒáƒ..." style="width: 100%; min-height: 150px; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px; font-family: inherit; resize: vertical; box-sizing: border-box;"></textarea>
                    </div>
                    
                    <div style="display: flex; gap: 15px; margin-top: auto;">
                        <button class="btn btn-primary" onclick="copingSaveThought()" style="flex: 1;">ğŸ’¾ áƒ¨áƒ”áƒœáƒáƒ®áƒ•áƒ</button>
                        <button class="btn btn-secondary" onclick="copingCloseEditModal()" style="flex: 1;">áƒ’áƒáƒ£áƒ¥áƒ›áƒ”áƒ‘áƒ</button>
                    </div>
                    
                    <button id="copingDeleteBtn" class="btn" onclick="copingShowDeleteConfirm()" style="width: 100%; display: none; background: #ef4444; color: white; margin-top: 20px;">
                        ğŸ—‘ï¸ áƒ¬áƒáƒ¨áƒšáƒ
                    </button>
                </div>
            </div>
            
            <!-- Coping Confirm Modal -->
            <div id="copingConfirmModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1001;">
                <div style="background: white; max-width: 800px; margin: 100px auto; border-radius: 12px; padding: 25px;">
                    <h2 style="color: #667eea; margin-bottom: 20px;">âš ï¸ áƒ“áƒáƒ“áƒáƒ¡áƒ¢áƒ£áƒ áƒ”áƒ‘áƒ</h2>
                    <p id="copingConfirmMessage" style="color: #666; margin-bottom: 30px; line-height: 1.6;"></p>
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-primary" onclick="copingConfirmDelete(true)" style="flex: 1; background: #ef4444;">âœ“ áƒ“áƒ˜áƒáƒ®</button>
                        <button class="btn btn-secondary" onclick="copingConfirmDelete(false)" style="flex: 1;">áƒ’áƒáƒ£áƒ¥áƒ›áƒ”áƒ‘áƒ</button>
                    </div>
                </div>
            </div>

            <!-- Modal for Usage Motivations -->
            <div id="usageModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; overflow-y: auto;">
                <div style="background: white; max-width: 800px; margin: 50px auto; border-radius: 12px; padding: 30px; max-height: 80vh; overflow-y: auto;">
                    <h2 style="margin-bottom: 20px;">áƒáƒ˜áƒ áƒ©áƒ˜áƒ” áƒ›áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒáƒ¢áƒ˜áƒ•áƒ”áƒ‘áƒ˜</h2>
                    <p style="color: #666; margin-bottom: 20px; font-size: 14px;">áƒ¨áƒ”áƒ’áƒ˜áƒ«áƒšáƒ˜áƒ áƒáƒ˜áƒ áƒ©áƒ˜áƒ áƒ áƒáƒ›áƒ“áƒ”áƒœáƒ˜áƒª áƒ’áƒ˜áƒœáƒ“áƒ</p>
                    <div id="usageModalList"></div>
                    <div style="margin-top: 20px; display: flex; gap: 10px;">
                        <button class="btn btn-primary" onclick="saveUsageSelection()" style="flex: 1;">áƒ¨áƒ”áƒœáƒáƒ®áƒ•áƒ</button>
                        <button class="btn btn-secondary" onclick="closeUsageModal()" style="flex: 1;">áƒ’áƒáƒ£áƒ¥áƒ›áƒ”áƒ‘áƒ</button>
                    </div>
                </div>
            </div>

            <!-- Modal for Recovery Motivations -->
            <div id="recoveryModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; overflow-y: auto;">
                <div style="background: white; max-width: 800px; margin: 50px auto; border-radius: 12px; padding: 30px; max-height: 80vh; overflow-y: auto;">
                    <h2 style="margin-bottom: 20px;">áƒáƒ˜áƒ áƒ©áƒ˜áƒ” áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒáƒ¢áƒ˜áƒ•áƒ”áƒ‘áƒ˜</h2>
                    <p style="color: #666; margin-bottom: 20px; font-size: 14px;">áƒ¨áƒ”áƒ’áƒ˜áƒ«áƒšáƒ˜áƒ áƒáƒ˜áƒ áƒ©áƒ˜áƒ áƒ áƒáƒ›áƒ“áƒ”áƒœáƒ˜áƒª áƒ’áƒ˜áƒœáƒ“áƒ</p>
                    <div id="recoveryModalList"></div>
                    <div style="margin-top: 20px;">
                        <h4 style="margin-bottom: 10px;">+ áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜ áƒ“áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒ</h4>
                        <input type="text" id="customRecoveryInput" placeholder="áƒ©áƒ”áƒ›áƒ˜ áƒ›áƒáƒ¢áƒ˜áƒ•áƒáƒªáƒ˜áƒ..." style="width: 100%; padding: 12px; border-radius: 8px; border: 2px solid #e0e0e0; margin-bottom: 10px;">
                        <button class="btn btn-secondary" onclick="addCustomToModal()" style="width: 100%;">áƒ“áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒ</button>
                    </div>
                    <div style="margin-top: 20px; display: flex; gap: 10px;">
                        <button class="btn btn-primary" onclick="saveRecoverySelection()" style="flex: 1;">áƒ¨áƒ”áƒœáƒáƒ®áƒ•áƒ</button>
                        <button class="btn btn-secondary" onclick="closeRecoveryModal()" style="flex: 1;">áƒ’áƒáƒ£áƒ¥áƒ›áƒ”áƒ‘áƒ</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const DEFAULT_MOTIVATIONS = [
            {id: 'pleasure', text: 'áƒ¡áƒ˜áƒáƒ›áƒáƒ•áƒœáƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒœáƒªáƒ“áƒ, áƒ”áƒ˜áƒ¤áƒáƒ áƒ˜áƒ˜áƒ¡ áƒ¨áƒ”áƒ’áƒ áƒ«áƒœáƒ”áƒ‘áƒ, áƒ›áƒáƒ¬áƒ§áƒ”áƒœáƒ˜áƒšáƒáƒ‘áƒ˜áƒ¡áƒ’áƒáƒœ áƒ’áƒáƒ¥áƒªáƒ”áƒ•áƒ', consequences: 'áƒ—áƒáƒ•áƒáƒ“ áƒªáƒ®áƒáƒ•áƒ áƒ”áƒ‘áƒ˜áƒ¡áƒ’áƒáƒœ áƒ¡áƒ˜áƒáƒ›áƒáƒ•áƒœáƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒ˜áƒ¦áƒ”áƒ‘áƒ˜áƒ¡ áƒ£áƒœáƒáƒ áƒ¡ áƒ›áƒáƒ™áƒáƒ áƒ’áƒ•áƒ˜áƒœáƒ”áƒ‘áƒ¡. áƒ“áƒáƒ¤áƒáƒ›áƒ˜áƒœáƒ˜áƒ¡ áƒ“áƒáƒœáƒ” áƒ˜áƒ™áƒšáƒ”áƒ‘áƒ¡ áƒ¢áƒ•áƒ˜áƒœáƒ¨áƒ˜. áƒªáƒ®áƒáƒ•áƒ áƒ”áƒ‘áƒ áƒ®áƒ“áƒ”áƒ‘áƒ áƒ”áƒ áƒ—áƒ¤áƒ”áƒ áƒáƒ•áƒáƒœáƒ˜, áƒ£áƒáƒ–áƒ áƒ áƒ“áƒ áƒ£áƒ˜áƒœáƒ¢áƒ”áƒ áƒ”áƒ¡áƒ.', recovery: 'áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ áƒ›áƒ˜áƒ‘áƒ áƒ£áƒœáƒ”áƒ‘áƒ¡ áƒªáƒ®áƒáƒ•áƒ áƒ”áƒ‘áƒ˜áƒ— áƒ¢áƒ™áƒ‘áƒáƒ‘áƒ˜áƒ¡ áƒ“áƒ áƒ§áƒáƒ•áƒ”áƒšáƒ“áƒ¦áƒ˜áƒ£áƒ áƒ˜ áƒªáƒ®áƒáƒ•áƒ áƒ”áƒ‘áƒ˜áƒ¡áƒ”áƒ£áƒšáƒ˜ áƒ›áƒáƒ•áƒšáƒ”áƒœáƒ”áƒ‘áƒ˜áƒ¡áƒ’áƒáƒœ áƒ¡áƒ˜áƒáƒ›áƒáƒ•áƒœáƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒ˜áƒ¦áƒ”áƒ‘áƒ˜áƒ¡ áƒ£áƒœáƒáƒ áƒ¡.'},
            {id: 'fun', text: 'áƒ’áƒáƒ áƒ—áƒáƒ‘áƒ/áƒáƒ¦áƒœáƒ˜áƒ¨áƒ•áƒœáƒ/áƒ’áƒáƒœáƒ¬áƒ§áƒáƒ‘áƒ˜áƒ¡ áƒ¡áƒ¬áƒ áƒáƒ¤áƒ˜ áƒ’áƒáƒ£áƒ›áƒ¯áƒáƒ‘áƒ”áƒ¡áƒ”áƒ‘áƒ', consequences: 'áƒ—áƒáƒ•áƒáƒ“ áƒªáƒ®áƒáƒ•áƒ áƒ”áƒ‘áƒ˜áƒ¡áƒ’áƒáƒœ áƒ¡áƒ˜áƒáƒ›áƒáƒ•áƒœáƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒ˜áƒ¦áƒ”áƒ‘áƒ˜áƒ¡ áƒ£áƒœáƒáƒ áƒ¡ áƒ›áƒáƒ™áƒáƒ áƒ’áƒ•áƒ˜áƒœáƒ”áƒ‘áƒ¡. áƒ“áƒáƒ¤áƒáƒ›áƒ˜áƒœáƒ˜áƒ¡ áƒ“áƒáƒœáƒ” áƒ˜áƒ™áƒšáƒ”áƒ‘áƒ¡ áƒ¢áƒ•áƒ˜áƒœáƒ¨áƒ˜. áƒ›áƒáƒ™áƒšáƒ”áƒ•áƒáƒ“áƒ˜áƒáƒœáƒ˜ áƒ®áƒáƒ¡áƒ˜áƒáƒ—áƒ˜áƒ¡ áƒ’áƒáƒ£áƒ›áƒ¯áƒáƒ‘áƒ”áƒ¡áƒ”áƒ‘áƒ, áƒ’áƒ áƒ«áƒ”áƒšáƒ•áƒáƒ“áƒ˜áƒáƒœ áƒáƒ”áƒ áƒ¡áƒáƒ”áƒ¥áƒ¢áƒ˜áƒ•áƒáƒ¨áƒ˜, áƒ©áƒ”áƒ›áƒ˜ áƒªáƒ®áƒáƒ•áƒ áƒ”áƒ‘áƒ˜áƒ“áƒáƒœ áƒáƒ¥áƒ áƒáƒ‘áƒ¡ áƒ¡áƒ˜áƒ®áƒáƒ áƒ£áƒšáƒ˜áƒ¡áƒ áƒ“áƒ áƒ®áƒáƒšáƒ˜áƒ¡áƒ˜áƒ¡ áƒ¨áƒ”áƒ’áƒ áƒ«áƒœáƒ”áƒ‘áƒáƒ¡, áƒ˜áƒ›áƒáƒ¢áƒ”áƒ‘áƒ¡ áƒ“áƒáƒ—áƒ áƒ’áƒ£áƒœáƒ£áƒšáƒáƒ‘áƒ áƒ“áƒ áƒ“áƒáƒ¥áƒ•áƒ”áƒ˜áƒ—áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ’áƒ£áƒœáƒ”áƒ‘áƒ-áƒ’áƒáƒœáƒ¬áƒ§áƒáƒ‘áƒ.', recovery: 'áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ áƒ›áƒ˜áƒ‘áƒ áƒ£áƒœáƒ”áƒ‘áƒ¡ áƒªáƒ®áƒáƒ•áƒ áƒ”áƒ‘áƒ˜áƒ— áƒ¢áƒ™áƒ‘áƒáƒ‘áƒ˜áƒ¡ áƒ“áƒ áƒ§áƒáƒ•áƒ”áƒšáƒ“áƒ¦áƒ˜áƒ£áƒ áƒ˜ áƒªáƒ®áƒáƒ•áƒ áƒ”áƒ‘áƒ˜áƒ¡áƒ”áƒ£áƒšáƒ˜ áƒ›áƒáƒ•áƒšáƒ”áƒœáƒ”áƒ‘áƒ˜áƒ¡áƒ’áƒáƒœ áƒ¡áƒ˜áƒáƒ›áƒáƒ•áƒœáƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒ˜áƒ¦áƒ”áƒ‘áƒ˜áƒ¡ áƒ£áƒœáƒáƒ áƒ¡.'},
            {id: 'self_dissatisfaction', text: 'áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜ áƒ—áƒáƒ•áƒ˜áƒ— áƒ£áƒ™áƒ›áƒáƒ§áƒáƒ¤áƒ˜áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒ’áƒ áƒ«áƒœáƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒ§áƒ£áƒ©áƒ”áƒ‘áƒ', consequences: 'áƒ›áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ áƒ—áƒáƒ•áƒáƒ“ áƒ®áƒ“áƒ”áƒ‘áƒ áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜ áƒ—áƒáƒ•áƒ˜áƒ— áƒ£áƒ™áƒ›áƒáƒ§áƒáƒ¤áƒ˜áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ”áƒ áƒ—-áƒ”áƒ áƒ—áƒ˜ áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒáƒ•áƒáƒœáƒ˜ áƒ¬áƒ§áƒáƒ áƒ.', recovery: 'áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ áƒ˜áƒ«áƒšáƒ”áƒ•áƒ áƒ áƒ”áƒáƒšáƒ£áƒ  áƒ—áƒ•áƒ˜áƒ—áƒ™áƒ›áƒáƒ§áƒáƒ¤áƒ˜áƒšáƒ”áƒ‘áƒáƒ¡.'},
            {id: 'self_pride', text: 'áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜ áƒ—áƒ•áƒ˜áƒ—áƒ’áƒáƒœáƒ“áƒ˜áƒ“áƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒ’áƒ áƒ«áƒœáƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒœáƒªáƒ“áƒ (áƒ›áƒ˜áƒ¦áƒ”áƒ‘áƒ£áƒšáƒ–áƒ” áƒ—áƒáƒ•áƒ˜ áƒ§áƒ•áƒ”áƒšáƒáƒ–áƒ” áƒ›áƒáƒ’áƒáƒ áƒ˜ áƒ¢áƒ˜áƒáƒ˜ áƒ›áƒ’áƒáƒœáƒ˜áƒ)', consequences: 'áƒ›áƒáƒ áƒ—áƒ›áƒ”áƒ•áƒ¡ áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜ áƒ—áƒáƒ•áƒ˜áƒ—, áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜ áƒ áƒ”áƒáƒšáƒ£áƒ áƒ˜ áƒ¨áƒ”áƒ¡áƒáƒ«áƒšáƒ”áƒ‘áƒšáƒáƒ‘áƒ”áƒ‘áƒ˜áƒ— áƒ¡áƒ˜áƒáƒ›áƒáƒ§áƒ˜áƒ¡ áƒ¡áƒáƒ¨áƒ£áƒáƒšáƒ”áƒ‘áƒáƒ¡.', recovery: 'áƒ áƒ”áƒáƒšáƒ£áƒ áƒ˜ áƒ—áƒ•áƒ˜áƒ—áƒ™áƒ›áƒáƒ§áƒáƒ¤áƒ˜áƒšáƒ”áƒ‘áƒ áƒ“áƒ áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜ áƒ—áƒáƒ•áƒ˜áƒ— áƒ¡áƒ˜áƒáƒ›áƒáƒ§áƒ” áƒ¡áƒ¬áƒáƒ áƒ”áƒ“ áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒáƒ¨áƒ˜áƒ.'},
            {id: 'shame_suppression', text: 'áƒ¡áƒ˜áƒ áƒªáƒ®áƒ•áƒ˜áƒšáƒ˜áƒ¡áƒ áƒ“áƒ áƒ¡áƒ®áƒ•áƒ”áƒ‘áƒ˜áƒ¡ áƒ™áƒ áƒ˜áƒ¢áƒ˜áƒ™áƒ˜áƒ¡ áƒ’áƒáƒ§áƒ£áƒ©áƒ”áƒ‘áƒ', consequences: 'áƒ›áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ áƒ—áƒáƒ•áƒáƒ“ áƒ®áƒ“áƒ”áƒ‘áƒ áƒ¡áƒ®áƒ•áƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒ˜áƒ”áƒ  áƒ™áƒ áƒ˜áƒ¢áƒ˜áƒ™áƒ˜áƒ¡áƒ áƒ“áƒ áƒ›áƒ˜áƒ£áƒ¦áƒ”áƒ‘áƒšáƒáƒ‘áƒ˜áƒ¡ áƒ“áƒáƒ›áƒ¡áƒáƒ®áƒ£áƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ”áƒ áƒ—-áƒ”áƒ áƒ—áƒ˜ áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒáƒ•áƒáƒœáƒ˜ áƒ¬áƒ§áƒáƒ áƒ.', recovery: 'áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ áƒáƒ›áƒªáƒ˜áƒ áƒ”áƒ‘áƒ¡ áƒ áƒ”áƒáƒšáƒ£áƒ áƒ˜ áƒ™áƒ áƒ˜áƒ¢áƒ˜áƒ™áƒ˜áƒ¡ áƒ¡áƒáƒ¤áƒ£áƒ«áƒ•áƒ”áƒšáƒ¡. áƒ¡áƒ˜áƒ áƒªáƒ®áƒ•áƒ˜áƒšáƒ˜ áƒ˜áƒªáƒ•áƒšáƒ”áƒ‘áƒ áƒ¡áƒ®áƒ•áƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒ®áƒ áƒ˜áƒ“áƒáƒœ áƒáƒ¦áƒ˜áƒáƒ áƒ”áƒ‘áƒ˜áƒ¡, áƒœáƒ“áƒáƒ‘áƒ˜áƒ¡áƒ áƒ“áƒ áƒáƒáƒ¢áƒ˜áƒ•áƒ˜áƒ¡áƒªáƒ”áƒ›áƒ˜áƒ¡ áƒ¨áƒ”áƒ’áƒ áƒ«áƒœáƒ”áƒ‘áƒ˜áƒ—. áƒ—áƒ£áƒœáƒ“áƒáƒª áƒ¡áƒ˜áƒ áƒªáƒ®áƒ•áƒ˜áƒšáƒ˜ áƒ“áƒ áƒ™áƒ áƒ˜áƒ¢áƒ˜áƒ™áƒ áƒ“áƒáƒ™áƒáƒ•áƒ¨áƒ˜áƒ áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒáƒ  áƒ˜áƒ§áƒáƒ¡ áƒ›áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒáƒ¡áƒ—áƒáƒœ, áƒ›áƒ®áƒáƒšáƒáƒ“ áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ áƒ˜áƒ«áƒšáƒ”áƒ•áƒ áƒ¨áƒáƒœáƒ¡áƒ¡ áƒ áƒ”áƒáƒšáƒ£áƒ áƒáƒ“ áƒ“áƒáƒ£áƒáƒ˜áƒ áƒ˜áƒ¡áƒáƒ˜áƒ áƒ“áƒ” áƒáƒ áƒáƒ‘áƒšáƒ”áƒ›áƒ”áƒ‘áƒ¡ áƒ“áƒ áƒ›áƒáƒ˜áƒáƒáƒ•áƒ áƒœáƒáƒ›áƒ“áƒ•áƒ˜áƒšáƒ˜ áƒ›áƒ˜áƒ›áƒ¦áƒ”áƒ‘áƒšáƒáƒ‘áƒ áƒ“áƒ áƒáƒ áƒ áƒ™áƒ áƒ˜áƒ¢áƒ˜áƒ™áƒ˜áƒ¡ áƒ›áƒáƒ™áƒšáƒ”áƒ•áƒáƒ“áƒ˜áƒáƒœáƒ˜ áƒ˜áƒšáƒ£áƒ–áƒáƒ áƒ£áƒšáƒ˜ áƒ’áƒáƒ§áƒ£áƒ©áƒ”áƒ‘áƒ.'},
            {id: 'recognition', text: 'áƒ¡áƒ®áƒ•áƒ”áƒ‘áƒ˜áƒ¡áƒ’áƒáƒœ áƒáƒ¦áƒ˜áƒáƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒ’áƒ áƒ«áƒœáƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒœáƒªáƒ“áƒ (áƒ›áƒ˜áƒ¦áƒ”áƒ‘áƒ£áƒšáƒ–áƒ” áƒ›áƒ’áƒáƒœáƒ˜áƒ, áƒ áƒáƒ› áƒ’áƒáƒ áƒ¨áƒ”áƒ›áƒáƒ›áƒ§áƒáƒ¤áƒ”áƒ‘áƒ˜áƒ¡ áƒ—áƒ•áƒáƒšáƒ¨áƒ˜ áƒ«áƒáƒšáƒ˜áƒáƒœ áƒ›áƒáƒ’áƒáƒ áƒ˜ áƒ¢áƒ˜áƒáƒ˜ áƒ•áƒáƒ )', consequences: 'áƒ›áƒáƒ áƒ—áƒ›áƒ”áƒ•áƒ¡ áƒ áƒ”áƒáƒšáƒ£áƒ áƒ˜ áƒáƒ¦áƒ˜áƒáƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒ˜áƒ¦áƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒ¡áƒáƒ«áƒšáƒ”áƒ‘áƒšáƒáƒ‘áƒáƒ¡.', recovery: 'áƒ áƒ”áƒáƒšáƒ£áƒ áƒ˜ áƒáƒ¦áƒ˜áƒáƒ áƒ”áƒ‘áƒ, áƒáƒáƒ¢áƒ˜áƒ•áƒ˜áƒ¡áƒªáƒ”áƒ›áƒ áƒ“áƒ áƒœáƒ“áƒáƒ‘áƒ áƒ¡áƒ¬áƒáƒ áƒ”áƒ“ áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ¡áƒáƒ¦áƒ”áƒ‘áƒ˜áƒ¡ áƒáƒ áƒáƒªáƒ”áƒ¡áƒ¡ áƒ›áƒáƒáƒ¥áƒ•áƒ¡.'},
            {id: 'emotion_suppression', text: 'áƒ£áƒ¡áƒ˜áƒáƒ›áƒáƒ•áƒœáƒ áƒ”áƒ›áƒáƒªáƒ˜áƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒ§áƒ£áƒ©áƒ”áƒ‘áƒ', consequences: 'áƒ›áƒáƒ™áƒáƒ áƒ’áƒ•áƒ˜áƒœáƒ”áƒ‘áƒ¡ áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜ áƒ”áƒ›áƒáƒªáƒ˜áƒ”áƒ‘áƒ˜áƒ¡ áƒ—áƒáƒ•áƒáƒ“ áƒ“áƒáƒ áƒ”áƒ’áƒ£áƒšáƒ˜áƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ£áƒœáƒáƒ áƒ¡.', recovery: 'áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ áƒáƒ˜áƒ áƒ˜áƒ¥áƒ˜áƒ— áƒ›áƒ˜áƒ«áƒšáƒ˜áƒ”áƒ áƒ”áƒ‘áƒ¡ áƒ”áƒ›áƒáƒªáƒ˜áƒ”áƒ‘áƒ˜áƒ¡ áƒ áƒ”áƒ’áƒ£áƒšáƒáƒªáƒ˜áƒ˜áƒ¡ áƒ£áƒœáƒáƒ áƒ¡ áƒ“áƒ áƒ–áƒ áƒ“áƒ˜áƒ¡ áƒ¡áƒ¢áƒ áƒ”áƒ¡áƒ›áƒ”áƒ“áƒ”áƒ’áƒáƒ‘áƒáƒ¡. áƒáƒ¡áƒ”áƒ•áƒ”, áƒ¥áƒ áƒ”áƒ‘áƒ áƒœáƒ”áƒ’áƒáƒ¢áƒ˜áƒ£áƒ áƒ˜ áƒ”áƒ›áƒáƒªáƒ˜áƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒ›áƒáƒ›áƒ¬áƒ•áƒ”áƒ•áƒ˜ áƒ”áƒ áƒ—-áƒ”áƒ áƒ—áƒ˜ áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒáƒ•áƒáƒœáƒ˜ áƒ¬áƒ§áƒáƒ áƒ.'},
            {id: 'productivity', text: 'áƒ’áƒáƒ–áƒ áƒ“áƒ˜áƒšáƒ˜ áƒáƒ áƒáƒ“áƒ£áƒ¥áƒ¢áƒ˜áƒ£áƒšáƒáƒ‘áƒ', consequences: 'áƒ›áƒ˜áƒ¥áƒ•áƒ”áƒ˜áƒ—áƒ”áƒ‘áƒ¡ áƒ’áƒ áƒ«áƒ”áƒšáƒ•áƒáƒ“áƒ˜áƒáƒœáƒ˜ áƒ›áƒ˜áƒ–áƒœáƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒ˜áƒ§áƒáƒšáƒ˜áƒ¡ áƒ£áƒœáƒáƒ áƒ¡, áƒ—áƒ•áƒ˜áƒ—áƒ™áƒáƒœáƒ¢áƒ áƒáƒšáƒ¡, áƒ™áƒáƒ’áƒœáƒ˜áƒ¢áƒ£áƒ  áƒ¨áƒ”áƒ¡áƒáƒ«áƒšáƒ”áƒ‘áƒšáƒáƒ‘áƒ”áƒ‘áƒ¡, áƒ§áƒ£áƒ áƒáƒ“áƒ¦áƒ”áƒ‘áƒ˜áƒ¡ áƒ™áƒáƒœáƒªáƒ”áƒœáƒ¢áƒ áƒáƒªáƒ˜áƒ˜áƒ¡ áƒ£áƒœáƒáƒ áƒ¡, áƒ›áƒ”áƒ®áƒ¡áƒ˜áƒ”áƒ áƒ”áƒ‘áƒáƒ¡ áƒ“áƒ áƒ›áƒáƒ áƒ—áƒ›áƒ”áƒ•áƒ¡ áƒ›áƒáƒ¢áƒ˜áƒ•áƒáƒªáƒ˜áƒ”áƒ‘áƒ¡.', recovery: 'áƒáƒ¦áƒ“áƒ’áƒ”áƒ‘áƒ áƒ›áƒ˜áƒ–áƒáƒœáƒ“áƒáƒ¡áƒáƒ®áƒ£áƒšáƒáƒ‘áƒ, áƒ—áƒáƒœáƒ›áƒ˜áƒ›áƒ“áƒ”áƒ•áƒ áƒ£áƒšáƒáƒ‘áƒ, áƒ™áƒáƒœáƒªáƒ”áƒœáƒ¢áƒ áƒáƒªáƒ˜áƒ˜áƒ¡ áƒ£áƒœáƒáƒ áƒ˜ áƒ“áƒ áƒ¨áƒ”áƒ¡áƒáƒ‘áƒáƒ›áƒ˜áƒ¡áƒáƒ“ áƒ áƒ”áƒáƒšáƒ£áƒ áƒ˜ áƒáƒ áƒáƒ“áƒ£áƒ¥áƒ¢áƒ˜áƒ£áƒšáƒáƒ‘áƒ áƒªáƒ®áƒáƒ•áƒ áƒ”áƒ‘áƒ˜áƒ¡áƒ”áƒ£áƒš áƒáƒ”áƒ áƒ¡áƒáƒ”áƒ¥áƒ¢áƒ˜áƒ•áƒáƒ¨áƒ˜.'},
            {id: 'energy', text: 'áƒ›áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ”áƒœáƒ”áƒ áƒ’áƒ˜áƒ, áƒ“áƒ˜áƒ“ áƒ®áƒáƒœáƒ¡ áƒáƒ  áƒ“áƒáƒ¦áƒšáƒ', consequences: 'áƒ›áƒáƒ áƒ—áƒ›áƒ”áƒ•áƒ¡ áƒ”áƒœáƒ”áƒ áƒ’áƒ˜áƒ˜áƒ¡ áƒ—áƒáƒ•áƒáƒ“ áƒ’áƒáƒ›áƒáƒ›áƒ£áƒ¨áƒáƒ•áƒ”áƒ‘áƒ˜áƒ¡ áƒ£áƒœáƒáƒ áƒ¡ áƒ“áƒ áƒ¤áƒ˜áƒ–áƒ˜áƒ™áƒ£áƒ  áƒ’áƒáƒ›áƒ«áƒšáƒ”áƒáƒ‘áƒáƒ¡.', recovery: 'áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ áƒáƒ¦áƒáƒ“áƒ’áƒ”áƒœáƒ¡ áƒ©áƒ”áƒ›áƒ˜ áƒáƒ áƒ’áƒáƒœáƒ˜áƒ–áƒ›áƒ˜áƒ¡ áƒ›áƒ˜áƒ”áƒ  áƒ”áƒœáƒ”áƒ áƒ’áƒ˜áƒ˜áƒ¡ áƒ’áƒáƒ›áƒáƒ›áƒ£áƒ¨áƒáƒ•áƒ”áƒ‘áƒ˜áƒ¡ áƒ‘áƒ£áƒœáƒ”áƒ‘áƒ áƒ˜áƒ• áƒªáƒ˜áƒ™áƒšáƒ¡. áƒáƒ¦áƒáƒ  áƒ›áƒ­áƒ˜áƒ áƒ“áƒ”áƒ‘áƒ áƒ’áƒáƒ áƒ” áƒáƒ áƒ”áƒáƒáƒ áƒáƒ¢áƒ˜ áƒ“áƒ áƒ—áƒáƒ•áƒáƒ“ áƒ’áƒáƒ›áƒáƒ•áƒ˜áƒ›áƒ£áƒ¨áƒáƒ•áƒ”áƒ‘ áƒ”áƒœáƒ”áƒ áƒ’áƒ˜áƒáƒ¡.'},
            {id: 'love_ability', text: 'áƒ¡áƒ˜áƒ§áƒ•áƒáƒ áƒ£áƒšáƒ˜áƒ¡ áƒ£áƒœáƒáƒ áƒ˜ (áƒ áƒ áƒ›áƒáƒ•áƒ˜áƒ®áƒ›áƒáƒ  áƒ§áƒ•áƒ”áƒšáƒ áƒ›áƒ˜áƒ§áƒ•áƒáƒ áƒ¡)', consequences: 'áƒ›áƒáƒ áƒ—áƒ›áƒ”áƒ•áƒ¡ áƒœáƒáƒ›áƒ“áƒ•áƒ˜áƒšáƒ˜, áƒ¯áƒáƒœáƒ¡áƒáƒ¦áƒ˜ áƒ£áƒ áƒ—áƒ˜áƒ”áƒ áƒ—áƒáƒ‘áƒ”áƒ‘áƒ˜áƒ¡ áƒ¥áƒáƒœáƒ˜áƒ¡ áƒ£áƒœáƒáƒ áƒ¡.', recovery: 'áƒœáƒáƒ›áƒ“áƒ•áƒ˜áƒšáƒ˜ áƒ¡áƒ˜áƒ§áƒ•áƒáƒ áƒ£áƒšáƒ˜ áƒ“áƒ áƒ£áƒ áƒ—áƒ˜áƒ”áƒ áƒ—áƒáƒ‘áƒ”áƒ‘áƒ˜ áƒ¡áƒ¬áƒáƒ áƒ”áƒ“ áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒáƒ¡ áƒ›áƒáƒ°áƒ§áƒ•áƒ”áƒ‘áƒ.'},
            {id: 'self_care', text: 'áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜ áƒ—áƒáƒ•áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡ áƒ¡áƒáƒ©áƒ£áƒ¥áƒ áƒ˜áƒ¡ áƒ’áƒáƒ™áƒ”áƒ—áƒ”áƒ‘áƒ', consequences: 'áƒ›áƒáƒ áƒ—áƒ›áƒ”áƒ•áƒ¡ áƒ˜áƒ› áƒ”áƒ áƒ—áƒáƒ“áƒ”áƒ áƒ— áƒªáƒ®áƒáƒ•áƒ áƒ”áƒ‘áƒáƒ¡, áƒ áƒáƒ›áƒ”áƒšáƒ˜áƒª áƒ’áƒáƒ›áƒáƒ©áƒœáƒ˜áƒ.', recovery: 'áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ áƒ”áƒ¡ áƒáƒ áƒ˜áƒ¡ áƒ—áƒ•áƒ˜áƒ—áƒ¡áƒ˜áƒ§áƒ•áƒáƒ áƒ£áƒšáƒ˜, áƒ—áƒ•áƒ˜áƒ—áƒ–áƒ áƒ£áƒœáƒ•áƒ áƒ“áƒ áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜ áƒ—áƒáƒ•áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡ áƒ’áƒáƒ™áƒ”áƒ—áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ§áƒ•áƒ”áƒšáƒáƒ–áƒ” áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒáƒ•áƒáƒœáƒ˜ áƒ¡áƒáƒ©áƒ£áƒ¥áƒáƒ áƒ˜.'},
            {id: 'courage', text: 'áƒ’áƒáƒ›áƒ‘áƒ”áƒ“áƒáƒáƒ‘áƒ, áƒ£áƒ áƒ—áƒ˜áƒ”áƒ áƒ—áƒáƒ‘áƒ”áƒ‘áƒ¨áƒ˜ áƒ’áƒáƒ®áƒ¡áƒœáƒ˜áƒšáƒáƒ‘áƒ', consequences: 'áƒ›áƒáƒ áƒ—áƒ›áƒ”áƒ•áƒ¡ áƒ’áƒáƒ›áƒ‘áƒ”áƒ“áƒáƒáƒ‘áƒáƒ¡ áƒ“áƒ áƒ’áƒáƒ®áƒ¡áƒœáƒ˜áƒšáƒáƒ‘áƒáƒ¡ áƒ¡áƒ˜áƒ¤áƒ®áƒ˜áƒ–áƒšáƒ”áƒ¨áƒ˜.', recovery: 'áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ, áƒ áƒáƒ’áƒáƒ áƒª áƒ—áƒáƒ•áƒ“áƒáƒ¯áƒ”áƒ áƒ”áƒ‘áƒ£áƒšáƒáƒ‘áƒ˜áƒ¡ áƒ“áƒ áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜ áƒ—áƒáƒ•áƒ˜áƒ¡ áƒ’áƒáƒ›áƒáƒ®áƒáƒ¢áƒ•áƒ˜áƒ¡ áƒ¡áƒ¬áƒáƒ áƒ˜ áƒ‘áƒáƒšáƒáƒœáƒ¡áƒ˜áƒ¡ áƒ¨áƒ”áƒ«áƒ”áƒœáƒ˜áƒ¡ áƒ¡áƒáƒ¨áƒ£áƒáƒšáƒ”áƒ‘áƒ.'},
            {id: 'peer_pressure', text: 'áƒ£áƒáƒ áƒ¡ áƒ•áƒ”áƒ  áƒ•áƒ”áƒ£áƒ‘áƒœáƒ”áƒ‘áƒ˜ áƒ›áƒ”áƒ’áƒáƒ‘áƒ áƒ”áƒ‘áƒ¡', consequences: 'áƒ›áƒáƒ áƒ—áƒ›áƒ”áƒ•áƒ¡ áƒ“áƒáƒ›áƒáƒ£áƒ™áƒ˜áƒ“áƒ”áƒ‘áƒšáƒáƒ‘áƒáƒ¡, áƒ—áƒáƒ•áƒ˜áƒ¡áƒ£áƒ¤áƒšáƒ”áƒ‘áƒáƒ¡ áƒ“áƒ áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜ áƒ—áƒáƒ•áƒ˜áƒ¡ áƒáƒáƒ¢áƒ˜áƒ•áƒ˜áƒ¡áƒªáƒ”áƒ›áƒáƒ¡.', recovery: 'áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜ áƒ˜áƒœáƒ¢áƒ”áƒ áƒ”áƒ¡áƒ”áƒ‘áƒ˜áƒ¡ áƒ“áƒáƒªáƒ•áƒ˜áƒ¡ áƒ£áƒœáƒáƒ áƒ¡, áƒáƒ¡áƒ”áƒ áƒ¢áƒ˜áƒ£áƒšáƒáƒ‘áƒáƒ¡ áƒ“áƒ áƒ áƒ”áƒáƒšáƒ£áƒ  áƒ—áƒáƒ•áƒ˜áƒ¡áƒ£áƒ¤áƒšáƒ”áƒ‘áƒáƒ¡.'},
            {id: 'self_reflection', text: 'áƒ—áƒ•áƒ˜áƒ—áƒ©áƒáƒ¦áƒ áƒ›áƒáƒ•áƒ”áƒ‘áƒ', consequences: 'áƒ›áƒáƒ áƒ—áƒ›áƒ”áƒ•áƒ¡ áƒ™áƒáƒœáƒªáƒ”áƒœáƒ¢áƒ áƒáƒªáƒ˜áƒ˜áƒ¡ áƒ£áƒœáƒáƒ áƒ¡, áƒ›áƒ˜áƒ¥áƒ•áƒ”áƒ˜áƒ—áƒ”áƒ‘áƒ¡ áƒ›áƒ”áƒ®áƒ¡áƒ˜áƒ”áƒ áƒ”áƒ‘áƒáƒ¡.', recovery: 'áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ, áƒ áƒáƒ’áƒáƒ áƒª áƒ áƒ”áƒáƒšáƒ£áƒ áƒ˜ áƒ¡áƒáƒ¨áƒ£áƒáƒšáƒ”áƒ‘áƒ áƒ’áƒáƒ•áƒ˜áƒªáƒœáƒ áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜ áƒ—áƒáƒ•áƒ˜.'},
            {id: 'stress', text: 'áƒ¡áƒ¢áƒ áƒ”áƒ¡áƒ˜áƒ¡áƒ’áƒáƒœ áƒ’áƒáƒ¥áƒªáƒ”áƒ•áƒ', consequences: 'áƒ›áƒ˜áƒ¥áƒ•áƒ”áƒ˜áƒ—áƒ”áƒ‘áƒ¡ áƒ¡áƒ¢áƒ áƒ”áƒ¡áƒ˜áƒ¡ áƒ“áƒáƒ›áƒáƒ£áƒ™áƒ˜áƒ“áƒ”áƒ‘áƒšáƒáƒ“ áƒ’áƒáƒ›áƒ™áƒšáƒáƒ•áƒ”áƒ‘áƒ˜áƒ¡ áƒ£áƒœáƒáƒ áƒ¡. áƒ—áƒáƒ•áƒáƒ“ áƒ›áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ áƒ®áƒ“áƒ”áƒ‘áƒ áƒ¡áƒ¢áƒ áƒ”áƒ¡áƒ˜áƒ¡ áƒ”áƒ áƒ—-áƒ”áƒ áƒ—áƒ˜ áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒáƒ•áƒáƒœáƒ˜ áƒ¬áƒ§áƒáƒ áƒ.', recovery: 'áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒ“áƒ”áƒ’áƒáƒ“ áƒ¥áƒ áƒ”áƒ‘áƒ áƒ¡áƒ¢áƒ áƒ”áƒ¡áƒ˜áƒ¡ áƒ”áƒ áƒ—-áƒ”áƒ áƒ—áƒ˜ áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒáƒ•áƒáƒœáƒ˜ áƒ¬áƒ§áƒáƒ áƒ áƒ“áƒ áƒáƒ¡áƒ”áƒ•áƒ” áƒ›áƒ”áƒ–áƒ áƒ“áƒ”áƒ‘áƒ áƒ¡áƒ®áƒ•áƒ áƒ¡áƒ¢áƒ áƒ”áƒ¡áƒ”áƒ‘áƒ˜áƒ¡ áƒ“áƒáƒ›áƒáƒ£áƒ™áƒ˜áƒ“áƒ”áƒ‘áƒšáƒáƒ“ áƒ’áƒáƒ›áƒ™áƒšáƒáƒ•áƒ”áƒ‘áƒ˜áƒ¡ áƒ£áƒœáƒáƒ áƒ˜áƒª. áƒáƒ¡áƒ”áƒ—áƒ˜ áƒ áƒ—áƒ£áƒšáƒ˜ áƒ“áƒáƒáƒ•áƒáƒ“áƒ”áƒ‘áƒ˜áƒ¡ áƒ“áƒáƒ›áƒáƒ áƒªáƒ®áƒ”áƒ‘áƒ áƒ›áƒáƒ«áƒšáƒ”áƒ•áƒ¡ áƒ áƒ”áƒ¡áƒ£áƒ áƒ¡áƒ¡, áƒ áƒáƒ› áƒ—áƒ£ áƒáƒ›áƒáƒ¡ áƒ•áƒáƒ®áƒ”áƒ áƒ®áƒ”áƒ‘, áƒ áƒ áƒ¨áƒ”áƒ˜áƒ«áƒšáƒ”áƒ‘áƒ áƒ¨áƒ”áƒ›áƒ”áƒ›áƒ—áƒ®áƒ•áƒ”áƒ¡ áƒ˜áƒ¡áƒ”áƒ—áƒ˜, áƒ áƒáƒ¡áƒáƒª áƒ•áƒ”áƒ  áƒ’áƒáƒ•áƒ£áƒ›áƒ™áƒšáƒáƒ•áƒ“áƒ”áƒ‘áƒ˜.'},
            {id: 'peer_care', text: 'áƒ—áƒáƒœáƒáƒ›áƒáƒ›áƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒšáƒ”áƒ‘áƒ–áƒ” áƒ–áƒ áƒ£áƒœáƒ•áƒ, áƒ¡áƒ£áƒ áƒ•áƒ˜áƒšáƒ˜ áƒáƒ  áƒ›áƒ˜áƒ•áƒáƒ¢áƒáƒ•áƒ áƒ˜áƒ¡áƒ˜áƒœáƒ˜', consequences: 'áƒ£áƒœáƒ”áƒ‘áƒšáƒ˜áƒ”áƒ“ áƒ›áƒ” áƒ•áƒ®áƒ“áƒ”áƒ‘áƒ˜ áƒ›áƒáƒ—áƒ˜ áƒáƒ› áƒ­áƒáƒáƒ‘áƒ¨áƒ˜ áƒ“áƒáƒ áƒ©áƒ”áƒœáƒ˜áƒ¡ áƒ›áƒ˜áƒ–áƒ”áƒ–áƒ˜. áƒ˜áƒ¡áƒ”áƒ•áƒ” áƒ áƒáƒ’áƒáƒ áƒª, áƒ›áƒ” áƒ›áƒáƒ©áƒ”áƒ áƒ”áƒ‘áƒ¡, áƒ›áƒáƒ—áƒ˜ áƒ¤áƒáƒ¥áƒ¢áƒáƒ áƒ˜ áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒ–áƒáƒ–áƒ”, áƒáƒœáƒáƒšáƒáƒ’áƒ˜áƒ£áƒ áƒáƒ“ áƒ›áƒ”áƒª áƒ›áƒáƒ—áƒ˜ áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒáƒ¤áƒ”áƒ áƒ®áƒ”áƒ‘áƒ”áƒšáƒ˜ áƒ•áƒ®áƒ“áƒ”áƒ‘áƒ˜.', recovery: 'áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ˜áƒ— áƒ¨áƒ”áƒ›áƒ˜áƒ«áƒšáƒ˜áƒ áƒ áƒ”áƒáƒšáƒ£áƒ áƒáƒ“ áƒ•áƒ˜áƒ–áƒ áƒ£áƒœáƒ áƒ—áƒáƒœáƒáƒ›áƒáƒ›áƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒšáƒ”áƒ‘áƒ–áƒ”, áƒ›áƒáƒ—áƒ—áƒ•áƒ˜áƒ¡ áƒ¯áƒáƒœáƒ¡áƒáƒ¦áƒ˜ áƒ›áƒáƒ’áƒáƒšáƒ˜áƒ—áƒ˜áƒ¡ áƒ›áƒ˜áƒªáƒ”áƒ›áƒ˜áƒ—. áƒáƒ¡áƒ”áƒ•áƒ”, áƒ”áƒ¡ áƒ›áƒáƒ«áƒšáƒ”áƒ•áƒ¡ áƒ¡áƒáƒ¨áƒ£áƒáƒšáƒ”áƒ‘áƒáƒ¡, áƒ¡áƒ®áƒ•áƒ áƒáƒ“áƒáƒ›áƒ˜áƒáƒœáƒ”áƒ‘áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡áƒáƒª áƒ•áƒ˜áƒ§áƒ áƒ›áƒ”áƒ¢áƒáƒ“ áƒ›áƒ–áƒ áƒ£áƒœáƒ•áƒ”áƒšáƒ˜ áƒ“áƒ áƒ£áƒ áƒ—áƒ˜áƒ”áƒ áƒ—áƒáƒ‘áƒ”áƒ‘áƒ¨áƒ˜ áƒ©áƒáƒ áƒ—áƒ£áƒšáƒ˜.'},
            // {id: 'resources', text: 'áƒ áƒ”áƒ¡áƒ£áƒ áƒ¡áƒ”áƒ‘áƒ—áƒáƒœ áƒ®áƒ”áƒšáƒ›áƒ˜áƒ¡áƒáƒ¬áƒ•áƒ“áƒáƒ›áƒáƒ‘áƒ', consequences: 'áƒ›áƒáƒ áƒ—áƒ›áƒ”áƒ•áƒ¡ áƒ¤áƒ˜áƒœáƒáƒœáƒ¡áƒ£áƒ , áƒ“áƒ áƒáƒ˜áƒ¡ áƒ“áƒ áƒ”áƒœáƒ”áƒ áƒ’áƒ˜áƒ˜áƒ¡ áƒ áƒ”áƒ¡áƒ£áƒ áƒ¡áƒ”áƒ‘áƒ¡.', recovery: 'áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ áƒáƒ—áƒáƒ•áƒ˜áƒ¡áƒ£áƒ¤áƒšáƒ”áƒ‘áƒ¡ áƒáƒ› áƒ áƒ”áƒ¡áƒ£áƒ áƒ¡áƒ”áƒ‘áƒ¡ áƒ áƒ”áƒáƒšáƒ£áƒ áƒ˜ áƒ›áƒ˜áƒ–áƒœáƒ”áƒ‘áƒ˜áƒ¡áƒ áƒ“áƒ áƒáƒªáƒœáƒ”áƒ‘áƒ”áƒ‘áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡.'},
            {id: 'sleep', text: 'áƒ«áƒ˜áƒšáƒ˜áƒ¡ áƒáƒ áƒáƒ‘áƒšáƒ”áƒ›áƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒ“áƒáƒ­áƒ áƒ / áƒ“áƒáƒ¡áƒáƒ«áƒ˜áƒœáƒ”áƒ‘áƒšáƒáƒ“', consequences: 'áƒáƒœáƒáƒ“áƒ’áƒ£áƒ áƒ”áƒ‘áƒ¡ REM áƒ«áƒ˜áƒšáƒ¡ áƒ“áƒ áƒ¦áƒ áƒ›áƒ áƒ«áƒ˜áƒšáƒ˜áƒ¡ áƒ¤áƒáƒ–áƒ”áƒ‘áƒ¡. áƒ¥áƒ›áƒœáƒ˜áƒ¡ áƒ«áƒ˜áƒšáƒ˜áƒ¡ áƒ“áƒáƒ›áƒáƒ™áƒ˜áƒ“áƒ”áƒ‘áƒ£áƒšáƒ”áƒ‘áƒáƒ¡.', recovery: 'áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ áƒáƒ¦áƒáƒ“áƒ’áƒ”áƒœáƒ¡ áƒ¯áƒáƒœáƒ¡áƒáƒ¦ áƒ«áƒ˜áƒšáƒ˜áƒ¡ áƒ áƒ”áƒŸáƒ˜áƒ›áƒ¡ áƒ“áƒ áƒ áƒ”áƒáƒšáƒ£áƒ  áƒ“áƒáƒ¡áƒ•áƒ”áƒœáƒ”áƒ‘áƒáƒ¡.'},
            {id: 'pain', text: 'áƒ¤áƒ˜áƒ–áƒ˜áƒ™áƒ£áƒ áƒ˜ áƒ¢áƒ™áƒ˜áƒ•áƒ˜áƒšáƒ˜áƒ¡/áƒ“áƒ˜áƒ¡áƒ™áƒáƒ›áƒ¤áƒáƒ áƒ¢áƒ˜áƒ¡ áƒ›áƒáƒ®áƒ¡áƒœáƒ', consequences: 'áƒáƒ¤áƒ£áƒ­áƒ”áƒ‘áƒ¡ áƒ¢áƒ™áƒ˜áƒ•áƒ˜áƒšáƒ˜áƒ¡ áƒ›áƒáƒ áƒ—áƒ•áƒ˜áƒ¡ áƒ‘áƒ£áƒœáƒ”áƒ‘áƒ áƒ˜áƒ• áƒ¡áƒ˜áƒ¡áƒ¢áƒ”áƒ›áƒ”áƒ‘áƒ¡, áƒ–áƒ áƒ“áƒ˜áƒ¡ áƒ¢áƒ™áƒ˜áƒ•áƒ˜áƒšáƒ˜áƒ¡ áƒ›áƒ’áƒ áƒ«áƒœáƒáƒ‘áƒ”áƒšáƒáƒ‘áƒáƒ¡.', recovery: 'áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ áƒáƒ¦áƒáƒ“áƒ’áƒ”áƒœáƒ¡ áƒ¯áƒáƒœáƒ¡áƒáƒ¦ áƒ¢áƒ™áƒ˜áƒ•áƒ˜áƒšáƒ—áƒáƒœ áƒ›áƒ£áƒ¨áƒáƒáƒ‘áƒ˜áƒ¡ áƒ£áƒœáƒáƒ áƒ¡ áƒ“áƒ áƒáƒ›áƒªáƒ˜áƒ áƒ”áƒ‘áƒ¡ áƒ¢áƒ™áƒ˜áƒ•áƒ˜áƒšáƒ˜áƒ¡ áƒáƒ¦áƒ¥áƒ›áƒáƒ¡.'}
        ];

        const DEFAULT_RECOVERY_MOTIVATIONS = [
            "áƒáƒ áƒáƒ“áƒ£áƒ¥áƒ¢áƒ˜áƒ£áƒšáƒáƒ‘áƒ˜áƒ¡ áƒ–áƒ áƒ“áƒ áƒ“áƒ áƒáƒ áƒáƒ¤áƒ”áƒ¡áƒ˜áƒ£áƒšáƒ˜ áƒ›áƒ˜áƒ–áƒœáƒ”áƒ‘áƒ˜",
            "áƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒáƒ‘áƒ/áƒ¡áƒ˜áƒ™áƒ•áƒ“áƒ˜áƒšáƒ˜",
            "áƒ¤áƒ˜áƒœáƒáƒœáƒ¡áƒ£áƒ áƒ˜ áƒ’áƒáƒ£áƒ›áƒ¯áƒáƒ‘áƒ”áƒ¡áƒ”áƒ‘áƒ",
            "áƒªáƒ®áƒáƒ•áƒ áƒ”áƒ‘áƒ˜áƒ— áƒ¢áƒ™áƒ‘áƒáƒ‘áƒ",
            "áƒ“áƒáƒ‘áƒáƒšáƒáƒœáƒ¡áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ”áƒ›áƒáƒªáƒ˜áƒ”áƒ‘áƒ˜ áƒ“áƒ áƒ¡áƒ¢áƒ áƒ”áƒ¡áƒ—áƒáƒœ áƒ’áƒáƒ›áƒ™áƒšáƒáƒ•áƒ”áƒ‘áƒ",
            "áƒ—áƒ•áƒ˜áƒ—áƒ™áƒ›áƒáƒ§áƒáƒ¤áƒ˜áƒšáƒ”áƒ‘áƒ, áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜ áƒ—áƒáƒ•áƒ˜áƒ— áƒ¡áƒ˜áƒáƒ›áƒáƒ§áƒ”",
            "áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜ áƒ—áƒáƒ•áƒ˜áƒ¡ áƒ“áƒáƒ“áƒáƒœáƒáƒ¨áƒáƒ£áƒšáƒ”áƒ‘áƒ˜áƒ¡áƒ’áƒáƒœ áƒ’áƒáƒ—áƒáƒ•áƒ˜áƒ¡áƒ£áƒ¤áƒšáƒ”áƒ‘áƒ",
            "áƒ¡áƒ®áƒ•áƒ”áƒ‘áƒ˜áƒ¡ áƒáƒ¦áƒ˜áƒáƒ áƒ”áƒ‘áƒ, áƒáƒáƒ¢áƒ˜áƒ•áƒ˜áƒ¡áƒªáƒ”áƒ›áƒ, áƒœáƒ“áƒáƒ‘áƒ",
            "áƒ›áƒ˜áƒ£áƒ¦áƒ”áƒ‘áƒšáƒáƒ‘áƒ˜áƒ¡áƒ áƒ“áƒ áƒ™áƒ áƒ˜áƒ¢áƒ˜áƒ™áƒ˜áƒ¡ áƒ—áƒáƒ•áƒ˜áƒ“áƒáƒœ áƒáƒªáƒ˜áƒšáƒ”áƒ‘áƒ",
            "áƒ£áƒ áƒ—áƒ˜áƒ”áƒ áƒ—áƒáƒ‘áƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒ¯áƒáƒœáƒ¡áƒáƒ¦áƒ”áƒ‘áƒ, áƒ¡áƒ˜áƒ§áƒ•áƒáƒ áƒ£áƒšáƒ˜",
            "áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜ áƒ—áƒáƒ•áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡ áƒ¡áƒáƒ©áƒ£áƒ¥áƒ áƒ˜áƒ¡ áƒ’áƒáƒ™áƒ”áƒ—áƒ”áƒ‘áƒ",
            "áƒ¡áƒ®áƒ•áƒ”áƒ‘áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡ áƒ›áƒáƒ’áƒáƒšáƒ˜áƒ—áƒ˜áƒ¡ áƒ›áƒ˜áƒªáƒ”áƒ›áƒ",
            "áƒáƒ¯áƒáƒ®áƒ–áƒ” áƒ“áƒ áƒáƒ®áƒšáƒáƒ‘áƒšáƒ”áƒ‘áƒ–áƒ” áƒ–áƒ áƒ£áƒœáƒ•áƒ",
            "áƒ™áƒáƒœáƒ¢áƒ áƒáƒšáƒ˜áƒ¡ áƒ“áƒáƒ‘áƒ áƒ£áƒœáƒ”áƒ‘áƒ, áƒ—áƒáƒ•áƒ˜áƒ¡áƒ£áƒ¤áƒšáƒ”áƒ‘áƒ, áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜ áƒªáƒ®áƒáƒ•áƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ¡áƒªáƒ”áƒœáƒáƒ áƒ˜áƒ¡ áƒáƒ•áƒ¢áƒáƒ áƒáƒ‘áƒ˜áƒ¡ áƒ“áƒáƒ‘áƒ áƒ£áƒœáƒ”áƒ‘áƒ",
            "áƒ’áƒ áƒ«áƒ”áƒšáƒ•áƒáƒ“áƒ˜áƒáƒœáƒ˜ áƒ›áƒ˜áƒ–áƒœáƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒ˜áƒ¦áƒ¬áƒ”áƒ•áƒ˜áƒ¡ áƒ£áƒœáƒáƒ áƒ˜",
            "áƒáƒ®áƒáƒšáƒ˜ áƒ˜áƒœáƒ¢áƒ”áƒ áƒ”áƒ¡áƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒ©áƒ”áƒœáƒ"
        ];

        const DEFAULT_COGNITIVE_DISTORTIONS = [
            {
                id: 'no_control',
                text: 'áƒ›áƒ” áƒáƒ  áƒ›áƒáƒ¥áƒ•áƒ¡ áƒ™áƒáƒœáƒ¢áƒ áƒáƒšáƒ˜ áƒáƒ› áƒ¡áƒ˜áƒ¢áƒ£áƒáƒªáƒ˜áƒáƒ–áƒ”',
                whyBad: 'áƒáƒ¡áƒ”áƒ—áƒ˜ áƒáƒ–áƒ áƒ˜ áƒ›áƒáƒ áƒ—áƒ›áƒ”áƒ•áƒ¡ áƒáƒáƒ¡áƒ£áƒ®áƒ˜áƒ¡áƒ›áƒ’áƒ”áƒ‘áƒšáƒáƒ‘áƒ˜áƒ¡ áƒ’áƒ áƒ«áƒœáƒáƒ‘áƒáƒ¡ áƒ“áƒ áƒ¥áƒ›áƒ”áƒ“áƒ”áƒ‘áƒ˜áƒ¡ áƒ£áƒœáƒáƒ áƒ¡. áƒ›áƒáƒ’áƒáƒœáƒ”áƒ‘áƒ¡ áƒ áƒáƒ› áƒ£áƒ«áƒšáƒ£áƒ áƒ˜ áƒ•áƒáƒ .',
                whyDistorted: 'áƒ”áƒ¡ áƒáƒ áƒ˜áƒ¡ "áƒ’áƒáƒœáƒ–áƒáƒ’áƒáƒ“áƒ”áƒ‘áƒ" áƒ“áƒ "áƒ™áƒáƒœáƒ¢áƒ áƒáƒšáƒ˜áƒ¡ áƒ˜áƒšáƒ£áƒ–áƒ˜áƒ˜áƒ¡ áƒ“áƒáƒ™áƒáƒ áƒ’áƒ•áƒ". áƒ áƒ”áƒáƒšáƒ£áƒ áƒáƒ“, áƒ—áƒ£áƒ›áƒªáƒ áƒ§áƒ•áƒ”áƒšáƒáƒ¤áƒ”áƒ áƒ¡ áƒ•áƒ”áƒ  áƒ•áƒáƒ™áƒáƒœáƒ¢áƒ áƒáƒšáƒ”áƒ‘, áƒ•áƒáƒ™áƒáƒœáƒ¢áƒ áƒáƒšáƒ”áƒ‘ áƒ©áƒ”áƒ›áƒ¡ áƒ áƒ”áƒáƒ¥áƒªáƒ˜áƒáƒ¡, áƒ’áƒáƒ“áƒáƒ¬áƒ§áƒ•áƒ”áƒ¢áƒ˜áƒšáƒ”áƒ‘áƒ”áƒ‘áƒ¡ áƒ“áƒ áƒ¥áƒ›áƒ”áƒ“áƒ”áƒ‘áƒ”áƒ‘áƒ¡.',
                truthVersion: 'áƒ›áƒ” áƒ•áƒáƒ™áƒáƒœáƒ¢áƒ áƒáƒšáƒ”áƒ‘ áƒ©áƒ”áƒ›áƒ¡ áƒáƒ áƒ©áƒ”áƒ•áƒáƒœáƒ¡. áƒáƒ  áƒ•áƒáƒ™áƒáƒœáƒ¢áƒ áƒáƒšáƒ”áƒ‘ áƒ§áƒ•áƒ”áƒšáƒáƒ¤áƒ”áƒ áƒ¡, áƒ›áƒáƒ’áƒ áƒáƒ› áƒ•áƒáƒ™áƒáƒœáƒ¢áƒ áƒáƒšáƒ”áƒ‘ áƒ§áƒ•áƒ”áƒšáƒáƒ–áƒ” áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒáƒ•áƒáƒœ - áƒ©áƒ”áƒ›áƒ¡ áƒ—áƒáƒ•áƒ¡.'
            },
            {
                id: 'all_or_nothing',
                text: 'áƒ—áƒ£ áƒ¡áƒ áƒ£áƒšáƒ§áƒáƒ¤áƒ˜áƒšáƒ˜ áƒáƒ  áƒ•áƒáƒ , áƒ›áƒáƒ¨áƒ˜áƒœ áƒ¬áƒáƒ áƒ£áƒ›áƒáƒ¢áƒ”áƒ‘áƒ”áƒšáƒ˜ áƒ•áƒáƒ ',
                whyBad: 'áƒáƒ¡áƒ”áƒ—áƒ˜ áƒáƒ–áƒ áƒ˜ áƒ˜áƒ¬áƒ•áƒ”áƒ•áƒ¡ áƒ›áƒ£áƒ“áƒ›áƒ˜áƒ• áƒ£áƒ™áƒ›áƒáƒ§áƒáƒ¤áƒ˜áƒšáƒ”áƒ‘áƒáƒ¡, áƒ¨áƒ¤áƒáƒ—áƒ•áƒáƒ¡ áƒ“áƒ áƒ¡áƒ áƒ£áƒšáƒ§áƒáƒ¤áƒ˜áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒáƒ áƒáƒ áƒ”áƒáƒšáƒ£áƒ  áƒ¡áƒ¢áƒáƒœáƒ“áƒáƒ áƒ¢áƒ”áƒ‘áƒ¡.',
                whyDistorted: 'áƒ”áƒ¡ áƒáƒ áƒ˜áƒ¡ "áƒ¨áƒáƒ•-áƒ—áƒ”áƒ—áƒ áƒ˜ áƒáƒ–áƒ áƒáƒ•áƒœáƒ”áƒ‘áƒ" (all-or-nothing thinking). áƒªáƒ®áƒáƒ•áƒ áƒ”áƒ‘áƒ áƒ¨áƒ”áƒ“áƒ’áƒ”áƒ‘áƒ áƒ¨áƒ£áƒáƒšáƒ”áƒ“áƒ£áƒ áƒ˜ áƒœáƒáƒ‘áƒ˜áƒ¯áƒ”áƒ‘áƒ˜áƒ¡áƒ’áƒáƒœ. áƒáƒ áƒáƒ’áƒ áƒ”áƒ¡áƒ˜ áƒ›áƒœáƒ˜áƒ¨áƒœáƒ”áƒšáƒáƒ•áƒáƒœáƒ˜áƒ, áƒáƒ áƒ áƒ¡áƒ áƒ£áƒšáƒ§áƒáƒ¤áƒ˜áƒšáƒ”áƒ‘áƒ.',
                truthVersion: 'áƒ›áƒ” áƒ•áƒ•áƒ˜áƒ—áƒáƒ áƒ“áƒ”áƒ‘áƒ˜ áƒ“áƒ áƒ•áƒ¡áƒ¬áƒáƒ•áƒšáƒáƒ‘. áƒ§áƒáƒ•áƒ”áƒšáƒ˜ áƒáƒáƒ¢áƒáƒ áƒ áƒœáƒáƒ‘áƒ˜áƒ¯áƒ˜ áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒáƒ•áƒáƒœáƒ˜áƒ, áƒ—áƒ£áƒœáƒ“áƒáƒª áƒ¡áƒ áƒ£áƒšáƒ§áƒáƒ¤áƒ˜áƒšáƒ˜ áƒáƒ  áƒ˜áƒ§áƒáƒ¡.'
            },
            {
                id: 'deserve_punishment',
                text: 'áƒ›áƒ” áƒ•áƒ˜áƒ›áƒ¡áƒáƒ®áƒ£áƒ áƒ”áƒ‘ áƒ“áƒáƒ¡áƒ¯áƒáƒ¡ áƒ©áƒ”áƒ›áƒ˜ áƒ¨áƒ”áƒªáƒ“áƒáƒ›áƒ”áƒ‘áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡',
                whyBad: 'áƒáƒ¡áƒ”áƒ—áƒ˜ áƒáƒ–áƒ áƒ˜ áƒáƒ«áƒšáƒ˜áƒ”áƒ áƒ”áƒ‘áƒ¡ áƒ›áƒáƒ áƒªáƒ®áƒ•áƒ¡, áƒ¨áƒ˜áƒ¨áƒ¡ áƒ“áƒ áƒ—áƒáƒ•áƒ˜áƒ¡-áƒ—áƒáƒ•áƒ˜áƒ¡ áƒ“áƒáƒ¡áƒ¯áƒáƒ¡, áƒ áƒáƒª áƒáƒ¤áƒ”áƒ áƒ®áƒ”áƒ‘áƒ¡ áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒáƒ¡.',
                whyDistorted: 'áƒ”áƒ¡ áƒáƒ áƒ˜áƒ¡ "áƒ—áƒ•áƒ˜áƒ—áƒ“áƒáƒ“áƒáƒœáƒáƒ¨áƒáƒ£áƒšáƒ”áƒ‘áƒ" áƒ“áƒ "áƒ£áƒœáƒ“áƒ-áƒ”áƒ‘áƒ˜áƒ¡ áƒ¢áƒ˜áƒ áƒáƒœáƒ˜áƒ". áƒ¨áƒ”áƒªáƒ“áƒáƒ›áƒ”áƒ‘áƒ˜ áƒ¡áƒ¬áƒáƒ•áƒšáƒ˜áƒ¡ áƒ¨áƒ”áƒ¡áƒáƒ«áƒšáƒ”áƒ‘áƒšáƒáƒ‘áƒáƒ, áƒáƒ áƒ áƒ“áƒáƒ¡áƒ¯áƒ˜áƒ¡ áƒ¡áƒáƒ¤áƒ£áƒ«áƒ•áƒ”áƒšáƒ˜.',
                truthVersion: 'áƒ›áƒ” áƒ•áƒ˜áƒ›áƒ¡áƒáƒ®áƒ£áƒ áƒ”áƒ‘ áƒ—áƒáƒœáƒáƒ’áƒ áƒ«áƒœáƒáƒ‘áƒáƒ¡ áƒ“áƒ áƒ’áƒáƒ’áƒ”áƒ‘áƒáƒ¡. áƒ•áƒ¡áƒ¬áƒáƒ•áƒšáƒáƒ‘ áƒ©áƒ”áƒ›áƒ˜ áƒ¨áƒ”áƒªáƒ“áƒáƒ›áƒ”áƒ‘áƒ˜áƒ“áƒáƒœ áƒ“áƒ áƒ•áƒ˜áƒ–áƒ áƒ“áƒ”áƒ‘áƒ˜.'
            },
            {
                id: 'never_change',
                text: 'áƒ›áƒ” áƒ•áƒ”áƒ áƒáƒ¡áƒáƒ“áƒ”áƒ¡ áƒ¨áƒ”áƒ•áƒ˜áƒªáƒ•áƒšáƒ”áƒ‘áƒ˜ / áƒ§áƒáƒ•áƒ”áƒšáƒ—áƒ•áƒ˜áƒ¡ áƒáƒ¡áƒ” áƒ“áƒáƒ•áƒ áƒ©áƒ”áƒ‘áƒ˜',
                whyBad: 'áƒáƒ¡áƒ”áƒ—áƒ˜ áƒáƒ–áƒ áƒ˜ áƒ›áƒáƒ áƒ—áƒ›áƒ”áƒ•áƒ¡ áƒ˜áƒ›áƒ”áƒ“áƒ¡, áƒ›áƒáƒ¢áƒ˜áƒ•áƒáƒªáƒ˜áƒáƒ¡ áƒ“áƒ áƒªáƒ•áƒšáƒ˜áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒ¡áƒáƒ«áƒšáƒ”áƒ‘áƒšáƒáƒ‘áƒ˜áƒ¡ áƒ áƒ¬áƒ›áƒ”áƒœáƒáƒ¡.',
                whyDistorted: 'áƒ”áƒ¡ áƒáƒ áƒ˜áƒ¡ "áƒ›áƒáƒ›áƒáƒ•áƒšáƒ˜áƒ¡ áƒ¬áƒ˜áƒœáƒáƒ¡áƒ¬áƒáƒ áƒ›áƒ”áƒ¢áƒ§áƒ•áƒ”áƒšáƒ”áƒ‘áƒ" áƒ“áƒ "áƒ’áƒáƒœáƒ–áƒáƒ’áƒáƒ“áƒ”áƒ‘áƒ". áƒáƒ“áƒáƒ›áƒ˜áƒáƒœáƒ”áƒ‘áƒ˜ áƒ›áƒ£áƒ“áƒ›áƒ˜áƒ•áƒáƒ“ áƒ˜áƒªáƒ•áƒšáƒ”áƒ‘áƒ˜áƒáƒœ. áƒ¬áƒáƒ áƒ¡áƒ£áƒšáƒ˜ áƒáƒ  áƒ’áƒáƒœáƒ¡áƒáƒ–áƒ¦áƒ•áƒ áƒáƒ•áƒ¡ áƒ›áƒáƒ›áƒáƒ•áƒáƒšáƒ¡.',
                truthVersion: 'áƒ›áƒ” áƒ•áƒªáƒ•áƒšáƒ˜ áƒ“áƒ áƒ•áƒ•áƒ˜áƒ—áƒáƒ áƒ“áƒ”áƒ‘áƒ˜ áƒ§áƒáƒ•áƒ”áƒšáƒ“áƒ¦áƒ”. áƒ§áƒáƒ•áƒ”áƒšáƒ˜ áƒáƒ áƒ©áƒ”áƒ•áƒáƒœáƒ˜ áƒáƒ§áƒáƒšáƒ˜áƒ‘áƒ”áƒ‘áƒ¡ áƒáƒ®áƒáƒš áƒ•áƒ”áƒ áƒ¡áƒ˜áƒáƒ¡ áƒ©áƒ”áƒ›áƒ˜ áƒ—áƒáƒ•áƒ˜áƒ¡.'
            },
            {
                id: 'once_wont_hurt',
                text: 'áƒ”áƒ áƒ—áƒ®áƒ”áƒš áƒáƒ áƒáƒ¤áƒ”áƒ áƒ¡ áƒ›áƒáƒ˜áƒ¢áƒáƒœáƒ¡ / áƒ›áƒ®áƒáƒšáƒáƒ“ áƒáƒ›áƒ¯áƒ”áƒ áƒáƒ“',
                whyBad: 'áƒ”áƒ¡ áƒáƒ–áƒ áƒ˜ áƒáƒ¡áƒ£áƒ¡áƒ¢áƒ”áƒ‘áƒ¡ áƒ’áƒáƒ“áƒáƒ¬áƒ§áƒ•áƒ”áƒ¢áƒ˜áƒšáƒ”áƒ‘áƒáƒ¡ áƒ“áƒ áƒ›áƒ˜áƒ‘áƒ áƒ£áƒœáƒ”áƒ‘áƒ¡ áƒ«áƒ•áƒ”áƒš áƒ¨áƒáƒ‘áƒšáƒáƒœáƒ¨áƒ˜.',
                whyDistorted: 'áƒ”áƒ¡ áƒáƒ áƒ˜áƒ¡ "áƒ áƒáƒªáƒ˜áƒáƒœáƒáƒšáƒ˜áƒ–áƒáƒªáƒ˜áƒ" áƒ“áƒ "áƒ›áƒ˜áƒœáƒ˜áƒ›áƒ˜áƒ–áƒáƒªáƒ˜áƒ". áƒ“áƒáƒ›áƒáƒ™áƒ˜áƒ“áƒ”áƒ‘áƒ£áƒšáƒ”áƒ‘áƒ áƒ¡áƒ¬áƒáƒ áƒ”áƒ“ "áƒ›áƒ®áƒáƒšáƒáƒ“ áƒ”áƒ áƒ—áƒ®áƒ”áƒš"-áƒ“áƒáƒœ áƒ˜áƒ¬áƒ§áƒ”áƒ‘áƒ.',
                truthVersion: '"áƒ›áƒ®áƒáƒšáƒáƒ“ áƒ”áƒ áƒ—áƒ®áƒ”áƒš" áƒáƒ áƒ˜áƒ¡ áƒ¢áƒ•áƒ˜áƒœáƒ˜áƒ¡ áƒ®áƒ áƒ˜áƒ™áƒ˜. áƒ›áƒ” áƒ•áƒ˜áƒ áƒ©áƒ”áƒ• áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒáƒ¡ áƒáƒ®áƒšáƒ áƒ“áƒ áƒ§áƒáƒ•áƒ”áƒšáƒ“áƒ¦áƒ”.'
            },
            {
                id: 'too_hard',
                text: 'áƒ”áƒ¡ áƒ«áƒáƒšáƒ˜áƒáƒœ áƒ áƒ—áƒ£áƒšáƒ˜áƒ, áƒ•áƒ”áƒ  áƒ’áƒáƒ•áƒ«áƒšáƒ”áƒ‘',
                whyBad: 'áƒáƒ¡áƒ”áƒ—áƒ˜ áƒáƒ–áƒ áƒ˜ áƒáƒ›áƒªáƒ˜áƒ áƒ”áƒ‘áƒ¡ áƒ—áƒ•áƒ˜áƒ—áƒ¨áƒ”áƒ¤áƒáƒ¡áƒ”áƒ‘áƒáƒ¡ áƒ“áƒ áƒ áƒ¬áƒ›áƒ”áƒœáƒáƒ¡ áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ  áƒ«áƒáƒšáƒ”áƒ‘áƒ¨áƒ˜.',
                whyDistorted: 'áƒ”áƒ¡ áƒáƒ áƒ˜áƒ¡ "áƒ™áƒáƒ¢áƒáƒ¡áƒ¢áƒ áƒáƒ¤áƒ˜áƒ–áƒáƒªáƒ˜áƒ" áƒ“áƒ "áƒ”áƒ›áƒáƒªáƒ˜áƒ£áƒ áƒ˜ áƒ›áƒ¡áƒ¯áƒ”áƒšáƒáƒ‘áƒ". áƒ’áƒ áƒ«áƒœáƒáƒ‘áƒ "áƒ•áƒ”áƒ  áƒ’áƒáƒ•áƒ«áƒšáƒ”áƒ‘" áƒáƒ  áƒœáƒ˜áƒ¨áƒœáƒáƒ•áƒ¡ áƒ¤áƒáƒ¥áƒ¢áƒ¡ "áƒ•áƒ”áƒ  áƒ’áƒáƒ«áƒšáƒ”áƒ‘".',
                truthVersion: 'áƒ›áƒ” áƒ«áƒšáƒ˜áƒ”áƒ áƒ˜ áƒ•áƒáƒ  áƒ•áƒ˜áƒ“áƒ áƒ” áƒ”áƒ¡ áƒ’áƒ áƒ«áƒœáƒáƒ‘áƒ. áƒ áƒ—áƒ£áƒšáƒ˜ áƒáƒ  áƒœáƒ˜áƒ¨áƒœáƒáƒ•áƒ¡ áƒ¨áƒ”áƒ£áƒ«áƒšáƒ”áƒ‘áƒ”áƒšáƒ¡. áƒ”áƒ áƒ—áƒ˜ áƒ“áƒ¦áƒ” áƒ”áƒ áƒ—áƒ“áƒ áƒáƒ£áƒšáƒáƒ“.'
            },
            {
                id: 'nobody_understands',
                text: 'áƒáƒ áƒáƒ•áƒ˜áƒœ áƒ›áƒ”áƒ¡áƒ›áƒ˜áƒ¡ / áƒ›áƒáƒ áƒ¢áƒ áƒ•áƒáƒ  áƒáƒ› áƒáƒ áƒáƒ‘áƒšáƒ”áƒ›áƒáƒ¨áƒ˜',
                whyBad: 'áƒáƒ¡áƒ”áƒ—áƒ˜ áƒáƒ–áƒ áƒ˜ áƒáƒ«áƒšáƒ˜áƒ”áƒ áƒ”áƒ‘áƒ¡ áƒ˜áƒ–áƒáƒšáƒáƒªáƒ˜áƒáƒ¡ áƒ“áƒ áƒ›áƒáƒ áƒ—áƒ›áƒ”áƒ•áƒ¡ áƒ“áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ«áƒ˜áƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒáƒ¢áƒ˜áƒ•áƒáƒªáƒ˜áƒáƒ¡.',
                whyDistorted: 'áƒ”áƒ¡ áƒáƒ áƒ˜áƒ¡ "áƒáƒ–áƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ¬áƒáƒ™áƒ˜áƒ—áƒ®áƒ•áƒ" áƒ“áƒ "áƒ¤áƒ˜áƒšáƒ¢áƒ áƒáƒªáƒ˜áƒ" (áƒ›áƒ®áƒáƒšáƒáƒ“ áƒ£áƒáƒ áƒ§áƒáƒ¤áƒ˜áƒ—áƒ˜áƒ¡ áƒ“áƒáƒœáƒáƒ®áƒ•áƒ). áƒ›áƒ˜áƒšáƒ˜áƒáƒœáƒáƒ‘áƒ˜áƒ— áƒáƒ“áƒáƒ›áƒ˜áƒáƒœáƒ˜ áƒ˜áƒ‘áƒ áƒ«áƒ•áƒ˜áƒ¡ áƒ“áƒáƒ›áƒáƒ™áƒ˜áƒ“áƒ”áƒ‘áƒ£áƒšáƒ”áƒ‘áƒáƒ¡áƒ—áƒáƒœ.',
                truthVersion: 'áƒáƒ áƒ˜áƒáƒœ áƒáƒ“áƒáƒ›áƒ˜áƒáƒœáƒ”áƒ‘áƒ˜ áƒ áƒáƒ›áƒšáƒ”áƒ‘áƒ˜áƒª áƒ›áƒ”áƒ¡áƒ›áƒ˜áƒáƒœ. áƒ›áƒ” áƒáƒ  áƒ•áƒáƒ  áƒ›áƒáƒ áƒ¢áƒ áƒáƒ› áƒ’áƒ–áƒáƒ–áƒ” áƒ“áƒ áƒ¨áƒ”áƒ›áƒ˜áƒ«áƒšáƒ˜áƒ áƒ“áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒáƒ—áƒ®áƒáƒ•áƒœáƒ.'
            }
        ];

        const DEFAULT_SYMPTOMS = [
            {category: 'áƒ¢áƒáƒšáƒ”áƒ áƒáƒœáƒ¢áƒáƒ‘áƒ', symptoms: [
                'áƒ¡áƒáƒ­áƒ˜áƒ áƒáƒ áƒ›áƒ”áƒ¢áƒ˜ áƒáƒšáƒ™áƒáƒ°áƒáƒšáƒ˜áƒ¡ áƒáƒœ áƒœáƒáƒ áƒ™áƒáƒ¢áƒ˜áƒ™áƒ˜áƒ¡ áƒ›áƒ˜áƒ¦áƒ”áƒ‘áƒ áƒ¡áƒáƒ¡áƒ£áƒ áƒ•áƒ”áƒšáƒ˜ áƒ”áƒ¤áƒ”áƒ¥áƒ¢áƒ˜áƒ¡ áƒ›áƒ˜áƒ¡áƒáƒ¦áƒ¬áƒ”áƒ•áƒáƒ“',
                'áƒáƒšáƒ™áƒáƒ°áƒáƒšáƒ˜áƒ¡ áƒáƒœ áƒœáƒáƒ áƒ™áƒáƒ¢áƒ˜áƒ™áƒ”áƒ‘áƒ˜áƒ¡ áƒ©áƒ•áƒ”áƒ£áƒšáƒ˜ áƒ áƒáƒáƒ“áƒ”áƒœáƒáƒ‘áƒ áƒáƒ¦áƒáƒ  áƒ˜áƒ«áƒšáƒ”áƒ•áƒ áƒ¡áƒáƒ¡áƒ£áƒ áƒ•áƒ”áƒš áƒ”áƒ¤áƒ”áƒ¥áƒ¢áƒ¡'
            ]},
            {category: 'áƒáƒ‘áƒ¡áƒ¢áƒ˜áƒœáƒ”áƒœáƒªáƒ˜áƒ', symptoms: [
                'áƒ áƒáƒªáƒ áƒ—áƒ¥áƒ•áƒ”áƒœ áƒáƒ  áƒ’áƒáƒ¥áƒ•áƒ— áƒáƒœ áƒ—áƒ¥áƒ•áƒ”áƒœáƒ—áƒáƒœ áƒáƒ®áƒšáƒáƒ¡ áƒáƒ  áƒáƒ áƒ˜áƒ¡ áƒáƒšáƒ™áƒáƒ°áƒáƒšáƒ˜ áƒáƒœ áƒœáƒáƒ áƒ™áƒáƒ¢áƒ˜áƒ™áƒ”áƒ‘áƒ˜, áƒ’áƒáƒœáƒ˜áƒªáƒ“áƒ˜áƒ— áƒ¤áƒ˜áƒ–áƒ˜áƒ™áƒ£áƒ  áƒáƒœ áƒ”áƒ›áƒáƒªáƒ˜áƒáƒœáƒáƒšáƒ£áƒ  áƒ“áƒ˜áƒ¡áƒ™áƒáƒ›áƒ¤áƒáƒ áƒ¢áƒ¡',
                'áƒ—áƒ¥áƒ•áƒ”áƒœ áƒ’áƒáƒ›áƒáƒ’áƒ˜áƒ§áƒ”áƒœáƒ”áƒ‘áƒ˜áƒáƒ— áƒáƒšáƒ™áƒáƒ°áƒáƒšáƒ˜ áƒáƒœ áƒœáƒáƒ áƒ™áƒáƒ¢áƒ˜áƒ™áƒ˜, áƒ áƒáƒ—áƒ áƒ—áƒáƒ•áƒ˜ áƒ’áƒ”áƒ’áƒ áƒ«áƒœáƒáƒ— áƒ£áƒ™áƒ”áƒ—, áƒ›áƒáƒ¡ áƒ›áƒ”áƒ áƒ” áƒ áƒáƒª áƒ›áƒáƒ— áƒ›áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒáƒ¡ áƒ—áƒáƒ•áƒ˜ áƒ“áƒáƒáƒœáƒ”áƒ‘áƒ”áƒ—'
            ]},
            {category: 'áƒšáƒ¢áƒáƒšáƒ•áƒ', symptoms: [
                'áƒ®áƒ¨áƒ˜áƒ áƒáƒ“ áƒ¤áƒ˜áƒ¥áƒ áƒáƒ‘áƒ— áƒœáƒáƒ áƒ™áƒáƒ¢áƒ˜áƒ™áƒ”áƒ‘áƒ–áƒ” áƒ“áƒ áƒáƒšáƒ™áƒáƒ°áƒáƒšáƒ–áƒ”',
                'áƒ¡áƒáƒœáƒáƒ› áƒáƒ  áƒ“áƒáƒ˜áƒ™áƒ›áƒáƒ§áƒáƒ¤áƒ˜áƒšáƒ”áƒ‘áƒ— áƒ“áƒáƒšáƒ”áƒ•áƒ˜áƒ¡ áƒáƒœ áƒœáƒáƒ áƒ™áƒáƒ¢áƒ˜áƒ™áƒ˜áƒ¡ áƒ›áƒ˜áƒ¦áƒ”áƒ‘áƒ˜áƒ¡ áƒ¡áƒ£áƒ áƒ•áƒ˜áƒšáƒ¡, áƒ—áƒ¥áƒ•áƒ”áƒœ áƒ«áƒáƒšáƒ˜áƒáƒœ áƒ’áƒ˜áƒ­áƒ˜áƒ áƒ— áƒ—áƒáƒ•áƒ˜áƒ“áƒáƒœ áƒáƒ›áƒáƒ˜áƒ’áƒ“áƒáƒ— áƒ¤áƒ˜áƒ¥áƒ áƒ”áƒ‘áƒ˜ áƒáƒ›áƒ˜áƒ¡ áƒ¨áƒ”áƒ¡áƒáƒ®áƒ”áƒ‘'
            ]},
            {category: 'áƒ™áƒáƒœáƒ¢áƒ áƒáƒšáƒ˜áƒ¡ áƒ“áƒáƒ™áƒáƒ áƒ’áƒ•áƒ', symptoms: [
                'áƒ—áƒ¥áƒ•áƒ”áƒœ áƒ¡áƒªáƒáƒ“áƒ”áƒ— áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜ áƒ—áƒáƒ•áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡ áƒ“áƒáƒ’áƒ”áƒ§áƒ”áƒœáƒ”áƒ‘áƒ˜áƒœáƒáƒ— áƒ¬áƒ”áƒ¡áƒ”áƒ‘áƒ˜ áƒ›áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ¡áƒ˜áƒ®áƒ¨áƒ˜áƒ áƒ”áƒ¡áƒ—áƒáƒœ áƒ“áƒáƒ™áƒáƒ•áƒ¨áƒ˜áƒ áƒ”áƒ‘áƒ˜áƒ—, áƒ›áƒáƒ’áƒ áƒáƒ› áƒ•áƒ”áƒ  áƒ¨áƒ”áƒ«áƒ”áƒšáƒ˜áƒ— áƒ›áƒáƒ—áƒ˜ áƒ“áƒáƒªáƒ•áƒ',
                'áƒ—áƒ¥áƒ•áƒ”áƒœ áƒ”áƒªáƒáƒ“áƒ”áƒ—, áƒ›áƒáƒ’áƒ áƒáƒ› áƒ•áƒ”áƒ  áƒ¨áƒ”áƒ«áƒ”áƒšáƒ˜áƒ— áƒáƒšáƒ™áƒáƒ°áƒáƒšáƒ˜áƒ¡ áƒáƒœ áƒœáƒáƒ áƒ™áƒáƒ¢áƒ˜áƒ™áƒ˜áƒ¡ áƒ›áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡ áƒ—áƒáƒ•áƒ˜áƒ¡ áƒ“áƒáƒœáƒ”áƒ‘áƒ”áƒ‘áƒ áƒáƒœ áƒ›áƒáƒ—áƒ˜ áƒ›áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒªáƒ˜áƒ áƒ”áƒ‘áƒ',
                'áƒ—áƒ¥áƒ•áƒ”áƒœ áƒ¨áƒ”áƒáƒ›áƒ©áƒœáƒ˜áƒ”áƒ—, áƒ áƒáƒ› áƒ¡áƒ•áƒáƒ•áƒ— áƒáƒœ áƒ›áƒáƒ˜áƒ®áƒ›áƒáƒ áƒ— áƒœáƒáƒ áƒ™áƒáƒ¢áƒ˜áƒ™áƒ¡ áƒ£áƒ¤áƒ áƒ áƒ›áƒ”áƒ¢áƒáƒ“ áƒ•áƒ˜áƒ“áƒ áƒ” áƒáƒ›áƒáƒ¡ áƒ’áƒ”áƒ’áƒ›áƒáƒ•áƒ“áƒ˜áƒ—, áƒáƒœ áƒ£áƒ¤áƒ áƒ áƒ®áƒáƒœáƒ’áƒ áƒ«áƒšáƒ˜áƒ•áƒ˜ áƒ“áƒ áƒáƒ˜áƒ¡ áƒ’áƒáƒœáƒ›áƒáƒ•áƒšáƒáƒ‘áƒáƒ¨áƒ˜ áƒ•áƒ˜áƒ“áƒ áƒ” áƒ’áƒ˜áƒœáƒ“áƒáƒ“áƒáƒ—',
                'áƒáƒ”áƒ áƒ˜áƒáƒ“áƒ£áƒšáƒáƒ“ áƒ—áƒ¥áƒ•áƒ”áƒœ áƒáƒ›áƒ©áƒœáƒ”áƒ•áƒ“áƒ˜áƒ—, áƒ áƒáƒ› áƒáƒšáƒ™áƒáƒ°áƒáƒšáƒ˜áƒ¡ áƒáƒœ áƒœáƒáƒ áƒ™áƒáƒ¢áƒ˜áƒ™áƒ˜áƒ¡ áƒ’áƒáƒ áƒ”áƒ¨áƒ” áƒáƒ  áƒ¨áƒ”áƒ’áƒ”áƒ«áƒšáƒáƒ— áƒ—áƒáƒ•áƒ˜ áƒ’áƒ”áƒ’áƒ áƒ«áƒœáƒáƒ— áƒ›áƒ¨áƒ•áƒ˜áƒ“áƒáƒ“ áƒ™áƒáƒ›áƒáƒáƒœáƒ˜áƒáƒ¨áƒ˜ áƒáƒœ áƒ£áƒ‘áƒ áƒáƒšáƒáƒ— áƒ—áƒáƒ•áƒ˜ áƒ’áƒ”áƒ’áƒ áƒ«áƒœáƒáƒ— áƒ™áƒáƒ áƒ’áƒáƒ“',
                'áƒ—áƒ¥áƒ•áƒ”áƒœ áƒ›áƒáƒ˜áƒ®áƒ›áƒáƒ áƒ“áƒ˜áƒ— áƒáƒšáƒ™áƒáƒ°áƒáƒšáƒ¡ áƒáƒœ áƒœáƒáƒ áƒ™áƒáƒ¢áƒ˜áƒ™áƒ¡, áƒ áƒáƒ“áƒ”áƒ¡áƒáƒª áƒ•áƒ˜áƒœáƒ›áƒ”áƒ–áƒ” áƒœáƒáƒ¬áƒ§áƒ”áƒœáƒ˜ áƒáƒœ áƒ’áƒáƒ‘áƒ áƒáƒ–áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ˜áƒ§áƒáƒ•áƒ˜áƒ—',
                'áƒ—áƒ¥áƒ•áƒ”áƒœ áƒ˜áƒ—áƒ˜áƒ¨áƒ”áƒ‘áƒáƒ“áƒ˜áƒ—, áƒáƒœ áƒ’áƒ¥áƒáƒœáƒ“áƒáƒ— áƒ›áƒ”áƒ®áƒ¡áƒ˜áƒ”áƒ áƒ”áƒ‘áƒáƒ¨áƒ˜ áƒ©áƒáƒ•áƒáƒ áƒ“áƒœáƒ”áƒ‘áƒ˜ áƒáƒšáƒ™áƒáƒ°áƒáƒšáƒ˜áƒ¡ áƒáƒœ áƒœáƒáƒ áƒ™áƒáƒ¢áƒ˜áƒ™áƒ˜áƒ¡ áƒ–áƒ”áƒ›áƒáƒ¥áƒ›áƒ”áƒ“áƒ”áƒ‘áƒ˜áƒ¡ áƒ¥áƒ•áƒ”áƒ¨',
                'áƒ—áƒ¥áƒ•áƒ”áƒœ áƒ’áƒ¥áƒáƒœáƒ“áƒáƒ— áƒœáƒáƒ áƒ™áƒáƒ¢áƒ˜áƒ™áƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒ“áƒáƒ­áƒáƒ áƒ‘áƒ”áƒ‘áƒ˜áƒ— áƒ›áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒ—áƒ®áƒ•áƒ”áƒ•áƒ”áƒ‘áƒ˜',
                'áƒ—áƒ¥áƒ•áƒ”áƒœ áƒ˜áƒ§áƒ”áƒœáƒ”áƒ‘áƒ“áƒ˜áƒ— áƒ”áƒ áƒ— áƒáƒœ áƒ áƒáƒ›áƒ“áƒ”áƒœáƒ˜áƒ›áƒ” áƒœáƒáƒ áƒ™áƒáƒ¢áƒ˜áƒ™áƒ¡ áƒ›áƒáƒ¨áƒ˜áƒœ, áƒ áƒáƒ“áƒ”áƒ¡áƒáƒª áƒáƒ  áƒ˜áƒªáƒáƒ“áƒ˜áƒ— áƒ áƒ áƒáƒ áƒ”áƒáƒáƒ áƒáƒ¢áƒ˜ áƒ˜áƒ§áƒ áƒ˜áƒ¡ áƒ“áƒ áƒ áƒáƒ’áƒáƒ  áƒ’áƒáƒ•áƒšáƒ”áƒœáƒáƒ¡ áƒ˜áƒ¥áƒáƒœáƒ˜áƒ”áƒ‘áƒ“áƒ áƒ—áƒ¥áƒ•áƒ”áƒœáƒ–áƒ”',
                'áƒáƒšáƒ™áƒáƒ°áƒáƒšáƒ˜áƒ¡ áƒáƒœ áƒœáƒáƒ áƒ™áƒáƒ¢áƒ˜áƒ™áƒ˜áƒ¡ áƒ¨áƒ”áƒ¬áƒ§áƒ•áƒ”áƒ¢áƒáƒ¡áƒ—áƒáƒœ áƒ“áƒáƒ™áƒáƒ•áƒ¨áƒ˜áƒ áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ¤áƒ˜áƒ¥áƒ áƒ˜ áƒ—áƒ¥áƒ•áƒ”áƒœáƒ¨áƒ˜ áƒ˜áƒ¬áƒ•áƒ”áƒ•áƒ¡/áƒ˜áƒ¬áƒ•áƒ”áƒ•áƒ“áƒ áƒ¨áƒ¤áƒáƒ—áƒ•áƒáƒ¡'
            ]},
            {category: 'áƒáƒ áƒáƒ‘áƒšáƒ”áƒ›áƒ”áƒ‘áƒ˜ áƒ™áƒáƒœáƒáƒœáƒ—áƒáƒœ', symptoms: [
                'áƒ—áƒ¥áƒ•áƒ”áƒœ áƒ“áƒáƒ£áƒ­áƒ”áƒ áƒ˜áƒ®áƒáƒ áƒ— (áƒáƒœ áƒ—áƒ¥áƒ•áƒ”áƒœ áƒ’áƒ¥áƒáƒœáƒ“áƒáƒ— áƒ¡áƒ®áƒ•áƒ áƒáƒ áƒáƒ‘áƒšáƒ”áƒ›áƒ”áƒ‘áƒ˜ áƒ™áƒáƒœáƒáƒœáƒ—áƒáƒœ) áƒáƒšáƒ™áƒáƒ°áƒáƒšáƒ˜áƒ¡ áƒáƒœ áƒœáƒáƒ áƒ™áƒáƒ¢áƒ˜áƒ™áƒ˜áƒ¡ áƒ’áƒáƒ›áƒáƒ§áƒ”áƒœáƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒ›áƒ',
                'áƒ—áƒ¥áƒ•áƒ”áƒœ áƒ›áƒ˜áƒ’áƒ˜áƒ›áƒáƒ áƒ—áƒáƒ•áƒ— áƒ¥áƒ£áƒ áƒ“áƒáƒ‘áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡ áƒ áƒáƒ—áƒ áƒ’áƒáƒ“áƒáƒ’áƒ”áƒ®áƒáƒ“áƒáƒ— áƒáƒšáƒ™áƒáƒ°áƒáƒšáƒ˜áƒ¡ áƒáƒœ áƒœáƒáƒ áƒ™áƒáƒ¢áƒ˜áƒ™áƒ˜áƒ¡ áƒ¦áƒ˜áƒ áƒ”áƒ‘áƒ£áƒšáƒ”áƒ‘áƒ'
            ]},
            {category: 'áƒáƒ áƒáƒ‘áƒšáƒ”áƒ›áƒ”áƒ‘áƒ˜ áƒ¡áƒáƒªáƒ˜áƒáƒšáƒ£áƒ  áƒáƒœ áƒáƒ áƒáƒ¤áƒ”áƒ¡áƒ˜áƒ£áƒš áƒªáƒ®áƒáƒ•áƒ áƒ”áƒ‘áƒáƒ¨áƒ˜', symptoms: [
                'áƒ—áƒ¥áƒ•áƒ”áƒœ áƒ£áƒ¨áƒ•áƒ”áƒ‘áƒ“áƒ˜áƒ— áƒ¨áƒ”áƒªáƒ“áƒáƒ›áƒ”áƒ‘áƒ¡ áƒ¡áƒáƒ›áƒ¡áƒáƒ®áƒ£áƒ áƒ¨áƒ˜ áƒáƒœ áƒ¡áƒ¬áƒáƒ•áƒšáƒáƒ¨áƒ˜ áƒáƒšáƒ™áƒáƒ°áƒáƒšáƒ˜áƒ¡ áƒáƒœ áƒœáƒáƒ áƒ™áƒáƒ¢áƒ˜áƒ™áƒ˜áƒ¡ áƒ’áƒáƒ›áƒáƒ§áƒ”áƒœáƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒ›áƒ',
                'áƒáƒšáƒ™áƒáƒ°áƒáƒšáƒ˜áƒ¡ áƒáƒœ áƒœáƒáƒ áƒ™áƒáƒ¢áƒ˜áƒ™áƒ˜áƒ¡ áƒ’áƒáƒ›áƒáƒ§áƒ”áƒœáƒ”áƒ‘áƒáƒ› áƒ–áƒ˜áƒáƒœáƒ˜ áƒ›áƒ˜áƒáƒ§áƒ”áƒœáƒ áƒ—áƒ¥áƒ•áƒ”áƒœáƒ¡ áƒ£áƒ áƒ—áƒ˜áƒ”áƒ áƒ—áƒáƒ‘áƒ”áƒ‘áƒ¡ áƒ¡áƒ®áƒ•áƒ áƒáƒ“áƒáƒ›áƒ˜áƒáƒœáƒ”áƒ‘áƒ—áƒáƒœ',
                'áƒ—áƒ¥áƒ•áƒ”áƒœ áƒ•áƒ”áƒ  áƒáƒ®áƒ”áƒ áƒ®áƒ”áƒ‘áƒ“áƒ˜áƒ— áƒ¨áƒ”áƒ’áƒ”áƒ¡áƒ áƒ£áƒšáƒ”áƒ‘áƒ˜áƒœáƒáƒ— áƒ¡áƒ®áƒ•áƒáƒ“áƒáƒ¡áƒ®áƒ•áƒ áƒáƒáƒ¡áƒ£áƒ®áƒ˜áƒ¡áƒ›áƒ’áƒ”áƒ‘áƒšáƒáƒ‘áƒ”áƒ‘áƒ˜ (áƒ›áƒáƒ’. áƒ’áƒáƒ«áƒ¦áƒáƒšáƒáƒ“áƒ˜áƒ— áƒ¡áƒáƒ®áƒšáƒ˜áƒ¡ áƒ›áƒ”áƒ£áƒ áƒœáƒ”áƒáƒ‘áƒáƒ¡, áƒ’áƒáƒ›áƒ™áƒšáƒáƒ•áƒ”áƒ‘áƒáƒ“áƒ˜áƒ— áƒ¤áƒ˜áƒœáƒáƒœáƒ¡áƒ£áƒ  áƒáƒáƒ¡áƒ£áƒ®áƒ˜áƒ¡áƒ›áƒ’áƒ”áƒ‘áƒšáƒáƒ‘áƒ”áƒ‘áƒ¡, áƒ’áƒ”áƒ–áƒ áƒ£áƒœáƒáƒ— áƒ‘áƒáƒ•áƒ¨áƒ•áƒ”áƒ‘áƒ–áƒ” áƒáƒœ áƒ¡áƒ®áƒ•áƒ áƒáƒ®áƒšáƒáƒ‘áƒ”áƒš áƒáƒ“áƒáƒ›áƒ˜áƒáƒœáƒ”áƒ‘áƒ–áƒ”) áƒáƒšáƒ™áƒáƒ°áƒáƒšáƒ˜áƒ¡ áƒáƒœ áƒœáƒáƒ áƒ™áƒáƒ¢áƒ˜áƒ™áƒ˜áƒ¡ áƒ’áƒáƒ›áƒáƒ§áƒ”áƒœáƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒ›áƒ',
                'áƒ—áƒ¥áƒ•áƒ”áƒœ áƒ“áƒáƒ™áƒáƒ áƒ’áƒ”áƒ— áƒ˜áƒœáƒ¢áƒ”áƒ áƒ”áƒ¡áƒ˜ áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜ áƒ°áƒáƒ‘áƒ”áƒ‘áƒ˜áƒ¡ áƒáƒœ áƒ¡áƒáƒ¥áƒ›áƒ”áƒ”áƒ‘áƒ˜áƒ¡áƒáƒ“áƒ›áƒ˜, áƒ áƒáƒ›áƒ”áƒšáƒ—áƒáƒ’áƒáƒœ áƒáƒ“áƒ áƒ” áƒ˜áƒ¦áƒ”áƒ‘áƒ“áƒ˜áƒ— áƒ¡áƒ˜áƒáƒ›áƒáƒ•áƒœáƒ”áƒ‘áƒáƒ¡ (áƒ›áƒáƒ’. áƒ›áƒ”áƒ’áƒáƒ‘áƒ áƒ”áƒ‘áƒ—áƒáƒœ áƒáƒœ áƒáƒ¯áƒáƒ®áƒ—áƒáƒœ áƒ“áƒ áƒáƒ˜áƒ¡ áƒ’áƒáƒ¢áƒáƒ áƒ”áƒ‘áƒ˜áƒ¡) áƒ“áƒ áƒ’áƒáƒ–áƒáƒ áƒ“áƒ”áƒ— áƒ“áƒ áƒ, áƒ áƒáƒ›áƒ”áƒšáƒ¡áƒáƒª áƒáƒ¢áƒáƒ áƒ”áƒ‘áƒ“áƒ˜áƒ— áƒáƒšáƒ™áƒáƒ°áƒáƒšáƒ—áƒáƒœ áƒ“áƒ áƒœáƒáƒ áƒ™áƒáƒ¢áƒ˜áƒ™áƒ—áƒáƒœ'
            ]},
            {category: 'áƒ’áƒáƒœáƒ’áƒ áƒ«áƒáƒ‘áƒ˜áƒ—áƒ˜ áƒ›áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ, áƒ£áƒáƒ áƒ§áƒáƒ¤áƒ˜áƒ—áƒ˜ áƒ¨áƒ”áƒ“áƒ”áƒ’áƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒ˜áƒ£áƒ®áƒ”áƒ“áƒáƒ•áƒáƒ“', symptoms: [
                'áƒ˜áƒ›áƒ˜áƒ¡ áƒ›áƒ˜áƒ£áƒ®áƒ”áƒ“áƒáƒ•áƒáƒ“, áƒ áƒáƒ› áƒáƒ¦áƒ›áƒáƒáƒ©áƒ˜áƒœáƒ”áƒ— áƒáƒšáƒ™áƒáƒ°áƒáƒšáƒ˜áƒ¡ áƒáƒœ áƒœáƒáƒ áƒ™áƒáƒ¢áƒ˜áƒ™áƒ˜áƒ¡ áƒ›áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒœáƒ”áƒ’áƒáƒ¢áƒ˜áƒ£áƒ áƒ˜ áƒ–áƒ”áƒ’áƒáƒ•áƒšáƒ”áƒœáƒ áƒ—áƒ¥áƒ•áƒ”áƒœáƒ˜ áƒªáƒ®áƒáƒ•áƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒ áƒ™áƒ•áƒ”áƒ£áƒš áƒáƒ¡áƒáƒ”áƒ¥áƒ¢áƒ”áƒ‘áƒ–áƒ” áƒáƒœ áƒ¨áƒ áƒáƒ›áƒ˜áƒ¡áƒ£áƒœáƒáƒ áƒ˜áƒáƒœáƒáƒ‘áƒáƒ–áƒ”, áƒ—áƒ¥áƒ•áƒ”áƒœ áƒ›áƒáƒ˜áƒœáƒª áƒáƒ’áƒ áƒ«áƒ”áƒšáƒ”áƒ‘áƒ— áƒ›áƒáƒ— áƒ›áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒáƒ¡'
            ]},
            {category: 'áƒ’áƒáƒ£áƒ¤áƒáƒ¡áƒ£áƒ áƒ”áƒ‘áƒ áƒáƒœ áƒ“áƒ˜áƒ¡áƒ¢áƒ áƒ”áƒ¡áƒ˜ áƒ›áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒ“áƒ”áƒ’áƒáƒ“', symptoms: [
                'áƒ—áƒ¥áƒ•áƒ”áƒœ áƒáƒ  áƒ–áƒ áƒ£áƒœáƒáƒ•áƒ— áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ  áƒ—áƒáƒ•áƒ–áƒ” áƒ¡áƒáƒ—áƒáƒœáƒáƒ“áƒ áƒ¤áƒáƒ áƒ›áƒ˜áƒ— (áƒ›áƒáƒ’. áƒªáƒ£áƒ“áƒáƒ“ áƒ˜áƒ™áƒ•áƒ”áƒ‘áƒ”áƒ‘áƒ˜áƒ— áƒáƒœ áƒáƒ  áƒ˜áƒªáƒáƒ•áƒ— áƒ°áƒ˜áƒ’áƒ˜áƒ”áƒœáƒ˜áƒ¡ áƒœáƒáƒ áƒ›áƒ”áƒ‘áƒ¡) áƒáƒšáƒ™áƒáƒ°áƒáƒšáƒ˜áƒ¡ áƒáƒœ áƒœáƒáƒ áƒ™áƒáƒ¢áƒ˜áƒ™áƒ˜áƒ¡ áƒ›áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒ›áƒ',
                'áƒáƒšáƒ™áƒáƒ°áƒáƒšáƒ˜áƒ¡ áƒáƒœ áƒœáƒáƒ áƒ™áƒáƒ¢áƒ˜áƒ™áƒ˜áƒ¡ áƒ’áƒáƒ›áƒáƒ§áƒ”áƒœáƒ”áƒ‘áƒáƒ› áƒ’áƒáƒ›áƒáƒ˜áƒ¬áƒ•áƒ˜áƒ áƒáƒœ áƒ’áƒáƒáƒ›áƒ¬áƒ•áƒáƒ•áƒ áƒáƒ áƒ¡áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ¤áƒ¡áƒ˜áƒ¥áƒáƒšáƒáƒ’áƒ˜áƒ£áƒ áƒ˜ áƒáƒœ áƒ¡áƒáƒ›áƒ”áƒ“áƒ˜áƒªáƒ˜áƒœáƒ áƒáƒ áƒáƒ‘áƒšáƒ”áƒ›áƒ”áƒ‘áƒ˜ (áƒ˜áƒ¡áƒ”áƒ—áƒ˜ áƒ áƒáƒ’áƒáƒ áƒ˜áƒªáƒáƒ áƒ“áƒ”áƒáƒ áƒ”áƒ¡áƒ˜áƒ, áƒ¨áƒ¤áƒáƒ—áƒ•áƒ áƒáƒœ áƒ’áƒ£áƒšáƒ¡áƒ˜áƒ¡áƒ®áƒšáƒ«áƒáƒ áƒ¦áƒ•áƒ—áƒ áƒ“áƒáƒáƒ•áƒáƒ“áƒ”áƒ‘áƒ”áƒ‘áƒ˜)'
            ]}
        ];

        let app = {users: {}};
        let user = null;
        let setupData = {selectedMotivations: [], customMotivations: [], recoveryMotivations: []};

        try { let saved = localStorage.getItem('therapyApp'); if (saved) app = JSON.parse(saved); } catch(e) {}
        try { let u = localStorage.getItem('currentUser'); if (u) { user = JSON.parse(u); loadDashboard(); } } catch(e) {}

        function save() { try { localStorage.setItem('therapyApp', JSON.stringify(app)); } catch(e) { alert('áƒ¨áƒ”áƒœáƒáƒ®áƒ•áƒ áƒ•áƒ”áƒ  áƒ›áƒáƒ®áƒ”áƒ áƒ®áƒ“áƒ'); } }
        function showSection(name) { document.querySelectorAll('.section').forEach(s => s.classList.remove('active')); document.getElementById(name + 'Section').classList.add('active'); }
        function showMsg(id, text) { let el = document.getElementById(id); el.textContent = text; el.style.display = 'block'; setTimeout(() => el.style.display = 'none', 4000); }

        function handleRegister() {
            let name = document.getElementById('registerName').value;
            let email = document.getElementById('registerEmail').value;
            let pass = document.getElementById('registerPassword').value;
            if (!name || !email || !pass) { showMsg('registerError', 'áƒ¨áƒ”áƒáƒ•áƒ¡áƒ”áƒ— áƒ§áƒ•áƒ”áƒšáƒ áƒ•áƒ”áƒšáƒ˜'); return; }
            if (app.users[email]) { showMsg('registerError', 'áƒ”áƒ¡ áƒ”áƒš. áƒ¤áƒáƒ¡áƒ¢áƒ áƒ£áƒ™áƒ•áƒ” áƒ“áƒáƒ áƒ”áƒ’áƒ˜áƒ¡áƒ¢áƒ áƒ˜áƒ áƒ”áƒ‘áƒ£áƒšáƒ˜áƒ'); return; }
            app.users[email] = {name: name, email: email, password: pass, addiction: '', lastUse: '', setupDone: false, checkIns: [], motivations: {usage: [], recovery: []}};
            save();
            showMsg('registerSuccess', 'áƒ áƒ”áƒ’áƒ˜áƒ¡áƒ¢áƒ áƒáƒªáƒ˜áƒ áƒ¬áƒáƒ áƒ›áƒáƒ¢áƒ”áƒ‘áƒ˜áƒ— áƒ“áƒáƒ¡áƒ áƒ£áƒšáƒ“áƒ!');
            
            setTimeout(() => { 
                user = {email: email, name: name}; 
                localStorage.setItem('currentUser', JSON.stringify(user)); 
                // Go directly to setup after registration
                showSection('setup');
            }, 1500);
        }

        function handleLogin() {
            let email = document.getElementById('loginEmail').value;
            let pass = document.getElementById('loginPassword').value;
            if (!app.users[email] || app.users[email].password !== pass) { showMsg('loginError', 'áƒáƒ áƒáƒ¡áƒ¬áƒáƒ áƒ˜ áƒ”áƒš. áƒ¤áƒáƒ¡áƒ¢áƒ áƒáƒœ áƒáƒáƒ áƒáƒšáƒ˜'); return; }
            user = {email: email, name: app.users[email].name};
            localStorage.setItem('currentUser', JSON.stringify(user));
            loadDashboard();
        }

// DISABLED:         function proceedToMotivations() {
// DISABLED:             let addiction = document.getElementById('addictionType').value;
// DISABLED:             let lastUse = document.getElementById('lastUseDate').value;
// DISABLED:             if (!addiction) { alert('áƒáƒ˜áƒ áƒ©áƒ˜áƒ”áƒ— áƒ“áƒáƒ›áƒáƒ™áƒ˜áƒ“áƒ”áƒ‘áƒ£áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ¢áƒ˜áƒáƒ˜'); return; }
// DISABLED:             setupData.addiction = addiction;
// DISABLED:             setupData.lastUse = lastUse || new Date().toISOString().split('T')[0];
// DISABLED:             if (addiction === 'áƒáƒšáƒ™áƒáƒ°áƒáƒšáƒ˜' || addiction === 'áƒœáƒáƒ áƒ™áƒáƒ¢áƒ˜áƒ™áƒ”áƒ‘áƒ˜' || addiction === 'áƒœáƒ˜áƒ™áƒáƒ¢áƒ˜áƒœáƒ˜') {
// DISABLED:                 document.getElementById('setupStep1').style.display = 'none';
// DISABLED:                 document.getElementById('setupStep2').style.display = 'block';
// DISABLED:                 document.getElementById('stepIndicator').textContent = 'áƒœáƒáƒ‘áƒ˜áƒ¯áƒ˜ 2 / 3';
// DISABLED:                 renderMotivationsList();
// DISABLED:                 
// DISABLED:                 // Attach event listener to add button
// DISABLED:                 const addBtn = document.getElementById('addCustomBtn');
// DISABLED:                 if (addBtn) {
// DISABLED:                     addBtn.onclick = function() {
// DISABLED:                         addCustomMotivation();
// DISABLED:                     };
// DISABLED:                 }
// DISABLED:             } else {
// DISABLED:                 document.getElementById('setupStep1').style.display = 'none';
// DISABLED:                 document.getElementById('setupStep3').style.display = 'block';
// DISABLED:                 document.getElementById('stepIndicator').textContent = 'áƒœáƒáƒ‘áƒ˜áƒ¯áƒ˜ 2 / 2';
// DISABLED:             }
// DISABLED:         }
// DISABLED: 
// DISABLED:         function renderMotivationsList() {
// DISABLED:             const container = document.getElementById('motivationsList');
// DISABLED:             if (!container) return;
// DISABLED:             container.innerHTML = '';
// DISABLED:             
// DISABLED:             DEFAULT_MOTIVATIONS.forEach((mot) => {
// DISABLED:                 const item = document.createElement('div');
// DISABLED:                 item.className = 'motivation-item';
// DISABLED:                 item.id = 'mot-item-' + mot.id;
// DISABLED:                 
// DISABLED:                 const checkbox = document.createElement('input');
// DISABLED:                 checkbox.type = 'checkbox';
// DISABLED:                 checkbox.value = mot.id;
// DISABLED:                 checkbox.id = 'cb-' + mot.id;
// DISABLED:                 checkbox.style.cssText = 'margin-right: 10px; margin-top: 3px; width: 20px; height: 20px; flex-shrink: 0;';
// DISABLED:                 
// DISABLED:                 const textSpan = document.createElement('span');
// DISABLED:                 textSpan.textContent = mot.text;
// DISABLED:                 textSpan.style.flex = '1';
// DISABLED:                 
// DISABLED:                 const label = document.createElement('label');
// DISABLED:                 label.style.cssText = 'cursor: pointer; display: flex; align-items: flex-start; margin: 0; width: 100%;';
// DISABLED:                 label.appendChild(checkbox);
// DISABLED:                 label.appendChild(textSpan);
// DISABLED:                 
// DISABLED:                 // Toggle function
// DISABLED:                 const toggleMotivation = function() {
// DISABLED:                     checkbox.checked = !checkbox.checked;
// DISABLED:                     if (checkbox.checked) {
// DISABLED:                         item.classList.add('selected');
// DISABLED:                         if (!setupData.selectedMotivations.includes(mot.id)) {
// DISABLED:                             setupData.selectedMotivations.push(mot.id);
// DISABLED:                         }
// DISABLED:                     } else {
// DISABLED:                         item.classList.remove('selected');
// DISABLED:                         setupData.selectedMotivations = setupData.selectedMotivations.filter(m => m !== mot.id);
// DISABLED:                     }
// DISABLED:                 };
// DISABLED:                 
// DISABLED:                 // Click on entire card
// DISABLED:                 item.onclick = function(e) {
// DISABLED:                     if (e.target === checkbox) return; // Let checkbox handle itself
// DISABLED:                     toggleMotivation();
// DISABLED:                 };
// DISABLED:                 
// DISABLED:                 // Checkbox change
// DISABLED:                 checkbox.onchange = function() {
// DISABLED:                     if (this.checked) {
// DISABLED:                         item.classList.add('selected');
// DISABLED:                         if (!setupData.selectedMotivations.includes(mot.id)) {
// DISABLED:                             setupData.selectedMotivations.push(mot.id);
// DISABLED:                         }
// DISABLED:                     } else {
// DISABLED:                         item.classList.remove('selected');
// DISABLED:                         setupData.selectedMotivations = setupData.selectedMotivations.filter(m => m !== mot.id);
// DISABLED:                     }
// DISABLED:                 };
// DISABLED:                 
// DISABLED:                 item.appendChild(label);
// DISABLED:                 container.appendChild(item);
// DISABLED:             });
// DISABLED:         }
// DISABLED: 
// DISABLED:         function addCustomMotivation() {
// DISABLED:             const input = document.getElementById('customMotivation');
// DISABLED:             if (!input) {
// DISABLED:                 alert('áƒ¨áƒ”áƒªáƒ“áƒáƒ›áƒ: input áƒáƒ  áƒ›áƒáƒ˜áƒ«áƒ”áƒ‘áƒœáƒ');
// DISABLED:                 console.error('customMotivation input not found');
// DISABLED:                 return;
// DISABLED:             }
// DISABLED:             
// DISABLED:             const text = input.value.trim();
// DISABLED:             if (!text) {
// DISABLED:                 alert('áƒ’áƒ—áƒ®áƒáƒ•áƒ— áƒ¨áƒ”áƒ˜áƒ§áƒ•áƒáƒœáƒáƒ— áƒ›áƒáƒ¢áƒ˜áƒ•áƒáƒªáƒ˜áƒ');
// DISABLED:                 return;
// DISABLED:             }
// DISABLED:             
// DISABLED:             const customId = 'custom_' + Date.now();
// DISABLED:             setupData.customMotivations.push({
// DISABLED:                 id: customId, 
// DISABLED:                 text: text, 
// DISABLED:                 consequences: '', 
// DISABLED:                 recovery: '', 
// DISABLED:                 isCustom: true
// DISABLED:             });
// DISABLED:             
// DISABLED:             const container = document.getElementById('motivationsList');
// DISABLED:             if (!container) {
// DISABLED:                 console.error('motivationsList not found');
// DISABLED:                 return;
// DISABLED:             }
// DISABLED:             
// DISABLED:             const item = document.createElement('div');
// DISABLED:             item.className = 'motivation-item selected';
// DISABLED:             item.style.cssText = 'background: #fff3cd; border-left: 4px solid #ffc107;';
// DISABLED:             
// DISABLED:             const label = document.createElement('label');
// DISABLED:             label.style.cssText = 'cursor: default; display: flex; align-items: flex-start; margin: 0;';
// DISABLED:             
// DISABLED:             const checkbox = document.createElement('input');
// DISABLED:             checkbox.type = 'checkbox';
// DISABLED:             checkbox.checked = true;
// DISABLED:             checkbox.disabled = true;
// DISABLED:             checkbox.style.cssText = 'margin-right: 10px; margin-top: 3px; width: 20px; height: 20px;';
// DISABLED:             
// DISABLED:             const textSpan = document.createElement('span');
// DISABLED:             textSpan.textContent = text + ' (áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜)';
// DISABLED:             
// DISABLED:             label.appendChild(checkbox);
// DISABLED:             label.appendChild(textSpan);
// DISABLED:             item.appendChild(label);
// DISABLED:             container.appendChild(item);
// DISABLED:             
// DISABLED:             input.value = '';
// DISABLED:             alert('áƒ“áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒ£áƒšáƒ˜áƒ! âœ“');
// DISABLED:         }
// DISABLED: 
// DISABLED:         function proceedToRecoveryMotivations() {
// DISABLED:             document.getElementById('setupStep2').style.display = 'none';
// DISABLED:             document.getElementById('setupStep3').style.display = 'block';
// DISABLED:             document.getElementById('stepIndicator').textContent = 'áƒœáƒáƒ‘áƒ˜áƒ¯áƒ˜ 3 / 3';
// DISABLED:         }
// DISABLED: 
// DISABLED:         function addRecoveryMotivation() {
// DISABLED:             let input = document.getElementById('newRecoveryMotivation');
// DISABLED:             let text = input.value.trim();
// DISABLED:             if (!text) return;
// DISABLED:             setupData.recoveryMotivations.push(text);
// DISABLED:             renderRecoveryMotivations();
// DISABLED:             input.value = '';
// DISABLED:         }
// DISABLED: 
// DISABLED:         function renderRecoveryMotivations() {
// DISABLED:             let container = document.getElementById('recoveryMotivationsList');
// DISABLED:             container.innerHTML = '';
// DISABLED:             setupData.recoveryMotivations.forEach((mot, index) => {
// DISABLED:                 let item = document.createElement('div');
// DISABLED:                 item.className = 'recovery-motivation-item';
// DISABLED:                 item.innerHTML = '<span>' + mot + '</span><button class="delete-btn" onclick="removeRecoveryMotivation(' + index + ')">áƒ¬áƒáƒ¨áƒšáƒ</button>';
// DISABLED:                 container.appendChild(item);
// DISABLED:             });
// DISABLED:         }
// DISABLED: 
// DISABLED:         function removeRecoveryMotivation(index) { setupData.recoveryMotivations.splice(index, 1); renderRecoveryMotivations(); }
// DISABLED:         function backToStep1() { document.getElementById('setupStep2').style.display = 'none'; document.getElementById('setupStep1').style.display = 'block'; document.getElementById('stepIndicator').textContent = 'áƒœáƒáƒ‘áƒ˜áƒ¯áƒ˜ 1 / 3'; }
// DISABLED:         function backToStep2() { document.getElementById('setupStep3').style.display = 'none'; document.getElementById('setupStep2').style.display = 'block'; document.getElementById('stepIndicator').textContent = 'áƒœáƒáƒ‘áƒ˜áƒ¯áƒ˜ 2 / 3'; }
// DISABLED: 
// DISABLED:         function finishSimpleSetup() {
// DISABLED:             let addiction = document.getElementById('addictionType').value;
// DISABLED:             let lastUse = document.getElementById('lastUseDate').value;
// DISABLED:             
// DISABLED:             if (!addiction) {
// DISABLED:                 alert('áƒáƒ˜áƒ áƒ©áƒ˜áƒ”áƒ— áƒ“áƒáƒ›áƒáƒ™áƒ˜áƒ“áƒ”áƒ‘áƒ£áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ¢áƒ˜áƒáƒ˜');
// DISABLED:                 return;
// DISABLED:             }
// DISABLED:             
// DISABLED:             let u = app.users[user.email];
// DISABLED:             u.addiction = addiction;
// DISABLED:             u.lastUse = lastUse || new Date().toISOString().split('T')[0];
// DISABLED:             u.setupDone = true;
// DISABLED:             u.motivations = {usage: [], recovery: []};
// DISABLED:             
// DISABLED:             save();
// DISABLED:             loadDashboard();
// DISABLED:         }
// DISABLED: 
// DISABLED:         function finishSetup() {
// DISABLED:             let u = app.users[user.email];
// DISABLED:             u.addiction = setupData.addiction;
// DISABLED:             u.lastUse = setupData.lastUse;
// DISABLED:             u.setupDone = true;
// DISABLED:             u.motivations.usage = [];
// DISABLED:             setupData.selectedMotivations.forEach(id => {
// DISABLED:                 let defaultMot = DEFAULT_MOTIVATIONS.find(m => m.id === id);
// DISABLED:                 if (defaultMot) u.motivations.usage.push({id: defaultMot.id, text: defaultMot.text, consequences: {default: defaultMot.consequences, custom: '', useCustom: false}, recovery: {default: defaultMot.recovery, custom: '', useCustom: false}, isCustom: false});
// DISABLED:             });
// DISABLED:             setupData.customMotivations.forEach(mot => {
// DISABLED:                 u.motivations.usage.push({id: mot.id, text: mot.text, consequences: {default: '', custom: '', useCustom: false}, recovery: {default: '', custom: '', useCustom: false}, isCustom: true});
// DISABLED:             });
// DISABLED:             u.motivations.recovery = setupData.recoveryMotivations.map(text => ({text}));
// DISABLED:             save();
// DISABLED:             setupData = {selectedMotivations: [], customMotivations: [], recoveryMotivations: []};
// DISABLED:             loadDashboard();
// DISABLED:         }

        function finishSimpleSetup() {
            let addiction = document.getElementById('addictionType').value;
            let lastUse = document.getElementById('lastUseDate').value;
            
            if (!addiction) {
                alert('áƒáƒ˜áƒ áƒ©áƒ˜áƒ”áƒ— áƒ“áƒáƒ›áƒáƒ™áƒ˜áƒ“áƒ”áƒ‘áƒ£áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ¢áƒ˜áƒáƒ˜');
                return;
            }
            
            let u = app.users[user.email];
            u.addiction = addiction;
            u.lastUse = lastUse || new Date().toISOString().split('T')[0];
            u.setupDone = true;
            u.motivations = {usage: [], recovery: []};
            save();
            
            // Check if THIS user has accepted privacy (user-specific)
            const userPrivacyKey = 'privacyAccepted_' + user.email;
            const privacyAccepted = localStorage.getItem(userPrivacyKey);
            
            // Show Privacy Modal if this user hasn't accepted it
            if (!privacyAccepted) {
                document.getElementById('privacyModal').style.display = 'block';
            } else {
                loadDashboard();
            }
        }

        function skipSetup() {
            let u = app.users[user.email];
            u.addiction = 'áƒáƒ  áƒáƒ áƒ˜áƒ¡ áƒ›áƒ˜áƒ—áƒ˜áƒ—áƒ”áƒ‘áƒ£áƒšáƒ˜';
            u.lastUse = new Date().toISOString().split('T')[0];
            u.setupDone = true;
            u.motivations = {usage: [], recovery: []};
            save();
            loadDashboard();
        }

        function loadDashboard() {
            let u = app.users[user.email];
            if (!u.setupDone) { showSection('setup'); return; }
            showSection('dashboard');
            
            // Calculate streak
            let last = new Date(u.lastUse);
            let today = new Date();
            last.setHours(0,0,0,0);
            today.setHours(0,0,0,0);
            let days = Math.floor((today - last) / 86400000);
            if (days < 0) days = 0;
            
            // Subtract 1 because lastUse day doesn't count as clean day
            // User needs to confirm today's evening to get day 1
            if (days > 0) days = days - 1;
            
            // Update streak in user object
            u.streak = days;
            save();
            
            // Update dashboard display
            updateDashboardStreak();
            
            // Update contact badge
            updateContactBadge();
            
            // Update profile display
            let isSobriety = (u.addiction === 'áƒáƒšáƒ™áƒáƒ°áƒáƒšáƒ˜' || u.addiction === 'áƒœáƒáƒ áƒ™áƒáƒ¢áƒ˜áƒ™áƒ”áƒ‘áƒ˜');
            document.getElementById('profName').textContent = u.name;
            document.getElementById('profEmail').textContent = u.email;
            document.getElementById('profAddiction').textContent = u.addiction;
            document.getElementById('profLastUse').textContent = u.lastUse;
        }

        function renderCalendar() {
            let u = app.users[user.email];
            let grid = document.getElementById('calendarGrid');
            grid.innerHTML = '';
            let today = new Date();
            
            for (let i = 27; i >= 0; i--) {
                let date = new Date(today);
                date.setDate(date.getDate() - i);
                date.setHours(0, 0, 0, 0);
                let dateStr = date.toISOString().split('T')[0];
                let checkIn = u.checkIns.find(c => c.date === dateStr);
                let dot = document.createElement('div');
                dot.className = 'day-dot';
                if (i === 0) dot.classList.add('today');
                if (checkIn) {
                    if (checkIn.sober) { dot.classList.add('sober'); dot.textContent = 'âœ“'; }
                    else { dot.classList.add('relapse'); dot.textContent = 'âœ—'; }
                } else {
                    let lastUse = new Date(u.lastUse);
                    lastUse.setHours(0, 0, 0, 0);
                    if (date > lastUse) { dot.classList.add('sober'); dot.textContent = 'âœ“'; }
                    else { dot.classList.add('empty'); dot.textContent = date.getDate(); }
                }
                grid.appendChild(dot);
            }
        }

        function doCheckIn(sober) {
            let u = app.users[user.email];
            let todayStr = new Date().toISOString().split('T')[0];
            if (u.checkIns.find(c => c.date === todayStr)) return;
            u.checkIns.push({date: todayStr, sober: sober});
            if (!sober) {
                u.lastUse = todayStr;
                showCongrats('áƒ©áƒáƒ•áƒáƒ áƒ“áƒœáƒ áƒáƒ  áƒœáƒ˜áƒ¨áƒœáƒáƒ•áƒ¡ áƒ¬áƒáƒ áƒ£áƒ›áƒáƒ¢áƒ”áƒ‘áƒšáƒáƒ‘áƒáƒ¡. áƒ’áƒ­áƒ˜áƒ áƒ“áƒ”áƒ‘áƒ áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜ áƒ—áƒáƒ•áƒ˜áƒ¡ áƒ’áƒáƒ«áƒšáƒ˜áƒ”áƒ áƒ”áƒ‘áƒ.');
            } else {
                let days = calcDays();
                let isSobriety = (u.addiction === 'áƒáƒšáƒ™áƒáƒ°áƒáƒšáƒ˜' || u.addiction === 'áƒœáƒáƒ áƒ™áƒáƒ¢áƒ˜áƒ™áƒ”áƒ‘áƒ˜');
                if (days === 0 || days === 1) showCongrats('áƒ’áƒ˜áƒšáƒáƒªáƒáƒ•! áƒ™áƒ˜áƒ“áƒ”áƒ• áƒ”áƒ áƒ—áƒ˜ áƒ¬áƒáƒ áƒ›áƒáƒ¢áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒœáƒáƒ‘áƒ˜áƒ¯áƒ˜ áƒáƒ› áƒ¦áƒ˜áƒ áƒ¡áƒ”áƒ£áƒš áƒ’áƒ–áƒáƒ–áƒ”! ğŸ¯');
                else if (days === 7) showCongrats(isSobriety ? 'áƒ’áƒ˜áƒšáƒáƒªáƒáƒ•áƒ—! 1 áƒ™áƒ•áƒ˜áƒ áƒ áƒ¡áƒ˜áƒ¤áƒ®áƒ˜áƒ–áƒšáƒ”áƒ¨áƒ˜! áƒ™áƒ˜áƒ“áƒ”áƒ• áƒ”áƒ áƒ—áƒ˜ áƒ¬áƒáƒ áƒ›áƒáƒ¢áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒœáƒáƒ‘áƒ˜áƒ¯áƒ˜! ğŸŒŸ' : 'áƒ’áƒ˜áƒšáƒáƒªáƒáƒ•áƒ—! áƒ¡áƒ˜áƒ¯áƒáƒœáƒ¡áƒáƒ¦áƒ˜áƒ¡ 1 áƒ™áƒ•áƒ˜áƒ áƒ! áƒ™áƒ˜áƒ“áƒ”áƒ• áƒ”áƒ áƒ—áƒ˜ áƒ¬áƒáƒ áƒ›áƒáƒ¢áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒœáƒáƒ‘áƒ˜áƒ¯áƒ˜! ğŸŒŸ');
                else if (days === 30) showCongrats(isSobriety ? 'áƒ¡áƒáƒáƒªáƒáƒ áƒ˜áƒ! 1 áƒ—áƒ•áƒ” áƒ¡áƒ˜áƒ¤áƒ®áƒ˜áƒ–áƒšáƒ”áƒ¨áƒ˜! áƒ™áƒ˜áƒ“áƒ”áƒ• áƒ”áƒ áƒ—áƒ˜ áƒ¬áƒáƒ áƒ›áƒáƒ¢áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒœáƒáƒ‘áƒ˜áƒ¯áƒ˜! ğŸ’ª' : 'áƒ¡áƒáƒáƒªáƒáƒ áƒ˜áƒ! áƒ¡áƒ˜áƒ¯áƒáƒœáƒ¡áƒáƒ¦áƒ˜áƒ¡ 1 áƒ—áƒ•áƒ”! áƒ™áƒ˜áƒ“áƒ”áƒ• áƒ”áƒ áƒ—áƒ˜ áƒ¬áƒáƒ áƒ›áƒáƒ¢áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒœáƒáƒ‘áƒ˜áƒ¯áƒ˜! ğŸ’ª');
                else if (days === 90) showCongrats(isSobriety ? 'áƒ¬áƒáƒ áƒ›áƒáƒ¢áƒ”áƒ‘áƒ! 3 áƒ—áƒ•áƒ” áƒ¡áƒ˜áƒ¤áƒ®áƒ˜áƒ–áƒšáƒ”áƒ¨áƒ˜! áƒ™áƒ˜áƒ“áƒ”áƒ• áƒ”áƒ áƒ—áƒ˜ áƒ¬áƒáƒ áƒ›áƒáƒ¢áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒœáƒáƒ‘áƒ˜áƒ¯áƒ˜! ğŸ†' : 'áƒ¬áƒáƒ áƒ›áƒáƒ¢áƒ”áƒ‘áƒ! áƒ¡áƒ˜áƒ¯áƒáƒœáƒ¡áƒáƒ¦áƒ˜áƒ¡ 3 áƒ—áƒ•áƒ”! áƒ™áƒ˜áƒ“áƒ”áƒ• áƒ”áƒ áƒ—áƒ˜ áƒ¬áƒáƒ áƒ›áƒáƒ¢áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒœáƒáƒ‘áƒ˜áƒ¯áƒ˜! ğŸ†');
                else if (days === 180) showCongrats(isSobriety ? 'áƒ¨áƒ”áƒ£áƒ“áƒáƒ áƒ”áƒ‘áƒ”áƒšáƒ˜áƒ! 6 áƒ—áƒ•áƒ” áƒ¡áƒ˜áƒ¤áƒ®áƒ˜áƒ–áƒšáƒ”áƒ¨áƒ˜! áƒ™áƒ˜áƒ“áƒ”áƒ• áƒ”áƒ áƒ—áƒ˜ áƒ¬áƒáƒ áƒ›áƒáƒ¢áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒœáƒáƒ‘áƒ˜áƒ¯áƒ˜! ğŸ’' : 'áƒ¨áƒ”áƒ£áƒ“áƒáƒ áƒ”áƒ‘áƒ”áƒšáƒ˜áƒ! áƒ¡áƒ˜áƒ¯áƒáƒœáƒ¡áƒáƒ¦áƒ˜áƒ¡ 6 áƒ—áƒ•áƒ”! áƒ™áƒ˜áƒ“áƒ”áƒ• áƒ”áƒ áƒ—áƒ˜ áƒ¬áƒáƒ áƒ›áƒáƒ¢áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒœáƒáƒ‘áƒ˜áƒ¯áƒ˜! ğŸ’');
                else if (days === 365) showCongrats(isSobriety ? 'áƒšáƒ”áƒ’áƒ”áƒœáƒ“áƒáƒ áƒ£áƒšáƒ˜! 1 áƒ¬áƒ”áƒšáƒ˜ áƒ¡áƒ˜áƒ¤áƒ®áƒ˜áƒ–áƒšáƒ”áƒ¨áƒ˜! áƒ™áƒ˜áƒ“áƒ”áƒ• áƒ”áƒ áƒ—áƒ˜ áƒ¬áƒáƒ áƒ›áƒáƒ¢áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒœáƒáƒ‘áƒ˜áƒ¯áƒ˜! ğŸ‘‘' : 'áƒšáƒ”áƒ’áƒ”áƒœáƒ“áƒáƒ áƒ£áƒšáƒ˜! áƒ¡áƒ˜áƒ¯áƒáƒœáƒ¡áƒáƒ¦áƒ˜áƒ¡ 1 áƒ¬áƒ”áƒšáƒ˜! áƒ™áƒ˜áƒ“áƒ”áƒ• áƒ”áƒ áƒ—áƒ˜ áƒ¬áƒáƒ áƒ›áƒáƒ¢áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒœáƒáƒ‘áƒ˜áƒ¯áƒ˜! ğŸ‘‘');
                else showCongrats('áƒ’áƒ˜áƒšáƒáƒªáƒáƒ•! áƒ™áƒ˜áƒ“áƒ”áƒ• áƒ”áƒ áƒ—áƒ˜ áƒ¬áƒáƒ áƒ›áƒáƒ¢áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒœáƒáƒ‘áƒ˜áƒ¯áƒ˜ áƒáƒ› áƒ¦áƒ˜áƒ áƒ¡áƒ”áƒ£áƒš áƒ’áƒ–áƒáƒ–áƒ”! ğŸ”¥');
            }
            save();
            loadDashboard();
        }

        function calcDays() {
            let u = app.users[user.email];
            let last = new Date(u.lastUse);
            let today = new Date();
            last.setHours(0, 0, 0, 0);
            today.setHours(0, 0, 0, 0);
            let days = Math.floor((today - last) / 86400000);
            return days >= 0 ? days : 0;
        }

        function showCongrats(msg) {
            document.getElementById('congratsText').textContent = msg;
            document.getElementById('congratsMsg').classList.add('show');
            setTimeout(() => { document.getElementById('congratsMsg').classList.remove('show'); }, 8000);
        }

        function editProf() {
            let u = app.users[user.email];
            let a = prompt('áƒ“áƒáƒ›áƒáƒ™áƒ˜áƒ“áƒ”áƒ‘áƒ£áƒšáƒ”áƒ‘áƒ:', u.addiction);
            if (a) u.addiction = a;
            let d = prompt('áƒ‘áƒáƒšáƒ áƒ›áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ (YYYY-MM-DD):', u.lastUse);
            if (d && d.match(/^\d{4}-\d{2}-\d{2}$/)) u.lastUse = d;
            save();
            loadDashboard();
        }

        function doLogout() {
            localStorage.removeItem('currentUser');
            user = null;
            showSection('login');
        }

        function showMotivations() {
            renderMotivationsView();
            showSection('motivations');
        }
        
        function showUsageMotivationsView() {
            renderMotivationsView();
            showSection('usageMotivationsView');
        }
        
        function showRecoveryMotivationsView() {
            renderMotivationsView();
            showSection('recoveryMotivationsView');
        }
        
        function showFutureVision() {
            loadFutureVision();
            showSection('futureVision');
        }
        
        function loadFutureVision() {
            if (!user || !user.email) return;
            
            let u = app.users[user.email];
            if (!u) return;
            
            if (!u.futureVision) {
                u.futureVision = {ifContinued: '', ifRecovered: ''};
            }
            document.getElementById('futureIfContinued').value = u.futureVision.ifContinued || '';
            document.getElementById('futureIfRecovered').value = u.futureVision.ifRecovered || '';
        }
        
        function saveFutureVision() {
            let u = app.users[user.email];
            if (!u.futureVision) u.futureVision = {};
            
            u.futureVision.ifContinued = document.getElementById('futureIfContinued').value;
            u.futureVision.ifRecovered = document.getElementById('futureIfRecovered').value;
            
            save();
            alert('âœ… áƒ¨áƒ”áƒœáƒáƒ®áƒ£áƒšáƒ˜áƒ!');
        }

        function backToDashboard() {
            // Reset SOS intro flag so it shows again next time
            sosShowedIntro = false;
            
            showSection('dashboard');
            loadDashboard();
        }

        // === MODAL FUNCTIONS ===
        let tempUsageSelection = [];
        let tempRecoverySelection = [];

        function showUsageModal() {
            let u = app.users[user.email];
            if (!u.motivations) u.motivations = {usage: [], recovery: []};
            
            // Copy current selection to temp
            tempUsageSelection = u.motivations.usage.map(m => m.id);
            
            // Render checkboxes
            let html = '';
            DEFAULT_MOTIVATIONS.forEach(mot => {
                let checked = tempUsageSelection.includes(mot.id) ? 'checked' : '';
                html += '<label style="display: flex; align-items: flex-start; padding: 12px; background: #f8f9fa; border-radius: 8px; margin-bottom: 10px; cursor: pointer;">';
                html += '<input type="checkbox" ' + checked + ' data-id="' + mot.id + '" class="usage-checkbox" style="margin-right: 10px; margin-top: 3px; width: 18px; height: 18px;">';
                html += '<span style="flex: 1; font-size: 14px;">' + mot.text + '</span>';
                html += '</label>';
            });
            
            document.getElementById('usageModalList').innerHTML = html;
            document.getElementById('usageModal').style.display = 'block';
            
            // Attach handlers
            document.querySelectorAll('.usage-checkbox').forEach(cb => {
                cb.addEventListener('change', function() {
                    let id = this.getAttribute('data-id');
                    if (this.checked) {
                        if (!tempUsageSelection.includes(id)) tempUsageSelection.push(id);
                    } else {
                        tempUsageSelection = tempUsageSelection.filter(i => i !== id);
                    }
                });
            });
        }

        function closeUsageModal() {
            document.getElementById('usageModal').style.display = 'none';
        }

        function saveUsageSelection() {
            let u = app.users[user.email];
            if (!u.motivations) u.motivations = {usage: [], recovery: []};
            
            // Build new usage array from selection
            let newUsage = [];
            tempUsageSelection.forEach(id => {
                let mot = DEFAULT_MOTIVATIONS.find(m => m.id === id);
                if (mot) {
                    // Check if already exists
                    let existing = u.motivations.usage.find(m => m.id === id);
                    if (existing) {
                        newUsage.push(existing); // Keep existing with edits
                    } else {
                        newUsage.push({
                            id: mot.id,
                            text: mot.text,
                            consequences: mot.consequences,
                            recovery: mot.recovery
                        });
                    }
                }
            });
            
            u.motivations.usage = newUsage;
            save();
            closeUsageModal();
            renderMotivationsView();
        }

        function showRecoveryModal() {
            let u = app.users[user.email];
            if (!u.motivations) u.motivations = {usage: [], recovery: []};
            
            // Copy current selection to temp
            tempRecoverySelection = [...(u.motivations.recovery || [])];
            
            renderRecoveryModal();
        }

        function renderRecoveryModal() {
            // Render checkboxes
            let html = '';
            DEFAULT_RECOVERY_MOTIVATIONS.forEach(text => {
                let checked = tempRecoverySelection.includes(text) ? 'checked' : '';
                html += '<label style="display: flex; align-items: center; padding: 12px; background: #f8f9fa; border-radius: 8px; margin-bottom: 10px; cursor: pointer;">';
                html += '<input type="checkbox" ' + checked + ' data-text="' + text.replace(/"/g, '&quot;') + '" class="recovery-modal-check" style="margin-right: 10px; width: 18px; height: 18px;">';
                html += '<span style="flex: 1; font-size: 14px;">' + text + '</span>';
                html += '</label>';
            });
            
            // Show custom ones
            tempRecoverySelection.forEach(text => {
                if (!DEFAULT_RECOVERY_MOTIVATIONS.includes(text)) {
                    html += '<label style="display: flex; align-items: center; padding: 12px; background: #fff3cd; border-radius: 8px; margin-bottom: 10px; cursor: pointer;">';
                    html += '<input type="checkbox" checked data-text="' + text.replace(/"/g, '&quot;') + '" class="recovery-modal-check" style="margin-right: 10px; width: 18px; height: 18px;">';
                    html += '<span style="flex: 1; font-size: 14px;">' + text + ' (áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜)</span>';
                    html += '</label>';
                }
            });
            
            document.getElementById('recoveryModalList').innerHTML = html;
            document.getElementById('recoveryModal').style.display = 'block';
            
            // Attach handlers
            document.querySelectorAll('.recovery-modal-check').forEach(cb => {
                cb.addEventListener('change', function() {
                    let text = this.getAttribute('data-text');
                    if (this.checked) {
                        if (!tempRecoverySelection.includes(text)) tempRecoverySelection.push(text);
                    } else {
                        tempRecoverySelection = tempRecoverySelection.filter(t => t !== text);
                    }
                });
            });
        }

        function addCustomToModal() {
            let input = document.getElementById('customRecoveryInput');
            let text = input.value.trim();
            if (!text) return;
            
            if (tempRecoverySelection.includes(text)) {
                alert('áƒ”áƒ¡ áƒ›áƒáƒ¢áƒ˜áƒ•áƒáƒªáƒ˜áƒ áƒ£áƒ™áƒ•áƒ” áƒáƒ áƒ¡áƒ”áƒ‘áƒáƒ‘áƒ¡');
                return;
            }
            
            tempRecoverySelection.push(text);
            input.value = '';
            renderRecoveryModal();
        }

        function closeRecoveryModal() {
            document.getElementById('recoveryModal').style.display = 'none';
            document.getElementById('customRecoveryInput').value = '';
        }

        function saveRecoverySelection() {
            let u = app.users[user.email];
            if (!u.motivations) u.motivations = {usage: [], recovery: []};
            
            u.motivations.recovery = [...tempRecoverySelection];
            save();
            closeRecoveryModal();
            renderMotivationsView();
        }

        function renderMotivationsView() {
            if (!user || !user.email) {
                console.error('No user logged in');
                return;
            }
            
            let u = app.users[user.email];
            if (!u) {
                console.error('User data not found');
                return;
            }
            
            if (!u.motivations) {
                u.motivations = {usage: [], recovery: []};
                save();
            }
            
            // === USAGE MOTIVATIONS ===
            let usageContainer = document.getElementById('viewUsageMotivations');
            if (!usageContainer) return;
            
            if (!u.motivations.usage || u.motivations.usage.length === 0) {
                usageContainer.innerHTML = '<p style="color: #999; font-style: italic; padding: 12px; background: #f8f9fa; border-radius: 8px;">áƒ“áƒáƒáƒ­áƒ˜áƒ áƒ”áƒ— "+ áƒ“áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒ" áƒ áƒáƒ› áƒáƒ˜áƒ áƒ©áƒ˜áƒáƒ—</p>';
            } else {
                let allHtml = '';
                u.motivations.usage.forEach((mot, idx) => {
                    let html = '<div style="background: #e5e7eb; padding: 12px; border-radius: 10px; margin-bottom: 15px; border-left: 4px solid #9ca3af;">';
                    html += '<div style="font-weight: 600; color: #333; margin-bottom: 10px;">';
                    html += '<span>' + (mot.text || 'áƒ£áƒ¡áƒáƒ®áƒ”áƒšáƒ') + '</span>';
                    html += '</div>';
                    
                    // áƒ áƒáƒ¡ áƒ›áƒáƒ áƒ—áƒ›áƒ”áƒ•áƒ¡
                    html += '<div style="margin-top: 10px; padding: 10px; background: white; border-radius: 6px;">';
                    html += '<div style="font-size: 12px; color: #ef4444; font-weight: 600; margin-bottom: 5px; display: flex; justify-content: space-between; align-items: center;">';
                    html += '<span>áƒ áƒáƒ¡ áƒ›áƒáƒ áƒ—áƒ›áƒ”áƒ•áƒ¡:</span>';
                    html += '<button class="edit-btn" data-idx="' + idx + '" data-field="consequences" style="font-size: 12px; padding: 4px 8px;">âœï¸ áƒ áƒ”áƒ“áƒáƒ¥áƒ¢áƒ˜áƒ áƒ”áƒ‘áƒ</button>';
                    html += '</div>';
                    html += '<div class="text-view-' + idx + '-consequences" style="font-size: 14px; color: #666;">' + (mot.consequences || '') + '</div>';
                    html += '<textarea class="text-edit-' + idx + '-consequences" style="display: none; width: 100%; padding: 8px; border: 2px solid #667eea; border-radius: 6px; font-size: 14px;" rows="3">' + (mot.consequences || '') + '</textarea>';
                    html += '</div>';
                    
                    // áƒ áƒáƒ¡ áƒ›áƒáƒ›áƒªáƒ”áƒ›áƒ¡
                    html += '<div style="margin-top: 10px; padding: 10px; background: white; border-radius: 6px;">';
                    html += '<div style="font-size: 12px; color: #10b981; font-weight: 600; margin-bottom: 5px; display: flex; justify-content: space-between; align-items: center;">';
                    html += '<span>áƒ áƒáƒ¡ áƒ›áƒáƒ›áƒªáƒ”áƒ›áƒ¡ áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ:</span>';
                    html += '<button class="edit-btn" data-idx="' + idx + '" data-field="recovery" style="font-size: 12px; padding: 4px 8px;">âœï¸ áƒ áƒ”áƒ“áƒáƒ¥áƒ¢áƒ˜áƒ áƒ”áƒ‘áƒ</button>';
                    html += '</div>';
                    html += '<div class="text-view-' + idx + '-recovery" style="font-size: 14px; color: #666;">' + (mot.recovery || '') + '</div>';
                    html += '<textarea class="text-edit-' + idx + '-recovery" style="display: none; width: 100%; padding: 8px; border: 2px solid #10b981; border-radius: 6px; font-size: 14px;" rows="3">' + (mot.recovery || '') + '</textarea>';
                    html += '</div>';
                    
                    html += '</div>';
                    allHtml += html;
                });
                
                usageContainer.innerHTML = allHtml;
                
                // Attach edit handlers
                document.querySelectorAll('.edit-btn').forEach(btn => {
                    btn.addEventListener('click', function() {
                        let idx = parseInt(this.getAttribute('data-idx'));
                        let field = this.getAttribute('data-field');
                        toggleEdit(idx, field);
                    });
                });
            }
            
            // === RECOVERY MOTIVATIONS ===
            let recoveryContainer = document.getElementById('viewRecoveryMotivations');
            if (!recoveryContainer) return;
            recoveryContainer.innerHTML = '';
            
            if (!u.motivations.recovery || u.motivations.recovery.length === 0) {
                recoveryContainer.innerHTML = '<p style="color: #999; font-style: italic; padding: 12px; background: #f8f9fa; border-radius: 8px;">áƒ“áƒáƒáƒ­áƒ˜áƒ áƒ”áƒ— "+ áƒ“áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒ" áƒ áƒáƒ› áƒáƒ˜áƒ áƒ©áƒ˜áƒáƒ—</p>';
            } else {
                let allHtml = '';
                u.motivations.recovery.forEach((text, idx) => {
                    let isDefault = DEFAULT_RECOVERY_MOTIVATIONS.includes(text);
                    let bgColor = isDefault ? '#d1fae5' : '#fff3cd';
                    let html = '<div style="background: ' + bgColor + '; padding: 12px 15px; border-radius: 8px; margin-bottom: 8px; display: flex; align-items: center; border-left: 3px solid #10b981;">';
                    html += '<span style="flex: 1; font-weight: 500;">' + text + (!isDefault ? ' (áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜)' : '') + '</span>';
                    html += '</div>';
                    allHtml += html;
                });
                recoveryContainer.innerHTML = allHtml;
            }
        }

        function toggleEdit(idx, field) {
            let viewEl = document.querySelector('.text-view-' + idx + '-' + field);
            let editEl = document.querySelector('.text-edit-' + idx + '-' + field);
            
            if (editEl.style.display === 'none') {
                // Show edit mode
                viewEl.style.display = 'none';
                editEl.style.display = 'block';
                editEl.focus();
                
                // Add save/cancel buttons
                let parent = editEl.parentElement;
                if (!parent.querySelector('.edit-actions')) {
                    let actionsDiv = document.createElement('div');
                    actionsDiv.className = 'edit-actions';
                    actionsDiv.style.cssText = 'margin-top: 8px; display: flex; gap: 8px;';
                    actionsDiv.innerHTML = '<button class="btn btn-primary save-edit-btn" data-idx="' + idx + '" data-field="' + field + '" style="flex: 1; padding: 6px 12px; font-size: 13px;">ğŸ’¾ áƒ¨áƒ”áƒœáƒáƒ®áƒ•áƒ</button>' +
                                          '<button class="btn btn-secondary cancel-edit-btn" data-idx="' + idx + '" data-field="' + field + '" style="flex: 1; padding: 6px 12px; font-size: 13px;">âœ–ï¸ áƒ’áƒáƒ£áƒ¥áƒ›áƒ”áƒ‘áƒ</button>';
                    parent.appendChild(actionsDiv);
                    
                    // Attach handlers
                    actionsDiv.querySelector('.save-edit-btn').addEventListener('click', function() {
                        saveEdit(idx, field);
                    });
                    actionsDiv.querySelector('.cancel-edit-btn').addEventListener('click', function() {
                        cancelEdit(idx, field);
                    });
                }
            }
        }

        function saveEdit(idx, field) {
            let u = app.users[user.email];
            let editEl = document.querySelector('.text-edit-' + idx + '-' + field);
            let newValue = editEl.value.trim();
            
            u.motivations.usage[idx][field] = newValue;
            save();
            renderMotivationsView();
        }

        function cancelEdit(idx, field) {
            renderMotivationsView();
        }

        function deleteUsageMotivation(index) {
            if (!confirm('áƒœáƒáƒ›áƒ“áƒ•áƒ˜áƒšáƒáƒ“ áƒ’áƒ˜áƒœáƒ“áƒ áƒáƒ› áƒ›áƒáƒ¢áƒ˜áƒ•áƒáƒªáƒ˜áƒ˜áƒ¡ áƒ¬áƒáƒ¨áƒšáƒ?')) return;
            let u = app.users[user.email];
            if (!u.motivations || !u.motivations.usage) return;
            u.motivations.usage.splice(index, 1);
            save();
            renderMotivationsView();
        }

        function deleteRecoveryMotivation(index) {
            alert('áƒ¬áƒáƒ¨áƒšáƒ áƒ“áƒáƒ˜áƒ¬áƒ§áƒ - index: ' + index);
            if (!confirm('áƒœáƒáƒ›áƒ“áƒ•áƒ˜áƒšáƒáƒ“ áƒ’áƒ˜áƒœáƒ“áƒ áƒáƒ› áƒ›áƒáƒ¢áƒ˜áƒ•áƒáƒªáƒ˜áƒ˜áƒ¡ áƒ¬áƒáƒ¨áƒšáƒ?')) return;
            let u = app.users[user.email];
            if (!u.motivations || !u.motivations.recovery) {
                alert('áƒ¨áƒ”áƒªáƒ“áƒáƒ›áƒ: recovery áƒáƒ  áƒáƒ áƒ¡áƒ”áƒ‘áƒáƒ‘áƒ¡');
                return;
            }
            u.motivations.recovery.splice(index, 1);
            save();
            renderMotivationsView();
            alert('áƒ¬áƒáƒ¨áƒšáƒ˜áƒšáƒ˜áƒ!');
        }

        function addNewRecoveryMotivation() {
            alert('áƒ“áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒ áƒ“áƒáƒ˜áƒ¬áƒ§áƒ');
            let input = document.getElementById('addRecoveryInput');
            if (!input) {
                alert('áƒ¨áƒ”áƒªáƒ“áƒáƒ›áƒ: input áƒáƒ  áƒ›áƒáƒ˜áƒ«áƒ”áƒ‘áƒœáƒ!');
                return;
            }
            let text = input.value.trim();
            if (!text) {
                alert('áƒ¨áƒ”áƒªáƒ“áƒáƒ›áƒ: áƒ¢áƒ”áƒ¥áƒ¡áƒ¢áƒ˜ áƒªáƒáƒ áƒ˜áƒ”áƒšáƒ˜áƒ!');
                return;
            }
            
            let u = app.users[user.email];
            if (!u.motivations) u.motivations = {usage: [], recovery: []};
            if (!u.motivations.recovery) u.motivations.recovery = [];
            u.motivations.recovery.push({text: text});
            save();
            input.value = '';
            renderMotivationsView();
            alert('áƒ“áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒ£áƒšáƒ˜áƒ: ' + text);
        }

        // ===== NEW DASHBOARD FUNCTIONS =====
        
        // Show results flow (check-in or direct view)
        function showResultsFlow() {
            if (hasCheckedInToday()) {
                showFullResultsDirect();
            } else {
                document.getElementById('checkInModal').classList.add('active');
            }
        }
        
        // Check if already checked in today
        function hasCheckedInToday() {
            let u = app.users[user.email];
            if (!u.lastCheckIn) return false;
            let today = new Date().toISOString().split('T')[0];
            return u.lastCheckIn === today;
        }
        
        // Get current streak
        function getStreak() {
            let u = app.users[user.email];
            return u.streak || 0;
        }
        
        // Check-in YES (kept sobriety)
        function checkInYes() {
            document.getElementById('checkInModal').classList.remove('active');
            let u = app.users[user.email];
            u.streak = (u.streak || 0) + 1;
            u.lastCheckIn = new Date().toISOString().split('T')[0];
            save();
            updateDashboardStreak();
            document.getElementById('messageModal').classList.add('active');
        }
        
        // Check-in NO (relapse)
        function checkInNo() {
            document.getElementById('checkInModal').classList.remove('active');
            let u = app.users[user.email];
            u.streak = 0;
            u.lastCheckIn = new Date().toISOString().split('T')[0];
            save();
            updateDashboardStreak();
            document.getElementById('relapseMessageModal').classList.add('active');
        }
        
        // Show full results after message
        function showFullResults(isSuccess) {
            document.getElementById('messageModal').classList.remove('active');
            document.getElementById('relapseMessageModal').classList.remove('active');
            showFullResultsDirect();
        }
        
        // Show full results directly
        function showResults() {
            showSection('results');
            loadResultsPage();
        }
        
        function loadResultsPage() {
            const u = app.users[user.email];
            if (!u.goals || u.goals.length === 0) {
                document.getElementById('resultsGoalsList').innerHTML = `
                    <p style="color: #999; text-align: center; padding: 20px;">áƒ¯áƒ”áƒ  áƒáƒ  áƒ’áƒáƒ¥áƒ•áƒ¡ áƒ“áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ›áƒ˜áƒ–áƒœáƒ”áƒ‘áƒ˜</p>
                `;
                document.getElementById('resultsWillpowerTotal').textContent = '0%';
                document.getElementById('resultsWillpowerBar').style.width = '0%';
                return;
            }
            
            const today = new Date();
            const currentWeekKey = getWeekKey(today);
            
            let totalPercent = 0;
            let goalCount = 0;
            let html = '';
            
            // Add recovery/sobriety section
            const soberDays = calculateSoberDays(u);
            const soberPercent = Math.min(100, (soberDays / 7) * 100);
            totalPercent += soberPercent;
            goalCount++;
            
            html += `
                <div style="background: linear-gradient(135deg, #FEF3C7 0%, #FDE68A 100%); border-radius: 12px; padding: 15px; margin-bottom: 12px;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                        <span style="color: #92400E; font-weight: 600; font-size: 15px;">ğŸ¯ áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ</span>
                        <span style="color: #92400E; font-weight: 600; font-size: 15px;">${Math.round(soberPercent)}%</span>
                    </div>
                    <div style="display: flex; gap: 3px; margin-bottom: 5px;">
                        ${generateLast7DaysDisplay(u, 'sobriety')}
                    </div>
                    <p style="color: #78350F; font-size: 13px; margin: 0;">${soberDays}/7 áƒ¡áƒ˜áƒ¤áƒ®áƒ˜áƒ–áƒšáƒ˜áƒ¡ áƒ“áƒ¦áƒ”</p>
                </div>
            `;
            
            // Add each goal
            u.goals.forEach((goal) => {
                const weekProgress = goal.weeklyProgress[currentWeekKey] || [];
                const completed = weekProgress.filter(x => x === true).length;
                
                // Calculate target (with first week adjustment)
                const goalStartDate = new Date(goal.startDate);
                const goalStartWeek = getWeekKey(goalStartDate);
                const isFirstWeek = goalStartWeek === currentWeekKey;
                
                let target = goal.perWeek;
                if (isFirstWeek) {
                    // Use saved firstWeekMaxDays if exists, otherwise calculate
                    if (goal.firstWeekMaxDays !== undefined) {
                        target = goal.firstWeekMaxDays;
                    } else {
                        // Fallback for old goals without firstWeekMaxDays
                        const startDayOfWeek = (goalStartDate.getDay() + 6) % 7;
                        const daysRemainingInWeek = 7 - startDayOfWeek;
                        const proportionalTarget = (goal.perWeek / 7) * daysRemainingInWeek;
                        target = Math.floor(proportionalTarget);
                        if (target === 0) target = 1;
                    }
                }
                
                const percentage = Math.round((completed / target) * 100);
                totalPercent += Math.min(100, percentage);
                goalCount++;
                
                html += `
                    <div style="background: #f9fafb; border-radius: 12px; padding: 15px; margin-bottom: 12px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                            <span style="color: #374151; font-weight: 600; font-size: 15px;">${goal.emoji} ${goal.name}</span>
                            <span style="color: #374151; font-weight: 600; font-size: 15px;">${Math.min(100, percentage)}%</span>
                        </div>
                        <div style="display: flex; gap: 3px; margin-bottom: 5px;">
                            ${generateLast7DaysDisplay(u, 'goal', goal, currentWeekKey)}
                        </div>
                        <p style="color: #6b7280; font-size: 13px; margin: 0;">${completed}/${target} - áƒ™áƒ•áƒ˜áƒ áƒáƒ¨áƒ˜ ${goal.perWeek}-áƒ¯áƒ”áƒ </p>
                    </div>
                `;
            });
            
            const avgPercent = Math.round(totalPercent / goalCount);
            
            // Update UI
            document.getElementById('resultsWillpowerTotal').textContent = avgPercent + '%';
            document.getElementById('resultsWillpowerBar').style.width = avgPercent + '%';
            document.getElementById('resultsGoalsList').innerHTML = html;
        }
        
        function showFullResultsDirect() {
            let streak = getStreak();
            document.getElementById('fullResultsStreakDisplay').textContent = streak;
            generateMilestones(streak);
            generateCalendarView(streak);
            generateBadgesPage(streak); // Generate badges page
            generateSavingsPage(streak); // Generate savings page
            generateWillpowerPage(); // Generate willpower page
            document.getElementById('fullResultsModal').classList.add('active');
            
            // Initialize swipe
            initResultsSwipe();
        }
        
        // Calculate current week percentage for a goal
        function calculateWeeklyPercent(goal, currentWeekKey) {
            const weekProgress = goal.weeklyProgress[currentWeekKey] || [];
            const completed = weekProgress.filter(x => x === true).length;
            
            // Check if this is the first week
            const goalStartDate = new Date(goal.startDate);
            const goalStartWeek = getWeekKey(goalStartDate);
            const isFirstWeek = goalStartWeek === currentWeekKey;
            
            let target = goal.perWeek;
            
            if (isFirstWeek) {
                // Use saved firstWeekMaxDays if exists
                if (goal.firstWeekMaxDays !== undefined) {
                    target = goal.firstWeekMaxDays;
                } else {
                    // Fallback for old goals
                    const startDayOfWeek = (goalStartDate.getDay() + 6) % 7;
                    const daysRemainingInWeek = 7 - startDayOfWeek;
                    const proportionalTarget = (goal.perWeek / 7) * daysRemainingInWeek;
                    target = Math.floor(proportionalTarget);
                    if (target === 0) target = 1;
                }
            }
            
            // Calculate percentage
            if (target === 0) return 100; // If target is 0, auto 100%
            const percentage = Math.round((completed / target) * 100);
            return Math.min(100, percentage);
        }
        
        // Calculate total (weighted average) from history
        function calculateTotalPercent(goal) {
            if (!goal.weeklyHistory || Object.keys(goal.weeklyHistory).length === 0) {
                return 100; // Default 100% for new goals
            }
            
            const weeks = Object.values(goal.weeklyHistory);
            const sum = weeks.reduce((a, b) => a + b, 0);
            return Math.round(sum / weeks.length);
        }
        
        // Finalize week - called on Monday 00:00
        function finalizeWeek(goal, weekKey) {
            const weekProgress = goal.weeklyProgress[weekKey] || [];
            const completed = weekProgress.filter(x => x === true).length;
            const percentage = Math.round((completed / goal.perWeek) * 100);
            
            if (!goal.weeklyHistory) goal.weeklyHistory = {};
            goal.weeklyHistory[weekKey] = Math.min(100, percentage);
        }
        
        // Handle relapse - reset history
        function handleRelapse(user) {
            // Reset all goal histories
            if (user.goals) {
                user.goals.forEach(goal => {
                    goal.weeklyHistory = {};
                });
            }
        }
        
        function generateWillpowerPage() {
            const u = app.users[user.email];
            const container = document.getElementById('resultsWillpowerContent');
            
            const today = new Date();
            const currentWeekKey = getWeekKey(today);
            const currentDayOfWeek = (today.getDay() + 6) % 7; // Monday=0
            const daysRemainingThisWeek = 7 - currentDayOfWeek;
            
            // Check if there was a relapse (reset history)
            const soberDays = calculateSoberDays(u);
            const hasRelapse = soberDays < daysRemainingThisWeek;
            
            if (hasRelapse && !u.relapseHandled) {
                handleRelapse(u);
                u.relapseHandled = true;
                save();
            } else if (!hasRelapse) {
                u.relapseHandled = false;
            }
            
            let totalWeightedSum = 0;
            let totalWeight = 0;
            let currentWeekSum = 0;
            let currentWeekWeight = 0;
            let html = '';
            
            // Check if there was a relapse TODAY (lastUse updated to today)
            const todayDate = new Date().toISOString().split('T')[0];
            const hadRelapseToday = u.lastUse === todayDate;
            
            // Sobriety: calculate total and current
            let sobrietyTotal = 100; // Default
            if (u.sobrietyHistory && Object.keys(u.sobrietyHistory).length > 0) {
                const weeks = Object.values(u.sobrietyHistory);
                sobrietyTotal = Math.round(weeks.reduce((a, b) => a + b, 0) / weeks.length);
            }
            
            // If there was a relapse today, sobriety should be 0
            if (hadRelapseToday) {
                sobrietyTotal = 0;
            }
            
            // Current week sobriety - based on lastUse date
            const lastUseDate = u.lastUse ? new Date(u.lastUse) : new Date();
            const startDate = new Date(lastUseDate);
            startDate.setDate(startDate.getDate() + 1); // Day after lastUse
            
            // Get Monday of current week
            const monday = new Date(today);
            const currentDayOfWeekForMonday = (today.getDay() + 6) % 7;
            monday.setDate(monday.getDate() - currentDayOfWeekForMonday);
            monday.setHours(0, 0, 0, 0);
            
            let startDayOfWeek;
            let maxDays;
            
            if (startDate < monday) {
                // Started before this week â†’ full week available
                startDayOfWeek = 0; // Monday
                maxDays = 7;
            } else {
                // Started this week
                startDayOfWeek = (startDate.getDay() + 6) % 7;
                maxDays = 7 - startDayOfWeek;
            }
            
            // Calculate passed days (from start day to today)
            const passedDays = currentDayOfWeek - startDayOfWeek + 1;
            
            // Percentage
            let sobrietyCurrent = 100;
            if (maxDays > 0 && passedDays > 0) {
                sobrietyCurrent = Math.round((passedDays / maxDays) * 100);
            }
            
            // If there was a relapse today, current is also 0
            if (hadRelapseToday) {
                sobrietyCurrent = 0;
            }
            
            // Count for display (how many days lit up this week)
            // Use local dates to avoid timezone issues
            const todayStr = getTodayLocal();
            
            // Get startDate in local timezone
            const startDateLocal = new Date(startDate);
            const startStr = `${startDateLocal.getFullYear()}-${String(startDateLocal.getMonth() + 1).padStart(2, '0')}-${String(startDateLocal.getDate()).padStart(2, '0')}`;
            
            let soberDaysCount = 0;
            for (let i = 0; i < 7; i++) {
                const date = new Date(today);
                const daysBack = currentDayOfWeek - i;
                date.setDate(date.getDate() - daysBack);
                // Use local date format
                const dateStr = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}`;
                
                if (dateStr >= startStr && dateStr <= todayStr) {
                    const checkin = u.dailyCheckins?.find(c => c.date === dateStr);
                    if (!checkin || !checkin.relapse) {
                        soberDaysCount++;
                    }
                }
            }
            
            totalWeightedSum += sobrietyTotal * 7;
            totalWeight += 7;
            currentWeekSum += sobrietyCurrent * 7;
            currentWeekWeight += 7;
            
            html += `
                <div style="background: linear-gradient(135deg, #FEF3C7 0%, #FDE68A 100%); border-radius: 12px; padding: 15px; margin-bottom: 15px;">
                    <div style="display: flex; gap: 12px;">
                        <div style="display: flex; flex-direction: column; justify-content: center; text-align: center; min-width: 60px;">
                            <div style="color: #92400E; font-size: 10px; line-height: 1.3;">áƒœáƒ”áƒ‘áƒ˜áƒ¡</div>
                            <div style="color: #92400E; font-size: 10px; line-height: 1.3;">áƒ«áƒáƒšáƒ:</div>
                            <div style="color: #92400E; font-weight: 600; font-size: 16px; margin-top: 2px;">${sobrietyTotal}%</div>
                        </div>
                        
                        <div style="flex: 1;">
                            <div style="color: #92400E; font-weight: 600; font-size: 15px; margin-bottom: 8px; text-align: center;">ğŸ¯ áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ</div>
                            <div style="display: flex; gap: 3px; margin-bottom: 8px;">
                                ${generateLast7DaysDisplay(u, 'sobriety')}
                            </div>
                            <p style="color: #78350F; font-size: 13px; margin: 0; text-align: center;">${soberDaysCount}/${maxDays} áƒ¡áƒ˜áƒ¤áƒ®áƒ˜áƒ–áƒšáƒ˜áƒ¡ áƒ“áƒ¦áƒ”</p>
                        </div>
                        
                        <div style="display: flex; flex-direction: column; justify-content: center; text-align: center; min-width: 60px;">
                            <div style="color: #92400E; font-size: 10px; line-height: 1.3;">áƒ›áƒ˜áƒ›áƒ“áƒ˜áƒœáƒáƒ áƒ”</div>
                            <div style="color: #92400E; font-size: 10px; line-height: 1.3;">áƒ™áƒ•áƒ˜áƒ áƒ:</div>
                            <div style="color: #92400E; font-weight: 600; font-size: 16px; margin-top: 2px;">${sobrietyCurrent}%</div>
                        </div>
                    </div>
                </div>
            `;
            
            // Add each goal
            if (u.goals && u.goals.length > 0) {
                u.goals.forEach((goal) => {
                    // Calculate total (weighted average from history)
                    const totalPercent = calculateTotalPercent(goal);
                    
                    // Calculate current week percentage
                    const currentPercent = calculateWeeklyPercent(goal, currentWeekKey);
                    
                    totalWeightedSum += totalPercent * goal.perWeek;
                    totalWeight += goal.perWeek;
                    currentWeekSum += currentPercent * goal.perWeek;
                    currentWeekWeight += goal.perWeek;
                    
                    const weekProgress = goal.weeklyProgress[currentWeekKey] || [];
                    const completed = weekProgress.filter(x => x === true).length;
                    
                    // Get target for display - check if first week
                    const goalStartDate = new Date(goal.startDate);
                    const goalStartWeek = getWeekKey(goalStartDate);
                    const isFirstWeek = goalStartWeek === currentWeekKey;
                    
                    let target = goal.perWeek;
                    if (isFirstWeek) {
                        if (goal.firstWeekMaxDays !== undefined) {
                            target = goal.firstWeekMaxDays;
                        } else {
                            const startDayOfWeek = (goalStartDate.getDay() + 6) % 7;
                            const daysRemainingInWeek = 7 - startDayOfWeek;
                            const proportionalTarget = (goal.perWeek / 7) * daysRemainingInWeek;
                            target = Math.floor(proportionalTarget);
                            if (target === 0) target = 1;
                        }
                    }
                    
                    html += `
                        <div style="background: #f9fafb; border-radius: 12px; padding: 15px; margin-bottom: 15px;">
                            <div style="display: flex; gap: 12px;">
                                <div style="display: flex; flex-direction: column; justify-content: center; text-align: center; min-width: 60px;">
                                    <div style="color: #374151; font-size: 10px; line-height: 1.3;">áƒœáƒ”áƒ‘áƒ˜áƒ¡</div>
                                    <div style="color: #374151; font-size: 10px; line-height: 1.3;">áƒ«áƒáƒšáƒ:</div>
                                    <div style="color: #374151; font-weight: 600; font-size: 16px; margin-top: 2px;">${totalPercent}%</div>
                                </div>
                                
                                <div style="flex: 1;">
                                    <div style="color: #374151; font-weight: 600; font-size: 15px; margin-bottom: 8px; text-align: center;">${goal.emoji} ${goal.name}</div>
                                    <div style="display: flex; gap: 3px; margin-bottom: 8px;">
                                        ${generateLast7DaysDisplay(u, 'goal', goal, currentWeekKey)}
                                    </div>
                                    <p style="color: #6b7280; font-size: 13px; margin: 0; text-align: center;">${completed}/${target} - áƒ™áƒ•áƒ˜áƒ áƒáƒ¨áƒ˜ ${goal.perWeek}-áƒ¯áƒ”áƒ </p>
                                </div>
                                
                                <div style="display: flex; flex-direction: column; justify-content: center; text-align: center; min-width: 60px;">
                                    <div style="color: #374151; font-size: 10px; line-height: 1.3;">áƒ›áƒ˜áƒ›áƒ“áƒ˜áƒœáƒáƒ áƒ”</div>
                                    <div style="color: #374151; font-size: 10px; line-height: 1.3;">áƒ™áƒ•áƒ˜áƒ áƒ:</div>
                                    <div style="color: #374151; font-weight: 600; font-size: 16px; margin-top: 2px;">${currentPercent}%</div>
                                </div>
                            </div>
                        </div>
                    `;
                });
            }
            
            const avgPercent = totalWeight > 0 ? Math.round(totalWeightedSum / totalWeight) : 0;
            const currentWeekPercent = currentWeekWeight > 0 ? Math.round(currentWeekSum / currentWeekWeight) : 0;
            
            // Overall percentage bars
            const overallHtml = `
                <div style="background: white; border-radius: 12px; padding: 20px; margin-bottom: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                        <span style="color: #6b7280; font-size: 16px;">ğŸ’ª áƒœáƒ”áƒ‘áƒ˜áƒ¡ áƒ«áƒáƒšáƒ:</span>
                        <span style="color: #374151; font-weight: 600; font-size: 20px;">${avgPercent}%</span>
                    </div>
                    <div style="background: #e5e7eb; border-radius: 8px; height: 16px; overflow: hidden;">
                        <div style="background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); height: 100%; width: ${avgPercent}%; transition: width 0.3s;"></div>
                    </div>
                </div>
                
                <div style="background: white; border-radius: 12px; padding: 20px; margin-bottom: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                        <span style="color: #6b7280; font-size: 16px;">ğŸ’ª áƒ›áƒ˜áƒ›áƒ“áƒ˜áƒœáƒáƒ áƒ” áƒ™áƒ•áƒ˜áƒ áƒ:</span>
                        <span style="color: #374151; font-weight: 600; font-size: 20px;">${currentWeekPercent}%</span>
                    </div>
                    <div style="background: #e5e7eb; border-radius: 8px; height: 16px; overflow: hidden;">
                        <div style="background: linear-gradient(135deg, #10b981 0%, #3b82f6 100%); height: 100%; width: ${currentWeekPercent}%; transition: width 0.3s;"></div>
                    </div>
                </div>
            `;
            
            container.innerHTML = overallHtml + html;
        }
        
        // Generate badges page (from achievements modal logic)
        function generateBadgesPage(currentStreak) {
            const milestones = [7, 14, 30, 60, 90, 120, 150, 180, 210, 240, 270, 300, 330, 365, 730, 1825, 3650];
            
            // Get earned badges
            const earnedBadges = milestones.filter(m => currentStreak >= m);
            
            // Find next badge (same logic as contact achievements)
            let nextBadge = milestones[0];
            for (let m of milestones) {
                if (currentStreak < m) {
                    nextBadge = m;
                    break;
                }
            }
            
            // Calculate current progress
            const lastBadge = earnedBadges.length > 0 ? earnedBadges[earnedBadges.length - 1] : 0;
            const progressDays = currentStreak - lastBadge;
            const totalDays = nextBadge - lastBadge; // This is current goal
            const daysLeft = nextBadge - currentStreak; // Days remaining
            const percentage = (progressDays / totalDays) * 100;
            
            let html = `
                <div style="padding: 0 10px; height: 100%; display: flex; flex-direction: column; overflow-y: auto;">
                    
                    <!-- Current Goal Title -->
                    <h3 style="color: #1E40AF; margin-bottom: 20px; font-size: 24px; text-align: center;">ğŸ“Š áƒ›áƒ˜áƒ›áƒ“áƒ˜áƒœáƒáƒ áƒ” áƒ›áƒ˜áƒ–áƒáƒœáƒ˜: ${totalDays} áƒ“áƒ¦áƒ”</h3>
                    
                    <!-- Next Badge -->
                    <div style="margin-bottom: 25px;">
                        <h3 style="color: #1E40AF; margin-bottom: 15px; font-size: 18px; font-weight: 600;">ğŸ¯ áƒ›áƒáƒ›áƒ“áƒ”áƒ•áƒœáƒ áƒ‘áƒ”áƒ¯áƒ˜:</h3>
                        <div style="background: linear-gradient(135deg, #DBEAFE 0%, #BFDBFE 100%); padding: 12px 28px; border-radius: 12px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); display: flex; align-items: center; gap: 8px; width: 145px;">
                            <span style="font-size: 24px; flex-shrink: 0;">ğŸ…</span>
                            <span style="color: #1E40AF; font-weight: 600; font-size: 16px; white-space: nowrap;">${nextBadge} áƒ“áƒ¦áƒ”</span>
                        </div>
                    </div>
                    
                    <!-- Progress -->
                    <div style="margin-bottom: 25px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                            <h3 style="color: #1E40AF; margin: 0; font-size: 18px; font-weight: 600;">ğŸ“ˆ áƒáƒ áƒáƒ’áƒ áƒ”áƒ¡áƒ˜:</h3>
                            <span style="color: #1E40AF; font-size: 16px; font-weight: 600;">${progressDays}/${totalDays} áƒ“áƒ¦áƒ”</span>
                        </div>
                        
                        <div style="display: grid; grid-template-columns: repeat(${Math.min(totalDays, 30)}, 1fr); gap: 3px; margin-bottom: 12px;">
            `;
            
            for (let i = 0; i < Math.min(totalDays, 30); i++) {
                const filled = i < progressDays;
                html += `<div style="height: 20px; background: ${filled ? '#10b981' : '#e5e7eb'}; border-radius: 4px;"></div>`;
            }
            
            html += `
                        </div>
                        
                        <div style="background: #f0f9ff; padding: 12px; border-radius: 8px; border-left: 4px solid #0ea5e9;">
                            <p style="color: #0c4a6e; font-size: 15px; margin: 0; font-weight: 500;">
                                ${Math.round(percentage)}% áƒ’áƒáƒ•áƒšáƒ˜áƒšáƒ˜ Â· áƒ“áƒáƒ áƒ©áƒ ${totalDays - progressDays} áƒ“áƒ¦áƒ”
                            </p>
                        </div>
                    </div>
                    
                    <!-- Earned Badges -->
                    <div style="flex: 1; overflow-y: auto;">
                        <h3 style="color: #059669; margin-bottom: 15px; font-size: 18px; font-weight: 600;">âœ… áƒ›áƒ˜áƒ¦áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ‘áƒ”áƒ¯áƒ”áƒ‘áƒ˜:</h3>
            `;
            
            if (earnedBadges.length > 0) {
                html += `<div style="display: flex; flex-direction: column; gap: 10px; padding-bottom: 20px;">`;
                earnedBadges.reverse().forEach(badge => {
                    html += `
                        <div style="background: linear-gradient(135deg, #DBEAFE 0%, #BFDBFE 100%); padding: 8px 20px; border-radius: 12px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); display: flex; align-items: center; gap: 8px; width: 145px;">
                            <span style="font-size: 24px; flex-shrink: 0;">ğŸ…</span>
                            <span style="color: #1E40AF; font-weight: 600; font-size: 16px;">${badge} áƒ“áƒ¦áƒ”</span>
                        </div>
                    `;
                });
                html += `</div>`;
            } else {
                html += `<p style="color: #999; text-align: center; padding: 40px 20px; font-size: 16px;">áƒ¯áƒ”áƒ  áƒáƒ  áƒ’áƒáƒ¥áƒ•áƒ¡ áƒ›áƒ˜áƒ¦áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ‘áƒ”áƒ¯áƒ˜ ğŸ¯</p>`;
            }
            
            html += `</div></div>`;
            
            document.getElementById('badgesPageContent').innerHTML = html;
        }
        
        // Generate savings page  
        function generateSavingsPage(soberDays) {
            const u = app.users[user.email];
            const s = u.savings;
            
            let html = '';
            
            // Check if any savings are enabled
            const hasMoney = s && s.enableMoney && s.dailyMoneyCost;
            const hasTime = s && s.enableTime && s.dailyTimeHours;
            
            if (!hasMoney && !hasTime) {
                html = `
                    <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; padding: 20px; text-align: center;">
                        <div style="font-size: 64px; margin-bottom: 20px;">ğŸ’°</div>
                        <h3 style="color: #666; margin-bottom: 15px; font-size: 20px;">áƒ“áƒáƒœáƒáƒ–áƒáƒ’áƒ”áƒ‘áƒ˜áƒ¡ áƒ—áƒ•áƒáƒšáƒ—áƒ•áƒáƒšáƒ˜ áƒ’áƒáƒ›áƒáƒ áƒ—áƒ£áƒšáƒ˜áƒ</h3>
                        <p style="color: #999; font-size: 16px; line-height: 1.6;">áƒ©áƒáƒ áƒ—áƒ”áƒ— áƒ“áƒáƒœáƒáƒ–áƒáƒ’áƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒáƒ“áƒ£áƒšáƒ˜ áƒ›áƒáƒ¢áƒ˜áƒ•áƒáƒªáƒ˜áƒ”áƒ‘áƒ˜áƒ¡ áƒ¡áƒ”áƒ¥áƒªáƒ˜áƒáƒ¨áƒ˜</p>
                    </div>
                `;
            } else {
                html = '<div style="display: flex; flex-direction: column; gap: 20px; padding: 15px;">';
                
                // Money savings card - minimalist white
                if (hasMoney) {
                    const totalMoney = soberDays * s.dailyMoneyCost;
                    
                    html += `
                        <div style="background: white; padding: 30px; border-radius: 16px; border: 2px solid #e5e7eb; box-shadow: 0 2px 8px rgba(0,0,0,0.06);">
                            <div style="display: flex; flex-direction: column; align-items: center; text-align: center;">
                                <div style="font-size: 48px; margin-bottom: 12px;">ğŸ’µ</div>
                                <div style="color: #9ca3af; font-size: 14px; font-weight: 500; margin-bottom: 8px;">áƒ¤áƒ£áƒšáƒáƒ“áƒ˜ áƒ“áƒáƒœáƒáƒ–áƒáƒ’áƒ˜</div>
                                <div style="color: #1f2937; font-size: 42px; font-weight: 700; margin-bottom: 12px;">${Math.round(totalMoney)} â‚¾</div>
                                <div style="color: #9ca3af; font-size: 13px;">${soberDays} áƒ“áƒ¦áƒ”</div>
                            </div>
                        </div>
                    `;
                }
                
                // Time savings card - minimalist white
                if (hasTime) {
                    const totalHours = soberDays * s.dailyTimeHours;
                    
                    html += `
                        <div style="background: white; padding: 30px; border-radius: 16px; border: 2px solid #e5e7eb; box-shadow: 0 2px 8px rgba(0,0,0,0.06);">
                            <div style="display: flex; flex-direction: column; align-items: center; text-align: center;">
                                <div style="font-size: 48px; margin-bottom: 12px;">â°</div>
                                <div style="color: #9ca3af; font-size: 14px; font-weight: 500; margin-bottom: 8px;">áƒ“áƒ áƒáƒ˜áƒ¡ áƒ“áƒáƒœáƒáƒ–áƒáƒ’áƒ˜</div>
                                <div style="color: #1f2937; font-size: 42px; font-weight: 700; margin-bottom: 12px;">${Math.round(totalHours)} áƒ¡áƒáƒáƒ—áƒ˜</div>
                                <div style="color: #9ca3af; font-size: 13px;">${soberDays} áƒ“áƒ¦áƒ”</div>
                            </div>
                        </div>
                    `;
                }
                
                html += '</div>';
            }
            
            document.getElementById('resultsSavingsContent').innerHTML = html;
        }
        
        // Initialize swipe functionality
        let currentResultsPage = 0;
        function initResultsSwipe() {
            const container = document.getElementById('resultsSwipeContainer');
            const dots = document.querySelectorAll('.page-dot');
            let startX = 0;
            let currentX = 0;
            let isDragging = false;
            
            currentResultsPage = 0;
            container.style.transform = 'translateX(0%)'; // Reset to first page
            updatePageIndicators();
            
            // Touch events
            container.addEventListener('touchstart', (e) => {
                startX = e.touches[0].clientX;
                isDragging = true;
                container.style.transition = 'none';
            });
            
            container.addEventListener('touchmove', (e) => {
                if (!isDragging) return;
                currentX = e.touches[0].clientX;
                const diff = currentX - startX;
                const pageWidth = 100 / 6; // 16.666% for 6 pages
                const currentTranslate = -(currentResultsPage * pageWidth);
                const newTranslate = currentTranslate + (diff / container.offsetWidth * pageWidth);
                container.style.transform = `translateX(${newTranslate}%)`;
            });
            
            container.addEventListener('touchend', (e) => {
                if (!isDragging) return;
                isDragging = false;
                const diff = currentX - startX;
                const threshold = 50;
                
                container.style.transition = 'transform 0.3s ease';
                
                if (diff > threshold && currentResultsPage > 0) {
                    currentResultsPage--;
                } else if (diff < -threshold && currentResultsPage < 5) {
                    currentResultsPage++;
                }
                
                goToResultsPage(currentResultsPage);
            });
            
            // Click on dots
            dots.forEach(dot => {
                dot.addEventListener('click', () => {
                    const page = parseInt(dot.getAttribute('data-page'));
                    goToResultsPage(page);
                });
            });
        }
        
        function goToResultsPage(page) {
            currentResultsPage = page;
            const container = document.getElementById('resultsSwipeContainer');
            const pageWidth = 100 / 6; // 16.666% for 6 pages
            container.style.transform = `translateX(-${page * pageWidth}%)`;
            updatePageIndicators();
        }
        
        function updatePageIndicators() {
            const dots = document.querySelectorAll('.page-dot');
            dots.forEach((dot, index) => {
                if (index === currentResultsPage) {
                    dot.style.background = '#667eea';
                    dot.style.transform = 'scale(1.2)';
                } else {
                    dot.style.background = '#d1d5db';
                    dot.style.transform = 'scale(1)';
                }
            });
        }
        
        // Close full results
        function closeFullResults() {
            document.getElementById('fullResultsModal').classList.remove('active');
        }
        
        // Generate milestones
        function generateMilestones(streak) {
            const container = document.getElementById('milestonesContainer');
            container.innerHTML = '';
            
            const milestones = [
                { days: 1, icon: 'ğŸ¯', label: '1 áƒ“áƒ¦áƒ”' },
                { days: 7, icon: 'â­', label: '7 áƒ“áƒ¦áƒ”' },
                { days: 14, icon: 'âœ¨', label: '14 áƒ“áƒ¦áƒ”' },
                { days: 30, icon: 'ğŸ’ª', label: '30 áƒ“áƒ¦áƒ”' },
                { days: 60, icon: 'ğŸ†', label: '60 áƒ“áƒ¦áƒ”' },
                { days: 90, icon: 'ğŸ…', label: '90 áƒ“áƒ¦áƒ”' },
                { days: 180, icon: 'ğŸ’', label: '180 áƒ“áƒ¦áƒ”' },
                { days: 365, icon: 'ğŸ‘‘', label: '365 áƒ“áƒ¦áƒ”' },
                { days: 730, icon: 'ğŸŒŸ', label: '2 áƒ¬áƒ”áƒšáƒ˜' },
                { days: 1825, icon: 'ğŸ”¥', label: '5 áƒ¬áƒ”áƒšáƒ˜' },
                { days: 3650, icon: 'ğŸ›ï¸', label: '10 áƒ¬áƒ”áƒšáƒ˜' }
            ];
            
            let nextMilestone = milestones.find(m => m.days > streak);
            
            milestones.forEach(m => {
                const div = document.createElement('div');
                div.className = 'milestone';
                
                if (streak >= m.days) {
                    div.classList.add('achieved');
                } else if (m.days === nextMilestone?.days) {
                    div.classList.add('next');
                }
                
                div.innerHTML = `
                    <div class="milestone-icon">${m.icon}</div>
                    <div class="milestone-label">${m.label}</div>
                `;
                
                container.appendChild(div);
            });
        }
        
        // Generate calendar view
        function generateCalendarView(streak) {
            const container = document.getElementById('calendarFull');
            container.innerHTML = '';
            
            for (let i = 1; i <= 28; i++) {
                const day = document.createElement('div');
                day.className = 'calendar-day';
                
                const successDays = Math.min(streak, 28);
                if (i > (28 - successDays)) {
                    day.classList.add('success');
                }
                
                if (i === 28) {
                    day.classList.add('today');
                }
                
                day.textContent = i;
                container.appendChild(day);
            }
        }
        
        // Update dashboard streak display
        function updateDashboardStreak() {
            let streak = getStreak();
            document.getElementById('dashboardStreakDisplay').textContent = `ğŸ”¥ ${streak} áƒ“áƒ¦áƒ”`;
        }
        
        // Show SOS
        // === SOS FLOW ===
        let sosCurrentThoughtIndex = -1;
        let sosCurrentStep = 0;
        let sosTempData = { whyRight: '', whyWrong: '', whatToSay: '' };
        let sosShowedIntro = false; // Track if intro screen was shown
        
        function showSOS() {
            // Show intro screen first time
            if (!sosShowedIntro) {
                sosShowIntro();
                return;
            }
            
            // Ensure copingThoughts is loaded
            if (!copingThoughts || copingThoughts.length === 0) {
                copingLoadData();
            }
            
            // RESET all SOS state
            sosCurrentThoughtIndex = -1;
            sosCurrentStep = 0;
            sosPendingThoughtIndex = -1;
            sosShowingAllThoughts = false;
            
            // Reset button text
            const btnText = document.getElementById('sosShowOtherThoughtsBtnText');
            if (btnText) btnText.textContent = 'ğŸ‘ï¸ áƒ’áƒáƒ›áƒáƒáƒ©áƒ˜áƒœáƒ” áƒ“áƒáƒœáƒáƒ áƒ©áƒ”áƒœáƒ˜ áƒáƒ–áƒ áƒ”áƒ‘áƒ˜áƒª';
            
            // Show dropdown, hide confirmation
            document.getElementById('sosConfirmBox').style.display = 'none';
            document.getElementById('sosDropdownContainer').style.display = 'block';
            document.getElementById('sosThoughtSelect').value = '';
            
            // Show skip button
            document.getElementById('sosSkipBtn').style.display = 'block';
            
            document.getElementById('sosQuestionModal').style.display = 'block';
            sosLoadThoughtOptions();
        }
        
        let sosShowingAllThoughts = false;
        
        function sosLoadThoughtOptions(showAll = false) {
            const select = document.getElementById('sosThoughtSelect');
            const showOtherBtn = document.getElementById('sosShowOtherThoughtsBtn');
            
            if (!select) return;
            
            const allThoughts = copingThoughts && copingThoughts.length > 0 ? copingThoughts : [];
            
            // Separate selected and unselected thoughts
            const selectedThoughts = allThoughts.filter(t => t.selected === true);
            const unselectedThoughts = allThoughts.filter(t => t.selected !== true);
            
            let html = '<option value="">áƒáƒ˜áƒ áƒ©áƒ˜áƒ” áƒáƒ–áƒ áƒ˜...</option>';
            
            if (showAll) {
                // Show ALL: selected + unselected
                selectedThoughts.forEach((thought) => {
                    const globalIndex = copingThoughts.indexOf(thought);
                    html += `<option value="${globalIndex}">âœ… ${thought.text}</option>`;
                });
                
                if (unselectedThoughts.length > 0) {
                    html += '<option disabled>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</option>';
                    unselectedThoughts.forEach((thought) => {
                        const globalIndex = copingThoughts.indexOf(thought);
                        html += `<option value="${globalIndex}">âšª ${thought.text}</option>`;
                    });
                }
            } else {
                // Show ONLY selected thoughts
                if (selectedThoughts.length === 0) {
                    html = '<option value="">áƒ›áƒáƒœáƒ˜áƒ¨áƒœáƒ£áƒšáƒ˜ áƒáƒ–áƒ áƒ”áƒ‘áƒ˜ áƒáƒ  áƒáƒ áƒ˜áƒ¡...</option>';
                } else {
                    selectedThoughts.forEach((thought) => {
                        const globalIndex = copingThoughts.indexOf(thought);
                        html += `<option value="${globalIndex}">âœ… ${thought.text}</option>`;
                    });
                }
                
                // Show button if there are unselected thoughts
                if (showOtherBtn) {
                    showOtherBtn.style.display = unselectedThoughts.length > 0 ? 'block' : 'none';
                }
            }
            
            select.innerHTML = html;
            
            // Handle selection
            select.onchange = function() {
                if (this.value !== '') {
                    sosShowConfirmation(parseInt(this.value));
                }
            };
        }
        
        function sosToggleAllThoughts() {
            sosShowingAllThoughts = !sosShowingAllThoughts;
            
            // Toggle button text
            const btnText = document.getElementById('sosShowOtherThoughtsBtnText');
            if (sosShowingAllThoughts) {
                btnText.textContent = 'ğŸ‘ï¸ áƒ“áƒáƒ›áƒáƒšáƒ” áƒ“áƒáƒœáƒáƒ áƒ©áƒ”áƒœáƒ˜ áƒáƒ–áƒ áƒ”áƒ‘áƒ˜áƒª';
            } else {
                btnText.textContent = 'ğŸ‘ï¸ áƒ’áƒáƒ›áƒáƒáƒ©áƒ˜áƒœáƒ” áƒ“áƒáƒœáƒáƒ áƒ©áƒ”áƒœáƒ˜ áƒáƒ–áƒ áƒ”áƒ‘áƒ˜áƒª';
            }
            
            // Reload dropdown
            sosLoadThoughtOptions(sosShowingAllThoughts);
        }
        
        let sosPendingThoughtIndex = -1;
        
        // SOS Intro Screen
        function sosShowIntro() {
            const modal = document.getElementById('sosQuestionModal');
            const content = modal.querySelector('.sos-modal-content') || modal;
            
            content.innerHTML = `
                <div style="background: white; max-width: 800px; margin: 30px auto; border-radius: 12px; padding: 40px 20px; min-height: 650px; display: flex; flex-direction: column;">
                    <div style="font-size: 60px; margin-bottom: 20px; text-align: center;">â°</div>
                    <p style="font-size: 18px; line-height: 1.8; color: #333; margin-bottom: 30px; text-align: center;">
                        <strong>áƒ›áƒáƒ›áƒ”áƒœáƒ¢áƒ˜, áƒ áƒáƒ“áƒ”áƒ¡áƒáƒª áƒ›áƒáƒ˜áƒ®áƒ›áƒáƒ  áƒáƒ áƒ áƒ˜áƒ›áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡, áƒ áƒáƒ› áƒ™áƒáƒ áƒ’áƒáƒ“ áƒ˜áƒ§áƒ, áƒáƒ áƒáƒ›áƒ”áƒ“ áƒ˜áƒ›áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡, áƒ áƒáƒ› áƒªáƒ£áƒ“áƒáƒ“ áƒáƒ  áƒ˜áƒ§áƒ, áƒ“áƒ’áƒ”áƒ‘áƒ áƒ«áƒáƒšáƒ˜áƒáƒœ áƒ›áƒáƒšáƒ”!</strong>
                    </p>
                    <div style="text-align: center; margin-top: auto;">
                        <button onclick="sosIntroNext()" 
                                style="width: 100%; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; padding: 15px; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 16px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">
                            áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’áƒ˜ â†’
                        </button>
                    </div>
                </div>
            `;
            
            modal.style.display = 'block';
        }
        
        function sosIntroNext() {
            sosShowedIntro = true;
            
            // Restore original modal structure
            const modal = document.getElementById('sosQuestionModal');
            modal.innerHTML = `
                <div style="background: white; max-width: 800px; margin: 30px auto; border-radius: 12px; padding: 40px 20px; min-height: 650px; display: flex; flex-direction: column;">
                    <h2 style="color: #333; margin-bottom: 25px; text-align: center; font-size: 24px;">ğŸ†˜ áƒ áƒ áƒáƒ–áƒ áƒ˜ áƒ’áƒ˜áƒ©áƒœáƒ“áƒ”áƒ‘áƒ áƒáƒ®áƒšáƒ?</h2>
                    
                    <!-- Dropdown Container -->
                    <div id="sosDropdownContainer">
                        <!-- Dropdown for filled thoughts only -->
                        <div style="margin-bottom: 20px;">
                            <select id="sosThoughtSelect" style="width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 16px; background: white;">
                                <option value="">áƒáƒ˜áƒ áƒ©áƒ˜áƒ” áƒáƒ–áƒ áƒ˜...</option>
                            </select>
                        </div>
                        
                        <!-- Show Other Thoughts Button -->
                        <button id="sosShowOtherThoughtsBtn" class="btn btn-secondary" onclick="sosToggleAllThoughts()" style="width: 100%; margin-bottom: 15px; padding: 12px; display: none;">
                            <span id="sosShowOtherThoughtsBtnText">ğŸ‘ï¸ áƒ’áƒáƒ›áƒáƒáƒ©áƒ˜áƒœáƒ” áƒ“áƒáƒœáƒáƒ áƒ©áƒ”áƒœáƒ˜ áƒáƒ–áƒ áƒ”áƒ‘áƒ˜áƒª</span>
                        </button>
                        <!-- Add New Button -->
                        <button id="sosAddNewBtn" class="btn btn-primary" onclick="sosAddNewThought()" style="width: 100%; margin-bottom: 15px; padding: 12px;">
                            â• áƒáƒ®áƒáƒšáƒ˜ áƒáƒ–áƒ áƒ˜áƒ¡ áƒ“áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒ
                        </button>
                    </div>
                    
                    <!-- Skip Button - Outside container to use margin-top: auto -->
                    <button id="sosSkipBtn" onclick="sosSkipThoughts()" style="width: 100%; padding: 15px; margin-top: auto; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 16px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">
                        â­ï¸ áƒ’áƒáƒ›áƒáƒ¢áƒáƒ•áƒ”áƒ‘áƒ
                    </button>
                    
                    <!-- Confirmation Box (hidden by default) -->
                    <div id="sosConfirmBox" style="display: none; margin-bottom: 20px; padding: 20px; background: #f8f9fa; border-radius: 8px;">
                        <h3 style="color: #667eea; margin-bottom: 15px; font-size: 18px;">áƒáƒ áƒ©áƒ”áƒ£áƒšáƒ˜ áƒáƒ–áƒ áƒ˜:</h3>
                        <p id="sosConfirmText" style="color: #333; margin-bottom: 20px; line-height: 1.6; font-size: 16px;"></p>
                        
                        <div style="display: flex; gap: 15px; margin-top: auto;">
                            <button onclick="sosConfirmSelection()" style="flex: 1; padding: 12px; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 14px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">áƒáƒ áƒ©áƒ”áƒ•áƒ</button>
                            <button onclick="sosCancelSelection()" style="flex: 1; padding: 12px; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 14px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">â† áƒ£áƒ™áƒáƒœ</button>
                        </div>
                    </div>
                </div>
            `;
            
            showSOS(); // Now show the actual SOS flow
        }
        
        // SOS Final Screen (before motivations)
        function sosShowFinalScreen() {
            const modal = document.getElementById('sosQuestionModal');
            const content = modal.querySelector('.sos-modal-content') || modal;
            
            content.innerHTML = `
                <div style="background: white; max-width: 800px; margin: 30px auto; border-radius: 12px; padding: 40px 20px; min-height: 650px; display: flex; flex-direction: column;">
                    <div style="font-size: 60px; margin-bottom: 20px; text-align: center;">âš–ï¸</div>
                    <p style="font-size: 18px; line-height: 1.8; color: #333; margin-bottom: 15px; text-align: center;">
                        <strong>áƒœáƒ˜áƒ•áƒ—áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ áƒ áƒ˜áƒ¡ áƒ›áƒáƒªáƒ”áƒ›áƒáƒ¡áƒáƒª áƒ›áƒáƒ™áƒšáƒ”áƒ•áƒáƒ“áƒ˜áƒáƒœ áƒáƒ”áƒ áƒ¡áƒáƒ”áƒ¥áƒ¢áƒ˜áƒ•áƒáƒ¨áƒ˜ áƒ’áƒáƒ˜áƒ áƒ“áƒ”áƒ‘áƒ, áƒ¡áƒ¬áƒáƒ áƒ”áƒ“ áƒ˜áƒ›áƒáƒ¡ áƒ’áƒáƒ áƒ—áƒ›áƒ”áƒ•áƒ¡ áƒ’áƒ áƒ«áƒ”áƒšáƒ•áƒáƒ“áƒ˜áƒáƒœ áƒáƒ”áƒ áƒ¡áƒáƒ”áƒ¥áƒ¢áƒ˜áƒ•áƒáƒ¨áƒ˜.</strong>
                    </p>
                    <p style="font-size: 18px; line-height: 1.8; color: #333; margin-bottom: 30px; text-align: center;">
                        áƒ’áƒáƒ˜áƒ áƒ“áƒ”áƒ‘áƒ áƒ“áƒáƒ›áƒ¨áƒ•áƒ˜áƒ“áƒ”áƒ‘áƒáƒ¡ áƒáƒ®áƒšáƒ? áƒ¡áƒáƒ›áƒ£áƒ“áƒáƒ›áƒáƒ“ áƒáƒ¥áƒ áƒáƒ‘áƒ¡ áƒœáƒáƒ›áƒ“áƒ•áƒ˜áƒšáƒ˜ áƒ¡áƒ˜áƒ›áƒ¨áƒ•áƒ˜áƒ“áƒ˜áƒ¡ áƒ¨áƒ”áƒ’áƒ áƒ«áƒœáƒ”áƒ‘áƒáƒ¡ áƒ¨áƒ”áƒœáƒ˜ áƒªáƒ®áƒáƒ•áƒ áƒ”áƒ‘áƒ˜áƒ“áƒáƒœ.
                    </p>
                    <div style="text-align: center; margin-top: auto;">
                        <button onclick="sosFinalNext()" 
                                style="width: 100%; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; padding: 15px; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 16px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">
                            áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’áƒ˜ â†’
                        </button>
                    </div>
                </div>
            `;
            
            modal.style.display = 'block';
        }
        
        function sosFinalNext() {
            document.getElementById('sosQuestionModal').style.display = 'none';
            sosShowMotivations(); // Go to motivations
        }
        
        function sosShowConfirmation(index) {
            sosPendingThoughtIndex = index;
            const thought = copingThoughts[index];
            
            // Show confirmation box with full text
            document.getElementById('sosConfirmText').textContent = thought.text;
            document.getElementById('sosConfirmBox').style.display = 'block';
            
            // Hide dropdown and buttons
            document.getElementById('sosDropdownContainer').style.display = 'none';
            document.getElementById('sosSkipBtn').style.display = 'none';
        }
        
        function sosConfirmSelection() {
            // User confirmed - proceed with thought processing
            sosSelectThought(sosPendingThoughtIndex);
        }
        
        function sosCancelSelection() {
            // User cancelled - go back to dropdown
            sosPendingThoughtIndex = -1;
            
            // Hide confirmation box
            document.getElementById('sosConfirmBox').style.display = 'none';
            
            // Show dropdown and buttons
            document.getElementById('sosDropdownContainer').style.display = 'block';
            document.getElementById('sosSkipBtn').style.display = 'block';
            
            // Reset dropdown
            document.getElementById('sosThoughtSelect').value = '';
        }
        
        function sosSelectThought(index) {
            sosCurrentThoughtIndex = index;
            sosCurrentStep = 0;
            
            const thought = copingThoughts[index];
            sosTempData = {
                whyRight: thought.whyRight || '',
                whyWrong: thought.whyWrong || '',
                whatToSay: thought.whatToSay || ''
            };
            
            document.getElementById('sosQuestionModal').style.display = 'none';
            sosShowStep();
        }
        
        function sosShowStep() {
            const thought = copingThoughts[sosCurrentThoughtIndex];
            const modal = document.getElementById('sosStepModal');
            const title = document.getElementById('sosStepTitle');
            const label = document.getElementById('sosStepLabel');
            const textarea = document.getElementById('sosStepTextarea');
            const backBtn = document.getElementById('sosBackBtn');
            const nextBtn = document.getElementById('sosNextBtn');
            
            title.textContent = `ğŸ’­ ${thought.text}`;
            
            if (sosCurrentStep === 0) {
                label.textContent = 'áƒ áƒáƒ¢áƒáƒ› áƒ›áƒ’áƒáƒœáƒ˜áƒ áƒ áƒáƒ› áƒ¡áƒ¬áƒáƒ áƒ˜áƒ?';
                textarea.value = sosTempData.whyRight;
                textarea.placeholder = 'áƒ áƒáƒ¢áƒáƒ› áƒ¨áƒ”áƒ˜áƒ«áƒšáƒ”áƒ‘áƒ áƒ˜áƒ§áƒáƒ¡ áƒ”áƒ¡ áƒáƒ–áƒ áƒ˜ áƒ¡áƒ¬áƒáƒ áƒ˜?';
                backBtn.style.display = 'none';
                nextBtn.textContent = 'áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’áƒ˜ â†’';
            } else if (sosCurrentStep === 1) {
                label.textContent = 'áƒ áƒáƒ¢áƒáƒ› áƒ•áƒ—áƒ•áƒšáƒ˜, áƒ áƒáƒ› áƒáƒ áƒáƒ¡áƒ¬áƒáƒ áƒ˜áƒ, áƒ–áƒ”áƒ“áƒáƒáƒ˜áƒ áƒ£áƒšáƒ˜ áƒáƒœ áƒ¡áƒáƒ®áƒ˜áƒ¤áƒáƒ—áƒ?';
                textarea.value = sosTempData.whyWrong;
                textarea.placeholder = 'áƒ áƒáƒ¢áƒáƒ› áƒ¨áƒ”áƒ˜áƒ«áƒšáƒ”áƒ‘áƒ áƒ˜áƒ§áƒáƒ¡ áƒ”áƒ¡ áƒáƒ–áƒ áƒ˜ áƒ›áƒªáƒ“áƒáƒ áƒ˜?';
                backBtn.style.display = 'block';
                nextBtn.textContent = 'áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’áƒ˜ â†’';
            } else if (sosCurrentStep === 2) {
                label.textContent = 'áƒ áƒ áƒ¨áƒ”áƒ›áƒ˜áƒ«áƒšáƒ˜áƒ áƒ©áƒ”áƒ›áƒ¡ áƒ—áƒáƒ•áƒ¡ áƒ•áƒ£áƒ—áƒ®áƒ áƒ áƒ áƒáƒ—áƒ áƒ“áƒáƒ•áƒ‘áƒ áƒ£áƒœáƒ“áƒ” áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒœáƒ¬áƒ§áƒáƒ‘áƒáƒ–áƒ”?';
                textarea.value = sosTempData.whatToSay;
                textarea.placeholder = 'áƒ áƒ áƒ£áƒœáƒ“áƒ áƒ•áƒ£áƒ—áƒ®áƒ áƒ áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ  áƒ—áƒáƒ•áƒ¡ áƒáƒ›áƒ˜áƒ¡ áƒ›áƒáƒ’áƒ˜áƒ•áƒ áƒáƒ“?';
                backBtn.style.display = 'block';
                nextBtn.textContent = 'áƒ“áƒáƒ¡áƒ áƒ£áƒšáƒ”áƒ‘áƒ âœ“';
            }
            
            modal.style.display = 'block';
        }
        
        function sosStepBack() {
            const textarea = document.getElementById('sosStepTextarea');
            
            // Save current step data before going back
            if (sosCurrentStep === 1) {
                sosTempData.whyWrong = textarea.value;  // Save step 1 data
            } else if (sosCurrentStep === 2) {
                sosTempData.whatToSay = textarea.value;  // Save step 2 data
            }
            
            sosCurrentStep--;
            sosShowStep();
        }
        
        function sosStepNext() {
            const textarea = document.getElementById('sosStepTextarea');
            
            if (sosCurrentStep === 0) {
                sosTempData.whyRight = textarea.value;
                sosCurrentStep++;
                sosShowStep();
            } else if (sosCurrentStep === 1) {
                sosTempData.whyWrong = textarea.value;
                sosCurrentStep++;
                sosShowStep();
            } else if (sosCurrentStep === 2) {
                // CRITICAL: Last step - save and show completion
                sosTempData.whatToSay = textarea.value;
                
                // Save to actual thought
                copingThoughts[sosCurrentThoughtIndex].whyRight = sosTempData.whyRight;
                copingThoughts[sosCurrentThoughtIndex].whyWrong = sosTempData.whyWrong;
                copingThoughts[sosCurrentThoughtIndex].whatToSay = sosTempData.whatToSay;
                copingThoughts[sosCurrentThoughtIndex].selected = true; // Mark as selected
                
                // IMPORTANT: Use correct function name
                copingSaveData();
                
                // Show completion
                document.getElementById('sosStepModal').style.display = 'none';
                document.getElementById('sosCompletionModal').style.display = 'block';
            }
        }
        
        function sosProcessAnother() {
            // Close completion modal
            document.getElementById('sosCompletionModal').style.display = 'none';
            
            // Reset intro flag so user sees intro again on next SOS
            sosShowedIntro = false;
            
            // Reset state
            sosCurrentThoughtIndex = -1;
            sosCurrentStep = 0;
            sosPendingThoughtIndex = -1;
            sosShowingAllThoughts = false;
            
            // Reset button text
            const btnText = document.getElementById('sosShowOtherThoughtsBtnText');
            if (btnText) btnText.textContent = 'ğŸ‘ï¸ áƒ’áƒáƒ›áƒáƒáƒ©áƒ˜áƒœáƒ” áƒ“áƒáƒœáƒáƒ áƒ©áƒ”áƒœáƒ˜ áƒáƒ–áƒ áƒ”áƒ‘áƒ˜áƒª';
            
            // Show question modal directly with dropdown
            document.getElementById('sosConfirmBox').style.display = 'none';
            document.getElementById('sosDropdownContainer').style.display = 'block';
            document.getElementById('sosThoughtSelect').value = '';
            
            // Show skip button
            document.getElementById('sosSkipBtn').style.display = 'block';
            
            document.getElementById('sosQuestionModal').style.display = 'block';
            
            // IMPORTANT: Reload dropdown to show newly added thought
            sosLoadThoughtOptions();
        }
        
        function sosNextStage() {
            // Go to final screen before motivations
            document.getElementById('sosCompletionModal').style.display = 'none';
            sosShowFinalScreen();
        }
        
        function sosSkipThoughts() {
            // Skip thoughts and go to final screen
            document.getElementById('sosQuestionModal').style.display = 'none';
            sosShowFinalScreen();
        }
        
        function sosAddNewThought() {
            document.getElementById('sosQuestionModal').style.display = 'none';
            document.getElementById('sosNewThoughtText').value = '';
            document.getElementById('sosNewThoughtModal').style.display = 'block';
        }
        
        function sosCancelNewThought() {
            document.getElementById('sosNewThoughtModal').style.display = 'none';
            document.getElementById('sosQuestionModal').style.display = 'block';
            
            // Show skip button
            document.getElementById('sosSkipBtn').style.display = 'block';
        }
        
        function sosCreateNewThought() {
            const text = document.getElementById('sosNewThoughtText').value.trim();
            
            if (!text) {
                alert('áƒ’áƒ—áƒ®áƒáƒ•áƒ— áƒ¨áƒ”áƒ˜áƒ§áƒ•áƒáƒœáƒáƒ— áƒáƒ–áƒ áƒ˜');
                return;
            }
            
            // Add new thought to copingThoughts array
            const newThought = {
                text: text,
                whyRight: '',
                whyWrong: '',
                whatToSay: '',
                custom: true,
                timestamp: new Date().toISOString()
            };
            
            copingThoughts.push(newThought);
            sosCurrentThoughtIndex = copingThoughts.length - 1;
            
            // Close new thought modal and start step-by-step
            document.getElementById('sosNewThoughtModal').style.display = 'none';
            sosCurrentStep = 0;
            sosTempData = { whyRight: '', whyWrong: '', whatToSay: '' };
            sosShowStep();
        }
        
        // === SOS MOTIVATIONS ===
        let sosCurrentMotivationId = null;
        let sosCurrentMotivationStep = 0;
        let sosMotivationTempData = { consequences: '', recovery: '' };
        
        function sosShowMotivations() {
            // RESET all motivation state
            sosCurrentMotivationId = null;
            sosCurrentMotivationStep = 0;
            sosPendingMotivationId = null;
            sosShowingAllMotivations = false;
            
            // Reset button text
            const btnText = document.getElementById('sosShowOtherMotivationsBtnText');
            if (btnText) btnText.textContent = 'ğŸ‘ï¸ áƒ’áƒáƒ›áƒáƒáƒ©áƒ˜áƒœáƒ” áƒ“áƒáƒœáƒáƒ áƒ©áƒ”áƒœáƒ˜ áƒ¡áƒ£áƒ áƒ•áƒ˜áƒšáƒ”áƒ‘áƒ˜áƒª';
            
            // Show dropdown, hide confirmation
            document.getElementById('sosMotivationConfirmBox').style.display = 'none';
            document.getElementById('sosMotivationDropdownContainer').style.display = 'block';
            document.getElementById('sosMotivationSelect').value = '';
            
            // Show skip button
            document.getElementById('sosMotivationSkipBtn').style.display = 'block';
            
            document.getElementById('sosMotivationModal').style.display = 'block';
            sosLoadMotivationOptions();
        }
        
        function sosLoadMotivationOptions(showAll = false) {
            const select = document.getElementById('sosMotivationSelect');
            const showOtherBtn = document.getElementById('sosShowOtherMotivationsBtn');
            
            if (!select) {
                return;
            }
            
            const u = app.users[user.email];
            
            // Get user's selected motivations (from usage array)
            const userMotivations = (u && u.motivations && u.motivations.usage) ? u.motivations.usage : [];
            
            // Get IDs of selected DEFAULT motivations
            const selectedDefaultIds = userMotivations
                .filter(m => !m.custom)  // Only DEFAULT (not custom)
                .map(m => m.id);
            
            // Get unselected DEFAULT motivations
            const unselectedDefaults = DEFAULT_MOTIVATIONS.filter(m => !selectedDefaultIds.includes(m.id));
            
            
            let html = '<option value="">áƒáƒ˜áƒ áƒ©áƒ˜áƒ” áƒ›áƒáƒ¢áƒ˜áƒ•áƒáƒªáƒ˜áƒ...</option>';
            
            if (showAll) {
                // Show ALL: user's motivations (selected) + unselected defaults
                userMotivations.forEach((mot) => {
                    html += `<option value="${mot.id}">âœ“ ${mot.text}</option>`;
                });
                
                if (unselectedDefaults.length > 0) {
                    html += '<option disabled>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</option>';
                    unselectedDefaults.forEach((mot) => {
                        html += `<option value="${mot.id}">${mot.text}</option>`;
                    });
                }
                
                // Keep button visible - don't hide it
            } else {
                // Show ONLY selected (user's motivations)
                if (userMotivations.length === 0) {
                    html = '<option value="">áƒ›áƒáƒ¢áƒ˜áƒ•áƒáƒªáƒ˜áƒ”áƒ‘áƒ˜ áƒáƒ  áƒáƒ áƒ˜áƒ¡ áƒáƒ áƒ©áƒ”áƒ£áƒšáƒ˜...</option>';
                } else {
                    userMotivations.forEach((mot) => {
                        html += `<option value="${mot.id}">âœ“ ${mot.text}</option>`;
                    });
                }
                
                // Show button if there are unselected defaults
                if (showOtherBtn) {
                    showOtherBtn.style.display = unselectedDefaults.length > 0 ? 'block' : 'none';
                }
            }
            
            select.innerHTML = html;
            
            // Show confirmation first when selecting
            select.onchange = function() {
                if (this.value !== '') {
                    sosShowMotivationConfirmation(this.value);
                }
            };
        }
        
        let sosShowingAllMotivations = false;
        
        function sosToggleOtherMotivations() {
            sosShowingAllMotivations = !sosShowingAllMotivations;
            
            // Toggle button text
            const btnText = document.getElementById('sosShowOtherMotivationsBtnText');
            if (sosShowingAllMotivations) {
                btnText.textContent = 'ğŸ‘ï¸ áƒ“áƒáƒ›áƒáƒšáƒ” áƒ“áƒáƒœáƒáƒ áƒ©áƒ”áƒœáƒ˜ áƒ¡áƒ£áƒ áƒ•áƒ˜áƒšáƒ”áƒ‘áƒ˜';
            } else {
                btnText.textContent = 'ğŸ‘ï¸ áƒ’áƒáƒ›áƒáƒáƒ©áƒ˜áƒœáƒ” áƒ“áƒáƒœáƒáƒ áƒ©áƒ”áƒœáƒ˜ áƒ¡áƒ£áƒ áƒ•áƒ˜áƒšáƒ”áƒ‘áƒ˜áƒª';
            }
            
            // Reload dropdown
            sosLoadMotivationOptions(sosShowingAllMotivations);
        }
        
        let sosPendingMotivationId = null;
        
        function sosShowMotivationConfirmation(motivationId) {
            sosPendingMotivationId = motivationId;
            const u = app.users[user.email];
            
            // Try to find in user's motivations first
            let motivation = (u.motivations && u.motivations.usage) ? u.motivations.usage.find(m => m.id === motivationId) : null;
            
            // If not found, it's from DEFAULT_MOTIVATIONS
            if (!motivation) {
                motivation = DEFAULT_MOTIVATIONS.find(m => m.id === motivationId);
            }
            
            if (!motivation) return;
            
            // Show confirmation box with full text
            document.getElementById('sosMotivationConfirmText').textContent = motivation.text;
            document.getElementById('sosMotivationConfirmBox').style.display = 'block';
            
            // Hide dropdown and skip button
            document.getElementById('sosMotivationDropdownContainer').style.display = 'none';
            document.getElementById('sosMotivationSkipBtn').style.display = 'none';
        }
        
        function sosConfirmMotivationSelection() {
            // User confirmed - proceed with motivation processing
            sosSelectMotivation(sosPendingMotivationId);
        }
        
        function sosCancelMotivationSelection() {
            // User cancelled - go back to dropdown
            sosPendingMotivationId = null;
            
            // Hide confirmation box
            document.getElementById('sosMotivationConfirmBox').style.display = 'none';
            
            // Show dropdown and skip button
            document.getElementById('sosMotivationDropdownContainer').style.display = 'block';
            document.getElementById('sosMotivationSkipBtn').style.display = 'block';
            
            // Reset dropdown
            document.getElementById('sosMotivationSelect').value = '';
        }
        
        function sosSelectMotivation(motivationId) {
            sosCurrentMotivationId = motivationId;
            sosCurrentMotivationStep = 0;
            
            const u = app.users[user.email];
            
            // Try to find in user's motivations
            let motivation = (u.motivations && u.motivations.usage) ? u.motivations.usage.find(m => m.id === motivationId) : null;
            
            // If not found, it's a new DEFAULT motivation
            if (!motivation) {
                const defaultMot = DEFAULT_MOTIVATIONS.find(m => m.id === motivationId);
                if (defaultMot) {
                    // Add to user's motivations now (will be fully saved after step completion)
                    if (!u.motivations) u.motivations = {usage: [], recovery: []};
                    motivation = {
                        id: defaultMot.id,
                        text: defaultMot.text,
                        consequences: defaultMot.consequences || '',
                        recovery: defaultMot.recovery || '',
                        selected: true
                    };
                    u.motivations.usage.push(motivation);
                }
            }
            
            if (!motivation) return;
            
            // Load existing data
            let consequences = '';
            let recovery = '';
            
            if (typeof motivation.consequences === 'string') {
                consequences = motivation.consequences;
            } else if (motivation.consequences) {
                consequences = motivation.consequences.useCustom ? motivation.consequences.custom : motivation.consequences.default;
            }
            
            if (typeof motivation.recovery === 'string') {
                recovery = motivation.recovery;
            } else if (motivation.recovery) {
                recovery = motivation.recovery.useCustom ? motivation.recovery.custom : motivation.recovery.default;
            }
            
            sosMotivationTempData = {
                consequences: consequences,
                recovery: recovery
            };
            
            document.getElementById('sosMotivationModal').style.display = 'none';
            sosShowMotivationStep();
        }
        
        function sosShowMotivationStep() {
            const u = app.users[user.email];
            let motivation = (u.motivations && u.motivations.usage) ? u.motivations.usage.find(m => m.id === sosCurrentMotivationId) : null;
            
            // Fallback to DEFAULT if not found
            if (!motivation) {
                motivation = DEFAULT_MOTIVATIONS.find(m => m.id === sosCurrentMotivationId);
            }
            
            if (!motivation) return;
            
            const modal = document.getElementById('sosMotivationStepModal');
            const title = document.getElementById('sosMotivationStepTitle');
            const label = document.getElementById('sosMotivationStepLabel');
            const textarea = document.getElementById('sosMotivationStepTextarea');
            const backBtn = document.getElementById('sosMotivationBackBtn');
            const nextBtn = document.getElementById('sosMotivationNextBtn');
            
            title.textContent = `ğŸ¯ ${motivation.text}`;
            
            if (sosCurrentMotivationStep === 0) {
                label.textContent = 'áƒ áƒáƒ¡ áƒ›áƒáƒ áƒ—áƒ›áƒ”áƒ•áƒ¡?';
                textarea.value = sosMotivationTempData.consequences;
                backBtn.style.display = 'none';
                nextBtn.textContent = 'áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’áƒ˜ â†’';
            } else if (sosCurrentMotivationStep === 1) {
                label.textContent = 'áƒ áƒáƒ¡ áƒ›áƒáƒ›áƒªáƒ”áƒ›áƒ¡ áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ?';
                textarea.value = sosMotivationTempData.recovery;
                backBtn.style.display = 'block';
                nextBtn.textContent = 'áƒ“áƒáƒ¡áƒ áƒ£áƒšáƒ”áƒ‘áƒ âœ“';
            }
            
            modal.style.display = 'block';
        }
        
        function sosMotivationStepBack() {
            const textarea = document.getElementById('sosMotivationStepTextarea');
            
            // Save current step data before going back
            if (sosCurrentMotivationStep === 1) {
                sosMotivationTempData.recovery = textarea.value;  // Step 1 is recovery
            }
            
            sosCurrentMotivationStep--;
            sosShowMotivationStep();
        }
        
        function sosMotivationStepNext() {
            const textarea = document.getElementById('sosMotivationStepTextarea');
            const u = app.users[user.email];
            const motivation = u.motivations.usage.find(m => m.id === sosCurrentMotivationId);
            
            if (!motivation) return;
            
            if (sosCurrentMotivationStep === 0) {
                // Save consequences and go to next step
                sosMotivationTempData.consequences = textarea.value;
                sosCurrentMotivationStep++;
                sosShowMotivationStep();
            } else if (sosCurrentMotivationStep === 1) {
                // CRITICAL: Last step - save and show completion
                sosMotivationTempData.recovery = textarea.value;
                
                // Find original default values for comparison
                const defaultMot = DEFAULT_MOTIVATIONS.find(m => m.id === sosCurrentMotivationId);
                
                // Save edited values back to motivation (keep simple structure for now)
                motivation.consequences = sosMotivationTempData.consequences;
                motivation.recovery = sosMotivationTempData.recovery;
                
                // Mark as selected/processed
                motivation.selected = true;
                
                // Save to localStorage
                save();
                
                // Show completion
                document.getElementById('sosMotivationStepModal').style.display = 'none';
                document.getElementById('sosMotivationCompletionModal').style.display = 'block';
            }
        }
        
        function sosProcessAnotherMotivation() {
            // Close completion modal
            document.getElementById('sosMotivationCompletionModal').style.display = 'none';
            
            // Reset state
            sosCurrentMotivationId = null;
            sosCurrentMotivationStep = 0;
            sosPendingMotivationId = null;
            sosShowingAllMotivations = false;
            
            // Reset button text
            const btnText = document.getElementById('sosShowOtherMotivationsBtnText');
            if (btnText) btnText.textContent = 'ğŸ‘ï¸ áƒ’áƒáƒ›áƒáƒáƒ©áƒ˜áƒœáƒ” áƒ“áƒáƒœáƒáƒ áƒ©áƒ”áƒœáƒ˜ áƒ¡áƒ£áƒ áƒ•áƒ˜áƒšáƒ”áƒ‘áƒ˜áƒª';
            
            // Show motivation modal directly with dropdown
            document.getElementById('sosMotivationConfirmBox').style.display = 'none';
            document.getElementById('sosMotivationDropdownContainer').style.display = 'block';
            document.getElementById('sosMotivationSelect').value = '';
            
            // Show skip button
            document.getElementById('sosMotivationSkipBtn').style.display = 'block';
            
            document.getElementById('sosMotivationModal').style.display = 'block';
            sosLoadMotivationOptions();
        }
        
        function sosMotivationNextStage() {
            document.getElementById('sosMotivationCompletionModal').style.display = 'none';
            sosShowWave(); // Show wave screen
        }
        
        function sosSkipMotivations() {
            document.getElementById('sosMotivationModal').style.display = 'none';
            sosShowWave(); // Show wave screen
        }
        
        // ============ WAVE SCREEN FUNCTIONS ============
        
        function sosShowWave() {
            document.getElementById('sosWaveModal').style.display = 'block';
        }
        
        function sosWaveNext() {
            document.getElementById('sosWaveModal').style.display = 'none';
            sosShowMechanisms();
        }
        
        // ============ END WAVE FUNCTIONS ============
        
        // ============ MECHANISMS FUNCTIONS ============
        
        let sosMechanismQueue = [];
        let sosMechanismCurrentIndex = 0;
        
        function sosShowMechanisms() {
            // Get selected mechanisms
            const selectedMechanisms = selectedCopingMechanisms || [];
            
            // Filter to get actual mechanism objects
            sosMechanismQueue = COPING_MECHANISMS.filter(m => selectedMechanisms.includes(m.id));
            
            sosMechanismCurrentIndex = 0;
            
            if (sosMechanismQueue.length > 0) {
                // Show first selected mechanism
                sosShowCurrentMechanism();
            } else {
                // No selected mechanisms - go directly to other mechanisms screen
                sosShowOtherMechanisms();
            }
        }
        
        function sosShowCurrentMechanism() {
            if (sosMechanismCurrentIndex >= sosMechanismQueue.length) {
                // All done - show other mechanisms
                sosShowOtherMechanisms();
                return;
            }
            
            const mechanism = sosMechanismQueue[sosMechanismCurrentIndex];
            const total = sosMechanismQueue.length;
            const current = sosMechanismCurrentIndex + 1;
            
            document.getElementById('sosMechanismIcon').textContent = mechanism.icon;
            document.getElementById('sosMechanismProgress').textContent = `${current}/${total}`;
            document.getElementById('sosMechanismText').textContent = mechanism.text;
            
            document.getElementById('sosMechanismModal').style.display = 'block';
        }
        
        function sosMechanismHelped() {
            // User says this mechanism helped - close SOS
            document.getElementById('sosMechanismModal').style.display = 'none';
            alert('áƒ¨áƒ”áƒ¡áƒáƒœáƒ˜áƒ¨áƒœáƒáƒ•áƒ˜áƒ! áƒ¨áƒ”áƒœ áƒ’áƒáƒáƒ áƒ—áƒ•áƒ˜ áƒ—áƒáƒ•áƒ˜ áƒšáƒ¢áƒáƒšáƒ•áƒáƒ¡! ğŸ’ªâœ¨');
            backToDashboard();
        }
        
        function sosMechanismNext() {
            // Move to next mechanism
            sosMechanismCurrentIndex++;
            sosShowCurrentMechanism();
        }
        
        function sosShowOtherMechanisms() {
            document.getElementById('sosMechanismModal').style.display = 'none';
            
            // Populate list with unselected mechanisms
            const selectedIds = selectedCopingMechanisms || [];
            const unselectedMechanisms = COPING_MECHANISMS.filter(m => !selectedIds.includes(m.id));
            
            const list = document.getElementById('sosOtherMechanismsList');
            let html = '';
            
            unselectedMechanisms.forEach(m => {
                html += `
                    <div style="background: white; padding: 15px; border-radius: 10px; margin-bottom: 12px; border: 2px solid #e5e7eb; display: flex; align-items: center; gap: 15px;">
                        <div style="font-size: 32px; flex-shrink: 0;">${m.icon}</div>
                        <div style="flex: 1; color: #333; font-size: 15px; line-height: 1.5;">${m.text}</div>
                    </div>
                `;
            });
            
            list.innerHTML = html;
            
            document.getElementById('sosOtherMechanismsModal').style.display = 'block';
        }
        
        function sosShowFinalReminder() {
            document.getElementById('sosOtherMechanismsModal').style.display = 'none';
            document.getElementById('sosFinalReminderModal').style.display = 'block';
        }
        
        function sosGoToMotivations() {
            // Go to recovery motivations section (not SOS motivations)
            document.getElementById('sosOtherMechanismsModal').style.display = 'none';
            document.getElementById('sosFinalReminderModal').style.display = 'none';
            showMotivations(); // Main motivations section
        }
        
        function sosFinish() {
            // Finish SOS
            document.getElementById('sosOtherMechanismsModal').style.display = 'none';
            document.getElementById('sosFinalReminderModal').style.display = 'none';
            alert('áƒ¨áƒ”áƒ¡áƒáƒœáƒ˜áƒ¨áƒœáƒáƒ•áƒ˜áƒ! áƒ¨áƒ”áƒœ áƒ’áƒáƒáƒ áƒ—áƒ•áƒ˜ áƒ—áƒáƒ•áƒ˜ áƒšáƒ¢áƒáƒšáƒ•áƒáƒ¡! ğŸ’ªâœ¨');
            backToDashboard();
        }
        
        // ============ END MECHANISMS FUNCTIONS ============
        
        function sosAddNewMotivation() {
            document.getElementById('sosMotivationModal').style.display = 'none';
            document.getElementById('sosNewMotivationText').value = '';
            document.getElementById('sosNewMotivationModal').style.display = 'block';
        }
        
        function sosCancelNewMotivation() {
            document.getElementById('sosNewMotivationModal').style.display = 'none';
            document.getElementById('sosMotivationModal').style.display = 'block';
            
            // Show skip button
            document.getElementById('sosMotivationSkipBtn').style.display = 'block';
        }
        
        function sosCreateNewMotivation() {
            const text = document.getElementById('sosNewMotivationText').value.trim();
            
            if (!text) {
                alert('áƒ’áƒ—áƒ®áƒáƒ•áƒ— áƒ¨áƒ”áƒ˜áƒ§áƒ•áƒáƒœáƒáƒ— áƒ›áƒáƒ¢áƒ˜áƒ•áƒáƒªáƒ˜áƒ');
                return;
            }
            
            const u = app.users[user.email];
            if (!u.motivations) u.motivations = {usage: [], recovery: []};
            
            // Create new motivation with custom flag
            const newMotivation = {
                id: 'custom_' + Date.now(),
                text: text,
                consequences: '',
                recovery: '',
                custom: true,
                selected: true,
                timestamp: new Date().toISOString()
            };
            
            // Add to user's motivations
            u.motivations.usage.push(newMotivation);
            sosCurrentMotivationId = newMotivation.id;
            
            // Close new motivation modal and start step-by-step
            document.getElementById('sosNewMotivationModal').style.display = 'none';
            sosCurrentMotivationStep = 0;
            sosMotivationTempData = { consequences: '', recovery: '' };
            sosShowMotivationStep();
        }
        
        
        // Show coping mechanisms


        // ============ READINESS ASSESSMENT FUNCTIONS ============
        
        function showReadinessAssessment() {
            showSection('readiness');
            
            const u = app.users[user.email];
            
            // Always show the initial menu
            document.getElementById('readinessInitialMenu').style.display = 'block';
            
            // Hide all steps
            document.getElementById('readinessStep1').style.display = 'none';
            document.getElementById('readinessStep2a').style.display = 'none';
            document.getElementById('readinessStep2b').style.display = 'none';
            document.getElementById('readinessStep3').style.display = 'none';
            document.getElementById('readinessStep4').style.display = 'none';
            document.getElementById('readinessStep5').style.display = 'none';
            document.getElementById('readinessStep6').style.display = 'none';
            
            // If already completed, replace the assessment button with summary
            if (u.readiness && u.readiness.stage) {
                loadReadinessData();
                showReadinessSummaryInMenu();
            }
        }
        
        function startReadinessAssessment() {
            // Hide menu and start the assessment
            document.getElementById('readinessInitialMenu').style.display = 'none';
            document.getElementById('readinessStep1').style.display = 'block';
        }
        
        function showReadinessSummaryInMenu() {
            // Replace the button with the detailed summary view
            const container = document.getElementById('readinessAssessmentContainer');
            const u = app.users[user.email];
            const r = u.readiness;
            
            const stageLabels = {
                'precontemplation': '1. áƒáƒ áƒ”áƒ’áƒáƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ',
                'contemplation': '2. áƒ›áƒ¡áƒ¯áƒ”áƒšáƒáƒ‘áƒ',
                'preparation': '3. áƒ“áƒáƒ’áƒ”áƒ’áƒ›áƒ•áƒ',
                'action': '4. áƒ›áƒáƒ¥áƒ›áƒ”áƒ“áƒ”áƒ‘áƒ',
                'maintenance': '5. áƒªáƒ•áƒšáƒ˜áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒœáƒáƒ áƒ©áƒ£áƒœáƒ”áƒ‘áƒ'
            };
            
            const stageDescriptions = {
                'precontemplation': 'áƒáƒ› áƒ“áƒ áƒáƒ¡ áƒ¨áƒ”áƒœ áƒ•áƒ”áƒ áƒª áƒ™áƒ˜ áƒáƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”áƒ‘, áƒ áƒáƒ› áƒ¨áƒ”áƒœ áƒ áƒáƒ›áƒ”áƒœáƒáƒ˜áƒ áƒáƒ“ áƒ£áƒœáƒ“áƒ áƒ¨áƒ”áƒªáƒ•áƒáƒšáƒ áƒ¨áƒ”áƒœáƒ˜ áƒ¥áƒªáƒ”áƒ•áƒ. áƒ˜áƒ¥áƒœáƒ”áƒ‘ áƒ’áƒáƒ áƒ¨áƒ”áƒ›áƒáƒ›áƒ§áƒáƒ¤áƒ”áƒ‘áƒ›áƒ áƒ¨áƒ”áƒœáƒ˜áƒ¨áƒœáƒ”áƒ¡, áƒ áƒáƒ› áƒ¨áƒ”áƒœ áƒ›áƒáƒ˜áƒ®áƒ›áƒáƒ  áƒœáƒ˜áƒ•áƒ—áƒ˜áƒ”áƒ áƒ”áƒ‘áƒáƒ¡ áƒ“áƒ áƒ’áƒáƒ›áƒáƒ®áƒáƒ¢áƒ”áƒ¡ áƒáƒ¦áƒ”áƒšáƒ•áƒ”áƒ‘áƒ, áƒ›áƒáƒ’áƒ áƒáƒ› áƒáƒ˜áƒ áƒáƒ“áƒáƒ“ áƒ¨áƒ”áƒœ áƒ•áƒ”áƒ áƒáƒ¤áƒ”áƒ áƒ¡ áƒ•áƒ”áƒ  áƒáƒ›áƒ©áƒœáƒ”áƒ•.',
                'contemplation': 'áƒ”áƒ¡ áƒáƒ áƒ˜áƒ¡ áƒ“áƒ áƒ, áƒ áƒáƒ“áƒ”áƒ¡áƒáƒª áƒ¨áƒ”áƒœ áƒ˜áƒ¬áƒ§áƒ”áƒ‘ áƒ©áƒáƒ¤áƒ˜áƒ¥áƒ áƒ”áƒ‘áƒáƒ¡ áƒ¨áƒ”áƒªáƒ•áƒšáƒ˜áƒ¡ áƒ¨áƒ”áƒ¡áƒáƒ«áƒšáƒ”áƒ‘áƒšáƒáƒ‘áƒáƒ–áƒ”. â€áƒ˜áƒ¥áƒœáƒ”áƒ‘ áƒ›áƒ” áƒ›áƒ­áƒ˜áƒ áƒ“áƒ”áƒ‘áƒ, áƒ áƒáƒ› áƒªáƒáƒ¢áƒ áƒ¨áƒ”áƒ•áƒ˜áƒªáƒ•áƒáƒšáƒ", áƒáƒœ â€áƒ›áƒ”áƒ›áƒ’áƒáƒœáƒ˜ áƒ›áƒ” áƒ£áƒ™áƒ•áƒ” áƒ•áƒ”áƒ¦áƒáƒ  áƒ•áƒáƒ™áƒáƒœáƒ¢áƒ áƒáƒšáƒ”áƒ‘ áƒ›áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒáƒ¡". áƒáƒ› áƒ”áƒ¢áƒáƒáƒ–áƒ” áƒ¨áƒ”áƒœ áƒ£áƒ™áƒ•áƒ” áƒ˜áƒ¬áƒ§áƒ”áƒ‘ áƒ˜áƒ›áƒ˜áƒ¡ áƒ’áƒáƒáƒ–áƒ áƒ”áƒ‘áƒáƒ¡, áƒ áƒáƒ› áƒ¨áƒ”áƒœáƒ˜ áƒ¥áƒªáƒ”áƒ•áƒ áƒáƒ  áƒ¨áƒ”áƒ”áƒ¡áƒáƒ‘áƒáƒ›áƒ”áƒ‘áƒ áƒ˜áƒ› áƒªáƒ®áƒáƒ•áƒ áƒ”áƒ‘áƒáƒ¡, áƒ áƒáƒ›áƒ”áƒšáƒ˜áƒª áƒ’áƒ˜áƒœáƒ“áƒáƒ“áƒ, áƒ áƒáƒ› áƒ¬áƒáƒ’áƒ”áƒ›áƒáƒ áƒ—áƒ.',
                'preparation': 'áƒ›áƒ”áƒ¡áƒáƒ›áƒ” áƒ”áƒ¢áƒáƒáƒ–áƒ” áƒ’áƒáƒ“áƒáƒ¡áƒ•áƒšáƒ˜áƒ¡áƒáƒ¡ áƒ¨áƒ”áƒœ áƒ“áƒáƒ áƒ¬áƒ›áƒ£áƒœáƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ®áƒáƒ , áƒ áƒáƒ› áƒ£áƒœáƒ“áƒ áƒ¨áƒ”áƒªáƒ•áƒáƒšáƒ áƒ¨áƒ”áƒœáƒ˜ áƒ¥áƒªáƒ”áƒ•áƒ áƒ“áƒ áƒ˜áƒ¬áƒ§áƒ”áƒ‘ áƒáƒ› áƒªáƒ•áƒšáƒ˜áƒšáƒ”áƒ‘áƒ”áƒ‘áƒ˜áƒ¡ áƒ“áƒáƒ’áƒ”áƒ’áƒ›áƒ•áƒáƒ¡. áƒáƒ› áƒ”áƒ¢áƒáƒáƒ–áƒ” áƒ¨áƒ”áƒœ áƒ’áƒáƒœáƒ˜áƒ®áƒ˜áƒšáƒáƒ• áƒ’áƒ–áƒ”áƒ‘áƒ¡, áƒ áƒáƒ›áƒšáƒ”áƒ‘áƒ˜áƒª áƒ’áƒáƒ›áƒáƒ’áƒáƒ“áƒ’áƒ”áƒ‘áƒáƒ“áƒ áƒ›áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒáƒ¡áƒ—áƒáƒœ áƒ‘áƒ áƒ«áƒáƒšáƒáƒ¨áƒ˜.',
                'action': 'áƒáƒ› áƒ”áƒ¢áƒáƒáƒ–áƒ” áƒ¨áƒ”áƒœ áƒ›áƒ˜áƒ°áƒ§áƒ•áƒ”áƒ‘áƒ˜ áƒ’áƒ”áƒ’áƒ›áƒáƒ¡, áƒ áƒáƒ›áƒ”áƒšáƒ˜áƒª áƒ¬áƒ˜áƒœáƒ áƒ”áƒ¢áƒáƒáƒ–áƒ” áƒ¨áƒ”áƒ˜áƒ›áƒ£áƒ¨áƒáƒ•áƒ”. áƒ¨áƒ”áƒœ áƒ˜áƒ¬áƒ§áƒ”áƒ‘ áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒáƒ¡.',
                'maintenance': 'áƒ—áƒ£ áƒ¨áƒ”áƒœ áƒ¨áƒ”áƒ«áƒ”áƒšáƒ˜ 6 áƒ—áƒ•áƒ˜áƒ¡ áƒáƒœ áƒ›áƒ”áƒ¢áƒ˜áƒ¡ áƒ’áƒáƒœáƒ›áƒáƒ•áƒšáƒáƒ‘áƒáƒ¨áƒ˜ áƒ—áƒáƒœáƒ›áƒ˜áƒ›áƒ“áƒ”áƒ•áƒ áƒ£áƒšáƒáƒ“ áƒ“áƒáƒ áƒ©áƒ”áƒœáƒ˜áƒšáƒ˜áƒ§áƒáƒ•áƒ˜ áƒ¬áƒ˜áƒœáƒ áƒ”áƒ¢áƒáƒáƒ”áƒ‘áƒ–áƒ” áƒ¨áƒ”áƒ›áƒ£áƒ¨áƒáƒ•áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ›áƒáƒ¥áƒ›áƒ”áƒ“áƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒ”áƒ’áƒ›áƒ˜áƒ¡ áƒ¤áƒáƒ áƒ’áƒšáƒ”áƒ‘áƒ¨áƒ˜, áƒ¨áƒ”áƒœ áƒ’áƒáƒ“áƒáƒ®áƒ•áƒ”áƒ“áƒ˜ áƒªáƒ•áƒšáƒ˜áƒšáƒ”áƒ‘áƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒœáƒáƒ áƒ©áƒ£áƒœáƒ”áƒ‘áƒ˜áƒ¡ áƒ”áƒ¢áƒáƒáƒ–áƒ”.'
            };
            
            let html = '';
            
            // Stage (clickable to expand)
            html += '<div onclick="toggleStageDetailsInMenu()" style="margin-bottom: 20px; padding: 12px; background: #f0f4ff; border-radius: 8px; border-left: 4px solid #667eea; cursor: pointer; transition: all 0.2s;" onmouseover="this.style.background=\'#e0e7ff\'" onmouseout="this.style.background=\'#f0f4ff\'">';
            html += '<div style="color: #667eea; font-weight: 600; margin-bottom: 5px; font-size: 14px;">áƒ¨áƒ”áƒœáƒ˜ áƒ”áƒ¢áƒáƒáƒ˜: <span style="font-size: 12px; color: #999;">(áƒ“áƒáƒáƒ­áƒ˜áƒ áƒ” áƒ“áƒ”áƒ¢áƒáƒšáƒ”áƒ‘áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡)</span></div>';
            html += '<div style="color: #1f2937; font-size: 16px;">' + stageLabels[r.stage] + '</div>';
            html += '</div>';
            
            // All stages details (hidden by default)
            html += '<div id="allStagesDetailsInMenu" style="display: none; margin-bottom: 20px; padding: 20px; background: white; border-radius: 8px; border: 2px solid #e0e7ff;">';
            html += '<h4 style="color: #667eea; margin-bottom: 15px; font-size: 16px;">áƒ§áƒ•áƒ”áƒšáƒ áƒ”áƒ¢áƒáƒáƒ˜:</h4>';
            
            for (let stageKey in stageLabels) {
                const isCurrentStage = stageKey === r.stage;
                html += '<div style="margin-bottom: 15px; padding: 12px; background: ' + (isCurrentStage ? '#f0f4ff' : '#f9fafb') + '; border-radius: 6px; border-left: 3px solid ' + (isCurrentStage ? '#667eea' : '#e5e7eb') + ';">';
                html += '<div style="font-weight: 600; color: #1f2937; margin-bottom: 5px; font-size: 14px;">' + stageLabels[stageKey] + (isCurrentStage ? ' â­' : '') + '</div>';
                html += '<div style="color: #666; font-size: 13px; line-height: 1.6; text-align: justify;">' + stageDescriptions[stageKey] + '</div>';
                html += '</div>';
            }
            
            html += '</div>';
            
            // Cycle awareness (clickable to expand)
            html += '<div onclick="toggleCycleDetailsInMenu()" style="margin-bottom: 20px; padding: 12px; background: #f0f4ff; border-radius: 8px; border-left: 4px solid #667eea; cursor: pointer; transition: all 0.2s;" onmouseover="this.style.background=\'#e0e7ff\'" onmouseout="this.style.background=\'#f0f4ff\'">';
            html += '<div style="color: #667eea; font-weight: 600; margin-bottom: 5px; font-size: 14px;">áƒ›áƒáƒ¢áƒ˜áƒ•áƒáƒªáƒ˜áƒ˜áƒ¡ áƒ‘áƒ£áƒœáƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒáƒœáƒáƒªáƒ•áƒšáƒ”áƒáƒ‘áƒ: <span style="font-size: 12px; color: #999;">(áƒ“áƒáƒáƒ­áƒ˜áƒ áƒ” áƒ“áƒ”áƒ¢áƒáƒšáƒ”áƒ‘áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡)</span></div>';
            html += '<div style="color: #1f2937; font-size: 16px;">' + (r.cycleAwareness === 'yes' ? 'áƒ™áƒ˜, áƒ’áƒáƒ›áƒáƒ›áƒ˜áƒªáƒ“áƒ˜áƒ' : 'áƒáƒ áƒ, áƒáƒ  áƒ¨áƒ”áƒ›áƒ˜áƒ›áƒ©áƒœáƒ”áƒ•áƒ˜áƒ') + '</div>';
            html += '</div>';
            
            // Cycle explanation (hidden by default)
            html += '<div id="cycleExplanationInMenu" style="display: none; margin-bottom: 20px; padding: 20px; background: white; border-radius: 8px; border: 2px solid #e0e7ff;">';
            html += '<p style="color: #333; line-height: 1.8; margin-bottom: 15px; text-align: justify;">áƒ’áƒáƒœáƒ™áƒ£áƒ áƒœáƒ”áƒ‘áƒ˜áƒ¡ áƒáƒ áƒáƒªáƒ”áƒ¡áƒ¡, áƒ˜áƒ¡áƒ”áƒ•áƒ” áƒ áƒáƒ’áƒáƒ áƒª áƒ–áƒáƒ’áƒáƒ“áƒáƒ“ áƒªáƒ®áƒáƒ•áƒ áƒ”áƒ‘áƒáƒ¡ áƒáƒ¥áƒ•áƒ¡ áƒ—áƒáƒ•áƒ˜áƒ¡áƒ˜ áƒáƒ¦áƒ›áƒáƒ•áƒáƒšáƒ˜ áƒ“áƒ áƒ“áƒáƒ¦áƒ›áƒáƒ•áƒáƒšáƒ˜ áƒ”áƒ¢áƒáƒáƒ”áƒ‘áƒ˜ (áƒáƒ¤áƒ áƒ”áƒœáƒ”áƒ‘áƒ˜ áƒ“áƒ áƒ•áƒáƒ áƒ“áƒœáƒ”áƒ‘áƒ˜). áƒáƒ¥áƒ”áƒ“áƒáƒœ áƒ’áƒáƒ›áƒáƒ›áƒ“áƒ˜áƒœáƒáƒ áƒ” áƒáƒ‘áƒ¡áƒáƒšáƒ£áƒ¢áƒ£áƒ áƒáƒ“ áƒœáƒáƒ áƒ›áƒáƒšáƒ£áƒ áƒ˜áƒ, áƒ áƒáƒ› áƒ¨áƒ”áƒœ áƒ’áƒ¥áƒáƒœáƒ“áƒ”áƒ¡ áƒ“áƒ¦áƒ”áƒ”áƒ‘áƒ˜, áƒ áƒáƒ›áƒšáƒ”áƒ‘áƒ¨áƒ˜áƒª áƒ¨áƒ”áƒœ áƒªáƒ®áƒáƒ“áƒáƒ“ áƒ’áƒ”áƒªáƒáƒ“áƒ˜áƒœáƒ”áƒ‘áƒ áƒ áƒáƒ¢áƒáƒ› áƒáƒ áƒ˜áƒ¡ áƒáƒ£áƒªáƒ˜áƒšáƒ”áƒ‘áƒ”áƒšáƒ˜ áƒ“áƒáƒœáƒ”áƒ‘áƒ”áƒ‘áƒ, áƒ¨áƒ”áƒœáƒ˜ áƒáƒ®áƒáƒšáƒ˜ áƒ¯áƒáƒœáƒ¡áƒáƒ¦áƒ˜ áƒªáƒ®áƒáƒ•áƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒ¥áƒ›áƒœáƒ˜áƒ¡áƒáƒ—áƒ•áƒ˜áƒ¡ áƒ“áƒ áƒ”áƒ¡ áƒ“áƒ¦áƒ”áƒ”áƒ‘áƒ˜ áƒ¨áƒ”áƒ˜áƒ«áƒšáƒ”áƒ‘áƒ áƒ¨áƒ”áƒªáƒ•áƒáƒšáƒáƒœ áƒ“áƒ¦áƒ”áƒ”áƒ‘áƒ›áƒ, áƒ áƒáƒ“áƒ”áƒ¡áƒáƒª áƒ¨áƒ”áƒœ áƒ—áƒáƒ•áƒ¡ áƒ“áƒáƒ£áƒ¡áƒ•áƒáƒ› áƒ™áƒ˜áƒ—áƒ®áƒ•áƒ”áƒ‘áƒ¡ áƒ¡áƒáƒ”áƒ áƒ—áƒáƒ“ áƒ áƒáƒ¨áƒ˜ áƒ’áƒ­áƒ˜áƒ áƒ“áƒ”áƒ‘áƒ áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒáƒ¡áƒ—áƒáƒœ áƒ“áƒáƒ™áƒáƒ•áƒ¨áƒ˜áƒ áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ›áƒ—áƒ”áƒšáƒ˜ áƒ”áƒ¡ áƒáƒ áƒáƒ‘áƒšáƒ”áƒ›áƒ”áƒ‘áƒ˜.</p>';
            html += '<p style="color: #333; line-height: 1.8; margin-bottom: 15px; text-align: justify;">áƒ©áƒ•áƒ”áƒœáƒ˜ áƒ›áƒ˜áƒ–áƒáƒœáƒ˜áƒ áƒáƒ› áƒ áƒ—áƒ£áƒš áƒáƒ”áƒ áƒ˜áƒáƒ“áƒ”áƒ‘áƒ¨áƒ˜ áƒ•áƒ˜áƒ§áƒáƒ— áƒ“áƒáƒ›áƒ®áƒ›áƒáƒ áƒ”, áƒ áƒáƒ—áƒ áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒáƒ áƒáƒªáƒ”áƒ¡áƒ˜ áƒ’áƒáƒ’áƒ áƒ«áƒ”áƒšáƒ“áƒ”áƒ¡ áƒ—áƒáƒœáƒ›áƒ˜áƒ›áƒ“áƒ”áƒ•áƒ áƒ£áƒšáƒáƒ“.</p>';
            html += '<p style="color: #667eea; font-weight: 600; line-height: 1.8; text-align: justify;">áƒ áƒáƒ“áƒ”áƒ¡áƒáƒª áƒ«áƒáƒšáƒ˜áƒáƒœ áƒáƒ®áƒšáƒáƒ¡ áƒ®áƒáƒ  áƒ“áƒáƒœáƒ”áƒ‘áƒ”áƒ‘áƒáƒ¡áƒ—áƒáƒœ, áƒ’áƒáƒ˜áƒ®áƒ¡áƒ”áƒœáƒ” áƒ áƒáƒ¢áƒáƒ› áƒ˜áƒ¬áƒ§áƒ”áƒ‘áƒ“áƒ˜!</p>';
            html += '</div>';
            
            // Motivation score (read-only)
            html += '<div style="margin-bottom: 20px; padding: 12px; background: #f0f4ff; border-radius: 8px; border-left: 4px solid #10b981;">';
            html += '<div style="color: #10b981; font-weight: 600; margin-bottom: 5px; font-size: 14px;">áƒ›áƒáƒ¢áƒ˜áƒ•áƒáƒªáƒ˜áƒ˜áƒ¡ áƒ¥áƒ£áƒšáƒ:</div>';
            html += '<div style="color: #1f2937; font-size: 24px; font-weight: bold;">' + r.motivationScore + '/10</div>';
            html += '</div>';
            
            // Times (editable)
            html += '<div style="margin-bottom: 20px; padding: 20px; background: #fff7ed; border-radius: 8px; border-left: 4px solid #f59e0b;">';
            html += '<div style="color: #f59e0b; font-weight: 600; margin-bottom: 15px; font-size: 14px;">áƒ¨áƒ”áƒ›áƒáƒ¬áƒ›áƒ”áƒ‘áƒ˜áƒ¡ áƒ“áƒ áƒ (áƒ áƒ”áƒ“áƒáƒ¥áƒ¢áƒ˜áƒ áƒ”áƒ‘áƒáƒ“áƒ˜):</div>';
            
            html += '<div style="margin-bottom: 15px;">';
            html += '<label style="display: block; margin-bottom: 8px; color: #666; font-size: 14px;">â° áƒ›áƒáƒ¢áƒ˜áƒ•áƒáƒªáƒ˜áƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒáƒ¬áƒ›áƒ”áƒ‘áƒ:</label>';
            html += '<input type="time" id="editMotivationCheckTimeInMenu" value="' + r.motivationCheckTime + '" style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 15px;">';
            html += '</div>';
            
            html += '<div>';
            html += '<label style="display: block; margin-bottom: 8px; color: #666; font-size: 14px;">ğŸ“Š áƒ¨áƒ”áƒ“áƒ”áƒ’áƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒáƒ¬áƒ›áƒ”áƒ‘áƒ:</label>';
            html += '<input type="time" id="editResultsCheckTimeInMenu" value="' + r.resultsCheckTime + '" style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 15px;">';
            html += '</div>';
            
            html += '</div>';
            
            html += '<button class="btn btn-secondary" onclick="editReadinessAssessment()" style="width: 100%; margin-top: 10px;">âœï¸ áƒ áƒ”áƒ“áƒáƒ¥áƒ¢áƒ˜áƒ áƒ”áƒ‘áƒ</button>';
            
            container.innerHTML = html;
            
            // Add onchange events
            setTimeout(() => {
                const motTimeInput = document.getElementById('editMotivationCheckTimeInMenu');
                const resTimeInput = document.getElementById('editResultsCheckTimeInMenu');
                if (motTimeInput) motTimeInput.onchange = saveReadinessTimesInMenu;
                if (resTimeInput) resTimeInput.onchange = saveReadinessTimesInMenu;
            }, 100);
        }
        
        
        function saveReadinessTimesInMenu() {
            const u = app.users[user.email];
            if (!u.readiness) return;
            
            const motivationCheckTime = document.getElementById('editMotivationCheckTimeInMenu').value;
            const resultsCheckTime = document.getElementById('editResultsCheckTimeInMenu').value;
            
            u.readiness.motivationCheckTime = motivationCheckTime;
            u.readiness.resultsCheckTime = resultsCheckTime;
            u.readiness.updatedAt = new Date().toISOString();
            
            save();
        }
        
        function toggleStageDetailsInMenu() {
            const details = document.getElementById('allStagesDetailsInMenu');
            if (details.style.display === 'none') {
                details.style.display = 'block';
            } else {
                details.style.display = 'none';
            }
        }
        
        function toggleCycleDetailsInMenu() {
            const explanation = document.getElementById('cycleExplanationInMenu');
            if (explanation.style.display === 'none') {
                explanation.style.display = 'block';
            } else {
                explanation.style.display = 'none';
            }
        }
        
        function editReadinessAssessment() {
            // Go back to the assessment form
            document.getElementById('readinessInitialMenu').style.display = 'none';
            loadReadinessData();
            document.getElementById('readinessStep1').style.display = 'block';
        }
        
        function loadReadinessData() {
            const u = app.users[user.email];
            if (!u.readiness) return;
            
            // Load saved data if exists
            const r = u.readiness;
            if (r.stage) {
                const stageRadio = document.querySelector(`input[name="readinessStage"][value="${r.stage}"]`);
                if (stageRadio) stageRadio.checked = true;
            }
            if (r.cycleAwareness) {
                const cycleRadio = document.querySelector(`input[name="cycleAwareness"][value="${r.cycleAwareness}"]`);
                if (cycleRadio) cycleRadio.checked = true;
            }
            if (r.motivationScore) {
                document.getElementById('motivationScore').value = r.motivationScore;
                document.getElementById('motivationScoreDisplay').textContent = r.motivationScore;
            }
            if (r.motivationCheckTime) {
                document.getElementById('motivationCheckTime').value = r.motivationCheckTime;
            }
            if (r.resultsCheckTime) {
                document.getElementById('resultsCheckTime').value = r.resultsCheckTime;
            }
        }
        
        // ============ ADDICTION SYMPTOMS FUNCTIONS ============
        
        function showAddictionSymptoms() {
            showSection('addictionSymptoms');
            renderSymptomsList();
            
            // Load saved selections if exist
            const u = app.users[user.email];
            if (u.addictionSymptoms && u.addictionSymptoms.selected) {
                u.addictionSymptoms.selected.forEach(index => {
                    const checkbox = document.getElementById('symptom-' + index);
                    if (checkbox) checkbox.checked = true;
                });
                
                // Show result if already calculated
                if (u.addictionSymptoms.totalCount !== undefined) {
                    document.getElementById('symptomsResult').style.display = 'block';
                    updateSymptomsResult(u.addictionSymptoms.totalCount);
                }
            }
        }
        
        function renderSymptomsList() {
            const container = document.getElementById('symptomsList');
            let html = '';
            let symptomIndex = 0;
            
            DEFAULT_SYMPTOMS.forEach(categoryObj => {
                html += '<div style="margin-bottom: 25px;">';
                html += '<h3 style="color: white; margin-bottom: 15px; font-size: 16px; font-weight: 600;">' + categoryObj.category + '</h3>';
                
                categoryObj.symptoms.forEach(symptom => {
                    html += '<label style="display: flex; align-items: start; padding: 12px; background: white; border-radius: 8px; cursor: pointer; margin-bottom: 10px; border: 2px solid #e5e7eb; transition: all 0.2s;">';
                    html += '<input type="checkbox" id="symptom-' + symptomIndex + '" value="' + symptomIndex + '" style="margin-top: 4px; margin-right: 12px; width: 18px; height: 18px; flex-shrink: 0;">';
                    html += '<div style="color: #333; line-height: 1.6; font-size: 14px;">' + symptom + '</div>';
                    html += '</label>';
                    symptomIndex++;
                });
                
                html += '</div>';
            });
            
            container.innerHTML = html;
        }
        
        function calculateSymptoms() {
            const u = app.users[user.email];
            if (!u.addictionSymptoms) u.addictionSymptoms = {};
            
            // Count checked symptoms
            const checkboxes = document.querySelectorAll('#symptomsList input[type="checkbox"]');
            const selected = [];
            let count = 0;
            
            checkboxes.forEach((cb, index) => {
                if (cb.checked) {
                    selected.push(index);
                    count++;
                }
            });
            
            // Save to user data
            u.addictionSymptoms.selected = selected;
            u.addictionSymptoms.totalCount = count;
            u.addictionSymptoms.timestamp = new Date().toISOString();
            save();
            
            // Show result
            document.getElementById('symptomsResult').style.display = 'block';
            updateSymptomsResult(count);
            
            // Scroll to result
            document.getElementById('symptomsResult').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }
        
        function updateSymptomsResult(count) {
            const resultText = document.getElementById('symptomsResultText');
            
            let message = '<div style="margin-bottom: 15px;"><strong>áƒ›áƒáƒœáƒ˜áƒ¨áƒœáƒ£áƒšáƒ˜ áƒ¡áƒ˜áƒ›áƒáƒ¢áƒáƒ›áƒ”áƒ‘áƒ˜áƒ¡ áƒ áƒáƒáƒ“áƒ”áƒœáƒáƒ‘áƒ:</strong> ' + count + '</div>';
            message += '<div style="line-height: 1.8;">';
            message += 'áƒ›áƒ˜áƒœáƒ˜áƒ›áƒ£áƒ› áƒ”áƒ áƒ—áƒ˜ áƒ›áƒáƒœáƒ˜áƒ¨áƒœáƒ£áƒšáƒ˜ áƒáƒáƒ¡áƒ£áƒ®áƒ˜ áƒ¨áƒ”áƒ¡áƒáƒ«áƒšáƒáƒ áƒ˜áƒ§áƒáƒ¡ áƒ“áƒáƒ›áƒáƒ™áƒ˜áƒ“áƒ”áƒ‘áƒ£áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ áƒ˜áƒ¡áƒ™áƒ˜áƒ¡ áƒ›áƒáƒ©áƒ•áƒ”áƒœáƒ”áƒ‘áƒ”áƒšáƒ˜. ';
            message += '<strong>áƒ áƒáƒª áƒ£áƒ¤áƒ áƒ áƒ›áƒáƒ¦áƒáƒšáƒ˜áƒ áƒ¨áƒ”áƒ“áƒ”áƒ’áƒ˜, áƒ›áƒ˜áƒ— áƒ›áƒáƒ¦áƒáƒšáƒ˜áƒ áƒ“áƒáƒ›áƒáƒ™áƒ˜áƒ“áƒ”áƒ‘áƒ£áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒáƒ áƒ¡áƒ”áƒ‘áƒáƒ‘áƒ˜áƒ¡ áƒáƒšáƒ‘áƒáƒ—áƒáƒ‘áƒ.</strong>';
            message += '</div>';
            
            resultText.innerHTML = message;
        }
        
        function backToReadinessMenu() {
            showSection('readiness');
        }
        
        // ============ READINESS SUMMARY VIEW ============
        
        function showReadinessSummaryView() {
            // Hide all steps
            document.getElementById('readinessStep1').style.display = 'none';
            document.getElementById('readinessStep2a').style.display = 'none';
            document.getElementById('readinessStep2b').style.display = 'none';
            document.getElementById('readinessStep3').style.display = 'none';
            document.getElementById('readinessStep4').style.display = 'none';
            document.getElementById('readinessStep5').style.display = 'none';
            
            // Show summary
            displayReadinessSummaryView();
            document.getElementById('readinessStep6').style.display = 'block';
        }
        
        function displayReadinessSummaryView() {
            const u = app.users[user.email];
            const r = u.readiness;
            
            const stageLabels = {
                'precontemplation': '1. áƒáƒ áƒ”áƒ’áƒáƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ',
                'contemplation': '2. áƒ›áƒ¡áƒ¯áƒ”áƒšáƒáƒ‘áƒ',
                'preparation': '3. áƒ“áƒáƒ’áƒ”áƒ’áƒ›áƒ•áƒ',
                'action': '4. áƒ›áƒáƒ¥áƒ›áƒ”áƒ“áƒ”áƒ‘áƒ',
                'maintenance': '5. áƒªáƒ•áƒšáƒ˜áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒœáƒáƒ áƒ©áƒ£áƒœáƒ”áƒ‘áƒ'
            };
            
            const stageDescriptions = {
                'precontemplation': 'áƒáƒ› áƒ“áƒ áƒáƒ¡ áƒ¨áƒ”áƒœ áƒ•áƒ”áƒ áƒª áƒ™áƒ˜ áƒáƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”áƒ‘, áƒ áƒáƒ› áƒ¨áƒ”áƒœ áƒ áƒáƒ›áƒ”áƒœáƒáƒ˜áƒ áƒáƒ“ áƒ£áƒœáƒ“áƒ áƒ¨áƒ”áƒªáƒ•áƒáƒšáƒ áƒ¨áƒ”áƒœáƒ˜ áƒ¥áƒªáƒ”áƒ•áƒ. áƒ˜áƒ¥áƒœáƒ”áƒ‘ áƒ’áƒáƒ áƒ¨áƒ”áƒ›áƒáƒ›áƒ§áƒáƒ¤áƒ”áƒ‘áƒ›áƒ áƒ¨áƒ”áƒœáƒ˜áƒ¨áƒœáƒ”áƒ¡, áƒ áƒáƒ› áƒ¨áƒ”áƒœ áƒ›áƒáƒ˜áƒ®áƒ›áƒáƒ  áƒœáƒ˜áƒ•áƒ—áƒ˜áƒ”áƒ áƒ”áƒ‘áƒáƒ¡ áƒ“áƒ áƒ’áƒáƒ›áƒáƒ®áƒáƒ¢áƒ”áƒ¡ áƒáƒ¦áƒ”áƒšáƒ•áƒ”áƒ‘áƒ, áƒ›áƒáƒ’áƒ áƒáƒ› áƒáƒ˜áƒ áƒáƒ“áƒáƒ“ áƒ¨áƒ”áƒœ áƒ•áƒ”áƒ áƒáƒ¤áƒ”áƒ áƒ¡ áƒ•áƒ”áƒ  áƒáƒ›áƒ©áƒœáƒ”áƒ•.',
                'contemplation': 'áƒ”áƒ¡ áƒáƒ áƒ˜áƒ¡ áƒ“áƒ áƒ, áƒ áƒáƒ“áƒ”áƒ¡áƒáƒª áƒ¨áƒ”áƒœ áƒ˜áƒ¬áƒ§áƒ”áƒ‘ áƒ©áƒáƒ¤áƒ˜áƒ¥áƒ áƒ”áƒ‘áƒáƒ¡ áƒ¨áƒ”áƒªáƒ•áƒšáƒ˜áƒ¡ áƒ¨áƒ”áƒ¡áƒáƒ«áƒšáƒ”áƒ‘áƒšáƒáƒ‘áƒáƒ–áƒ”. â€áƒ˜áƒ¥áƒœáƒ”áƒ‘ áƒ›áƒ” áƒ›áƒ­áƒ˜áƒ áƒ“áƒ”áƒ‘áƒ, áƒ áƒáƒ› áƒªáƒáƒ¢áƒ áƒ¨áƒ”áƒ•áƒ˜áƒªáƒ•áƒáƒšáƒ", áƒáƒœ â€áƒ›áƒ”áƒ›áƒ’áƒáƒœáƒ˜ áƒ›áƒ” áƒ£áƒ™áƒ•áƒ” áƒ•áƒ”áƒ¦áƒáƒ  áƒ•áƒáƒ™áƒáƒœáƒ¢áƒ áƒáƒšáƒ”áƒ‘ áƒ›áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒáƒ¡". áƒáƒ› áƒ”áƒ¢áƒáƒáƒ–áƒ” áƒ¨áƒ”áƒœ áƒ£áƒ™áƒ•áƒ” áƒ˜áƒ¬áƒ§áƒ”áƒ‘ áƒ˜áƒ›áƒ˜áƒ¡ áƒ’áƒáƒáƒ–áƒ áƒ”áƒ‘áƒáƒ¡, áƒ áƒáƒ› áƒ¨áƒ”áƒœáƒ˜ áƒ¥áƒªáƒ”áƒ•áƒ áƒáƒ  áƒ¨áƒ”áƒ”áƒ¡áƒáƒ‘áƒáƒ›áƒ”áƒ‘áƒ áƒ˜áƒ› áƒªáƒ®áƒáƒ•áƒ áƒ”áƒ‘áƒáƒ¡, áƒ áƒáƒ›áƒ”áƒšáƒ˜áƒª áƒ’áƒ˜áƒœáƒ“áƒáƒ“áƒ, áƒ áƒáƒ› áƒ¬áƒáƒ’áƒ”áƒ›áƒáƒ áƒ—áƒ.',
                'preparation': 'áƒ›áƒ”áƒ¡áƒáƒ›áƒ” áƒ”áƒ¢áƒáƒáƒ–áƒ” áƒ’áƒáƒ“áƒáƒ¡áƒ•áƒšáƒ˜áƒ¡áƒáƒ¡ áƒ¨áƒ”áƒœ áƒ“áƒáƒ áƒ¬áƒ›áƒ£áƒœáƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ®áƒáƒ , áƒ áƒáƒ› áƒ£áƒœáƒ“áƒ áƒ¨áƒ”áƒªáƒ•áƒáƒšáƒ áƒ¨áƒ”áƒœáƒ˜ áƒ¥áƒªáƒ”áƒ•áƒ áƒ“áƒ áƒ˜áƒ¬áƒ§áƒ”áƒ‘ áƒáƒ› áƒªáƒ•áƒšáƒ˜áƒšáƒ”áƒ‘áƒ”áƒ‘áƒ˜áƒ¡ áƒ“áƒáƒ’áƒ”áƒ’áƒ›áƒ•áƒáƒ¡. áƒáƒ› áƒ”áƒ¢áƒáƒáƒ–áƒ” áƒ¨áƒ”áƒœ áƒ’áƒáƒœáƒ˜áƒ®áƒ˜áƒšáƒáƒ• áƒ’áƒ–áƒ”áƒ‘áƒ¡, áƒ áƒáƒ›áƒšáƒ”áƒ‘áƒ˜áƒª áƒ’áƒáƒ›áƒáƒ’áƒáƒ“áƒ’áƒ”áƒ‘áƒáƒ“áƒ áƒ›áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒáƒ¡áƒ—áƒáƒœ áƒ‘áƒ áƒ«áƒáƒšáƒáƒ¨áƒ˜.',
                'action': 'áƒáƒ› áƒ”áƒ¢áƒáƒáƒ–áƒ” áƒ¨áƒ”áƒœ áƒ›áƒ˜áƒ°áƒ§áƒ•áƒ”áƒ‘áƒ˜ áƒ’áƒ”áƒ’áƒ›áƒáƒ¡, áƒ áƒáƒ›áƒ”áƒšáƒ˜áƒª áƒ¬áƒ˜áƒœáƒ áƒ”áƒ¢áƒáƒáƒ–áƒ” áƒ¨áƒ”áƒ˜áƒ›áƒ£áƒ¨áƒáƒ•áƒ”. áƒ¨áƒ”áƒœ áƒ˜áƒ¬áƒ§áƒ”áƒ‘ áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒáƒ¡.',
                'maintenance': 'áƒ—áƒ£ áƒ¨áƒ”áƒœ áƒ¨áƒ”áƒ«áƒ”áƒšáƒ˜ 6 áƒ—áƒ•áƒ˜áƒ¡ áƒáƒœ áƒ›áƒ”áƒ¢áƒ˜áƒ¡ áƒ’áƒáƒœáƒ›áƒáƒ•áƒšáƒáƒ‘áƒáƒ¨áƒ˜ áƒ—áƒáƒœáƒ›áƒ˜áƒ›áƒ“áƒ”áƒ•áƒ áƒ£áƒšáƒáƒ“ áƒ“áƒáƒ áƒ©áƒ”áƒœáƒ˜áƒšáƒ˜áƒ§áƒáƒ•áƒ˜ áƒ¬áƒ˜áƒœáƒ áƒ”áƒ¢áƒáƒáƒ”áƒ‘áƒ–áƒ” áƒ¨áƒ”áƒ›áƒ£áƒ¨áƒáƒ•áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ›áƒáƒ¥áƒ›áƒ”áƒ“áƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒ”áƒ’áƒ›áƒ˜áƒ¡ áƒ¤áƒáƒ áƒ’áƒšáƒ”áƒ‘áƒ¨áƒ˜, áƒ¨áƒ”áƒœ áƒ’áƒáƒ“áƒáƒ®áƒ•áƒ”áƒ“áƒ˜ áƒªáƒ•áƒšáƒ˜áƒšáƒ”áƒ‘áƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒœáƒáƒ áƒ©áƒ£áƒœáƒ”áƒ‘áƒ˜áƒ¡ áƒ”áƒ¢áƒáƒáƒ–áƒ”.'
            };
            
            let html = '';
            
            // Stage (clickable to expand)
            html += '<div onclick="toggleStageDetails()" style="margin-bottom: 20px; padding: 12px; background: #f0f4ff; border-radius: 8px; border-left: 4px solid #667eea; cursor: pointer; transition: all 0.2s;" onmouseover="this.style.background=\'#e0e7ff\'" onmouseout="this.style.background=\'#f0f4ff\'">';
            html += '<div style="color: #667eea; font-weight: 600; margin-bottom: 5px; font-size: 14px;">áƒ¨áƒ”áƒœáƒ˜ áƒ”áƒ¢áƒáƒáƒ˜: <span style="font-size: 12px; color: #999;">(áƒ“áƒáƒáƒ­áƒ˜áƒ áƒ” áƒ“áƒ”áƒ¢áƒáƒšáƒ”áƒ‘áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡)</span></div>';
            html += '<div style="color: #1f2937; font-size: 16px;">' + stageLabels[r.stage] + '</div>';
            html += '</div>';
            
            // All stages details (hidden by default)
            html += '<div id="allStagesDetails" style="display: none; margin-bottom: 20px; padding: 20px; background: white; border-radius: 8px; border: 2px solid #e0e7ff;">';
            html += '<h4 style="color: #667eea; margin-bottom: 15px; font-size: 16px;">áƒ§áƒ•áƒ”áƒšáƒ áƒ”áƒ¢áƒáƒáƒ˜:</h4>';
            
            for (let stageKey in stageLabels) {
                const isCurrentStage = stageKey === r.stage;
                html += '<div style="margin-bottom: 15px; padding: 12px; background: ' + (isCurrentStage ? '#f0f4ff' : '#f9fafb') + '; border-radius: 6px; border-left: 3px solid ' + (isCurrentStage ? '#667eea' : '#e5e7eb') + ';">';
                html += '<div style="font-weight: 600; color: #1f2937; margin-bottom: 5px; font-size: 14px;">' + stageLabels[stageKey] + (isCurrentStage ? ' â­' : '') + '</div>';
                html += '<div style="color: #666; font-size: 13px; line-height: 1.6; text-align: justify;">' + stageDescriptions[stageKey] + '</div>';
                html += '</div>';
            }
            
            html += '</div>';
            
            // Cycle awareness (clickable to expand)
            html += '<div onclick="toggleCycleDetails()" style="margin-bottom: 20px; padding: 12px; background: #f0f4ff; border-radius: 8px; border-left: 4px solid #667eea; cursor: pointer; transition: all 0.2s;" onmouseover="this.style.background=\'#e0e7ff\'" onmouseout="this.style.background=\'#f0f4ff\'">';
            html += '<div style="color: #667eea; font-weight: 600; margin-bottom: 5px; font-size: 14px;">áƒ›áƒáƒ¢áƒ˜áƒ•áƒáƒªáƒ˜áƒ˜áƒ¡ áƒ‘áƒ£áƒœáƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒáƒœáƒáƒªáƒ•áƒšáƒ”áƒáƒ‘áƒ: <span style="font-size: 12px; color: #999;">(áƒ“áƒáƒáƒ­áƒ˜áƒ áƒ” áƒ“áƒ”áƒ¢áƒáƒšáƒ”áƒ‘áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡)</span></div>';
            html += '<div style="color: #1f2937; font-size: 16px;">' + (r.cycleAwareness === 'yes' ? 'áƒ™áƒ˜, áƒ’áƒáƒ›áƒáƒ›áƒ˜áƒªáƒ“áƒ˜áƒ' : 'áƒáƒ áƒ, áƒáƒ  áƒ¨áƒ”áƒ›áƒ˜áƒ›áƒ©áƒœáƒ”áƒ•áƒ˜áƒ') + '</div>';
            html += '</div>';
            
            // Cycle explanation (hidden by default)
            html += '<div id="cycleExplanation" style="display: none; margin-bottom: 20px; padding: 20px; background: white; border-radius: 8px; border: 2px solid #e0e7ff;">';
            html += '<p style="color: #333; line-height: 1.8; margin-bottom: 15px; text-align: justify;">áƒ’áƒáƒœáƒ™áƒ£áƒ áƒœáƒ”áƒ‘áƒ˜áƒ¡ áƒáƒ áƒáƒªáƒ”áƒ¡áƒ¡, áƒ˜áƒ¡áƒ”áƒ•áƒ” áƒ áƒáƒ’áƒáƒ áƒª áƒ–áƒáƒ’áƒáƒ“áƒáƒ“ áƒªáƒ®áƒáƒ•áƒ áƒ”áƒ‘áƒáƒ¡ áƒáƒ¥áƒ•áƒ¡ áƒ—áƒáƒ•áƒ˜áƒ¡áƒ˜ áƒáƒ¦áƒ›áƒáƒ•áƒáƒšáƒ˜ áƒ“áƒ áƒ“áƒáƒ¦áƒ›áƒáƒ•áƒáƒšáƒ˜ áƒ”áƒ¢áƒáƒáƒ”áƒ‘áƒ˜ (áƒáƒ¤áƒ áƒ”áƒœáƒ”áƒ‘áƒ˜ áƒ“áƒ áƒ•áƒáƒ áƒ“áƒœáƒ”áƒ‘áƒ˜). áƒáƒ¥áƒ”áƒ“áƒáƒœ áƒ’áƒáƒ›áƒáƒ›áƒ“áƒ˜áƒœáƒáƒ áƒ” áƒáƒ‘áƒ¡áƒáƒšáƒ£áƒ¢áƒ£áƒ áƒáƒ“ áƒœáƒáƒ áƒ›áƒáƒšáƒ£áƒ áƒ˜áƒ, áƒ áƒáƒ› áƒ¨áƒ”áƒœ áƒ’áƒ¥áƒáƒœáƒ“áƒ”áƒ¡ áƒ“áƒ¦áƒ”áƒ”áƒ‘áƒ˜, áƒ áƒáƒ›áƒšáƒ”áƒ‘áƒ¨áƒ˜áƒª áƒ¨áƒ”áƒœ áƒªáƒ®áƒáƒ“áƒáƒ“ áƒ’áƒ”áƒªáƒáƒ“áƒ˜áƒœáƒ”áƒ‘áƒ áƒ áƒáƒ¢áƒáƒ› áƒáƒ áƒ˜áƒ¡ áƒáƒ£áƒªáƒ˜áƒšáƒ”áƒ‘áƒ”áƒšáƒ˜ áƒ“áƒáƒœáƒ”áƒ‘áƒ”áƒ‘áƒ, áƒ¨áƒ”áƒœáƒ˜ áƒáƒ®áƒáƒšáƒ˜ áƒ¯áƒáƒœáƒ¡áƒáƒ¦áƒ˜ áƒªáƒ®áƒáƒ•áƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒ¥áƒ›áƒœáƒ˜áƒ¡áƒáƒ—áƒ•áƒ˜áƒ¡ áƒ“áƒ áƒ”áƒ¡ áƒ“áƒ¦áƒ”áƒ”áƒ‘áƒ˜ áƒ¨áƒ”áƒ˜áƒ«áƒšáƒ”áƒ‘áƒ áƒ¨áƒ”áƒªáƒ•áƒáƒšáƒáƒœ áƒ“áƒ¦áƒ”áƒ”áƒ‘áƒ›áƒ, áƒ áƒáƒ“áƒ”áƒ¡áƒáƒª áƒ¨áƒ”áƒœ áƒ—áƒáƒ•áƒ¡ áƒ“áƒáƒ£áƒ¡áƒ•áƒáƒ› áƒ™áƒ˜áƒ—áƒ®áƒ•áƒ”áƒ‘áƒ¡ áƒ¡áƒáƒ”áƒ áƒ—áƒáƒ“ áƒ áƒáƒ¨áƒ˜ áƒ’áƒ­áƒ˜áƒ áƒ“áƒ”áƒ‘áƒ áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒáƒ¡áƒ—áƒáƒœ áƒ“áƒáƒ™áƒáƒ•áƒ¨áƒ˜áƒ áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ›áƒ—áƒ”áƒšáƒ˜ áƒ”áƒ¡ áƒáƒ áƒáƒ‘áƒšáƒ”áƒ›áƒ”áƒ‘áƒ˜.</p>';
            html += '<p style="color: #333; line-height: 1.8; margin-bottom: 15px; text-align: justify;">áƒ©áƒ•áƒ”áƒœáƒ˜ áƒ›áƒ˜áƒ–áƒáƒœáƒ˜áƒ áƒáƒ› áƒ áƒ—áƒ£áƒš áƒáƒ”áƒ áƒ˜áƒáƒ“áƒ”áƒ‘áƒ¨áƒ˜ áƒ•áƒ˜áƒ§áƒáƒ— áƒ“áƒáƒ›áƒ®áƒ›áƒáƒ áƒ”, áƒ áƒáƒ—áƒ áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒáƒ áƒáƒªáƒ”áƒ¡áƒ˜ áƒ’áƒáƒ’áƒ áƒ«áƒ”áƒšáƒ“áƒ”áƒ¡ áƒ—áƒáƒœáƒ›áƒ˜áƒ›áƒ“áƒ”áƒ•áƒ áƒ£áƒšáƒáƒ“.</p>';
            html += '<p style="color: #667eea; font-weight: 600; line-height: 1.8; text-align: justify;">áƒ áƒáƒ“áƒ”áƒ¡áƒáƒª áƒ«áƒáƒšáƒ˜áƒáƒœ áƒáƒ®áƒšáƒáƒ¡ áƒ®áƒáƒ  áƒ“áƒáƒœáƒ”áƒ‘áƒ”áƒ‘áƒáƒ¡áƒ—áƒáƒœ, áƒ’áƒáƒ˜áƒ®áƒ¡áƒ”áƒœáƒ” áƒ áƒáƒ¢áƒáƒ› áƒ˜áƒ¬áƒ§áƒ”áƒ‘áƒ“áƒ˜!</p>';
            html += '</div>';
            
            // Motivation score (read-only)
            html += '<div style="margin-bottom: 20px; padding: 12px; background: #f0f4ff; border-radius: 8px; border-left: 4px solid #10b981;">';
            html += '<div style="color: #10b981; font-weight: 600; margin-bottom: 5px; font-size: 14px;">áƒ›áƒáƒ¢áƒ˜áƒ•áƒáƒªáƒ˜áƒ˜áƒ¡ áƒ¥áƒ£áƒšáƒ:</div>';
            html += '<div style="color: #1f2937; font-size: 24px; font-weight: bold;">' + r.motivationScore + '/10</div>';
            html += '</div>';
            
            // Times (editable)
            html += '<div style="margin-bottom: 20px; padding: 20px; background: #fff7ed; border-radius: 8px; border-left: 4px solid #f59e0b;">';
            html += '<div style="color: #f59e0b; font-weight: 600; margin-bottom: 15px; font-size: 14px;">áƒ¨áƒ”áƒ›áƒáƒ¬áƒ›áƒ”áƒ‘áƒ˜áƒ¡ áƒ“áƒ áƒ (áƒ áƒ”áƒ“áƒáƒ¥áƒ¢áƒ˜áƒ áƒ”áƒ‘áƒáƒ“áƒ˜):</div>';
            
            html += '<div style="margin-bottom: 15px;">';
            html += '<label style="display: block; margin-bottom: 8px; color: #666; font-size: 14px;">â° áƒ›áƒáƒ¢áƒ˜áƒ•áƒáƒªáƒ˜áƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒáƒ¬áƒ›áƒ”áƒ‘áƒ:</label>';
            html += '<input type="time" id="editMotivationCheckTime" value="' + r.motivationCheckTime + '" style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 15px;">';
            html += '</div>';
            
            html += '<div>';
            html += '<label style="display: block; margin-bottom: 8px; color: #666; font-size: 14px;\">ğŸ“Š áƒ¨áƒ”áƒ“áƒ”áƒ’áƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒáƒ¬áƒ›áƒ”áƒ‘áƒ:</label>';
            html += '<input type="time" id="editResultsCheckTime" value="' + r.resultsCheckTime + '" onchange="saveReadinessTimes()" style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 15px;">';
            html += '</div>';
            
            html += '</div>';
            
            document.getElementById('readinessSummary').innerHTML = html;
            
            // Add onchange to motivation time as well
            setTimeout(() => {
                const motTimeInput = document.getElementById('editMotivationCheckTime');
                if (motTimeInput) {
                    motTimeInput.onchange = saveReadinessTimes;
                }
            }, 100);
        }
        
        function saveReadinessTimes() {
            const u = app.users[user.email];
            if (!u.readiness) return;
            
            const motivationCheckTime = document.getElementById('editMotivationCheckTime').value;
            const resultsCheckTime = document.getElementById('editResultsCheckTime').value;
            
            u.readiness.motivationCheckTime = motivationCheckTime;
            u.readiness.resultsCheckTime = resultsCheckTime;
            u.readiness.updatedAt = new Date().toISOString();
            
            save();
        }
        
        function toggleStageDetails() {
            const details = document.getElementById('allStagesDetails');
            if (details.style.display === 'none') {
                details.style.display = 'block';
            } else {
                details.style.display = 'none';
            }
        }
        
        function toggleCycleDetails() {
            const explanation = document.getElementById('cycleExplanation');
            if (explanation.style.display === 'none') {
                explanation.style.display = 'block';
            } else {
                explanation.style.display = 'none';
            }
        }
        
        // Step navigation
        function readinessNext1() {
            const selected = document.querySelector('input[name="readinessStage"]:checked');
            if (!selected) {
                alert('áƒ’áƒ—áƒ®áƒáƒ• áƒáƒ˜áƒ áƒ©áƒ˜áƒ áƒ”áƒ¢áƒáƒáƒ˜');
                return;
            }
            document.getElementById('readinessStep1').style.display = 'none';
            document.getElementById('readinessStep2a').style.display = 'block';
        }
        
        function readinessBack2a() {
            document.getElementById('readinessStep2a').style.display = 'none';
            document.getElementById('readinessStep1').style.display = 'block';
        }
        
        function readinessNext2a() {
            document.getElementById('readinessStep2a').style.display = 'none';
            document.getElementById('readinessStep2b').style.display = 'block';
        }
        
        function readinessBack2b() {
            document.getElementById('readinessStep2b').style.display = 'none';
            document.getElementById('readinessStep2a').style.display = 'block';
        }
        
        function readinessNext2b() {
            const selected = document.querySelector('input[name="cycleAwareness"]:checked');
            if (!selected) {
                alert('áƒ’áƒ—áƒ®áƒáƒ• áƒáƒ˜áƒ áƒ©áƒ˜áƒ áƒáƒáƒ¡áƒ£áƒ®áƒ˜');
                return;
            }
            document.getElementById('readinessStep2b').style.display = 'none';
            document.getElementById('readinessStep3').style.display = 'block';
        }
        
        function readinessBack3() {
            document.getElementById('readinessStep3').style.display = 'none';
            document.getElementById('readinessStep2b').style.display = 'block';
        }
        
        function readinessNext3() {
            document.getElementById('readinessStep3').style.display = 'none';
            document.getElementById('readinessStep4').style.display = 'block';
        }
        
        function readinessBack4() {
            document.getElementById('readinessStep4').style.display = 'none';
            document.getElementById('readinessStep3').style.display = 'block';
        }
        
        function readinessNext4() {
            const time = document.getElementById('motivationCheckTime').value;
            if (!time) {
                alert('áƒ’áƒ—áƒ®áƒáƒ• áƒáƒ˜áƒ áƒ©áƒ˜áƒ áƒ“áƒ áƒ');
                return;
            }
            document.getElementById('readinessStep4').style.display = 'none';
            document.getElementById('readinessStep5').style.display = 'block';
        }
        
        function readinessBack5() {
            document.getElementById('readinessStep5').style.display = 'none';
            document.getElementById('readinessStep4').style.display = 'block';
        }
        
        function readinessNext5() {
            const time = document.getElementById('resultsCheckTime').value;
            if (!time) {
                alert('áƒ’áƒ—áƒ®áƒáƒ• áƒáƒ˜áƒ áƒ©áƒ˜áƒ áƒ“áƒ áƒ');
                return;
            }
            
            // Save data first
            const u = app.users[user.email];
            const stage = document.querySelector('input[name="readinessStage"]:checked').value;
            const cycleAwareness = document.querySelector('input[name="cycleAwareness"]:checked').value;
            const motivationScore = parseInt(document.getElementById('motivationScore').value);
            const motivationCheckTime = document.getElementById('motivationCheckTime').value;
            const resultsCheckTime = document.getElementById('resultsCheckTime').value;
            
            if (!u.readiness) u.readiness = {};
            
            u.readiness = {
                stage: stage,
                cycleAwareness: cycleAwareness,
                motivationScore: motivationScore,
                motivationCheckTime: motivationCheckTime,
                resultsCheckTime: resultsCheckTime,
                updatedAt: new Date().toISOString()
            };
            
            // Add to motivation history
            if (!u.motivationHistory) u.motivationHistory = [];
            u.motivationHistory.push({
                date: new Date().toISOString(),
                score: motivationScore
            });
            
            save();
            
            // Hide step 5 and show menu with summary
            document.getElementById('readinessStep5').style.display = 'none';
            document.getElementById('readinessInitialMenu').style.display = 'block';
            showReadinessSummaryInMenu();
            
            alert('âœ“ áƒ¨áƒ”áƒœáƒáƒ®áƒ£áƒšáƒ˜áƒ áƒ¬áƒáƒ áƒ›áƒáƒ¢áƒ”áƒ‘áƒ˜áƒ—!');
        }
        
        function readinessBack6() {
            // Go back to full flow (restart from step 1)
            document.getElementById('readinessStep6').style.display = 'none';
            document.getElementById('readinessStep1').style.display = 'block';
        }
        
        function displayReadinessSummary() {
            const stageLabels = {
                'precontemplation': '1. áƒáƒ áƒ”áƒ’áƒáƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ',
                'contemplation': '2. áƒ›áƒ¡áƒ¯áƒ”áƒšáƒáƒ‘áƒ',
                'preparation': '3. áƒ“áƒáƒ’áƒ”áƒ’áƒ›áƒ•áƒ',
                'action': '4. áƒ›áƒáƒ¥áƒ›áƒ”áƒ“áƒ”áƒ‘áƒ',
                'maintenance': '5. áƒªáƒ•áƒšáƒ˜áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒœáƒáƒ áƒ©áƒ£áƒœáƒ”áƒ‘áƒ'
            };
            
            const stage = document.querySelector('input[name="readinessStage"]:checked').value;
            const cycleAwareness = document.querySelector('input[name="cycleAwareness"]:checked').value;
            const motivationScore = document.getElementById('motivationScore').value;
            const motivationCheckTime = document.getElementById('motivationCheckTime').value;
            const resultsCheckTime = document.getElementById('resultsCheckTime').value;
            
            let html = '';
            
            // Stage
            html += '<div style="margin-bottom: 20px; padding: 12px; background: #f0f4ff; border-radius: 8px; border-left: 4px solid #667eea;">';
            html += '<div style="color: #667eea; font-weight: 600; margin-bottom: 5px; font-size: 14px;">áƒ¨áƒ”áƒœáƒ˜ áƒ”áƒ¢áƒáƒáƒ˜:</div>';
            html += '<div style="color: #1f2937; font-size: 16px;">' + stageLabels[stage] + '</div>';
            html += '</div>';
            
            // Cycle awareness
            html += '<div style="margin-bottom: 20px; padding: 12px; background: #f0f4ff; border-radius: 8px; border-left: 4px solid #667eea;">';
            html += '<div style="color: #667eea; font-weight: 600; margin-bottom: 5px; font-size: 14px;">áƒ›áƒáƒ¢áƒ˜áƒ•áƒáƒªáƒ˜áƒ˜áƒ¡ áƒ‘áƒ£áƒœáƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒáƒœáƒáƒªáƒ•áƒšáƒ”áƒáƒ‘áƒ:</div>';
            html += '<div style="color: #1f2937; font-size: 16px;">' + (cycleAwareness === 'yes' ? 'áƒ™áƒ˜, áƒ’áƒáƒ›áƒáƒ›áƒ˜áƒªáƒ“áƒ˜áƒ' : 'áƒáƒ áƒ, áƒáƒ  áƒ¨áƒ”áƒ›áƒ˜áƒ›áƒ©áƒœáƒ”áƒ•áƒ˜áƒ') + '</div>';
            html += '</div>';
            
            // Motivation score
            html += '<div style="margin-bottom: 20px; padding: 12px; background: #f0f4ff; border-radius: 8px; border-left: 4px solid #10b981;">';
            html += '<div style="color: #10b981; font-weight: 600; margin-bottom: 5px; font-size: 14px;">áƒ›áƒáƒ¢áƒ˜áƒ•áƒáƒªáƒ˜áƒ˜áƒ¡ áƒ¥áƒ£áƒšáƒ:</div>';
            html += '<div style="color: #1f2937; font-size: 24px; font-weight: bold;">' + motivationScore + '/10</div>';
            html += '</div>';
            
            // Times
            html += '<div style="margin-bottom: 20px; padding: 12px; background: #fff7ed; border-radius: 8px; border-left: 4px solid #f59e0b;">';
            html += '<div style="color: #f59e0b; font-weight: 600; margin-bottom: 10px; font-size: 14px;">áƒ¨áƒ”áƒ›áƒáƒ¬áƒ›áƒ”áƒ‘áƒ˜áƒ¡ áƒ“áƒ áƒ:</div>';
            html += '<div style="color: #1f2937; font-size: 15px; margin-bottom: 8px;">â° áƒ›áƒáƒ¢áƒ˜áƒ•áƒáƒªáƒ˜áƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒáƒ¬áƒ›áƒ”áƒ‘áƒ: <strong>' + motivationCheckTime + '</strong></div>';
            html += '<div style="color: #1f2937; font-size: 15px;">ğŸ“Š áƒ¨áƒ”áƒ“áƒ”áƒ’áƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒáƒ¬áƒ›áƒ”áƒ‘áƒ: <strong>' + resultsCheckTime + '</strong></div>';
            html += '</div>';
            
            document.getElementById('readinessSummary').innerHTML = html;
        }
        
        function readinessSave() {
            const u = app.users[user.email];
            
            // Get times from editable fields (in summary view)
            let motivationCheckTime, resultsCheckTime;
            
            const editMotivationTime = document.getElementById('editMotivationCheckTime');
            const editResultsTime = document.getElementById('editResultsCheckTime');
            
            if (editMotivationTime && editResultsTime) {
                // Saving from summary view (editable fields exist)
                motivationCheckTime = editMotivationTime.value;
                resultsCheckTime = editResultsTime.value;
            } else {
                // First time save (from step flow)
                motivationCheckTime = document.getElementById('motivationCheckTime').value;
                resultsCheckTime = document.getElementById('resultsCheckTime').value;
            }
            
            // Only get these on first save (when going through full flow)
            const isFirstSave = !u.readiness || !u.readiness.stage;
            
            let stage, cycleAwareness, motivationScore;
            
            if (isFirstSave) {
                stage = document.querySelector('input[name="readinessStage"]:checked').value;
                cycleAwareness = document.querySelector('input[name="cycleAwareness"]:checked').value;
                motivationScore = parseInt(document.getElementById('motivationScore').value);
            } else {
                // Keep existing values
                stage = u.readiness.stage;
                cycleAwareness = u.readiness.cycleAwareness;
                motivationScore = u.readiness.motivationScore;
            }
            
            // Check if motivation score changed (only on first save)
            const isNewScore = isFirstSave || !u.readiness || u.readiness.motivationScore !== motivationScore;
            
            if (!u.readiness) u.readiness = {};
            
            u.readiness = {
                stage: stage,
                cycleAwareness: cycleAwareness,
                motivationScore: motivationScore,
                motivationCheckTime: motivationCheckTime,
                resultsCheckTime: resultsCheckTime,
                updatedAt: new Date().toISOString()
            };
            
            // Add to motivation history ONLY if score changed
            if (isNewScore) {
                if (!u.motivationHistory) u.motivationHistory = [];
                u.motivationHistory.push({
                    date: new Date().toISOString(),
                    score: motivationScore
                });
            }
            
            save();
            
            // Reset to step 1 (but next time will show summary)
            document.getElementById('readinessStep6').style.display = 'none';
            document.getElementById('readinessStep1').style.display = 'block';
            
            alert('âœ“ áƒ¨áƒ”áƒœáƒáƒ®áƒ£áƒšáƒ˜áƒ áƒ¬áƒáƒ áƒ›áƒáƒ¢áƒ”áƒ‘áƒ˜áƒ—!');
            showSection('motivations');
        }
        
        // Radio button visual feedback
        document.addEventListener('DOMContentLoaded', function() {
            // Stage selection radio styling
            document.querySelectorAll('input[name="readinessStage"]').forEach(radio => {
                radio.addEventListener('change', function() {
                    document.querySelectorAll('input[name="readinessStage"]').forEach(r => {
                        r.parentElement.style.borderColor = '#e5e7eb';
                        r.parentElement.style.background = 'white';
                    });
                    if (this.checked) {
                        this.parentElement.style.borderColor = '#667eea';
                        this.parentElement.style.background = '#f0f4ff';
                    }
                });
            });
            
            // Cycle awareness radio styling
            document.querySelectorAll('input[name="cycleAwareness"]').forEach(radio => {
                radio.addEventListener('change', function() {
                    document.querySelectorAll('input[name="cycleAwareness"]').forEach(r => {
                        r.parentElement.style.borderColor = '#e5e7eb';
                        r.parentElement.style.background = 'white';
                    });
                    if (this.checked) {
                        this.parentElement.style.borderColor = '#667eea';
                        this.parentElement.style.background = '#f0f4ff';
                    }
                });
            });
        });


        // ============ SAVINGS FUNCTIONS ============
        
        function showSavings() {
            showSection('savings');
            const u = app.users[user.email];
            
            // Check if savings config exists
            if (u.savings && (u.savings.enableMoney || u.savings.enableTime)) {
                // Show display view
                document.getElementById('savingsConfig').style.display = 'none';
                document.getElementById('savingsDisplay').style.display = 'block';
                calculateSavings();
            } else {
                // Show config view (first time)
                document.getElementById('savingsConfig').style.display = 'block';
                document.getElementById('savingsDisplay').style.display = 'none';
                loadSavingsConfig();
            }
        }
        
        function loadSavingsConfig() {
            const u = app.users[user.email];
            if (!u.savings) return;
            
            const s = u.savings;
            
            // Load money config
            if (s.enableMoney) {
                document.getElementById('enableMoneySavings').checked = true;
                document.getElementById('moneyInputSection').style.display = 'block';
                if (s.dailyMoneyCost) {
                    document.getElementById('dailyMoneyCost').value = s.dailyMoneyCost;
                }
            }
            
            // Load time config
            if (s.enableTime) {
                document.getElementById('enableTimeSavings').checked = true;
                document.getElementById('timeInputSection').style.display = 'block';
                if (s.dailyTimeHours) {
                    document.getElementById('dailyTimeHours').value = s.dailyTimeHours;
                }
            }
        }
        
        function toggleMoneySavings() {
            const checked = document.getElementById('enableMoneySavings').checked;
            document.getElementById('moneyInputSection').style.display = checked ? 'block' : 'none';
        }
        
        function toggleTimeSavings() {
            const checked = document.getElementById('enableTimeSavings').checked;
            document.getElementById('timeInputSection').style.display = checked ? 'block' : 'none';
        }
        
        function saveSavingsConfig() {
            const u = app.users[user.email];
            
            const enableMoney = document.getElementById('enableMoneySavings').checked;
            const enableTime = document.getElementById('enableTimeSavings').checked;
            
            if (!enableMoney && !enableTime) {
                alert('áƒ’áƒ—áƒ®áƒáƒ• áƒ©áƒáƒ áƒ—áƒ” áƒ›áƒ˜áƒœáƒ˜áƒ›áƒ£áƒ› áƒ”áƒ áƒ—áƒ˜ áƒáƒ¤áƒªáƒ˜áƒ');
                return;
            }
            
            let dailyMoneyCost = 0;
            let dailyTimeHours = 0;
            
            if (enableMoney) {
                dailyMoneyCost = parseFloat(document.getElementById('dailyMoneyCost').value) || 0;
                if (dailyMoneyCost <= 0) {
                    alert('áƒ’áƒ—áƒ®áƒáƒ• áƒ¨áƒ”áƒ˜áƒ§áƒ•áƒáƒœáƒ áƒ§áƒáƒ•áƒ”áƒšáƒ“áƒ¦áƒ˜áƒ£áƒ áƒ˜ áƒ®áƒáƒ áƒ¯áƒ˜');
                    return;
                }
            }
            
            if (enableTime) {
                dailyTimeHours = parseFloat(document.getElementById('dailyTimeHours').value) || 0;
                if (dailyTimeHours <= 0) {
                    alert('áƒ’áƒ—áƒ®áƒáƒ• áƒ¨áƒ”áƒ˜áƒ§áƒ•áƒáƒœáƒ áƒ§áƒáƒ•áƒ”áƒšáƒ“áƒ¦áƒ˜áƒ£áƒ áƒ˜ áƒ“áƒ áƒ');
                    return;
                }
            }
            
            if (!u.savings) u.savings = {};
            
            u.savings = {
                enableMoney: enableMoney,
                enableTime: enableTime,
                dailyMoneyCost: dailyMoneyCost,
                dailyTimeHours: dailyTimeHours,
                updatedAt: new Date().toISOString()
            };
            
            save();
            
            // Hide config, show display
            document.getElementById('savingsConfig').style.display = 'none';
            calculateSavings();
            document.getElementById('savingsDisplay').style.display = 'block';
            
            alert('âœ“ áƒ¨áƒ”áƒœáƒáƒ®áƒ£áƒšáƒ˜áƒ áƒ¬áƒáƒ áƒ›áƒáƒ¢áƒ”áƒ‘áƒ˜áƒ—!');
        }
        
        function editSavingsConfig() {
            // Hide display, show config
            document.getElementById('savingsDisplay').style.display = 'none';
            document.getElementById('savingsConfig').style.display = 'block';
            
            // Load existing values
            loadSavingsConfig();
        }
        
        function calculateSavings() {
            const u = app.users[user.email];
            if (!u.savings) return;
            
            const s = u.savings;
            
            // Get sober days from streak
            let soberDays = 0;
            if (u.streak) {
                if (typeof u.streak === 'number') {
                    soberDays = u.streak;
                } else if (u.streak.current > 0) {
                    soberDays = u.streak.current;
                }
            }
            
            // Calculate money savings
            if (s.enableMoney && s.dailyMoneyCost) {
                const totalMoney = soberDays * s.dailyMoneyCost;
                const yearlyMoney = s.dailyMoneyCost * 365;
                
                document.getElementById('moneySavingsDisplay').style.display = 'block';
                document.getElementById('totalMoneySaved').textContent = totalMoney.toFixed(2) + ' â‚¾';
                
                document.getElementById('yearlyMoneyProjection').style.display = 'block';
                document.getElementById('yearlyMoneySaved').textContent = yearlyMoney.toFixed(2) + ' â‚¾';
            } else {
                document.getElementById('moneySavingsDisplay').style.display = 'none';
                document.getElementById('yearlyMoneyProjection').style.display = 'none';
            }
            
            // Calculate time savings
            if (s.enableTime && s.dailyTimeHours) {
                const totalHours = soberDays * s.dailyTimeHours;
                const yearlyHours = s.dailyTimeHours * 365;
                
                // Show only in HOURS
                const timeText = `${totalHours.toFixed(1)} áƒ¡áƒáƒáƒ—áƒ˜`;
                const yearlyText = `${yearlyHours.toFixed(1)} áƒ¡áƒáƒáƒ—áƒ˜`;
                
                document.getElementById('timeSavingsDisplay').style.display = 'block';
                document.getElementById('totalTimeSaved').textContent = timeText;
                
                document.getElementById('yearlyTimeProjection').style.display = 'block';
                document.getElementById('yearlyTimeSaved').textContent = yearlyText;
            } else {
                document.getElementById('timeSavingsDisplay').style.display = 'none';
                document.getElementById('yearlyTimeProjection').style.display = 'none';
            }
        }

        // ============ GOALS FUNCTIONS ============
        
        let currentGoalId = null;
        
        function showGoals() {
            if (!user || !user.email) {
                showSection('login');
                return;
            }
            showSection('goals');
            OLD_loadGoalsList();
        }
        
        function OLD_loadGoalsList() {
            if (!user || !user.email) return;
            
            const u = app.users[user.email];
            if (!u) return;
            
            if (!u.goals) u.goals = [];
            
            const container = document.getElementById('goalsList');
            
            if (u.goals.length === 0) {
                container.innerHTML = '<p style="color: #999; text-align: center; padding: 40px 0;">áƒ¯áƒ”áƒ  áƒáƒ  áƒ’áƒáƒ¥áƒ•áƒ¡ áƒ“áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ›áƒ˜áƒ–áƒœáƒ”áƒ‘áƒ˜</p>';
                return;
            }
            
            let html = '';
            u.goals.forEach((goal, idx) => {
                const timeframeText = getTimeframeText(goal.timeframe, goal.customTimeframe);
                const escapedText = goal.text.replace(/'/g, '&#39;').replace(/"/g, '&quot;');
                
                html += '<div style="background: #f9fafb; padding: 20px; border-radius: 12px; margin-bottom: 15px; border-left: 4px solid #667eea;">';
                html += '<div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 15px;">';
                html += '<div style="flex: 1;">';
                html += '<h3 style="color: #1f2937; font-size: 18px; margin-bottom: 8px;">ğŸ¯ ' + escapedText + '</h3>';
                html += '<div style="color: #667eea; font-size: 14px; font-weight: 600;">â° ' + timeframeText + '</div>';
                html += '</div>';
                html += '<div style="display: flex; gap: 8px;">';
                html += '<button onclick="window.editGoal(' + idx + '); return false;" style="background: none; border: none; font-size: 20px; cursor: pointer; padding: 4px;">âœï¸</button>';
                html += '<button onclick="window.OLD_deleteGoal(' + idx + '); return false;" style="background: none; border: none; font-size: 20px; cursor: pointer; padding: 4px;">ğŸ—‘ï¸</button>';
                html += '</div>';
                html += '</div>';
                
                if (goal.recoveryConnection) {
                    html += '<div style="background: white; padding: 12px; border-radius: 8px; border-left: 3px solid #10b981;">';
                    html += '<div style="font-size: 13px; color: #10b981; font-weight: 600; margin-bottom: 8px;">ğŸ’š áƒ™áƒáƒ•áƒ¨áƒ˜áƒ áƒ˜ áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒáƒ¡áƒ—áƒáƒœ:</div>';
                    html += '<div style="color: #374151; font-size: 14px; line-height: 1.6;">' + goal.recoveryConnection + '</div>';
                    html += '</div>';
                }
                
                html += '</div>';
            });
            
            container.innerHTML = html;
        }
        
        function getTimeframeText(timeframe, customTimeframe) {
            const timeframes = {
                '1_month': '1 áƒ—áƒ•áƒ”',
                '3_months': '3 áƒ—áƒ•áƒ”',
                '6_months': '6 áƒ—áƒ•áƒ”',
                '1_year': '1 áƒ¬áƒ”áƒšáƒ˜',
                '2_years': '2 áƒ¬áƒ”áƒšáƒ˜',
                '5_years': '5 áƒ¬áƒ”áƒšáƒ˜',
                'custom': customTimeframe || 'áƒ¡áƒ®áƒ•áƒ áƒ•áƒáƒ“áƒ'
            };
            return timeframes[timeframe] || timeframe;
        }
        
        function showAddGoalModal() {
            currentGoalId = null;
            document.getElementById('goalModalTitle').textContent = 'ğŸ¯ áƒáƒ®áƒáƒšáƒ˜ áƒ›áƒ˜áƒ–áƒáƒœáƒ˜';
            document.getElementById('goalText').value = '';
            document.getElementById('goalTimeframe').value = '';
            document.getElementById('customTimeframe').value = '';
            document.getElementById('goalRecoveryConnection').value = '';
            document.getElementById('customTimeframeDiv').style.display = 'none';
            document.getElementById('goalModal').style.display = 'block';
        }
        
        function editGoal(idx) {
            if (!user || !user.email) return;
            
            const u = app.users[user.email];
            if (!u || !u.goals) return;
            
            const goal = u.goals[idx];
            if (!goal) return;
            
            currentGoalId = idx;
            document.getElementById('goalModalTitle').textContent = 'âœï¸ áƒ›áƒ˜áƒ–áƒœáƒ˜áƒ¡ áƒ áƒ”áƒ“áƒáƒ¥áƒ¢áƒ˜áƒ áƒ”áƒ‘áƒ';
            document.getElementById('goalText').value = goal.text;
            document.getElementById('goalTimeframe').value = goal.timeframe;
            document.getElementById('goalRecoveryConnection').value = goal.recoveryConnection || '';
            
            if (goal.timeframe === 'custom') {
                document.getElementById('customTimeframe').value = goal.customTimeframe || '';
                document.getElementById('customTimeframeDiv').style.display = 'block';
            } else {
                document.getElementById('customTimeframeDiv').style.display = 'none';
            }
            
            document.getElementById('goalModal').style.display = 'block';
        }
        window.editGoal = editGoal;
        
        function OLD_deleteGoal(idx) {
            if (!confirm('áƒ“áƒáƒ áƒ¬áƒ›áƒ£áƒœáƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ®áƒáƒ  áƒ áƒáƒ› áƒ’áƒ¡áƒ£áƒ áƒ¡ áƒáƒ› áƒ›áƒ˜áƒ–áƒœáƒ˜áƒ¡ áƒ¬áƒáƒ¨áƒšáƒ?')) return;
            
            if (!user || !user.email) return;
            
            const u = app.users[user.email];
            if (!u || !u.goals) return;
            
            u.goals.splice(idx, 1);
            save();
            OLD_loadGoalsList();
        }
        window.OLD_deleteGoal = OLD_deleteGoal;
        
        function saveGoal() {
            if (!user || !user.email) {
                alert('áƒ’áƒ—áƒ®áƒáƒ• áƒ¨áƒ”áƒ“áƒ˜áƒ®áƒáƒ  áƒ¡áƒ˜áƒ¡áƒ¢áƒ”áƒ›áƒáƒ¨áƒ˜');
                return;
            }
            
            const text = document.getElementById('goalText').value.trim();
            const timeframe = document.getElementById('goalTimeframe').value;
            const customTimeframe = document.getElementById('customTimeframe').value.trim();
            const recoveryConnection = document.getElementById('goalRecoveryConnection').value.trim();
            
            if (!text) {
                alert('áƒ’áƒ—áƒ®áƒáƒ• áƒ¨áƒ”áƒ˜áƒ§áƒ•áƒáƒœáƒ áƒ›áƒ˜áƒ–áƒáƒœáƒ˜');
                return;
            }
            
            if (!timeframe) {
                alert('áƒ’áƒ—áƒ®áƒáƒ• áƒáƒ˜áƒ áƒ©áƒ˜áƒ áƒ•áƒáƒ“áƒ');
                return;
            }
            
            if (timeframe === 'custom' && !customTimeframe) {
                alert('áƒ’áƒ—áƒ®áƒáƒ• áƒ›áƒ˜áƒ£áƒ—áƒ˜áƒ—áƒ áƒ—áƒ¥áƒ•áƒ”áƒœáƒ˜ áƒ•áƒáƒ“áƒ');
                return;
            }
            
            const u = app.users[user.email];
            if (!u) return;
            
            if (!u.goals) u.goals = [];
            
            const goalData = {
                text: text,
                timeframe: timeframe,
                customTimeframe: customTimeframe,
                recoveryConnection: recoveryConnection,
                createdAt: new Date().toISOString()
            };
            
            if (currentGoalId !== null) {
                // Edit existing
                u.goals[currentGoalId] = goalData;
            } else {
                // Add new
                u.goals.push(goalData);
            }
            
            save();
            closeGoalModal();
            loadGoalsList();
        }
        
        function closeGoalModal() {
            document.getElementById('goalModal').style.display = 'none';
            currentGoalId = null;
        }
        
        // Show/hide custom timeframe input
        document.addEventListener('DOMContentLoaded', function() {
            const timeframeSelect = document.getElementById('goalTimeframe');
            if (timeframeSelect) {
                timeframeSelect.addEventListener('change', function() {
                    const customDiv = document.getElementById('customTimeframeDiv');
                    if (this.value === 'custom') {
                        customDiv.style.display = 'block';
                    } else {
                        customDiv.style.display = 'none';
                    }
                });
            }
        });

        // ===== COPING MECHANISMS =====
        
        const DEFAULT_COPING_THOUGHTS = [
            {
                id: "need_to_use",
                thought: "áƒ›áƒ” áƒ£áƒœáƒ“áƒ áƒ›áƒáƒ•áƒ˜áƒ®áƒ›áƒáƒ áƒ, áƒ¡áƒ®áƒ•áƒ áƒ’áƒ–áƒ áƒáƒ  áƒ›áƒáƒ¥áƒ•áƒ¡",
                whyRight: "áƒ«áƒšáƒ˜áƒ”áƒ áƒ˜ áƒ¤áƒ˜áƒ–áƒ˜áƒ™áƒ£áƒ áƒ˜ áƒáƒœ áƒ¤áƒ¡áƒ˜áƒ¥áƒáƒšáƒáƒ’áƒ˜áƒ£áƒ áƒ˜ áƒ›áƒáƒ—áƒ®áƒáƒ•áƒœáƒ˜áƒšáƒ”áƒ‘áƒ áƒ›áƒáƒ’áƒ áƒ«áƒœáƒáƒ‘áƒ˜áƒœáƒ”áƒ‘áƒ¡, áƒ áƒáƒ› áƒ”áƒ¡ áƒáƒ£áƒªáƒ˜áƒšáƒ”áƒ‘áƒ”áƒšáƒ˜áƒ. áƒ’áƒ áƒ«áƒœáƒáƒ‘áƒ áƒ˜áƒ¡áƒ”áƒ—áƒ˜ áƒ«áƒšáƒ˜áƒ”áƒ áƒ˜áƒ, áƒ áƒáƒ› áƒ—áƒ˜áƒ—áƒ¥áƒáƒ¡ áƒ¡áƒ®áƒ•áƒ áƒ’áƒáƒ›áƒáƒ¡áƒáƒ•áƒáƒšáƒ˜ áƒáƒ  áƒáƒ áƒ¡áƒ”áƒ‘áƒáƒ‘áƒ¡.",
                whyWrong: "áƒ”áƒ¡ áƒáƒ áƒ˜áƒ¡ áƒ“áƒáƒ›áƒáƒ™áƒ˜áƒ“áƒ”áƒ‘áƒ£áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ˜áƒšáƒ£áƒ–áƒ˜áƒ. áƒ áƒ”áƒáƒšáƒ£áƒ áƒáƒ“ áƒáƒ áƒ¡áƒ”áƒ‘áƒáƒ‘áƒ¡ áƒ£áƒáƒ›áƒ áƒáƒ•áƒ˜ áƒáƒšáƒ¢áƒ”áƒ áƒœáƒáƒ¢áƒ˜áƒ•áƒ - áƒ¡áƒ£áƒœáƒ—áƒ¥áƒ•áƒ˜áƒ¡ áƒ•áƒáƒ áƒ¯áƒ˜áƒ¨áƒ˜, áƒ¡áƒ”áƒ˜áƒ áƒœáƒáƒ‘áƒ, áƒ–áƒáƒ áƒ˜ áƒ›áƒ”áƒ’áƒáƒ‘áƒáƒ áƒ¡. áƒ›áƒáƒ—áƒ®áƒáƒ•áƒœáƒ˜áƒšáƒ”áƒ‘áƒ 15-20 áƒ¬áƒ£áƒ—áƒ¨áƒ˜ áƒ—áƒáƒ•áƒ˜áƒ¡áƒ˜áƒ— áƒ’áƒáƒ˜áƒ•áƒšáƒ˜áƒ¡.",
                whatToSay: "áƒ”áƒ¡ áƒáƒ áƒ˜áƒ¡ áƒ“áƒ áƒáƒ”áƒ‘áƒ˜áƒ—áƒ˜ áƒ¨áƒ”áƒ’áƒ áƒ«áƒœáƒ”áƒ‘áƒ, áƒáƒ áƒ áƒ áƒ”áƒáƒšáƒ£áƒ áƒ˜ áƒ¡áƒáƒ­áƒ˜áƒ áƒáƒ”áƒ‘áƒ. áƒ›áƒ” áƒ¨áƒ”áƒ›áƒ˜áƒ«áƒšáƒ˜áƒ áƒ“áƒáƒ•áƒ˜áƒªáƒáƒ“áƒ 15 áƒ¬áƒ£áƒ—áƒ˜. áƒ›áƒáƒ—áƒ®áƒáƒ•áƒœáƒ˜áƒšáƒ”áƒ‘áƒ áƒ§áƒáƒ•áƒ”áƒšáƒ—áƒ•áƒ˜áƒ¡ áƒ’áƒáƒ“áƒ˜áƒ¡."
            },
            {
                id: "nobody_will_know",
                thought: "áƒáƒ áƒáƒ•áƒ˜áƒœ áƒáƒ  áƒ£áƒœáƒ“áƒ áƒ’áƒáƒ˜áƒ’áƒáƒ¡",
                whyRight: "áƒ—áƒ£ áƒ¡áƒáƒ˜áƒ“áƒ£áƒ›áƒšáƒáƒ“ áƒ›áƒáƒ•áƒ˜áƒ®áƒ›áƒáƒ , áƒáƒ áƒáƒ•áƒ˜áƒœ áƒ“áƒáƒ–áƒ˜áƒáƒœáƒ“áƒ”áƒ‘áƒ áƒ“áƒ áƒáƒ áƒáƒ•áƒ˜áƒœ áƒ˜áƒ›áƒ¡áƒ¯áƒ”áƒšáƒ”áƒ‘áƒ¡ áƒ©áƒ”áƒ›áƒ–áƒ”. áƒ¨áƒ”áƒ›áƒ˜áƒ«áƒšáƒ˜áƒ áƒ™áƒáƒœáƒ¢áƒ áƒáƒšáƒ˜.",
                whyWrong: "áƒ¡áƒáƒ˜áƒ“áƒ£áƒ›áƒšáƒáƒ”áƒ‘áƒ áƒ—áƒáƒ•áƒáƒ“ áƒáƒ áƒ˜áƒ¡ áƒ“áƒáƒ›áƒáƒ™áƒ˜áƒ“áƒ”áƒ‘áƒ£áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒœáƒ˜áƒ¨áƒáƒœáƒ˜. áƒáƒáƒ¢áƒ˜áƒáƒ¡áƒœáƒ”áƒ‘áƒ áƒáƒ áƒ˜áƒ¡ áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ¡áƒáƒ¤áƒ£áƒ«áƒ•áƒ”áƒšáƒ˜. áƒ¡áƒáƒ˜áƒ“áƒ£áƒ›áƒšáƒáƒ“ áƒ›áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ áƒœáƒ˜áƒ¨áƒœáƒáƒ•áƒ¡, áƒ áƒáƒ› áƒ•áƒ˜áƒªáƒ˜ áƒ áƒáƒ› áƒáƒ áƒáƒ¡áƒ¬áƒáƒ áƒ˜áƒ. áƒ˜áƒ¡ áƒáƒ«áƒšáƒ˜áƒ”áƒ áƒ”áƒ‘áƒ¡ áƒ“áƒáƒœáƒáƒ¨áƒáƒ£áƒšáƒ˜áƒ¡ áƒ¨áƒ”áƒ’áƒ áƒ«áƒœáƒ”áƒ‘áƒáƒ¡, áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ  áƒ—áƒáƒ•áƒ¡ áƒ®áƒáƒ› áƒ•áƒ”áƒ áƒáƒ¤áƒ”áƒ áƒ¡ áƒ“áƒáƒ£áƒ›áƒáƒšáƒáƒ•.",
                whatToSay: "áƒáƒáƒ¢áƒ˜áƒáƒ¡áƒœáƒ”áƒ‘áƒ áƒ›áƒáƒ—áƒ—áƒáƒœ áƒ›áƒ˜áƒ›áƒáƒ áƒ—áƒ”áƒ‘áƒáƒ¨áƒ˜ áƒ•áƒ˜áƒ¡áƒáƒª áƒ•áƒ”áƒœáƒ“áƒáƒ‘áƒ˜ áƒáƒ áƒ˜áƒ¡ áƒ«áƒáƒšáƒ áƒ“áƒ áƒáƒ áƒ áƒ¡áƒ˜áƒ¡áƒ£áƒ¡áƒ¢áƒ”. áƒ›áƒ” áƒ¨áƒ”áƒ›áƒ˜áƒ«áƒšáƒ˜áƒ áƒáƒ  áƒ›áƒáƒ•áƒ˜áƒ®áƒ›áƒáƒ áƒ áƒ“áƒ áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ  áƒ—áƒáƒ•áƒ—áƒáƒœáƒáƒª áƒ“áƒ áƒ¡áƒ®áƒ•áƒ”áƒ‘áƒ—áƒáƒœáƒáƒª áƒ•áƒ˜áƒ§áƒ áƒ›áƒáƒ áƒ—áƒáƒšáƒ˜."
            },
            {
                id: "not_a_problem",
                thought: "áƒ¡áƒ˜áƒœáƒáƒ›áƒ“áƒ•áƒ˜áƒšáƒ”áƒ¨áƒ˜ áƒáƒ áƒáƒ áƒáƒ áƒáƒ‘áƒšáƒ”áƒ›áƒ, áƒ áƒáƒ› áƒ›áƒáƒ•áƒ˜áƒ®áƒ›áƒáƒ áƒ",
                whyRight: "áƒ•áƒáƒ™áƒ•áƒ˜áƒ áƒ“áƒ”áƒ‘áƒ˜ áƒ¡áƒ®áƒ•áƒ”áƒ‘áƒ¡ áƒ“áƒ áƒ›áƒ’áƒáƒœáƒ˜áƒ áƒ áƒáƒ› áƒ©áƒ”áƒ›áƒ˜ áƒ¡áƒ˜áƒ¢áƒ£áƒáƒªáƒ˜áƒ áƒáƒ  áƒáƒ áƒ˜áƒ¡ áƒ˜áƒ¡áƒ”áƒ—áƒ˜ áƒ¡áƒáƒ¨áƒ˜áƒ¨áƒ˜. áƒ‘áƒ”áƒ•áƒ áƒ˜ áƒ®áƒáƒšáƒ®áƒ˜ áƒ›áƒáƒ˜áƒ®áƒ›áƒáƒ áƒ¡ áƒœáƒ˜áƒ•áƒ—áƒ˜áƒ”áƒ áƒ”áƒ‘áƒáƒ¡ áƒ“áƒ áƒœáƒáƒ áƒ›áƒáƒšáƒ£áƒ áƒáƒ“ áƒªáƒ®áƒáƒ•áƒ áƒáƒ‘áƒ¡.",
                whyWrong: "áƒ–áƒ”áƒ“áƒáƒáƒ˜áƒ áƒ£áƒšáƒáƒ“ áƒ¨áƒ”áƒ˜áƒ«áƒšáƒ”áƒ‘áƒ áƒáƒ¡áƒ” áƒ©áƒáƒœáƒ¡, áƒ—áƒ£áƒ›áƒªáƒ áƒ—áƒ˜áƒ—áƒáƒ”áƒ£áƒšáƒ˜ áƒáƒ“áƒáƒ›áƒ˜áƒáƒœáƒ˜ áƒ—áƒáƒ•áƒáƒ“ áƒ˜áƒ¦áƒ”áƒ‘áƒ¡ áƒ’áƒáƒ“áƒáƒ¬áƒ§áƒ•áƒ”áƒ¢áƒ˜áƒšáƒ”áƒ‘áƒáƒ¡ áƒ›áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡ áƒ áƒ áƒáƒ áƒ˜áƒ¡ áƒ’áƒáƒ›áƒáƒ áƒ—áƒšáƒ”áƒ‘áƒ£áƒšáƒ˜, áƒáƒ›áƒáƒ¡áƒ—áƒáƒœ áƒ¡áƒ®áƒ•áƒ áƒáƒ“áƒáƒ›áƒ˜áƒáƒœáƒ˜áƒ¡ áƒ’áƒ£áƒšáƒ¨áƒ˜ áƒ áƒ áƒ®áƒ“áƒ”áƒ‘áƒ áƒ“áƒ áƒ áƒ”áƒáƒšáƒ£áƒ áƒáƒ“ áƒ áƒáƒ¨áƒ˜ áƒ£áƒ¨áƒšáƒ˜áƒ¡ áƒ®áƒ”áƒšáƒ¡ áƒ›áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ áƒ’áƒáƒ áƒ”áƒ“áƒáƒœ áƒ¨áƒ”áƒ˜áƒ«áƒšáƒ”áƒ‘áƒ áƒ•áƒ”áƒ  áƒ“áƒáƒ˜áƒœáƒáƒ®áƒ. áƒ›áƒ” áƒ•áƒ˜áƒªáƒ˜, áƒ áƒáƒ› áƒ©áƒ”áƒ›áƒ˜ áƒªáƒ®áƒáƒ•áƒ áƒ”áƒ‘áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡ áƒ›áƒáƒ®áƒáƒ áƒ”áƒ‘áƒ áƒ“áƒáƒ›áƒáƒ–áƒ˜áƒáƒœáƒ”áƒ‘áƒ”áƒšáƒ˜áƒ áƒ“áƒ áƒ”áƒ¡ áƒ¡áƒáƒ•áƒ¡áƒ”áƒ‘áƒ˜áƒ— áƒ¡áƒáƒ™áƒ›áƒáƒ áƒ˜áƒ¡áƒ˜áƒ.",
                whatToSay: "áƒ›áƒ” áƒ¨áƒ”áƒ›áƒ˜áƒ«áƒšáƒ˜áƒ áƒ“áƒáƒ•áƒ áƒ©áƒ” áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒ–áƒáƒ–áƒ”, áƒ áƒáƒ“áƒ’áƒáƒœ áƒ•áƒ˜áƒªáƒ˜, áƒ áƒáƒ› áƒáƒ›áƒ˜áƒ— áƒ©áƒ”áƒ›áƒ¡ áƒªáƒ®áƒáƒ•áƒ áƒ”áƒ‘áƒáƒ¡ áƒ£áƒ™áƒ”áƒ—áƒ”áƒ¡áƒáƒ‘áƒ˜áƒ¡áƒ™áƒ”áƒœ áƒ•áƒªáƒ•áƒšáƒ˜. áƒ—áƒ˜áƒ—áƒáƒ”áƒ£áƒš áƒáƒ“áƒáƒ›áƒ˜áƒáƒœáƒ¡ áƒáƒ¥áƒ•áƒ¡ áƒ—áƒáƒ•áƒ˜áƒ¡áƒ˜ áƒªáƒ®áƒáƒ•áƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜ áƒ¡áƒ¢áƒáƒœáƒ“áƒáƒ áƒ¢áƒ˜."
            },
            {
                id: "can_control",
                thought: "áƒ›áƒ” áƒ¨áƒ”áƒ›áƒ˜áƒ«áƒšáƒ˜áƒ áƒáƒ›áƒ˜áƒ¡ áƒ™áƒáƒœáƒ¢áƒ áƒáƒšáƒ˜",
                whyRight: "áƒ¬áƒáƒ áƒ¡áƒ£áƒšáƒ¨áƒ˜ áƒ áƒáƒ›áƒ“áƒ”áƒœáƒ¯áƒ”áƒ áƒ›áƒ” áƒ¨áƒ”áƒ•áƒ«áƒ”áƒšáƒ˜ áƒ™áƒáƒœáƒ¢áƒ áƒáƒšáƒ˜, áƒáƒ›áƒ˜áƒ¢áƒáƒ› áƒáƒ®áƒšáƒáƒª áƒ¨áƒ”áƒ›áƒ˜áƒ«áƒšáƒ˜áƒ. áƒ“áƒáƒ•áƒ’áƒ”áƒ’áƒ›áƒáƒ• áƒ áƒ áƒ áƒáƒáƒ“áƒ”áƒœáƒáƒ‘áƒáƒ¡ áƒ›áƒáƒ•áƒ˜áƒ®áƒ›áƒáƒ  áƒ“áƒ áƒ¨áƒ”áƒ•áƒ©áƒ”áƒ áƒ“áƒ”áƒ‘áƒ˜.",
                whyWrong: "áƒ“áƒáƒ›áƒáƒ™áƒ˜áƒ“áƒ”áƒ‘áƒ£áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒáƒ áƒ¡áƒ˜ áƒ¡áƒ¬áƒáƒ áƒ”áƒ“ áƒ™áƒáƒœáƒ¢áƒ áƒáƒšáƒ˜áƒ¡ áƒ“áƒáƒ™áƒáƒ áƒ’áƒ•áƒáƒ. áƒ§áƒáƒ•áƒ”áƒšáƒ˜ 'áƒ›áƒ®áƒáƒšáƒáƒ“ áƒ”áƒ áƒ—áƒ®áƒ”áƒš' áƒ˜áƒ¬áƒ§áƒ”áƒ‘áƒ áƒáƒ› áƒ“áƒáƒáƒ˜áƒ áƒ”áƒ‘áƒ˜áƒ— áƒ“áƒ áƒ›áƒ—áƒáƒ•áƒ áƒ“áƒ”áƒ‘áƒ áƒ áƒ”áƒšáƒáƒ¤áƒ¡áƒ˜áƒ—. áƒ˜áƒ¡áƒ¢áƒáƒ áƒ˜áƒ áƒ›áƒ”áƒáƒ áƒ“áƒ”áƒ‘áƒ.",
                whatToSay: "áƒ™áƒáƒœáƒ¢áƒ áƒáƒšáƒ˜áƒ¡ áƒ˜áƒšáƒ£áƒ–áƒ˜áƒ áƒ—áƒáƒ•áƒáƒ“ áƒáƒ áƒ˜áƒ¡ áƒ“áƒáƒ›áƒáƒ™áƒ˜áƒ“áƒ”áƒ‘áƒ£áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ¡áƒ˜áƒ›áƒáƒ¢áƒáƒ›áƒ˜. áƒ©áƒ”áƒ›áƒ˜ áƒ’áƒáƒ›áƒáƒªáƒ“áƒ˜áƒšáƒ”áƒ‘áƒ áƒ›áƒ˜áƒ©áƒ•áƒ”áƒœáƒ”áƒ‘áƒ¡, áƒ áƒáƒ› áƒ™áƒáƒœáƒ¢áƒ áƒáƒšáƒ˜ áƒ¨áƒ”áƒ£áƒ«áƒšáƒ”áƒ‘áƒ”áƒšáƒ˜áƒ. áƒ”áƒ áƒ—áƒáƒ“áƒ”áƒ áƒ—áƒ˜ áƒ™áƒáƒœáƒ¢áƒ áƒáƒšáƒ˜ áƒáƒ áƒ˜áƒ¡ - áƒáƒ  áƒ“áƒáƒ•áƒ˜áƒ¬áƒ§áƒ."
            },
            {
                id: "just_one",
                thought: "áƒ›áƒ” áƒ•áƒáƒáƒ˜áƒ áƒ”áƒ‘ áƒ“áƒáƒ•áƒšáƒ˜áƒ áƒ›áƒ®áƒáƒšáƒáƒ“ áƒ”áƒ áƒ—áƒ˜ áƒ­áƒ˜áƒ¥áƒ",
                whyRight: "áƒ—áƒ˜áƒ—áƒ¥áƒáƒ¡ áƒ›áƒªáƒ˜áƒ áƒ” áƒ áƒáƒáƒ“áƒ”áƒœáƒáƒ‘áƒ áƒáƒ  áƒ˜áƒ¥áƒœáƒ”áƒ‘áƒ áƒ¡áƒáƒ¨áƒ˜áƒ¨áƒ˜. áƒ”áƒ áƒ—áƒ˜ áƒ­áƒ˜áƒ¥áƒ áƒáƒ  áƒáƒ áƒ˜áƒ¡ áƒ©áƒáƒ•áƒáƒ áƒ“áƒœáƒ. áƒ¨áƒ”áƒ›áƒ˜áƒ«áƒšáƒ˜áƒ áƒ¨áƒ”áƒ©áƒ”áƒ áƒ”áƒ‘áƒ.",
                whyWrong: "'áƒ›áƒ®áƒáƒšáƒáƒ“ áƒ”áƒ áƒ—áƒ˜' áƒáƒ áƒ˜áƒ¡ áƒ§áƒ•áƒ”áƒšáƒáƒ–áƒ” áƒ¡áƒáƒ¨áƒ˜áƒ¨áƒ˜ áƒ—áƒ•áƒ˜áƒ—áƒ›áƒáƒ¢áƒ§áƒ£áƒ”áƒ‘áƒ. áƒ‘áƒ˜áƒáƒ¥áƒ˜áƒ›áƒ˜áƒ£áƒ áƒáƒ“, áƒáƒ˜áƒ áƒ•áƒ”áƒšáƒ˜áƒ•áƒ” áƒ›áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ áƒáƒáƒ¥áƒ¢áƒ˜áƒ£áƒ áƒ”áƒ‘áƒ¡ áƒšáƒ¢áƒáƒšáƒ•áƒáƒ¡. 'áƒ”áƒ áƒ—áƒ˜' áƒ§áƒáƒ•áƒ”áƒšáƒ—áƒ•áƒ˜áƒ¡ áƒ˜áƒ¥áƒªáƒ”áƒ•áƒ 'áƒ™áƒ˜áƒ“áƒ”áƒ• áƒ”áƒ áƒ—áƒáƒ“', áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’ áƒ¡áƒ áƒ£áƒš áƒ©áƒáƒ•áƒáƒ áƒ“áƒœáƒáƒ“.",
                whatToSay: "'áƒ›áƒ®áƒáƒšáƒáƒ“ áƒ”áƒ áƒ—áƒ˜' áƒáƒ  áƒáƒ áƒ¡áƒ”áƒ‘áƒáƒ‘áƒ¡ áƒ©áƒ”áƒ›áƒ—áƒ•áƒ˜áƒ¡. áƒáƒ˜áƒ áƒ•áƒ”áƒšáƒ˜ áƒ­áƒ˜áƒ¥áƒ áƒáƒ áƒ˜áƒ¡ áƒ™áƒáƒ áƒ˜ áƒ áƒáƒ›áƒ”áƒšáƒ˜áƒª áƒ©áƒáƒ•áƒáƒ áƒ“áƒœáƒ˜áƒ¡áƒ™áƒ”áƒœ áƒ›áƒ˜áƒ›áƒ˜áƒ§áƒ•áƒáƒœáƒ¡, áƒ áƒáƒ“áƒ’áƒáƒœ áƒáƒ›áƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’ áƒ™áƒ˜áƒ“áƒ”áƒ• áƒ£áƒ¤áƒ áƒ áƒ áƒ—áƒ£áƒšáƒ˜ áƒ˜áƒ¥áƒœáƒ”áƒ‘áƒ áƒ—áƒáƒ•áƒ¨áƒ”áƒ™áƒáƒ•áƒ”áƒ‘áƒ. áƒ¡áƒ áƒ£áƒšáƒ˜ áƒáƒ™áƒ áƒ«áƒáƒšáƒ•áƒ áƒ£áƒ¡áƒáƒ¤áƒ áƒ—áƒ®áƒáƒ."
            },
            {
                id: "just_one_dose",
                thought: "áƒ›áƒ” áƒ•áƒáƒáƒ˜áƒ áƒ”áƒ‘ áƒ›áƒáƒ•áƒ˜áƒ®áƒ›áƒáƒ áƒ áƒ›áƒ®áƒáƒšáƒáƒ“ áƒ”áƒ áƒ—áƒ˜ áƒ“áƒáƒ–áƒ",
                whyRight: "áƒ—áƒ˜áƒ—áƒ¥áƒáƒ¡ áƒ›áƒªáƒ˜áƒ áƒ” áƒ áƒáƒáƒ“áƒ”áƒœáƒáƒ‘áƒ áƒáƒ  áƒ˜áƒ¥áƒœáƒ”áƒ‘áƒ áƒ¡áƒáƒ¨áƒ˜áƒ¨áƒ˜. áƒ”áƒ áƒ—áƒ˜ áƒ“áƒáƒ–áƒ áƒáƒ  áƒáƒ áƒ˜áƒ¡ áƒ©áƒáƒ•áƒáƒ áƒ“áƒœáƒ. áƒ¨áƒ”áƒ›áƒ˜áƒ«áƒšáƒ˜áƒ áƒ¨áƒ”áƒ©áƒ”áƒ áƒ”áƒ‘áƒ.",
                whyWrong: "'áƒ›áƒ®áƒáƒšáƒáƒ“ áƒ”áƒ áƒ—áƒ˜' áƒáƒ áƒ˜áƒ¡ áƒ§áƒ•áƒ”áƒšáƒáƒ–áƒ” áƒ¡áƒáƒ¨áƒ˜áƒ¨áƒ˜ áƒ—áƒ•áƒ˜áƒ—áƒ›áƒáƒ¢áƒ§áƒ£áƒ”áƒ‘áƒ. áƒ‘áƒ˜áƒáƒ¥áƒ˜áƒ›áƒ˜áƒ£áƒ áƒáƒ“, áƒáƒ˜áƒ áƒ•áƒ”áƒšáƒ˜áƒ•áƒ” áƒ›áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ áƒáƒáƒ¥áƒ¢áƒ˜áƒ£áƒ áƒ”áƒ‘áƒ¡ áƒšáƒ¢áƒáƒšáƒ•áƒáƒ¡. 'áƒ”áƒ áƒ—áƒ˜' áƒ§áƒáƒ•áƒ”áƒšáƒ—áƒ•áƒ˜áƒ¡ áƒ˜áƒ¥áƒªáƒ”áƒ•áƒ 'áƒ™áƒ˜áƒ“áƒ”áƒ• áƒ”áƒ áƒ—áƒáƒ“', áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’ áƒ¡áƒ áƒ£áƒš áƒ©áƒáƒ•áƒáƒ áƒ“áƒœáƒáƒ“.",
                whatToSay: "'áƒ›áƒ®áƒáƒšáƒáƒ“ áƒ”áƒ áƒ—áƒ˜' áƒáƒ  áƒáƒ áƒ¡áƒ”áƒ‘áƒáƒ‘áƒ¡ áƒ©áƒ”áƒ›áƒ—áƒ•áƒ˜áƒ¡. áƒáƒ˜áƒ áƒ•áƒ”áƒšáƒ˜ áƒ“áƒáƒ–áƒ áƒáƒ áƒ˜áƒ¡ áƒ™áƒáƒ áƒ˜ áƒ áƒáƒ›áƒ”áƒšáƒ˜áƒª áƒ©áƒáƒ•áƒáƒ áƒ“áƒœáƒ˜áƒ¡áƒ™áƒ”áƒœ áƒ›áƒ˜áƒ›áƒ˜áƒ§áƒ•áƒáƒœáƒ¡, áƒ áƒáƒ“áƒ’áƒáƒœ áƒáƒ›áƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’ áƒ™áƒ˜áƒ“áƒ”áƒ• áƒ£áƒ¤áƒ áƒ áƒ áƒ—áƒ£áƒšáƒ˜ áƒ˜áƒ¥áƒœáƒ”áƒ‘áƒ áƒ—áƒáƒ•áƒ¨áƒ”áƒ™áƒáƒ•áƒ”áƒ‘áƒ. áƒ¡áƒ áƒ£áƒšáƒ˜ áƒáƒ™áƒ áƒ«áƒáƒšáƒ•áƒ áƒ£áƒ¡áƒáƒ¤áƒ áƒ—áƒ®áƒáƒ."
            },
            {
                id: "bad_day",
                thought: "áƒ›áƒ” áƒ›áƒ¥áƒáƒœáƒ“áƒ áƒªáƒ£áƒ“áƒ˜ áƒ“áƒ¦áƒ”, áƒ›áƒ” áƒ¨áƒ”áƒ›áƒ˜áƒ«áƒšáƒ˜áƒ áƒ›áƒáƒ•áƒ˜áƒ®áƒ›áƒáƒ áƒ",
                whyRight: "áƒ¡áƒ¢áƒ áƒ”áƒ¡áƒ˜, áƒ“áƒáƒ¦áƒšáƒ˜áƒšáƒáƒ‘áƒ áƒ“áƒ áƒ”áƒ›áƒáƒªáƒ˜áƒ£áƒ áƒ˜ áƒ¢áƒ™áƒ˜áƒ•áƒ˜áƒšáƒ˜ áƒ›áƒáƒ áƒ—áƒšáƒ áƒ áƒ”áƒáƒšáƒ£áƒ áƒ˜áƒ. áƒ›áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ áƒ’áƒáƒ›áƒ˜áƒáƒ“áƒ•áƒ˜áƒšáƒ”áƒ‘áƒ“áƒ. 'áƒ•áƒ˜áƒ›áƒ¡áƒáƒ®áƒ£áƒ áƒ”áƒ‘' áƒ“áƒáƒ¡áƒ•áƒ”áƒœáƒ”áƒ‘áƒáƒ¡.",
                whyWrong: "áƒªáƒ£áƒ“áƒ˜ áƒ“áƒ¦áƒ” áƒ“áƒ áƒáƒ”áƒ‘áƒ˜áƒ—áƒ˜áƒ, áƒ›áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ áƒ™áƒ˜ áƒ’áƒ áƒ«áƒ”áƒšáƒ•áƒáƒ“áƒ˜áƒáƒœ áƒ¨áƒ”áƒ“áƒ”áƒ’áƒ”áƒ‘áƒ¡ áƒ˜áƒ¬áƒ•áƒ”áƒ•áƒ¡. áƒ›áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ áƒáƒ áƒáƒ‘áƒšáƒ”áƒ›áƒ”áƒ‘áƒ¡ áƒáƒ  áƒáƒ’áƒ•áƒáƒ áƒ”áƒ‘áƒ¡, áƒáƒ˜áƒ áƒ˜áƒ¥áƒ˜áƒ— - áƒáƒ›áƒ«áƒ˜áƒ›áƒ”áƒ‘áƒ¡. áƒ®áƒ•áƒáƒš áƒ“áƒ˜áƒšáƒ˜áƒ— áƒ™áƒ˜áƒ“áƒ”áƒ• áƒ£áƒ¤áƒ áƒ áƒªáƒ£áƒ“áƒáƒ“ áƒ•áƒ˜áƒ¥áƒœáƒ”áƒ‘áƒ˜.",
                whatToSay: "áƒªáƒ£áƒ“áƒ˜ áƒ“áƒ¦áƒ” áƒáƒ  áƒáƒ áƒ˜áƒ¡ áƒ›áƒ˜áƒ–áƒ”áƒ–áƒ˜ áƒ áƒáƒ› áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ áƒ“áƒáƒ•áƒ™áƒáƒ áƒ’áƒ. áƒ áƒ”áƒáƒšáƒ£áƒ áƒ˜ áƒ“áƒáƒ¡áƒ•áƒ”áƒœáƒ”áƒ‘áƒ áƒáƒ áƒ˜áƒ¡ - áƒ«áƒ˜áƒšáƒ˜, áƒ¡áƒ”áƒ˜áƒ áƒœáƒáƒ‘áƒ, áƒ¡áƒáƒ£áƒ‘áƒáƒ áƒ˜. áƒ®áƒ•áƒáƒš áƒ›áƒáƒ“áƒšáƒáƒ‘áƒ”áƒšáƒ˜ áƒ•áƒ˜áƒ¥áƒœáƒ”áƒ‘áƒ˜ áƒ áƒáƒ› áƒáƒ  áƒ›áƒáƒ•áƒ˜áƒ®áƒ›áƒáƒ áƒ”."
            },
            {
                id: "deserve_it",
                thought: "áƒ›áƒ” áƒáƒ›áƒáƒ¡ áƒ•áƒ˜áƒ›áƒ¡áƒáƒ®áƒ£áƒ áƒ”áƒ‘",
                whyRight: "áƒ‘áƒ”áƒ•áƒ áƒ˜ áƒ•áƒ˜áƒ›áƒ£áƒ¨áƒáƒ•áƒ”, áƒ‘áƒ”áƒ•áƒ áƒ˜ áƒ“áƒáƒ•áƒ—áƒ›áƒ”. áƒ¡áƒ®áƒ•áƒ”áƒ‘áƒ˜ áƒ—áƒáƒ•áƒ˜áƒ¡áƒ£áƒ¤áƒšáƒáƒ“ áƒ˜áƒ§áƒ”áƒœáƒ”áƒ‘áƒ”áƒœ áƒ“áƒ áƒ˜áƒ¡áƒ˜áƒœáƒ˜ áƒáƒ  áƒáƒ áƒ˜áƒáƒœ áƒ“áƒáƒ›áƒáƒ™áƒ˜áƒ“áƒ”áƒ‘áƒ£áƒšáƒ˜. áƒ áƒáƒ¢áƒáƒ› áƒáƒ  áƒ¨áƒ”áƒ›áƒ˜áƒ«áƒšáƒ˜áƒ áƒ›áƒ”áƒª áƒ›áƒ˜áƒ•áƒ˜áƒ¦áƒ 'áƒ¯áƒ˜áƒšáƒ“áƒ'?",
                whyWrong: "áƒœáƒáƒ›áƒ“áƒ•áƒ˜áƒšáƒ˜ áƒ¯áƒ˜áƒšáƒ“áƒ áƒáƒ áƒ˜áƒ¡ áƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒáƒ‘áƒ, áƒ¡áƒ˜áƒªáƒáƒªáƒ®áƒšáƒ˜áƒ¡ áƒ®áƒáƒ áƒ˜áƒ¡áƒ®áƒ˜ áƒ“áƒ áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜ áƒ—áƒáƒ•áƒ˜áƒ— áƒ¡áƒ˜áƒáƒ›áƒáƒ§áƒ”. áƒ›áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ áƒáƒ  áƒáƒ áƒ˜áƒ¡ áƒ¯áƒ˜áƒšáƒ“áƒ - áƒ˜áƒ¡ áƒáƒ áƒ˜áƒ¡ áƒ®áƒáƒ¤áƒáƒœáƒ’áƒ˜, áƒ áƒáƒ›áƒ”áƒšáƒ˜áƒª áƒ§áƒ•áƒ”áƒšáƒáƒ¤áƒ”áƒ áƒ¡ áƒ›áƒáƒ áƒ—áƒ›áƒ”áƒ•áƒ¡ áƒ áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡áƒáƒª áƒ•áƒ›áƒ£áƒ¨áƒáƒáƒ‘áƒ“áƒ˜.",
                whatToSay: "áƒ›áƒ” áƒ›áƒáƒ áƒ—áƒšáƒ áƒ•áƒ˜áƒ›áƒ¡áƒáƒ®áƒ£áƒ áƒ”áƒ‘ áƒ¯áƒ˜áƒšáƒ“áƒáƒ¡ - áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒáƒ¡, áƒ¡áƒ˜áƒªáƒáƒªáƒ®áƒšáƒ”áƒ¡, áƒáƒáƒ¢áƒ˜áƒ•áƒ˜áƒ¡áƒªáƒ”áƒ›áƒáƒ¡. áƒ›áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ áƒáƒ  áƒáƒ áƒ˜áƒ¡ áƒ¯áƒ˜áƒšáƒ“áƒ, áƒáƒ áƒáƒ›áƒ”áƒ“ áƒ—áƒ•áƒ˜áƒ—áƒ“áƒáƒ¡áƒ¯áƒ."
            },
            {
                id: "special_case",
                thought: "áƒ”áƒ¡ áƒ’áƒáƒœáƒ¡áƒáƒ™áƒ£áƒ—áƒ áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ¨áƒ”áƒ›áƒ—áƒ®áƒ•áƒ”áƒ•áƒáƒ - áƒ®áƒ•áƒáƒš áƒ—áƒáƒ•áƒ˜áƒ“áƒáƒœ áƒ“áƒáƒ•áƒ˜áƒ¬áƒ§áƒ”áƒ‘",
                whyRight: "áƒ”áƒ¡ áƒ¨áƒ”áƒ›áƒ—áƒ®áƒ•áƒ”áƒ•áƒ áƒ’áƒáƒœáƒ¡áƒ®áƒ•áƒáƒ•áƒ”áƒ‘áƒ£áƒšáƒ˜áƒ - áƒ“áƒáƒ‘áƒáƒ“áƒ”áƒ‘áƒ˜áƒ¡ áƒ“áƒ¦áƒ”áƒ, áƒ“áƒ¦áƒ”áƒ¡áƒáƒ¡áƒ¬áƒáƒ£áƒšáƒ˜, áƒ–áƒ”áƒ“áƒ›áƒ”áƒ¢áƒáƒ“ áƒªáƒ£áƒ“áƒáƒ“ áƒ•áƒáƒ , áƒ’áƒáƒœáƒ¡áƒáƒ™áƒ£áƒ—áƒ áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ›áƒáƒ•áƒšáƒ”áƒœáƒáƒ. 'áƒáƒ›áƒ¯áƒ”áƒ áƒáƒ“' áƒ’áƒáƒ›áƒáƒœáƒáƒ™áƒšáƒ˜áƒ¡áƒ¡ áƒ’áƒáƒ•áƒáƒ™áƒ”áƒ—áƒ”áƒ‘ áƒ“áƒ áƒ®áƒ•áƒáƒšáƒ˜áƒ“áƒáƒœ áƒ™áƒ•áƒšáƒáƒ• áƒ¨áƒ”áƒ›áƒáƒ áƒ—áƒ£áƒšáƒ˜ áƒ•áƒ˜áƒ¥áƒœáƒ”áƒ‘áƒ˜.",
                whyWrong: "áƒ§áƒáƒ•áƒ”áƒšáƒ˜ áƒ¨áƒ”áƒ›áƒ—áƒ®áƒ•áƒ”áƒ•áƒ áƒ®áƒ“áƒ”áƒ‘áƒ 'áƒ’áƒáƒœáƒ¡áƒáƒ™áƒ£áƒ—áƒ áƒ”áƒ‘áƒ£áƒšáƒ˜' áƒ áƒáƒªáƒ áƒ’áƒáƒ›áƒáƒ áƒ—áƒšáƒ”áƒ‘áƒ áƒ›áƒ˜áƒœáƒ“áƒ. 'áƒ®áƒ•áƒáƒšáƒ˜áƒ“áƒáƒœ' áƒáƒ áƒáƒ¡áƒáƒ“áƒ”áƒ¡ áƒ›áƒáƒ“áƒ˜áƒ¡. áƒ—áƒ˜áƒ—áƒáƒ”áƒ£áƒšáƒ˜ áƒ©áƒáƒ•áƒáƒ áƒ“áƒœáƒ áƒ˜áƒ¬áƒ§áƒ”áƒ‘áƒ áƒáƒ› áƒšáƒáƒ’áƒ˜áƒ™áƒ˜áƒ—. áƒ—áƒ£áƒ™áƒ˜ áƒ“áƒ¦áƒ”áƒ¡ áƒ›áƒáƒ áƒ—áƒšáƒáƒª áƒ›áƒáƒ•áƒ˜áƒ®áƒ›áƒáƒ , áƒ®áƒ•áƒáƒš 10-áƒ¯áƒ”áƒ  áƒ£áƒ¤áƒ áƒ áƒ áƒ—áƒ£áƒšáƒ˜ áƒ˜áƒ¥áƒœáƒ”áƒ‘áƒ áƒ—áƒáƒ•áƒ¨áƒ”áƒ™áƒáƒ•áƒ”áƒ‘áƒ.",
                whatToSay: "áƒ§áƒáƒ•áƒ”áƒšáƒ˜ áƒ“áƒ¦áƒ” áƒ“áƒ áƒ§áƒáƒ•áƒ”áƒšáƒ˜ áƒ›áƒáƒ•áƒšáƒ”áƒœáƒ áƒ¨áƒ”áƒ˜áƒ«áƒšáƒ”áƒ‘áƒ áƒ˜áƒ§áƒáƒ¡ 'áƒ’áƒáƒœáƒ¡áƒáƒ™áƒ£áƒ—áƒ áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ›áƒ˜áƒ–áƒ”áƒ–áƒ˜'. áƒ áƒ”áƒáƒšáƒ£áƒ áƒ˜ áƒ’áƒáƒœáƒ¡áƒáƒ™áƒ£áƒ—áƒ áƒ”áƒ‘áƒ£áƒšáƒáƒ‘áƒ áƒáƒ áƒ˜áƒ¡ áƒ¡áƒ˜áƒ¤áƒ®áƒ˜áƒ–áƒšáƒ”áƒ¨áƒ˜ áƒ“áƒáƒ áƒ©áƒ”áƒœáƒ."
            }
        ];
        const COPING_MECHANISMS = [
            { id: 1, icon: 'ğŸ›‘', text: 'áƒ¬áƒáƒ áƒ›áƒáƒ˜áƒ“áƒ’áƒ˜áƒœáƒ” áƒ“áƒ˜áƒ“áƒ˜ áƒ¬áƒ˜áƒ—áƒ”áƒšáƒ˜ áƒœáƒ˜áƒ¨áƒáƒœáƒ˜ â€STOP" - áƒ’áƒáƒ˜áƒ©áƒ”áƒ áƒ” áƒ”áƒ¡ áƒ’áƒáƒ›áƒáƒ¡áƒáƒ®áƒ£áƒšáƒ”áƒ‘áƒ áƒ’áƒáƒœáƒ”áƒ‘áƒáƒ¨áƒ˜ áƒ áƒáƒª áƒ¨áƒ”áƒ˜áƒ«áƒšáƒ”áƒ‘áƒ áƒ“áƒ˜áƒ“áƒ®áƒáƒœáƒ¡' },
            { id: 2, icon: 'ğŸšª', text: 'áƒ—áƒ£ áƒ¨áƒ”áƒ«áƒšáƒ”áƒ‘, áƒ’áƒáƒ›áƒáƒ“áƒ˜ áƒ˜áƒ› áƒ¡áƒ˜áƒ¢áƒ£áƒáƒªáƒ˜áƒ˜áƒ“áƒáƒœ, áƒ áƒáƒ›áƒ”áƒšáƒ˜áƒª áƒ’áƒáƒ®áƒ“áƒ áƒ¡áƒ£áƒ áƒ•áƒ˜áƒšáƒ˜áƒ¡ áƒ’áƒáƒ›áƒáƒ›áƒ¬áƒ•áƒ”áƒ•áƒ˜' },
            { id: 3, icon: 'ğŸƒ', text: 'áƒ¬áƒáƒ“áƒ˜ áƒ¡áƒáƒ¡áƒ”áƒ˜áƒ áƒœáƒáƒ“ áƒáƒœ áƒ“áƒáƒ™áƒáƒ•áƒ“áƒ˜ áƒ¤áƒ˜áƒ–áƒ˜áƒ™áƒ£áƒ áƒ˜ áƒáƒ¥áƒ¢áƒ˜áƒ•áƒáƒ‘áƒ˜áƒ—' },
            { id: 4, icon: 'ğŸ¨', text: 'áƒ›áƒáƒ«áƒ”áƒ‘áƒœáƒ” áƒ¡áƒáƒ¥áƒ›áƒ”, áƒ áƒáƒ›áƒšáƒ˜áƒ—áƒáƒª áƒ“áƒáƒ˜áƒ™áƒáƒ•áƒ”áƒ‘ 15-20 áƒ¬áƒ£áƒ—áƒ¡ (áƒ“áƒáƒ¬áƒ”áƒ áƒ”, áƒ¬áƒáƒ˜áƒ™áƒ˜áƒ—áƒ®áƒ”, áƒ“áƒáƒ®áƒáƒ¢áƒ” áƒáƒœ áƒ¡áƒ®áƒ•áƒ áƒ¡áƒáƒ¥áƒ›áƒ˜áƒáƒœáƒáƒ‘áƒ)' },
            { id: 5, icon: 'ğŸ§˜', text: 'áƒ“áƒáƒ™áƒáƒ•áƒ“áƒ˜ áƒ›áƒ”áƒ“áƒ˜áƒ¢áƒáƒªáƒ˜áƒ˜áƒ— áƒáƒœ áƒ áƒ”áƒšáƒáƒ¥áƒ¡áƒáƒªáƒ˜áƒ˜áƒ¡ áƒ¢áƒ”áƒ¥áƒœáƒ˜áƒ™áƒ˜áƒ—' },
            { id: 6, icon: 'ğŸ«', text: 'áƒ’áƒáƒ›áƒáƒ˜áƒ§áƒ”áƒœáƒ” áƒ¡áƒ£áƒœáƒ—áƒ¥áƒ•áƒ˜áƒ¡ áƒ¢áƒ”áƒ¥áƒœáƒ˜áƒ™áƒ' },
            { id: 7, icon: 'ğŸ™', text: 'áƒ˜áƒšáƒáƒªáƒ”' },
            { id: 8, icon: 'ğŸ‘¥', text: 'áƒ”áƒšáƒáƒáƒáƒ áƒáƒ™áƒ” áƒáƒœ áƒ“áƒáƒ£áƒ áƒ”áƒ™áƒ” áƒ•áƒ˜áƒœáƒ›áƒ”áƒ¡ áƒ•áƒ˜áƒœáƒª áƒ›áƒ®áƒáƒ áƒ¡ áƒ’áƒ˜áƒ­áƒ”áƒ áƒ¡' },
            { id: 9, icon: 'ğŸŒ´', text: 'áƒ’áƒáƒ›áƒáƒ˜áƒ§áƒ”áƒœáƒ” áƒ¬áƒáƒ áƒ›áƒáƒ¡áƒáƒ®áƒ•áƒ˜áƒ¡ áƒ¢áƒ”áƒ¥áƒœáƒ˜áƒ™áƒ - áƒ¬áƒáƒ áƒ›áƒáƒ˜áƒ“áƒ’áƒ˜áƒœáƒ” áƒ áƒáƒ› áƒ˜áƒ›áƒ§áƒáƒ¤áƒ”áƒ‘áƒ˜ áƒáƒ“áƒ’áƒ˜áƒšáƒáƒ¡, áƒ¡áƒáƒ“áƒáƒª áƒ«áƒáƒšáƒ˜áƒáƒœ áƒ™áƒáƒ áƒ’áƒáƒ“ áƒ®áƒáƒ  áƒ“áƒ áƒ¡áƒáƒ“áƒáƒª áƒ›áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ áƒ¨áƒ”áƒ£áƒ«áƒšáƒ”áƒ‘áƒ”áƒšáƒ˜áƒ' },
            { id: 10, icon: 'ğŸª™', text: 'áƒ áƒáƒ˜áƒ›áƒ” áƒœáƒ˜áƒ•áƒ—áƒ˜ áƒáƒ¢áƒáƒ áƒ” áƒ—áƒáƒœ áƒ“áƒ áƒ®áƒ”áƒšáƒ”áƒ‘áƒ¨áƒ˜ áƒáƒáƒ›áƒáƒ«áƒ áƒáƒ•áƒ”' },
            { id: 11, icon: 'ğŸ’Œ', text: 'áƒ›áƒáƒ£áƒ¡áƒ›áƒ˜áƒœáƒ” áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ  áƒ¨áƒ”áƒ¢áƒ§áƒáƒ‘áƒ˜áƒœáƒ”áƒ‘áƒáƒ¡' }
        ];
        
        const RISK_FACTORS_DATA = {
            objects: {
                title: 'ğŸ“¦ áƒœáƒ˜áƒ•áƒ—áƒ”áƒ‘áƒ˜',
                items: [
                    'áƒ“áƒáƒ áƒ©áƒ”áƒœáƒ˜áƒšáƒ˜ áƒ áƒ”áƒ¡áƒ£áƒ áƒ¡áƒ”áƒ‘áƒ˜',
                    'áƒ›áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒáƒ¡áƒ—áƒáƒœ áƒ“áƒáƒ™áƒáƒ•áƒ¨áƒ˜áƒ áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒáƒ¢áƒ áƒ˜áƒ‘áƒ£áƒ¢áƒ˜áƒ™áƒ'
                ]
            },
            people: {
                title: 'ğŸ‘¥ áƒáƒ“áƒáƒ›áƒ˜áƒáƒœáƒ”áƒ‘áƒ˜',
                description: 'áƒ©áƒáƒ›áƒáƒ—áƒ•áƒáƒšáƒ” áƒáƒ“áƒáƒ›áƒ˜áƒáƒœáƒ”áƒ‘áƒ˜, áƒ•áƒ˜áƒ¡áƒ—áƒáƒœ áƒ”áƒ áƒ—áƒáƒ“áƒáƒª áƒ›áƒáƒ˜áƒ®áƒ›áƒáƒ áƒ“áƒ˜, áƒáƒœ áƒ•áƒ˜áƒ¡áƒ˜ áƒœáƒáƒ®áƒ•áƒáƒª áƒ¨áƒ”áƒ˜áƒ«áƒšáƒ”áƒ‘áƒ áƒ’áƒáƒ®áƒ“áƒ”áƒ¡ áƒšáƒ¢áƒáƒšáƒ•áƒ˜áƒ¡ áƒ’áƒáƒ›áƒáƒ›áƒ¬áƒ•áƒ”áƒ•áƒ˜',
                items: []
            },
            places: {
                title: 'ğŸ“ áƒáƒ“áƒ’áƒ˜áƒšáƒ”áƒ‘áƒ˜',
                items: [
                    'áƒ‘áƒáƒ áƒ”áƒ‘áƒ˜ áƒ“áƒ áƒ™áƒšáƒ£áƒ‘áƒ”áƒ‘áƒ˜',
                    'áƒ¬áƒ•áƒ”áƒ£áƒšáƒ”áƒ‘áƒ”áƒ‘áƒ˜',
                    'áƒ›áƒ”áƒ’áƒáƒ‘áƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ¡áƒáƒ®áƒšáƒ”áƒ‘áƒ˜',
                    'áƒ™áƒáƒœáƒªáƒ”áƒ áƒ¢áƒ”áƒ‘áƒ˜',
                    'áƒ£áƒœáƒ˜áƒ•áƒ”áƒ áƒ¡áƒ˜áƒ¢áƒ”áƒ¢áƒ˜ áƒáƒœ áƒ¡áƒáƒ›áƒ¡áƒáƒ®áƒ£áƒ áƒ˜',
                    'áƒ áƒáƒ˜áƒáƒœáƒ”áƒ‘áƒ˜ áƒáƒœ áƒ¡áƒáƒ–áƒáƒ’áƒáƒ“áƒáƒ”áƒ‘áƒ áƒ˜áƒ•áƒ˜ áƒáƒ“áƒ’áƒ˜áƒšáƒ”áƒ‘áƒ˜'
                ]
            },
            situations: {
                title: 'âš¡ áƒ¡áƒ˜áƒ¢áƒ£áƒáƒªáƒ˜áƒ”áƒ‘áƒ˜ áƒáƒœ áƒ¥áƒ›áƒ”áƒ“áƒ”áƒ‘áƒ”áƒ‘áƒ˜',
                items: [
                    'áƒ™áƒáƒœáƒ¤áƒšáƒ˜áƒ¥áƒ¢áƒ”áƒ‘áƒ˜',
                    'áƒ¡áƒáƒªáƒ˜áƒáƒšáƒ£áƒ áƒ˜ áƒ–áƒ”áƒ¬áƒáƒšáƒ: 1. áƒ’áƒ—áƒáƒ•áƒáƒ–áƒáƒ‘áƒ”áƒœ',
                    'áƒ¡áƒáƒªáƒ˜áƒáƒšáƒ£áƒ áƒ˜ áƒ–áƒ”áƒ¬áƒáƒšáƒ: 2. áƒ˜áƒªáƒ˜ áƒ áƒáƒ› áƒáƒ¥áƒ•áƒ— áƒ›áƒáƒ áƒáƒ’áƒ˜',
                    'áƒ¡áƒáƒªáƒ˜áƒáƒšáƒ£áƒ áƒ˜ áƒ–áƒ”áƒ¬áƒáƒšáƒ: 3. áƒ¨áƒ”áƒœáƒ˜ áƒ—áƒáƒœáƒ“áƒáƒ¡áƒ¬áƒ áƒ”áƒ‘áƒ˜áƒ— áƒ›áƒáƒ˜áƒ®áƒ›áƒáƒ áƒ”áƒœ',
                    'áƒ“áƒ¦áƒ”áƒ¡áƒáƒ¡áƒ¬áƒáƒ£áƒšáƒ”áƒ‘áƒ˜ áƒáƒœ áƒ¡áƒ®áƒ•áƒ áƒ’áƒáƒœáƒ¡áƒáƒ™áƒ£áƒ—áƒ áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ¨áƒ”áƒ›áƒ—áƒ®áƒ•áƒ”áƒ•áƒ”áƒ‘áƒ˜',
                    'áƒ áƒáƒ“áƒ”áƒ¡áƒáƒª áƒ¡áƒáƒ®áƒšáƒ¨áƒ˜ áƒ›áƒáƒ áƒ¢áƒ áƒ®áƒáƒ ',
                    'áƒ áƒáƒ“áƒ”áƒ¡áƒáƒª áƒ¡áƒáƒ®áƒšáƒ˜áƒ¡ áƒ’áƒáƒ áƒ”áƒ— áƒ¡áƒáƒ“áƒ˜áƒšáƒáƒ‘',
                    'áƒ’áƒáƒ“áƒáƒ®áƒ“áƒ˜áƒ¡ áƒ“áƒ áƒ áƒáƒœ áƒ›áƒáƒœáƒáƒ›áƒ“áƒ” áƒáƒ”áƒ áƒ˜áƒáƒ“áƒ˜',
                    'áƒ áƒáƒ“áƒ”áƒ¡áƒáƒª áƒ“áƒ˜áƒšáƒáƒ¡ áƒ˜áƒ¦áƒ•áƒ˜áƒ«áƒ”áƒ‘',
                    'áƒ¡áƒáƒ›áƒ¡áƒáƒ®áƒ£áƒ áƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’, áƒáƒœ áƒ£áƒœáƒ˜áƒ•áƒ”áƒ áƒ¡áƒ˜áƒ¢áƒ”áƒ¢áƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’'
                ]
            },
            emotions: {
                title: 'ğŸ’­ áƒ¨áƒ˜áƒœáƒáƒ’áƒáƒœáƒ˜ áƒ›áƒ“áƒ’áƒáƒ›áƒáƒ áƒ”áƒáƒ‘áƒ”áƒ‘áƒ˜',
                items: [
                    'áƒ›áƒáƒ áƒ¢áƒáƒáƒ‘áƒ',
                    'áƒ¡áƒ¢áƒ áƒ”áƒ¡áƒ˜áƒ¡ áƒ¨áƒ”áƒ’áƒ áƒ«áƒœáƒ”áƒ‘áƒ',
                    'áƒ’áƒáƒ¦áƒ˜áƒ–áƒ˜áƒáƒœáƒ”áƒ‘áƒáƒ“áƒáƒ‘áƒ',
                    'áƒ–áƒ”áƒ¬áƒáƒšáƒ˜áƒ¡ áƒ¨áƒ”áƒ’áƒ áƒ«áƒœáƒ”áƒ‘áƒ',
                    'áƒ”áƒ­áƒ•áƒ˜áƒáƒœáƒáƒ‘áƒ',
                    'áƒ¨áƒ¤áƒáƒ—áƒ•áƒ',
                    'áƒ›áƒáƒ¬áƒ§áƒ”áƒœáƒ˜áƒšáƒáƒ‘áƒ',
                    'áƒ‘áƒ áƒáƒ–áƒ˜',
                    'áƒ¤áƒ áƒ£áƒ¡áƒ¢áƒ áƒáƒªáƒ˜áƒ',
                    'áƒ“áƒáƒœáƒáƒ¨áƒáƒ£áƒšáƒ˜',
                    'áƒ¡áƒ˜áƒ áƒªáƒ®áƒ•áƒ˜áƒšáƒ˜',
                    'áƒ”áƒœáƒ”áƒ áƒ’áƒ”áƒ¢áƒ˜áƒ™áƒ£áƒšáƒ˜ áƒ‘áƒ˜áƒ«áƒ’áƒ˜áƒ¡ áƒ›áƒáƒ—áƒ®áƒáƒ•áƒœáƒ˜áƒšáƒ”áƒ‘áƒ',
                    'áƒ¤áƒ˜áƒ–áƒ˜áƒ™áƒ£áƒ áƒ˜ áƒ“áƒáƒ›áƒáƒ™áƒ˜áƒ“áƒ”áƒ‘áƒ£áƒšáƒ”áƒ‘áƒ',
                    'áƒ’áƒáƒ“áƒáƒ¢áƒ•áƒ˜áƒ áƒ—áƒ•áƒ',
                    'áƒ‘áƒ”áƒ“áƒœáƒ˜áƒ”áƒ áƒ”áƒ‘áƒ'
                ]
            }
        };
        
        let riskFactorsData = {};
        let riskFactorsViewMode = false; // false = edit mode, true = view mode (show only selected)
        
        let recommendationsData = {
            riskyContacts: '',
            safeContacts: '',
            pleasantActivities: ''
        };
        
        let copingThoughts = [];
        let copingCurrentThoughtIndex = null;
        let copingDeleteConfirmCallback = null;
        let selectedCopingMechanisms = [];
        
        function showCoping() {
            copingLoadData();
            showSection('copingMain');
        }
        
        function showCopingThoughts() {
            copingLoadData();
            copingRenderThoughts();
            showSection('copingThoughts');
        }
        
        function showCopingMechanisms() {
            copingLoadData();
            copingRenderMechanisms();
            showSection('copingMechanisms');
        }
        
        function showRiskFactors() {
            riskFactorsLoadData();
            
            // Check if user has any saved items
            const hasItems = Object.keys(riskFactorsData).some(key => 
                riskFactorsData[key] && riskFactorsData[key].length > 0
            );
            
            // Start in view mode if has items, otherwise edit mode
            riskFactorsViewMode = hasItems;
            
            riskFactorsRender();
            showSection('riskFactors');
        }
        
        function copingLoadData() {
            let u = app.users[user.email];
            if (!u.copingData) {
                u.copingData = {
                    thoughts: DEFAULT_COPING_THOUGHTS.map((item) => ({
                        id: item.id,
                        text: item.thought,
                        whyRight: item.whyRight,
                        whyWrong: item.whyWrong,
                        whatToSay: item.whatToSay,
                        selected: false
                    })),
                    selectedMechanisms: []
                };
                save();
            } else {
                // MIGRATION: Convert old string format to new object format
                if (u.copingData.thoughts && u.copingData.thoughts.length > 0) {
                    const firstThought = u.copingData.thoughts[0];
                    // Check if it's old format (just strings)
                    if (typeof firstThought === 'string') {
                        // Reset to new format with pre-filled defaults
                        u.copingData.thoughts = DEFAULT_COPING_THOUGHTS.map((item) => ({
                            id: item.id,
                            text: item.thought,
                            whyRight: item.whyRight,
                            whyWrong: item.whyWrong,
                            whatToSay: item.whatToSay,
                            selected: false
                        }));
                        save();
                    }
                    // Check if it's object but has empty fields (old migration)
                    else if (firstThought && firstThought.whyRight === '' && firstThought.id) {
                        // Find matching default and restore
                        const defaultMatch = DEFAULT_COPING_THOUGHTS.find(dt => dt.id === firstThought.id);
                        if (defaultMatch) {
                            u.copingData.thoughts = DEFAULT_COPING_THOUGHTS.map((item) => ({
                                id: item.id,
                                text: item.thought,
                                whyRight: item.whyRight,
                                whyWrong: item.whyWrong,
                                whatToSay: item.whatToSay,
                                selected: false
                            }));
                            save();
                        }
                    }
                    // Add selected field if missing
                    else if (firstThought && firstThought.selected === undefined) {
                        u.copingData.thoughts.forEach(t => {
                            if (t.selected === undefined) t.selected = false;
                        });
                        save();
                    }
                }
            }
            copingThoughts = u.copingData.thoughts;
            selectedCopingMechanisms = u.copingData.selectedMechanisms || [];
        }
        
        function copingSaveData() {
            let u = app.users[user.email];
            if (!u.copingData) u.copingData = {};
            u.copingData.thoughts = copingThoughts;
            u.copingData.selectedMechanisms = selectedCopingMechanisms;
            save();
        }
        
        // ===== RISK FACTORS FUNCTIONS =====
        
        function riskFactorsLoadData() {
            let u = app.users[user.email];
            if (!u.riskFactors) {
                u.riskFactors = {
                    objects: [],
                    people: [],
                    places: [],
                    situations: [],
                    emotions: []
                };
                save();
            }
            riskFactorsData = u.riskFactors;
        }
        
        function riskFactorsSave() {
            let u = app.users[user.email];
            u.riskFactors = riskFactorsData;
            save();
        }
        
        function toggleRiskRecommendation() {
            const content = document.getElementById('riskRecommendationContent');
            const arrow = document.getElementById('riskRecommendationArrow');
            
            if (content.style.display === 'none') {
                content.style.display = 'block';
                arrow.textContent = 'â–²';
            } else {
                content.style.display = 'none';
                arrow.textContent = 'â–¼';
            }
        }
        
        function riskFactorsRender() {
            const container = document.getElementById('riskFactorsList');
            if (!container) return;
            
            let html = '';
            
            // Add Edit button at top if in view mode
            if (riskFactorsViewMode) {
                html += `
                    <div style="margin-bottom: 20px; text-align: right;">
                        <button onclick="riskFactorsEditMode()" 
                                style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; padding: 12px 24px; border-radius: 8px; cursor: pointer; font-weight: 600; font-size: 16px; box-shadow: 0 2px 8px rgba(102,126,234,0.3);">
                            âœï¸ áƒ áƒ”áƒ“áƒáƒ¥áƒ¢áƒ˜áƒ áƒ”áƒ‘áƒ
                        </button>
                    </div>
                `;
            }
            
            // Add intro text (appears below edit button)
            html += `
                <p style="color: white; line-height: 1.8; font-size: 17px; margin-bottom: 25px; font-weight: 500;">
                    áƒáƒ›áƒáƒ˜áƒªáƒáƒœáƒ˜ áƒ¢áƒ áƒ˜áƒ’áƒ”áƒ áƒ”áƒ‘áƒ˜, áƒ áƒáƒ›áƒšáƒ”áƒ‘áƒ˜áƒª áƒ˜áƒ¬áƒ•áƒ”áƒ•áƒ¡ áƒšáƒ¢áƒáƒšáƒ•áƒáƒ¡:
                </p>
            `;
            
            // Objects
            html += riskFactorsRenderCategory('objects', RISK_FACTORS_DATA.objects);
            
            // People
            html += riskFactorsRenderCategory('people', RISK_FACTORS_DATA.people);
            
            // Places
            html += riskFactorsRenderCategory('places', RISK_FACTORS_DATA.places);
            
            // Situations
            html += riskFactorsRenderCategory('situations', RISK_FACTORS_DATA.situations);
            
            // Emotions
            html += riskFactorsRenderCategory('emotions', RISK_FACTORS_DATA.emotions);
            
            // Add Save button at bottom if in edit mode
            if (!riskFactorsViewMode) {
                html += `
                    <div style="margin-top: 25px; text-align: center;">
                        <button onclick="riskFactorsSaveAndSwitch()" 
                                style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; padding: 15px; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 16px; box-shadow: 0 4px 12px rgba(102,126,234,0.4);">
                            ğŸ’¾ áƒ¨áƒ”áƒœáƒáƒ®áƒ•áƒ
                        </button>
                    </div>
                `;
            }
            
            container.innerHTML = html;
        }
        
        function riskFactorsRenderCategory(categoryKey, categoryData) {
            const userItems = riskFactorsData[categoryKey] || [];
            const defaultItems = categoryData.items || [];
            
            // In view mode, skip empty categories
            if (riskFactorsViewMode && userItems.length === 0) {
                return '';
            }
            
            let html = `
                <div style="background: white; padding: 20px; border-radius: 12px; margin-bottom: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                    <h3 style="color: #667eea; margin-bottom: 15px;">${categoryData.title}</h3>
            `;
            
            if (categoryData.description && !riskFactorsViewMode) {
                html += `<p style="color: #666; margin-bottom: 15px; font-size: 14px;">${categoryData.description}</p>`;
            }
            
            // Show user's selected items
            if (userItems.length > 0) {
                html += '<div style="margin-bottom: 15px;">';
                userItems.forEach((item, index) => {
                    html += `
                        <div style="display: flex; align-items: center; padding: 10px; background: #f0f4ff; border-radius: 8px; margin-bottom: 8px;">
                            <span style="flex: 1; color: #333;">${item}</span>
                            ${!riskFactorsViewMode ? `
                                <button onclick="riskFactorsRemoveItem('${categoryKey}', ${index})" 
                                        style="background: #ef4444; color: white; border: none; padding: 5px 12px; border-radius: 6px; cursor: pointer; font-size: 14px;">
                                    âœ•
                                </button>
                            ` : ''}
                        </div>
                    `;
                });
                html += '</div>';
            }
            
            // In edit mode, show checkboxes and add custom input
            if (!riskFactorsViewMode) {
                // Checkboxes for default items
                if (defaultItems.length > 0) {
                    html += '<div style="margin-bottom: 15px;">';
                    defaultItems.forEach(item => {
                        const isChecked = userItems.includes(item);
                        html += `
                            <label style="display: flex; align-items: center; padding: 10px; cursor: pointer; border-radius: 8px; margin-bottom: 5px; transition: background 0.2s;" 
                                   onmouseover="this.style.background='#f9fafb'" 
                                   onmouseout="this.style.background='transparent'">
                                <input type="checkbox" 
                                       ${isChecked ? 'checked' : ''} 
                                       onchange="riskFactorsToggleItem('${categoryKey}', '${item.replace(/'/g, "\\'")}')"
                                       style="margin-right: 10px; width: 18px; height: 18px; cursor: pointer;">
                                <span style="color: #333; flex: 1;">${item}</span>
                            </label>
                        `;
                    });
                    html += '</div>';
                }
                
                // Add custom item input
                html += `
                    <div style="display: flex; gap: 10px;">
                        <input type="text" 
                               id="riskFactors_${categoryKey}_custom" 
                               placeholder="áƒ“áƒáƒáƒ›áƒáƒ¢áƒ” áƒ¨áƒ”áƒœáƒ˜ áƒ•áƒáƒ áƒ˜áƒáƒœáƒ¢áƒ˜..."
                               style="flex: 1; padding: 10px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 14px;"
                               onkeypress="if(event.key==='Enter') riskFactorsAddCustom('${categoryKey}')">
                        <button onclick="riskFactorsAddCustom('${categoryKey}')" 
                                style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; font-weight: 600;">
                            áƒ“áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒ
                        </button>
                    </div>
                `;
            }
            
            html += '</div>';
            
            return html;
        }
        
        function riskFactorsToggleItem(categoryKey, item) {
            if (!riskFactorsData[categoryKey]) riskFactorsData[categoryKey] = [];
            
            const index = riskFactorsData[categoryKey].indexOf(item);
            if (index > -1) {
                riskFactorsData[categoryKey].splice(index, 1);
            } else {
                riskFactorsData[categoryKey].push(item);
            }
            
            riskFactorsSave();
            riskFactorsRender();
        }
        
        function riskFactorsAddCustom(categoryKey) {
            const input = document.getElementById(`riskFactors_${categoryKey}_custom`);
            const value = input.value.trim();
            
            if (!value) {
                alert('áƒ¨áƒ”áƒ˜áƒ§áƒ•áƒáƒœáƒ” áƒ¢áƒ”áƒ¥áƒ¡áƒ¢áƒ˜');
                return;
            }
            
            if (!riskFactorsData[categoryKey]) riskFactorsData[categoryKey] = [];
            
            if (riskFactorsData[categoryKey].includes(value)) {
                alert('áƒ”áƒ¡ áƒ£áƒ™áƒ•áƒ” áƒáƒ áƒ¡áƒ”áƒ‘áƒáƒ‘áƒ¡ áƒ¡áƒ˜áƒáƒ¨áƒ˜');
                return;
            }
            
            riskFactorsData[categoryKey].push(value);
            input.value = '';
            
            riskFactorsSave();
            riskFactorsRender();
        }
        
        function riskFactorsRemoveItem(categoryKey, index) {
            if (confirm('áƒ¬áƒáƒ¨áƒšáƒ áƒ“áƒáƒ áƒ¬áƒ›áƒ£áƒœáƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ®áƒáƒ ?')) {
                riskFactorsData[categoryKey].splice(index, 1);
                riskFactorsSave();
                riskFactorsRender();
            }
        }
        
        function riskFactorsSaveAndSwitch() {
            riskFactorsSave();
            riskFactorsViewMode = true;
            riskFactorsRender();
        }
        
        function riskFactorsEditMode() {
            riskFactorsViewMode = false;
            riskFactorsRender();
        }
        
        // ===== END RISK FACTORS FUNCTIONS =====
        
        // ===== TECHNIQUES MODALS =====
        
        function openTechniqueModal(modalId) {
            document.getElementById(modalId).style.display = 'block';
        }
        
        function closeTechniqueModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }
        
        // ===== RECOMMENDATIONS =====
        
        function showRecommendations() {
            recommendationsLoad();
            recommendationsRender();
            showSection('recommendations');
        }
        
        function recommendationsLoad() {
            let u = app.users[user.email];
            if (!u.recommendations) {
                u.recommendations = {
                    riskyContacts: '',
                    safeContacts: '',
                    pleasantActivities: ''
                };
                save();
            }
            recommendationsData = u.recommendations;
        }
        
        function recommendationsSave() {
            let u = app.users[user.email];
            u.recommendations = recommendationsData;
            save();
        }
        
        function recommendationsRender() {
            const container = document.getElementById('recommendationsList');
            if (!container) return;
            
            let html = '';
            
            // Recommendation 1: Get rid of resources
            html += `
                <div style="background: white; padding: 20px; border-radius: 12px; margin-bottom: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                    <h3 style="color: #667eea; margin-bottom: 15px;">ğŸ“¦ 1. áƒ’áƒáƒ“áƒáƒ§áƒáƒ áƒ” áƒ›áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ áƒ”áƒ¡áƒ£áƒ áƒ¡áƒ”áƒ‘áƒ˜</h3>
                    <p style="color: #333; line-height: 1.8; font-size: 16px; margin-bottom: 0;">
                        áƒ’áƒáƒ“áƒáƒ§áƒáƒ áƒ” áƒ›áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ áƒ”áƒ¡áƒ£áƒ áƒ¡áƒ”áƒ‘áƒ˜ áƒ“áƒ áƒ›áƒáƒ¡áƒ—áƒáƒœ áƒ“áƒáƒ™áƒáƒ•áƒ¨áƒ˜áƒ áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒœáƒ˜áƒ•áƒ—áƒ”áƒ‘áƒ˜. áƒáƒ  áƒ’áƒáƒ“áƒáƒ“áƒ áƒáƒ›áƒ˜áƒ¡ áƒ’áƒáƒ™áƒ”áƒ—áƒ”áƒ‘áƒ áƒ›áƒ”áƒ áƒ”áƒ–áƒ” - áƒ áƒáƒ’áƒáƒ áƒª áƒ™áƒ˜ áƒ§áƒ•áƒ”áƒšáƒ áƒ”áƒ¡ áƒªáƒ“áƒ£áƒœáƒ”áƒ‘áƒ áƒ’áƒáƒ¥áƒ áƒ”áƒ‘áƒ áƒ¨áƒ”áƒœáƒ˜ áƒ®áƒ”áƒ“áƒ•áƒ˜áƒ¡ áƒáƒ áƒ”áƒáƒšáƒ˜áƒ“áƒáƒœ, áƒáƒ áƒáƒªáƒ”áƒ¡áƒ˜ áƒ¬áƒáƒ•áƒ áƒ‘áƒ”áƒ•áƒ áƒáƒ“ áƒ£áƒ¤áƒ áƒ áƒ›áƒáƒ áƒ¢áƒ˜áƒ•áƒáƒ“.
                    </p>
                </div>
            `;
            
            // Recommendation 2: Physical activity
            html += `
                <div style="background: white; padding: 20px; border-radius: 12px; margin-bottom: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                    <h3 style="color: #667eea; margin-bottom: 15px;">ğŸƒ 2. áƒ“áƒáƒ™áƒáƒ•áƒ“áƒ˜ áƒ¤áƒ˜áƒ–áƒ˜áƒ™áƒ£áƒ áƒ˜ áƒáƒ¥áƒ¢áƒ˜áƒ•áƒáƒ‘áƒ˜áƒ—</h3>
                    <p style="color: #333; line-height: 1.8; font-size: 16px; margin-bottom: 0;">
                        áƒ›áƒáƒ«áƒ”áƒ‘áƒœáƒ” áƒ¤áƒ˜áƒ–áƒ˜áƒ™áƒ£áƒ áƒ˜ áƒáƒ¥áƒ¢áƒ˜áƒ•áƒáƒ‘áƒ, áƒ áƒáƒ›áƒ”áƒšáƒ˜áƒª áƒ›áƒáƒ’áƒ¬áƒáƒœáƒ¡. áƒ£áƒáƒ®áƒšáƒ”áƒ¡áƒ˜ áƒ™áƒ•áƒšáƒ”áƒ•áƒ”áƒ‘áƒ˜ áƒáƒ“áƒáƒ¡áƒ¢áƒ£áƒ áƒ”áƒ‘áƒ¡, áƒ áƒáƒ› áƒ áƒ”áƒ’áƒ£áƒšáƒáƒ áƒ£áƒšáƒ˜ áƒ¤áƒ˜áƒ–áƒ˜áƒ™áƒ£áƒ áƒ˜ áƒáƒ¥áƒ¢áƒ˜áƒ•áƒáƒ‘áƒ áƒ®áƒ”áƒšáƒ¡ áƒ£áƒ¬áƒ§áƒáƒ‘áƒ¡ áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒáƒ áƒáƒªáƒ”áƒ¡áƒ¡.
                    </p>
                </div>
            `;
            
            // Recommendation 3: Social connections
            html += `
                <div style="background: white; padding: 20px; border-radius: 12px; margin-bottom: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                    <h3 style="color: #667eea; margin-bottom: 15px;">ğŸ‘¥ 3. áƒ’áƒáƒáƒ™áƒ”áƒ—áƒ” áƒ¡áƒáƒªáƒ˜áƒáƒšáƒ£áƒ áƒ˜ áƒ™áƒáƒ•áƒ¨áƒ˜áƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒáƒœáƒáƒšáƒ˜áƒ–áƒ˜</h3>
                    <p style="color: #333; line-height: 1.8; font-size: 16px; margin-bottom: 15px;">
                        áƒ¨áƒ”áƒœáƒ˜ áƒ¡áƒáƒªáƒ˜áƒáƒšáƒ£áƒ áƒ˜ áƒ¬áƒ áƒ” áƒ˜áƒ§áƒáƒ¤áƒ áƒáƒ  áƒœáƒáƒ¬áƒ˜áƒšáƒáƒ“: áƒ£áƒ¡áƒáƒ¤áƒ áƒ—áƒ®áƒ áƒ“áƒ áƒ¡áƒáƒ¤áƒ áƒ—áƒ®áƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒªáƒ•áƒ”áƒšáƒ˜ áƒ’áƒáƒ áƒ”áƒ›áƒáƒªáƒ•áƒ. áƒ¡áƒáƒ¤áƒ áƒ—áƒ®áƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒªáƒ•áƒ”áƒšáƒ˜ áƒáƒ áƒ˜áƒ¡ áƒ’áƒáƒ áƒ”áƒ›áƒáƒªáƒ•áƒ, áƒ•áƒ˜áƒ¡áƒ—áƒáƒœ áƒ”áƒ áƒ—áƒáƒ“áƒáƒª áƒ›áƒáƒ˜áƒ®áƒ›áƒáƒ áƒ“áƒ˜ áƒáƒœ áƒ áƒáƒ˜áƒ›áƒ” áƒ›áƒ˜áƒ–áƒ”áƒ–áƒ˜áƒ— áƒ›áƒáƒ—áƒ˜ áƒ“áƒáƒœáƒáƒ®áƒ•áƒ áƒ˜áƒ¬áƒ•áƒ”áƒ•áƒ¡ áƒ¨áƒ”áƒœáƒ¨áƒ˜ áƒšáƒ¢áƒáƒšáƒ•áƒáƒ¡.
                    </p>
                    
                    <!-- Risky contacts -->
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 10px; color: #ef4444; font-weight: 600;">âš ï¸ áƒ¡áƒáƒ¤áƒ áƒ—áƒ®áƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒªáƒ•áƒ”áƒšáƒ˜ áƒ¬áƒ áƒ”:</label>
                        <textarea id="riskyContacts" 
                                  placeholder="áƒ©áƒáƒ›áƒáƒ¬áƒ”áƒ áƒ” áƒáƒ“áƒáƒ›áƒ˜áƒáƒœáƒ”áƒ‘áƒ˜, áƒ•áƒ˜áƒ¡áƒ—áƒáƒœ áƒ”áƒ áƒ—áƒáƒ“áƒáƒª áƒ›áƒáƒ˜áƒ®áƒ›áƒáƒ áƒ“áƒ˜..."
                                  style="width: 100%; min-height: 100px; padding: 12px; border: 2px solid #fecaca; border-radius: 8px; font-size: 14px; resize: vertical; box-sizing: border-box;"
                                  oninput="recommendationsData.riskyContacts = this.value; recommendationsSave();">${recommendationsData.riskyContacts}</textarea>
                    </div>
                    
                    <!-- Safe contacts -->
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 10px; color: #10b981; font-weight: 600;">âœ… áƒ£áƒ¡áƒáƒ¤áƒ áƒ—áƒ®áƒ áƒ¬áƒ áƒ”:</label>
                        <textarea id="safeContacts" 
                                  placeholder="áƒ©áƒáƒ›áƒáƒ¬áƒ”áƒ áƒ” áƒáƒ“áƒáƒ›áƒ˜áƒáƒœáƒ”áƒ‘áƒ˜, áƒ áƒáƒ›áƒšáƒ”áƒ‘áƒ˜áƒª áƒáƒ  áƒ›áƒáƒ˜áƒ®áƒ›áƒáƒ áƒ”áƒœ áƒáƒœ áƒ›áƒ–áƒáƒ“ áƒáƒ áƒ˜áƒáƒœ áƒ¨áƒ”áƒœáƒ—áƒáƒœ áƒ”áƒ áƒ—áƒáƒ“ áƒ—áƒáƒ•áƒ˜ áƒ¨áƒ”áƒ˜áƒ™áƒáƒ•áƒáƒœ..."
                                  style="width: 100%; min-height: 100px; padding: 12px; border: 2px solid #bbf7d0; border-radius: 8px; font-size: 14px; resize: vertical; box-sizing: border-box;"
                                  oninput="recommendationsData.safeContacts = this.value; recommendationsSave();">${recommendationsData.safeContacts}</textarea>
                    </div>
                    
                    <!-- Detailed recommendations for risky environment -->
                    <div style="background: #fef2f2; padding: 12px; border-radius: 8px; margin-top: 15px; border-left: 3px solid #ef4444;">
                        <h4 style="color: #991b1b; margin-bottom: 10px; font-size: 15px;">áƒ áƒ”áƒ™áƒáƒ›áƒ”áƒœáƒ“áƒáƒªáƒ˜áƒ”áƒ‘áƒ˜ áƒ¡áƒáƒ¤áƒ áƒ—áƒ®áƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒªáƒ•áƒ”áƒš áƒ’áƒáƒ áƒ”áƒ›áƒáƒ¡áƒ—áƒáƒœ áƒ›áƒ˜áƒ›áƒáƒ áƒ—áƒ”áƒ‘áƒáƒ¨áƒ˜:</h4>
                        <ul style="color: #333; line-height: 1.8; margin: 0; padding-left: 20px;">
                            <li style="margin-bottom: 8px;"><strong>áƒ£áƒ áƒ—áƒ˜áƒ”áƒ áƒ—áƒáƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒ¬áƒ§áƒ•áƒ”áƒ¢áƒ</strong> - áƒ“áƒ˜áƒšáƒ”áƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒœáƒáƒ›áƒ áƒ”áƒ‘áƒ˜ áƒ¬áƒáƒ¨áƒáƒšáƒ”. áƒ—áƒáƒœáƒáƒ›áƒáƒ›áƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒšáƒ”áƒ‘áƒ—áƒáƒœáƒáƒª áƒ•áƒ˜áƒ¡áƒ—áƒáƒœáƒáƒª áƒ¨áƒ”áƒ¡áƒáƒ«áƒšáƒ”áƒ‘áƒ”áƒšáƒ˜áƒ áƒ£áƒ›áƒ¯áƒáƒ‘áƒ”áƒ¡áƒ˜áƒ áƒ¡áƒ áƒ£áƒšáƒáƒ“ áƒ¨áƒ”áƒ¬áƒ§áƒ•áƒ˜áƒ¢áƒ áƒ£áƒ áƒ—áƒ˜áƒ”áƒ áƒ—áƒáƒ‘áƒ.</li>
                            <li style="margin-bottom: 8px;"><strong>áƒ£áƒ áƒ—áƒ˜áƒ”áƒ áƒ—áƒáƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒ–áƒ¦áƒ£áƒ“áƒ•áƒ</strong> - áƒ•áƒ˜áƒ¡áƒ—áƒáƒœáƒáƒª áƒ£áƒ áƒ—áƒ˜áƒ”áƒ áƒ—áƒáƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒ¬áƒ§áƒ•áƒ”áƒ¢áƒ áƒ¨áƒ”áƒ¡áƒáƒ«áƒšáƒ”áƒ‘áƒ”áƒšáƒ˜ áƒáƒ  áƒáƒ áƒ˜áƒ¡, áƒ¡áƒáƒ¡áƒ£áƒ áƒ•áƒ”áƒšáƒ˜áƒ áƒ¨áƒ”áƒ–áƒ¦áƒ£áƒ“áƒ áƒ£áƒ áƒ—áƒ˜áƒ”áƒ áƒ—áƒáƒ‘áƒ˜áƒ¡ áƒ˜áƒœáƒ¢áƒ”áƒœáƒ¡áƒ˜áƒ•áƒáƒ‘áƒ áƒ“áƒ áƒ¡áƒ˜áƒ®áƒ¨áƒ˜áƒ áƒ”.</li>
                            <li><strong>áƒ–áƒ¦áƒ•áƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ“áƒáƒ¬áƒ”áƒ¡áƒ”áƒ‘áƒ</strong> - áƒ’áƒáƒ›áƒáƒ˜áƒ›áƒ£áƒ¨áƒáƒ•áƒ” áƒ£áƒáƒ áƒ˜áƒ¡ áƒ—áƒ¥áƒ›áƒ˜áƒ¡ áƒ£áƒœáƒáƒ áƒ˜.</li>
                        </ul>
                    </div>
                    
                    <!-- Social pressure - FULL TEXT -->
                    <div style="background: #fff3cd; padding: 12px; border-radius: 8px; margin-top: 15px; border-left: 3px solid #ffc107;">
                        <h4 style="color: #856404; margin-bottom: 10px; font-size: 15px;">âš¡ áƒ¡áƒáƒªáƒ˜áƒáƒšáƒ£áƒ áƒ˜ áƒ–áƒ”áƒ¬áƒáƒšáƒ</h4>
                        <p style="color: #856404; line-height: 1.8; margin-bottom: 12px;">
                            áƒ¡áƒáƒªáƒ˜áƒáƒšáƒ£áƒ áƒ˜ áƒ–áƒ”áƒ¬áƒáƒšáƒ áƒ›áƒáƒ¥áƒ›áƒ”áƒ“áƒ”áƒ‘áƒ¡ áƒ˜áƒ›áƒ’áƒ•áƒáƒ áƒáƒ“, áƒ áƒáƒ› áƒ§áƒáƒ•áƒ”áƒšáƒ˜ áƒ›áƒ”áƒ¡áƒáƒ›áƒ” áƒ áƒ”áƒªáƒ˜áƒ“áƒ˜áƒ•áƒ¡ áƒ’áƒáƒœáƒ˜áƒªáƒ“áƒ˜áƒ¡. áƒ¨áƒ”áƒ˜áƒ«áƒšáƒ”áƒ‘áƒ áƒ¦áƒ”áƒšáƒáƒ•áƒ“áƒ” áƒ˜áƒ›áƒáƒ–áƒ”, áƒ—áƒ£ áƒ áƒáƒ¡ áƒ˜áƒ¤áƒ˜áƒ¥áƒ áƒ”áƒ‘áƒ”áƒœ áƒ¨áƒ”áƒœáƒ–áƒ” áƒ—áƒ£ áƒ£áƒáƒ áƒ¡ áƒ”áƒ¢áƒ§áƒ•áƒ˜. áƒ–áƒáƒ’áƒ˜áƒ”áƒ áƒ—áƒ˜ áƒáƒ“áƒáƒ›áƒ˜áƒáƒœáƒ˜ áƒ–áƒ”áƒ“áƒ›áƒ”áƒ¢áƒáƒ“ áƒ›áƒ˜áƒ›áƒ¬áƒáƒšáƒ˜áƒ. áƒ–áƒáƒ’áƒ¯áƒ”áƒ  áƒ áƒ”áƒ¡áƒ£áƒ áƒ¡áƒ–áƒ” áƒ®áƒ”áƒšáƒ›áƒ˜áƒ¡áƒáƒ¬áƒ•áƒ“áƒáƒ›áƒáƒ‘áƒ áƒ›áƒáƒ¥áƒ›áƒ”áƒ“áƒ”áƒ‘áƒ¡ áƒ˜áƒ›áƒáƒ–áƒ”, áƒ áƒáƒ› áƒ£áƒáƒ áƒ¡ áƒ•áƒ”áƒ¦áƒáƒ  áƒáƒ›áƒ‘áƒáƒ‘.
                        </p>
                        <p style="color: #856404; line-height: 1.8; margin-bottom: 12px;">
                            áƒ’áƒáƒ˜áƒ—áƒ•áƒáƒšáƒ˜áƒ¡áƒ¬áƒ˜áƒœáƒ” áƒ¨áƒ”áƒœáƒ˜ áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ áƒáƒ áƒ˜áƒ¡ áƒ›áƒ—áƒáƒ•áƒáƒ áƒ˜ áƒáƒ áƒ˜áƒáƒ áƒ˜áƒ¢áƒ”áƒ¢áƒ˜. áƒ•áƒ˜áƒœáƒª áƒ’áƒ—áƒáƒ•áƒáƒ–áƒáƒ‘áƒ¡ áƒ›áƒáƒ¡áƒ—áƒáƒœ áƒ™áƒáƒ›áƒ£áƒœáƒ˜áƒ™áƒáƒªáƒ˜áƒ áƒ¨áƒ”áƒ˜áƒ«áƒšáƒ”áƒ‘áƒ áƒ˜áƒ§áƒáƒ¡ áƒáƒáƒ¢áƒ˜áƒ•áƒ˜áƒ¡áƒªáƒ”áƒ›áƒ˜áƒ¡ áƒ’áƒáƒ›áƒáƒ›áƒ®áƒáƒ¢áƒ•áƒ”áƒšáƒ˜, áƒ›áƒáƒ’áƒ áƒáƒ› áƒ›áƒ™áƒáƒªáƒ áƒ˜, áƒ›áƒ§áƒáƒ áƒ˜ áƒ“áƒ áƒáƒ áƒ˜áƒœáƒªáƒ˜áƒáƒ£áƒšáƒ˜, áƒ áƒáƒ—áƒ áƒ•áƒ”áƒ¦áƒáƒ  áƒ’áƒáƒáƒ’áƒ áƒ«áƒ”áƒšáƒáƒ¡ áƒ¨áƒ”áƒœáƒ˜ áƒªáƒ“áƒ£áƒœáƒ”áƒ‘áƒ. áƒáƒáƒ¡áƒ£áƒ®áƒ¨áƒ˜ áƒ£áƒœáƒ“áƒ áƒ˜áƒ’áƒ áƒ«áƒœáƒáƒ‘áƒáƒ“áƒ”áƒ¡ áƒ¡áƒ˜áƒ«áƒšáƒ˜áƒ”áƒ áƒ” áƒ“áƒ áƒ“áƒáƒ›áƒáƒ¯áƒ”áƒ áƒ”áƒ‘áƒšáƒáƒ‘áƒ. áƒ“áƒáƒáƒ›áƒ§áƒáƒ áƒ” áƒ—áƒ•áƒáƒšáƒ˜áƒ— áƒ™áƒáƒœáƒ¢áƒáƒ¥áƒ¢áƒ˜, áƒ áƒáƒ—áƒ áƒáƒ  áƒ˜áƒ¤áƒ˜áƒ¥áƒ áƒáƒ¡, áƒ áƒáƒ› áƒ¨áƒ”áƒ˜áƒ«áƒšáƒ”áƒ‘áƒ áƒ’áƒáƒ“áƒáƒ˜áƒ¤áƒ˜áƒ¥áƒ áƒ. áƒ£áƒ—áƒ®áƒáƒ áƒ˜, áƒ áƒáƒ› áƒ—áƒáƒ•áƒ˜ áƒ“áƒáƒáƒœáƒ”áƒ‘áƒ” áƒ“áƒ áƒ¡áƒ—áƒ®áƒáƒ•áƒ”, áƒ áƒáƒ› áƒáƒ›áƒ˜áƒ¡ áƒ›áƒ”áƒ áƒ” áƒáƒ¦áƒáƒ  áƒ¨áƒ”áƒ›áƒáƒ’áƒ—áƒáƒ•áƒáƒ–áƒáƒ¡. áƒ’áƒáƒ®áƒ¡áƒáƒ•áƒ“áƒ”áƒ¡, áƒ áƒáƒ› áƒ•áƒ˜áƒœáƒª áƒáƒ’áƒ áƒ«áƒ”áƒšáƒ”áƒ‘áƒ¡ áƒ¨áƒ”áƒ›áƒáƒ—áƒáƒ•áƒáƒ–áƒ”áƒ‘áƒáƒ¡ áƒáƒ  áƒ’áƒªáƒ”áƒ›áƒ¡ áƒáƒáƒ¢áƒ˜áƒ•áƒ¡ áƒ“áƒ áƒ¨áƒ”áƒœáƒ—áƒ•áƒ˜áƒ¡ áƒáƒ áƒáƒ¡áƒáƒ¡áƒ£áƒ áƒ•áƒ”áƒšáƒ˜áƒ áƒ›áƒáƒ¡áƒ—áƒáƒœ áƒ”áƒ áƒ—áƒáƒ“ áƒ“áƒ áƒáƒ˜áƒ¡ áƒ’áƒáƒ¢áƒáƒ áƒ”áƒ‘áƒ. áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ áƒ§áƒ•áƒ”áƒšáƒáƒ¤áƒ”áƒ áƒ—áƒáƒœ áƒ”áƒ áƒ—áƒáƒ“ áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜ áƒ—áƒáƒ•áƒ˜áƒ¡ áƒ“áƒáƒªáƒ•áƒ˜áƒ¡ áƒ£áƒœáƒáƒ áƒ˜áƒ¡ áƒ’áƒáƒœáƒ•áƒ˜áƒ—áƒáƒ áƒ”áƒ‘áƒáƒ¡ áƒ’áƒ£áƒšáƒ˜áƒ¡áƒ®áƒ›áƒáƒ‘áƒ¡. áƒ”áƒ¡áƒáƒ£áƒ‘áƒ áƒ” áƒ¨áƒ”áƒœáƒ¡ áƒ—áƒáƒ•áƒ¡ áƒ˜áƒ›áƒáƒ–áƒ”, áƒ—áƒ£ áƒ áƒáƒ¢áƒáƒ› áƒáƒ áƒ˜áƒ¡ áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒáƒ•áƒáƒœáƒ˜ áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ. áƒ¨áƒ”áƒœ áƒáƒ  áƒ£áƒœáƒ“áƒ áƒ’áƒ áƒ«áƒœáƒáƒ‘áƒ“áƒ” áƒ“áƒáƒœáƒáƒ¨áƒáƒ£áƒšáƒ¡ áƒ›áƒ”áƒ’áƒáƒ‘áƒ áƒ˜áƒ¡ áƒ›áƒ˜áƒ›áƒáƒ áƒ—, áƒ áƒáƒ“áƒ’áƒáƒœ áƒ›áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒáƒ¨áƒ˜ áƒáƒ  áƒ¨áƒ”áƒ£áƒ”áƒ áƒ—áƒ“áƒ˜ áƒ“áƒ áƒ˜áƒ›áƒ”áƒ“áƒ”áƒ‘áƒ˜ áƒ’áƒáƒ£áƒ›áƒ¢áƒ§áƒ£áƒ•áƒœáƒ”. áƒ”áƒ¡ áƒáƒ áƒ˜áƒ¡ áƒáƒ áƒ©áƒ”áƒ•áƒáƒœáƒ˜, áƒ áƒáƒ›áƒ”áƒšáƒ¡áƒáƒª áƒ§áƒ•áƒ”áƒšáƒ áƒ—áƒáƒ•áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡ áƒáƒ™áƒ”áƒ—áƒ”áƒ‘áƒ¡.
                        </p>
                    </div>
                    
                    <!-- Recommendations for safe environment -->
                    <div style="background: #f0fdf4; padding: 12px; border-radius: 8px; margin-top: 15px; border-left: 3px solid #10b981;">
                        <h4 style="color: #065f46; margin-bottom: 10px; font-size: 15px;">âœ… áƒ áƒ”áƒ™áƒáƒ›áƒ”áƒœáƒ“áƒáƒªáƒ˜áƒ”áƒ‘áƒ˜ áƒ£áƒ¡áƒáƒ¤áƒ áƒ—áƒ®áƒ áƒ’áƒáƒ áƒ”áƒ›áƒáƒ¡áƒ—áƒáƒœ áƒ›áƒ˜áƒ›áƒáƒ áƒ—áƒ”áƒ‘áƒáƒ¨áƒ˜:</h4>
                        <p style="color: #333; line-height: 1.8; margin-bottom: 12px;">
                            <strong>áƒ£áƒ¡áƒáƒ¤áƒ áƒ—áƒ®áƒ áƒ’áƒáƒ áƒ”áƒ›áƒáƒªáƒ•áƒ:</strong> áƒ•áƒ˜áƒœáƒª áƒáƒ  áƒ›áƒáƒ˜áƒ®áƒ›áƒáƒ áƒ¡ áƒáƒœ áƒ›áƒ–áƒáƒ“áƒáƒ áƒ¨áƒ”áƒœáƒ—áƒáƒœ áƒ”áƒ áƒ—áƒáƒ“ áƒ—áƒáƒ•áƒ˜ áƒ¨áƒ”áƒ˜áƒ™áƒáƒ•áƒáƒ¡.
                        </p>
                        <p style="color: #333; line-height: 1.8; margin-bottom: 12px;">
                            áƒ’áƒáƒ˜áƒ¤áƒáƒ áƒ—áƒáƒ•áƒ” áƒáƒœ áƒ’áƒáƒ˜áƒ¦áƒ áƒ›áƒáƒ•áƒ” áƒáƒ¡áƒ”áƒ—áƒ˜ áƒ™áƒáƒœáƒ¢áƒáƒ¥áƒ¢áƒ”áƒ‘áƒ˜. áƒ›áƒáƒ’. áƒ«áƒ•áƒ”áƒš áƒ›áƒ”áƒ’áƒáƒ‘áƒ áƒ”áƒ‘áƒ—áƒáƒœ áƒ£áƒ áƒ—áƒ˜áƒ”áƒ áƒ—áƒáƒ‘áƒ˜áƒ¡ áƒáƒ¦áƒ“áƒ’áƒ”áƒœáƒ, áƒáƒ®áƒáƒšáƒ˜ áƒáƒ“áƒáƒ›áƒ˜áƒáƒœáƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒªáƒœáƒáƒ‘áƒ, áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒ–áƒáƒ–áƒ” áƒ›áƒ§áƒáƒ¤ áƒáƒ“áƒáƒ›áƒ˜áƒáƒœáƒ”áƒ‘áƒ—áƒáƒœ áƒ£áƒ áƒ—áƒ˜áƒ”áƒ áƒ—áƒáƒ‘áƒ, áƒ£áƒ¡áƒáƒ¤áƒ áƒ—áƒ®áƒ áƒœáƒáƒ—áƒ”áƒ¡áƒáƒ•áƒ”áƒ‘áƒ—áƒáƒœ áƒ£áƒ¤áƒ áƒ áƒ®áƒ¨áƒ˜áƒ áƒ˜ áƒ“áƒáƒ áƒ”áƒ™áƒ•áƒ áƒáƒœ áƒ•áƒ˜áƒ–áƒ˜áƒ¢áƒ”áƒ‘áƒ˜.
                        </p>
                        <p style="color: #333; line-height: 1.8; margin: 0;">
                            áƒ“áƒáƒ¤áƒ˜áƒ¥áƒ áƒ“áƒ˜ áƒáƒ› áƒ£áƒ¡áƒáƒ¤áƒ áƒ—áƒ®áƒ áƒ’áƒáƒ áƒ”áƒ›áƒáƒªáƒ•áƒ˜áƒ“áƒáƒœ áƒáƒ áƒ˜áƒáƒœ áƒ—áƒ£ áƒáƒ áƒ áƒ˜áƒ¡áƒ”áƒ—áƒ”áƒ‘áƒ˜, áƒ áƒáƒ›áƒ”áƒšáƒ¡áƒáƒª áƒ¨áƒ”áƒ’áƒ˜áƒ«áƒšáƒ˜áƒ áƒ“áƒáƒ”áƒ§áƒ áƒ“áƒœáƒ áƒ áƒ—áƒ£áƒš áƒ“áƒ¦áƒ”áƒ”áƒ‘áƒ¨áƒ˜, áƒáƒœ áƒ áƒáƒ“áƒ”áƒ¡áƒáƒª áƒ¡áƒáƒ£áƒ‘áƒáƒ áƒ˜ áƒ›áƒáƒ’áƒ˜áƒœáƒ“áƒ”áƒ‘áƒ.
                        </p>
                    </div>
                </div>
            `;
            
            // Recommendation 4: Pleasant activities
            html += `
                <div style="background: white; padding: 20px; border-radius: 12px; margin-bottom: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                    <h3 style="color: #667eea; margin-bottom: 15px;">ğŸ¨ 4. áƒ¡áƒáƒ¡áƒ˜áƒáƒ›áƒáƒ•áƒœáƒ áƒáƒ¥áƒ¢áƒ˜áƒ•áƒáƒ‘áƒ”áƒ‘áƒ˜</h3>
                    <p style="color: #333; line-height: 1.8; font-size: 16px; margin-bottom: 15px;">
                        áƒ áƒáƒ“áƒ”áƒ¡áƒáƒª áƒáƒ“áƒáƒ›áƒ˜áƒáƒœáƒ”áƒ‘áƒ˜ áƒ®áƒ“áƒ”áƒ‘áƒ˜áƒáƒœ áƒ“áƒáƒ›áƒáƒ™áƒ˜áƒ“áƒ”áƒ‘áƒ£áƒšáƒœáƒ˜, áƒ¡áƒ£áƒš áƒ£áƒ¤áƒ áƒ áƒœáƒáƒ™áƒšáƒ”áƒ‘áƒáƒ“ áƒ˜áƒ¦áƒ”áƒ‘áƒ”áƒœ áƒ¡áƒ˜áƒáƒ›áƒáƒ•áƒœáƒ”áƒ‘áƒáƒ¡ áƒ‘áƒ£áƒœáƒ”áƒ‘áƒ áƒ˜áƒ•áƒ˜ áƒ’áƒ–áƒ˜áƒ—. áƒ’áƒáƒ˜áƒ®áƒ¡áƒ”áƒœáƒ” áƒ áƒ áƒ’áƒáƒœáƒ˜áƒ­áƒ”áƒ‘áƒ“áƒ áƒ¡áƒ˜áƒáƒ›áƒáƒ•áƒœáƒ”áƒ‘áƒáƒ¡? áƒ“áƒáƒ¤áƒ˜áƒ¥áƒ áƒ“áƒ˜ áƒ˜áƒ›áƒáƒ–áƒ”, áƒ—áƒ£ áƒ áƒáƒ’áƒáƒ  áƒ¨áƒ”áƒ¬áƒ§áƒ•áƒ˜áƒ¢áƒ” áƒáƒœ áƒ¨áƒ”áƒáƒ›áƒªáƒ˜áƒ áƒ” áƒáƒ› áƒáƒ¥áƒ¢áƒ˜áƒ•áƒáƒ‘áƒ”áƒ‘áƒ¨áƒ˜ áƒ©áƒáƒ áƒ—áƒ•áƒ áƒ›áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ“áƒáƒ¬áƒ§áƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’.
                    </p>
                    
                    <label style="display: block; margin-bottom: 10px; color: #667eea; font-weight: 600;">
                        áƒ˜áƒ¡ áƒ áƒ˜áƒ—áƒ˜áƒª áƒáƒ“áƒ áƒ” áƒ¡áƒ˜áƒáƒ›áƒáƒ•áƒœáƒ”áƒ‘áƒáƒ¡ áƒ•áƒ˜áƒ¦áƒ”áƒ‘áƒ“áƒ˜ áƒ“áƒ áƒ›áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ™áƒáƒœáƒ¢áƒ áƒáƒšáƒ˜áƒ“áƒáƒœ áƒ’áƒáƒ¡áƒ•áƒšáƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’ áƒ¨áƒ”áƒ•áƒáƒ›áƒªáƒ˜áƒ áƒ”:
                    </label>
                    <p style="color: #666; font-size: 14px; margin-bottom: 10px; font-style: italic;">
                        (áƒ›áƒáƒ’áƒáƒšáƒ˜áƒ—áƒáƒ“ áƒ›áƒ”áƒ’áƒáƒ‘áƒ áƒ”áƒ‘áƒ—áƒáƒœ áƒ“áƒ áƒáƒ¯áƒáƒ®áƒ—áƒáƒœ áƒ”áƒ áƒ—áƒáƒ“ áƒ“áƒ áƒáƒ˜áƒ¡ áƒ’áƒáƒ¢áƒáƒ áƒ”áƒ‘áƒ, áƒ¡áƒáƒáƒ áƒ¢áƒ˜áƒ— áƒ“áƒáƒ™áƒáƒ•áƒ”áƒ‘áƒ, áƒ¡áƒáƒ›áƒ£áƒ¨áƒáƒ, áƒ°áƒáƒ‘áƒ˜)
                    </p>
                    <textarea id="pleasantActivities" 
                              placeholder="áƒ©áƒáƒ›áƒáƒ¬áƒ”áƒ áƒ” áƒáƒ¥áƒ¢áƒ˜áƒ•áƒáƒ‘áƒ”áƒ‘áƒ˜..."
                              style="width: 100%; min-height: 180px; padding: 12px; border: 2px solid #e0e7ff; border-radius: 8px; font-size: 14px; resize: vertical; box-sizing: border-box;"
                              oninput="recommendationsData.pleasantActivities = this.value; recommendationsSave();">${recommendationsData.pleasantActivities}</textarea>
                    
                    <div style="background: #f0f4ff; padding: 12px; border-radius: 8px; margin-top: 15px; border-left: 3px solid #667eea;">
                        <p style="color: #333; line-height: 1.8; margin-bottom: 12px;">
                            <strong>áƒ áƒ”áƒ™áƒáƒ›áƒ”áƒœáƒ“áƒ”áƒ‘áƒ£áƒšáƒ˜áƒ áƒ¡áƒáƒ¡áƒ˜áƒáƒ›áƒáƒ•áƒœáƒ áƒáƒ¥áƒ¢áƒ˜áƒ•áƒáƒ‘áƒ”áƒ‘áƒ¨áƒ˜ áƒ›áƒáƒœáƒáƒ¬áƒ˜áƒšáƒ”áƒáƒ‘áƒ áƒ áƒ”áƒ’áƒ£áƒšáƒáƒ áƒ£áƒšáƒáƒ“.</strong>
                        </p>
                        <p style="color: #333; line-height: 1.8; margin-bottom: 12px;">
                            áƒáƒ˜áƒ áƒ©áƒ˜áƒ” áƒ˜áƒ¡áƒ”áƒ—áƒ˜ áƒ¡áƒáƒ¡áƒ˜áƒáƒ›áƒáƒ•áƒœáƒ áƒáƒ¥áƒ¢áƒ˜áƒ•áƒáƒ‘áƒ”áƒ‘áƒ˜, áƒ áƒáƒ›áƒšáƒ”áƒ‘áƒ˜áƒª áƒáƒ  áƒ’áƒáƒ›áƒáƒ˜áƒ¬áƒ•áƒ”áƒ•áƒ¡ áƒšáƒ¢áƒáƒšáƒ•áƒ˜áƒ¡ áƒ›áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒáƒ¡. áƒ˜áƒ¥áƒáƒœáƒ˜áƒ” áƒ›áƒ®áƒ”áƒ“áƒ•áƒ”áƒšáƒáƒ‘áƒáƒ¨áƒ˜, áƒ áƒáƒ› áƒ¨áƒ”áƒœáƒ˜ áƒ›áƒáƒšáƒáƒ“áƒ˜áƒœáƒ˜, áƒ áƒáƒ› áƒáƒ› áƒ¡áƒáƒ¥áƒ›áƒ˜áƒáƒœáƒáƒ‘áƒáƒ› áƒ¡áƒ˜áƒáƒ›áƒáƒ•áƒœáƒ”áƒ‘áƒ áƒ£áƒœáƒ“áƒ áƒ›áƒáƒ’áƒ˜áƒ¢áƒáƒœáƒáƒ¡ áƒ¨áƒ”áƒ˜áƒ«áƒšáƒ”áƒ‘áƒ áƒ›áƒªáƒ“áƒáƒ áƒ˜ áƒáƒ¦áƒ›áƒáƒ©áƒœáƒ“áƒ”áƒ¡.
                        </p>
                        <p style="color: #333; line-height: 1.8; margin: 0;">
                            áƒáƒ› áƒáƒ¥áƒ¢áƒ˜áƒ•áƒáƒ‘áƒ”áƒ‘áƒ˜áƒ¡áƒ’áƒáƒœ áƒ¡áƒ˜áƒáƒ›áƒáƒ•áƒœáƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒ˜áƒ¦áƒ”áƒ‘áƒ˜áƒ¡ áƒ£áƒœáƒáƒ áƒ˜ áƒ¨áƒ”áƒ¡áƒáƒ«áƒšáƒ”áƒ‘áƒ”áƒšáƒ˜áƒ áƒ“áƒ áƒáƒ˜áƒ¡ áƒ’áƒáƒ¡áƒ•áƒšáƒáƒ¡áƒ—áƒáƒœ áƒ”áƒ áƒ—áƒáƒ“ áƒ’áƒáƒ˜áƒ–áƒáƒ áƒ“áƒáƒ¡. áƒ“áƒáƒáƒ™áƒ•áƒ˜áƒ áƒ“áƒ˜ áƒáƒ› áƒáƒ áƒáƒªáƒ”áƒ¡áƒ¡.
                        </p>
                    </div>
                </div>
            `;
            
            container.innerHTML = html;
        }
        
        // ===== END RECOMMENDATIONS FUNCTIONS =====
        
        // ===== RESOURCES FUNCTIONS =====
        
        let currentResourceId = null;
        
        function showResources() {
            loadResourcesList();
            showSection('resources');
        }
        
        function loadResourcesList() {
            const u = app.users[user.email];
            if (!u.resources) u.resources = [];
            
            const container = document.getElementById('resourcesList');
            
            if (u.resources.length === 0) {
                container.innerHTML = '<p style="color: #999; text-align: center; padding: 40px 0;">áƒ¯áƒ”áƒ  áƒáƒ  áƒ’áƒáƒ¥áƒ•áƒ¡ áƒ“áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ áƒ”áƒ¡áƒ£áƒ áƒ¡áƒ”áƒ‘áƒ˜</p>';
                return;
            }
            
            let html = '<div style="display: flex; flex-direction: column; gap: 15px;">';
            
            u.resources.forEach((resource, index) => {
                const firstResult = resource.results && resource.results.length > 0 ? resource.results[0] : '';
                html += `
                    <div style="background: white; padding: 20px; border-radius: 12px; border: 2px solid #e5e7eb; transition: all 0.2s;">
                        <div style="display: flex; justify-content: space-between; align-items: start;">
                            <div onclick="viewResource(${index})" style="flex: 1; cursor: pointer;">
                                <h3 style="color: #667eea; margin-bottom: 10px; font-size: 18px;">ğŸŒŸ ${resource.description.substring(0, 80)}${resource.description.length > 80 ? '...' : ''}</h3>
                                <div style="color: #666; font-size: 14px;">
                                    ${firstResult ? firstResult.substring(0, 100) + '...' : ''}
                                </div>
                            </div>
                            <button onclick="deleteResource(${index})" style="background: #fee; color: #c00; border: none; padding: 8px 15px; border-radius: 8px; cursor: pointer; margin-left: 15px; flex-shrink: 0;">áƒ¬áƒáƒ¨áƒšáƒ</button>
                        </div>
                    </div>
                `;
            });
            
            html += '</div>';
            container.innerHTML = html;
        }
        
        function showResourcesModal() {
            currentResourceId = null;
            document.getElementById('resourceDescription').value = '';
            document.getElementById('resourceExperience1').value = '';
            document.getElementById('resourceExperience2').value = '';
            document.getElementById('resourceExperience3').value = '';
            document.getElementById('resourceResult1').value = '';
            document.getElementById('resourceResult2').value = '';
            document.getElementById('resourceResult3').value = '';
            document.getElementById('resourcesModal').style.display = 'block';
        }
        
        function closeResourcesModal() {
            document.getElementById('resourcesModal').style.display = 'none';
        }
        
        function saveResource() {
            const description = document.getElementById('resourceDescription').value.trim();
            const exp1 = document.getElementById('resourceExperience1').value.trim();
            const exp2 = document.getElementById('resourceExperience2').value.trim();
            const exp3 = document.getElementById('resourceExperience3').value.trim();
            const res1 = document.getElementById('resourceResult1').value.trim();
            const res2 = document.getElementById('resourceResult2').value.trim();
            const res3 = document.getElementById('resourceResult3').value.trim();
            
            if (!description) {
                alert('áƒ’áƒ—áƒ®áƒáƒ•áƒ— áƒ¨áƒ”áƒ˜áƒ§áƒ•áƒáƒœáƒáƒ— áƒ áƒ”áƒ¡áƒ£áƒ áƒ¡áƒ˜áƒ¡ áƒáƒ¦áƒ¬áƒ”áƒ áƒ');
                return;
            }
            
            const u = app.users[user.email];
            if (!u.resources) u.resources = [];
            
            const resource = {
                description: description,
                experiences: [exp1, exp2, exp3].filter(e => e),
                results: [res1, res2, res3].filter(r => r),
                createdAt: new Date().toISOString()
            };
            
            if (currentResourceId !== null) {
                u.resources[currentResourceId] = resource;
            } else {
                u.resources.push(resource);
            }
            
            save();
            closeResourcesModal();
            loadResourcesList();
        }
        
        function viewResource(index) {
            const u = app.users[user.email];
            const resource = u.resources[index];
            
            currentResourceId = index;
            document.getElementById('resourceDescription').value = resource.description;
            document.getElementById('resourceExperience1').value = resource.experiences[0] || '';
            document.getElementById('resourceExperience2').value = resource.experiences[1] || '';
            document.getElementById('resourceExperience3').value = resource.experiences[2] || '';
            document.getElementById('resourceResult1').value = resource.results[0] || '';
            document.getElementById('resourceResult2').value = resource.results[1] || '';
            document.getElementById('resourceResult3').value = resource.results[2] || '';
            
            document.getElementById('resourcesModal').style.display = 'block';
        }
        
        function deleteResource(index) {
            const u = app.users[user.email];
            if (!u.resources) return;
            
            u.resources.splice(index, 1);
            save();
            loadResourcesList();
        }
        
        // ===== END RESOURCES FUNCTIONS =====
        
        function copingRenderThoughts() {
            const container = document.getElementById('copingThoughtsList');
            if (!container) return;
            
            if (copingThoughts.length === 0) {
                container.innerHTML = '<p style="color: #999; text-align: center; padding: 40px;">áƒ¯áƒ”áƒ  áƒáƒ  áƒ’áƒáƒ¥áƒ•áƒ— áƒáƒ–áƒ áƒ”áƒ‘áƒ˜</p>';
                return;
            }
            
            // Split by selected status
            const selectedThoughts = copingThoughts.filter(t => t.selected === true);
            const unselectedThoughts = copingThoughts.filter(t => t.selected !== true);
            
            let html = '';
            
            // Show selected thoughts at top (áƒ©áƒ”áƒ›áƒ˜ áƒáƒ–áƒ áƒ”áƒ‘áƒ˜)
            if (selectedThoughts.length > 0) {
                html += '<div style="margin-bottom: 20px;"><h4 style="color: #667eea; margin-bottom: 10px;">áƒ©áƒ”áƒ›áƒ˜ áƒáƒ–áƒ áƒ”áƒ‘áƒ˜</h4>';
                selectedThoughts.forEach(t => {
                    const index = copingThoughts.indexOf(t);
                    const icon = 'âœ…';
                    const statusText = '<div class="status-text filled">âœ“ áƒ›áƒáƒœáƒ˜áƒ¨áƒœáƒ£áƒšáƒ˜áƒ</div>';
                    
                    html += `
                        <div class="thought-card" onclick="copingEditThought(${index})">
                            <div class="thought-card-header">
                                <span class="status-icon">${icon}</span>
                                <div style="flex: 1;">
                                    <div class="thought-text">${t.text}</div>
                                    ${statusText}
                                </div>
                                <span class="arrow">â†’</span>
                            </div>
                        </div>
                    `;
                });
                html += '</div>';
            }
            
            // Show unselected thoughts at bottom (áƒ’áƒáƒ•áƒ áƒªáƒ”áƒšáƒ”áƒ‘áƒ£áƒšáƒ˜ áƒáƒ–áƒ áƒ”áƒ‘áƒ˜)
            if (unselectedThoughts.length > 0) {
                html += '<div><h4 style="color: #667eea; margin-bottom: 10px;">áƒ’áƒáƒ•áƒ áƒªáƒ”áƒšáƒ”áƒ‘áƒ£áƒšáƒ˜ áƒáƒ–áƒ áƒ”áƒ‘áƒ˜</h4>';
                unselectedThoughts.forEach(t => {
                    const index = copingThoughts.indexOf(t);
                    const icon = 'âšª';
                    const statusText = '<div class="status-text empty">áƒ›áƒáƒ¡áƒáƒœáƒ˜áƒ¨áƒœáƒ˜áƒ</div>';
                    
                    html += `
                        <div class="thought-card" onclick="copingEditThought(${index})">
                            <div class="thought-card-header">
                                <span class="status-icon">${icon}</span>
                                <div style="flex: 1;">
                                    <div class="thought-text">${t.text}</div>
                                    ${statusText}
                                </div>
                                <span class="arrow">â†’</span>
                            </div>
                        </div>
                    `;
                });
                html += '</div>';
            }
            
            container.innerHTML = html;
        }
        
        function showCopingAddModal() {
            document.getElementById('copingNewThoughtText').value = '';
            document.getElementById('copingAddModal').style.display = 'block';
        }
        
        function copingCloseAddModal() {
            document.getElementById('copingAddModal').style.display = 'none';
        }
        
        function copingConfirmAddThought() {
            const text = document.getElementById('copingNewThoughtText').value.trim();
            
            if (!text) {
                alert('áƒ’áƒ—áƒ®áƒáƒ•áƒ— áƒ¨áƒ”áƒ˜áƒ§áƒ•áƒáƒœáƒáƒ— áƒáƒ–áƒ áƒ˜');
                return;
            }
            
            const newThought = {
                id: 'custom_' + Date.now(),
                text: text,
                whyRight: '',
                whyWrong: '',
                whatToSay: ''
            };
            
            copingThoughts.push(newThought);
            copingSaveData();
            copingRenderThoughts();
            copingCloseAddModal();
            
            copingEditThought(copingThoughts.length - 1);
        }
        
        function copingEditThought(index) {
            copingCurrentThoughtIndex = index;
            const t = copingThoughts[index];
            
            document.getElementById('copingThoughtModalTitle').textContent = t.text;
            document.getElementById('copingWhyRight').value = t.whyRight || '';
            document.getElementById('copingWhyWrong').value = t.whyWrong || '';
            document.getElementById('copingWhatToSay').value = t.whatToSay || '';
            
            document.getElementById('copingDeleteBtn').style.display = 'block';
            document.getElementById('copingThoughtModal').style.display = 'block';
        }
        
        function copingSaveThought() {
            if (copingCurrentThoughtIndex === null) return;
            
            copingThoughts[copingCurrentThoughtIndex].whyRight = document.getElementById('copingWhyRight').value.trim();
            copingThoughts[copingCurrentThoughtIndex].whyWrong = document.getElementById('copingWhyWrong').value.trim();
            copingThoughts[copingCurrentThoughtIndex].whatToSay = document.getElementById('copingWhatToSay').value.trim();
            copingThoughts[copingCurrentThoughtIndex].selected = true; // Mark as selected
            
            copingSaveData();
            alert('áƒ¨áƒ”áƒœáƒáƒ®áƒ£áƒšáƒ˜áƒ! ğŸ’¾');
            copingCloseThoughtModal();
            copingRenderThoughts();
        }
        
        function copingCloseEditModal() {
            copingCloseThoughtModal();
        }
        
        function copingShowDeleteConfirm() {
            if (copingCurrentThoughtIndex === null) return;
            
            const thought = copingThoughts[copingCurrentThoughtIndex];
            const isCustom = thought.id && thought.id.startsWith('custom_');
            const isDefault = !isCustom;
            
            const message = isDefault ?
                'áƒáƒ–áƒ áƒ˜ áƒ“áƒáƒ‘áƒ áƒ£áƒœáƒ“áƒ”áƒ‘áƒ áƒ›áƒáƒ£áƒœáƒ˜áƒ¨áƒœáƒáƒ•áƒ¨áƒ˜. áƒ“áƒáƒ áƒ¬áƒ›áƒ£áƒœáƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ®áƒáƒ áƒ—?' :
                'áƒœáƒáƒ›áƒ“áƒ•áƒ˜áƒšáƒáƒ“ áƒ’áƒ¡áƒ£áƒ áƒ— áƒáƒ› áƒáƒ–áƒ áƒ˜áƒ¡ áƒ¬áƒáƒ¨áƒšáƒ?';
            
            copingShowConfirm(message, (confirmed) => {
                if (!confirmed) return;
                
                if (isDefault) {
                    // For default thoughts: just unselect
                    copingThoughts[copingCurrentThoughtIndex].selected = false;
                    alert('áƒ›áƒáƒœáƒ˜áƒ¨áƒ•áƒœáƒ áƒ’áƒáƒ£áƒ¥áƒ›áƒ”áƒ‘áƒ£áƒšáƒ˜áƒ! âœ“');
                } else {
                    // For custom thoughts: delete from array
                    copingThoughts.splice(copingCurrentThoughtIndex, 1);
                    alert('áƒ¬áƒáƒ¨áƒšáƒ˜áƒšáƒ˜áƒ! âœ“');
                }
                
                copingSaveData();
                copingCloseThoughtModal();
                copingRenderThoughts();
            });
        }
        
        function copingCloseThoughtModal() {
            document.getElementById('copingThoughtModal').style.display = 'none';
            copingCurrentThoughtIndex = null;
        }
        
        function copingToggleMechanism(id) {
            const index = selectedCopingMechanisms.indexOf(id);
            if (index > -1) {
                selectedCopingMechanisms.splice(index, 1);
            } else {
                selectedCopingMechanisms.push(id);
            }
            copingSaveData();
            copingRenderMechanisms();
        }
        
        function copingRenderMechanisms() {
            const container = document.getElementById('copingMechanismsList');
            if (!container) return;
            
            const selected = COPING_MECHANISMS.filter(m => selectedCopingMechanisms.includes(m.id));
            const unselected = COPING_MECHANISMS.filter(m => !selectedCopingMechanisms.includes(m.id));
            
            const sorted = [...selected, ...unselected];
            
            let html = '';
            sorted.forEach(m => {
                const isSelected = selectedCopingMechanisms.includes(m.id);
                const selectedClass = isSelected ? 'selected' : '';
                const checkmark = isSelected ? 'âœ“' : '';
                
                html += `
                    <div class="mechanism-item ${selectedClass}" onclick="copingToggleMechanism(${m.id})">
                        <div class="mechanism-checkbox">${checkmark}</div>
                        <span class="mechanism-icon">${m.icon}</span>
                        <div class="mechanism-text">${m.text}</div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }
        
        function copingShowConfirm(message, callback) {
            document.getElementById('copingConfirmMessage').textContent = message;
            copingDeleteConfirmCallback = callback;
            document.getElementById('copingConfirmModal').style.display = 'block';
        }
        
        function copingConfirmDelete(result) {
            document.getElementById('copingConfirmModal').style.display = 'none';
            if (copingDeleteConfirmCallback) {
                copingDeleteConfirmCallback(result);
                copingDeleteConfirmCallback = null;
            }
        }
        
        // ============ MY SPACE FUNCTIONS ============
        
        function showMySpace() {
            showSection('mySpace');
            showMySpaceTab('gratitude');
            loadGratitudeEntries();
            loadPositiveMoments();
            loadSatisfactionEntries();
        }
        
        function showMySpaceTab(tab) {
            // Hide all tabs
            document.querySelectorAll('.myspace-tab').forEach(t => t.style.display = 'none');
            document.querySelectorAll('.tab-button').forEach(b => b.classList.remove('active'));
            
            // Show selected tab
            if (tab === 'gratitude') {
                document.getElementById('gratitudeTab').style.display = 'block';
                document.getElementById('tabGratitude').classList.add('active');
            } else if (tab === 'positive') {
                document.getElementById('positiveTab').style.display = 'block';
                document.getElementById('tabPositive').classList.add('active');
            } else if (tab === 'satisfaction') {
                document.getElementById('satisfactionTab').style.display = 'block';
                document.getElementById('tabSatisfaction').classList.add('active');
            }
        }
        
        function addGratitudeEntry() {
            const today = new Date().toISOString().split('T')[0];
            const u = app.users[user.email];
            
            // Initialize gratitude array
            if (!u.gratitudeEntries) u.gratitudeEntries = [];
            
            // Check if already added today (for info display)
            const todayEntries = u.gratitudeEntries.filter(e => e.date === today);
            const isFirstToday = todayEntries.length === 0;
            
            // Open modal
            document.getElementById('gratitudeModal').style.display = 'block';
            
            // Clear previous inputs
            document.getElementById('gratitudeItem1').value = '';
            document.getElementById('gratitudeItem2').value = '';
            document.getElementById('gratitudeItem3').value = '';
            
            // Show motivational text only first time today (before any save)
            if (isFirstToday) {
                document.getElementById('gratitudeMotivationalText').style.display = 'block';
                document.getElementById('gratitudeInputForm').style.display = 'none';
            } else {
                document.getElementById('gratitudeMotivationalText').style.display = 'none';
                document.getElementById('gratitudeInputForm').style.display = 'block';
            }
        }
        
        function skipGratitudeMotivation() {
            document.getElementById('gratitudeMotivationalText').style.display = 'none';
            document.getElementById('gratitudeInputForm').style.display = 'block';
        }
        
        function continueToGratitudeInput() {
            document.getElementById('gratitudeMotivationalText').style.display = 'none';
            document.getElementById('gratitudeInputForm').style.display = 'block';
        }
        
        function closeGratitudeModal() {
            document.getElementById('gratitudeModal').style.display = 'none';
        }
        
        function saveGratitudeEntry() {
            const item1 = document.getElementById('gratitudeItem1').value.trim();
            const item2 = document.getElementById('gratitudeItem2').value.trim();
            const item3 = document.getElementById('gratitudeItem3').value.trim();
            
            if (!item1 || !item2 || !item3) {
                alert('áƒ’áƒ—áƒ®áƒáƒ•áƒ— áƒ¨áƒ”áƒáƒ•áƒ¡áƒáƒ— áƒ§áƒ•áƒ”áƒšáƒ áƒ•áƒ”áƒšáƒ˜!');
                return;
            }
            
            const today = getTodayLocal(); // Use local timezone for My Space
            const u = app.users[user.email];
            
            // Save
            u.gratitudeEntries.push({
                date: today,
                items: [item1, item2, item3]
            });
            
            // SYNC: Update weeklyProgress for gratitude goal
            syncSpaceActivityToGoal(u, 'gratitude');
            
            save();
            closeGratitudeModal();
            loadGratitudeEntries();
        }
        
        // Helper function to sync space activity to goal's weeklyProgress
        function syncSpaceActivityToGoal(user, spaceType) {
            if (!user.goals) return;
            
            // Find the goal with this spaceType
            const goal = user.goals.find(g => g.type === 'space' && g.spaceType === spaceType);
            if (!goal) return; // Goal doesn't exist
            
            // Get current week and day
            const today = new Date();
            const currentWeekKey = getWeekKey(today);
            const dayOfWeek = (today.getDay() + 6) % 7; // Monday=0
            
            // Initialize weeklyProgress if needed
            if (!goal.weeklyProgress) goal.weeklyProgress = {};
            if (!goal.weeklyProgress[currentWeekKey]) {
                goal.weeklyProgress[currentWeekKey] = [false, false, false, false, false, false, false];
            }
            
            // Mark today as completed
            goal.weeklyProgress[currentWeekKey][dayOfWeek] = true;
        }
        
        function loadGratitudeEntries() {
            const u = app.users[user.email];
            if (!u.gratitudeEntries) u.gratitudeEntries = [];
            
            const list = document.getElementById('gratitudeList');
            if (!list) return;
            
            if (u.gratitudeEntries.length === 0) {
                list.innerHTML = '<p style="color: #999; text-align: center; padding: 20px;">áƒ¯áƒ”áƒ  áƒáƒ  áƒ’áƒáƒ¥áƒ•áƒ¡ áƒ©áƒáƒœáƒáƒ¬áƒ”áƒ áƒ”áƒ‘áƒ˜</p>';
                return;
            }
            
            let html = '';
            // Show most recent first
            const entries = [...u.gratitudeEntries].reverse();
            
            entries.forEach(entry => {
                html += `
                    <div style="background: white; border-radius: 12px; padding: 15px; margin-bottom: 15px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <div style="color: #666; font-size: 14px; margin-bottom: 10px;">ğŸ“… ${entry.date}</div>
                        <ol style="margin: 0; padding-left: 20px;">
                            ${entry.items.map(item => `<li style="color: #333; margin-bottom: 5px;">${item}</li>`).join('')}
                        </ol>
                    </div>
                `;
            });
            
            list.innerHTML = html;
        }
        
        let tempPositiveMoments = []; // Temporary array for current session
        
        function addPositiveMoment() {
            const today = new Date().toISOString().split('T')[0];
            const u = app.users[user.email];
            
            // Initialize array
            if (!u.positiveMoments) u.positiveMoments = [];
            
            // Check if already added today
            const todayMoments = u.positiveMoments.filter(m => m.date === today);
            const isFirstToday = todayMoments.length === 0;
            
            // Reset temp array
            tempPositiveMoments = [];
            
            // Open modal
            document.getElementById('positiveModal').style.display = 'block';
            
            // Clear container
            document.getElementById('positiveMomentsContainer').innerHTML = '';
            
            // Show motivational text only first time today
            if (isFirstToday) {
                document.getElementById('positiveMotivationalText').style.display = 'block';
                document.getElementById('positiveInputForm').style.display = 'none';
            } else {
                document.getElementById('positiveMotivationalText').style.display = 'none';
                document.getElementById('positiveInputForm').style.display = 'block';
                addPositiveEntry(); // Add first entry automatically
            }
        }
        
        function continueToPositiveInput() {
            document.getElementById('positiveMotivationalText').style.display = 'none';
            document.getElementById('positiveInputForm').style.display = 'block';
            addPositiveEntry(); // Add first entry
        }
        
        function addPositiveEntry() {
            const container = document.getElementById('positiveMomentsContainer');
            const entryIndex = tempPositiveMoments.length;
            
            const entryDiv = document.createElement('div');
            entryDiv.className = 'positive-entry';
            entryDiv.style.cssText = 'background: white; border-radius: 15px; padding: 20px; margin-bottom: 15px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);';
            entryDiv.setAttribute('data-index', entryIndex);
            
            entryDiv.innerHTML = `
                <div style="color: #374151; font-weight: 600; margin-bottom: 15px; font-size: 16px;">áƒ›áƒáƒ›áƒ”áƒœáƒ¢áƒ˜ ${entryIndex + 1}</div>
                
                <textarea 
                    class="moment-text" 
                    placeholder="áƒáƒ¦áƒ¬áƒ”áƒ áƒ” áƒáƒáƒ–áƒ˜áƒ¢áƒ˜áƒ£áƒ áƒ˜ áƒ›áƒáƒ›áƒ”áƒœáƒ¢áƒ˜..." 
                    style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 10px; font-size: 15px; font-family: inherit; resize: vertical; min-height: 80px; box-sizing: border-box; margin-bottom: 15px;"
                ></textarea>
                
                <div style="margin-bottom: 10px;">
                    <div style="color: #666; margin-bottom: 10px; font-size: 14px;">áƒ áƒáƒ›áƒ“áƒ”áƒœáƒáƒ“ áƒ¡áƒáƒ¡áƒ˜áƒáƒ›áƒáƒ•áƒœáƒ áƒ˜áƒ§áƒ? (1-10)</div>
                    <div style="display: flex; gap: 4px; justify-content: space-between;">
                        ${[1,2,3,4,5,6,7,8,9].map(num => 
                            `<button type="button" class="rating-btn" data-rating="${num}" onclick="selectRating(${entryIndex}, ${num}, this)" style="padding: 8px 10px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 14px; font-weight: 600; color: #666; transition: all 0.2s; flex: 1; min-width: 0;">${num}</button>`
                        ).join('')}
                        <button type="button" class="rating-btn" data-rating="10" onclick="selectRating(${entryIndex}, 10, this)" style="padding: 8px 10px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 14px; font-weight: 600; color: #666; transition: all 0.2s; flex: 1; min-width: 0; display: flex; justify-content: center; align-items: center;">10</button>
                    </div>
                    <input type="hidden" class="rating-value" value="">
                </div>
            `;
            
            container.appendChild(entryDiv);
            
            // Add to temp array with empty values
            tempPositiveMoments.push({ text: '', rating: null });
            
            // Scroll to bottom
            container.scrollTop = container.scrollHeight;
        }
        
        function selectRating(entryIndex, rating, button) {
            // Update temp array
            if (tempPositiveMoments[entryIndex]) {
                tempPositiveMoments[entryIndex].rating = rating;
            }
            
            // Visual feedback - deselect all buttons in this entry
            const entry = button.closest('.positive-entry');
            entry.querySelectorAll('.rating-btn').forEach(btn => {
                btn.style.background = 'white';
                btn.style.borderColor = '#e5e7eb';
                btn.style.color = '#666';
            });
            
            // Select this button - neutral gray
            button.style.background = '#f3f4f6';
            button.style.borderColor = '#9ca3af';
            button.style.color = '#374151';
            button.style.fontWeight = '700';
        }
        
        function closePositiveModal() {
            document.getElementById('positiveModal').style.display = 'none';
            tempPositiveMoments = [];
        }
        
        function saveAllPositiveMoments() {
            // Collect all text inputs
            const entries = document.querySelectorAll('.positive-entry');
            entries.forEach((entry, index) => {
                const text = entry.querySelector('.moment-text').value.trim();
                if (tempPositiveMoments[index]) {
                    tempPositiveMoments[index].text = text;
                }
            });
            
            
            // Check for entries with text but no rating
            const entriesWithTextNoRating = tempPositiveMoments.filter(m => m.text && !m.rating);
            
            if (entriesWithTextNoRating.length > 0) {
                // Find first incomplete entry index
                let firstIncompleteIndex = -1;
                for (let i = 0; i < tempPositiveMoments.length; i++) {
                    if (tempPositiveMoments[i].text && !tempPositiveMoments[i].rating) {
                        firstIncompleteIndex = i;
                        break;
                    }
                }
                
                if (firstIncompleteIndex >= 0) {
                    // Scroll to first incomplete entry
                    const allEntries = document.querySelectorAll('.positive-entry');
                    const targetEntry = allEntries[firstIncompleteIndex];
                    
                    if (targetEntry) {
                        targetEntry.scrollIntoView({ behavior: 'smooth', block: 'center' });
                        
                        // Highlight rating buttons with red border + shake
                        const ratingButtons = targetEntry.querySelectorAll('.rating-btn');
                        ratingButtons.forEach(btn => {
                            btn.style.border = '2px solid #ef4444';
                            btn.style.animation = 'shake 0.5s';
                        });
                        
                        // Add shake animation if not exists
                        if (!document.getElementById('shakeAnimation')) {
                            const style = document.createElement('style');
                            style.id = 'shakeAnimation';
                            style.textContent = `
                                @keyframes shake {
                                    0%, 100% { transform: translateX(0); }
                                    25% { transform: translateX(-5px); }
                                    75% { transform: translateX(5px); }
                                }
                            `;
                            document.head.appendChild(style);
                        }
                        
                        // Remove highlight after 2 seconds
                        setTimeout(() => {
                            ratingButtons.forEach(btn => {
                                btn.style.border = '2px solid #e5e7eb';
                                btn.style.animation = '';
                            });
                        }, 2000);
                    }
                }
                
                return; // Don't save
            }
            
            // Validate - at least one complete entry (text + rating)
            const validEntries = tempPositiveMoments.filter(m => m.text && m.rating);
            
            if (validEntries.length === 0) {
                alert('áƒ’áƒ—áƒ®áƒáƒ•áƒ— áƒ“áƒáƒáƒ›áƒáƒ¢áƒáƒ— áƒ›áƒ˜áƒœáƒ˜áƒ›áƒ£áƒ› áƒ”áƒ áƒ—áƒ˜ áƒ›áƒáƒ›áƒ”áƒœáƒ¢áƒ˜ áƒ¢áƒ”áƒ¥áƒ¡áƒ¢áƒ˜áƒ—áƒ áƒ“áƒ áƒ¨áƒ”áƒ¤áƒáƒ¡áƒ”áƒ‘áƒ˜áƒ—!');
                return;
            }
            
            const today = getTodayLocal(); // Use local timezone for My Space
            const u = app.users[user.email];
            
            // Initialize array
            if (!u.positiveMoments) u.positiveMoments = [];
            
            // Save all valid entries
            validEntries.forEach(entry => {
                u.positiveMoments.push({
                    date: today,
                    moment: entry.text,
                    rating: entry.rating,
                    timestamp: new Date().toISOString()
                });
            });
            
            // SYNC: Update weeklyProgress for positive goal (counted as one day activity)
            syncSpaceActivityToGoal(u, 'positive');
            
            save();
            closePositiveModal();
            loadPositiveMoments();
            
            alert(`âœ“ ${validEntries.length} áƒ›áƒáƒ›áƒ”áƒœáƒ¢áƒ˜ áƒ¬áƒáƒ áƒ›áƒáƒ¢áƒ”áƒ‘áƒ˜áƒ— áƒ¨áƒ”áƒ˜áƒœáƒáƒ®áƒ!`);
        }
        
        function loadPositiveMoments() {
            const u = app.users[user.email];
            if (!u.positiveMoments) u.positiveMoments = [];
            
            const list = document.getElementById('positiveList');
            if (!list) return;
            
            if (u.positiveMoments.length === 0) {
                list.innerHTML = '<p style="color: #999; text-align: center; padding: 20px;">áƒ¯áƒ”áƒ  áƒáƒ  áƒ’áƒáƒ¥áƒ•áƒ¡ áƒ©áƒáƒœáƒáƒ¬áƒ”áƒ áƒ”áƒ‘áƒ˜</p>';
                return;
            }
            
            // Group by date
            const byDate = {};
            u.positiveMoments.forEach(m => {
                if (!byDate[m.date]) byDate[m.date] = [];
                byDate[m.date].push(m);
            });
            
            // Sort dates descending
            const dates = Object.keys(byDate).sort().reverse();
            
            let html = '';
            dates.forEach(date => {
                const moments = byDate[date];
                html += `
                    <div style="background: white; border-radius: 15px; padding: 20px; margin-bottom: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                        <div style="color: #667eea; font-size: 15px; font-weight: 600; margin-bottom: 15px; border-bottom: 2px solid #f0f4ff; padding-bottom: 10px;">ğŸ“… ${date}</div>
                `;
                
                moments.forEach((m, index) => {
                    const rating = m.rating || 'â€”';
                    
                    html += `
                        <div style="margin-bottom: ${index < moments.length - 1 ? '12px' : '0'}; padding-bottom: ${index < moments.length - 1 ? '12px' : '0'}; border-bottom: ${index < moments.length - 1 ? '1px solid #f3f4f6' : 'none'};">
                            <div style="display: flex; justify-content: space-between; align-items: start; gap: 10px;">
                                <div style="flex: 1;">
                                    <span style="color: #9ca3af; font-size: 14px; font-weight: 600;">${index + 1}.</span>
                                    <span style="color: #333; font-size: 15px; line-height: 1.6;"> ${m.moment}</span>
                                </div>
                                <div style="background: #f3f4f6; color: #6b7280; padding: 6px 12px; border-radius: 20px; font-size: 14px; font-weight: 600; white-space: nowrap;">
                                    ${rating}/10
                                </div>
                            </div>
                        </div>
                    `;
                });
                
                html += '</div>';
            });
            
            list.innerHTML = html;
        }
        
        // Show profile
        function showProfile() {
            showSection('profile');
        }
        
        // ============ MY GOALS FUNCTIONS ============
        
        function showMyGoals() {
            showSection('myGoals');
            loadGoalsList();
        }
        
        function showMyGoalsContact() {
            showSection('myGoalsContact');
            loadGoalsContact();
        }
        
        function loadGoalsContact() {
            const u = app.users[user.email];
            const container = document.getElementById('goalsContactContainer');
            const today = new Date().toISOString().split('T')[0];
            
            if (!u.goals || u.goals.length === 0) {
                container.innerHTML = `
                    <p style="color: #999; text-align: center; padding: 40px 20px;">
                        áƒ¯áƒ”áƒ  áƒáƒ  áƒ’áƒáƒ¥áƒ•áƒ¡ áƒ“áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ›áƒ˜áƒ–áƒœáƒ”áƒ‘áƒ˜<br><br>
                        áƒ’áƒáƒ“áƒáƒ“áƒ˜ "áƒ©áƒ”áƒ›áƒ˜ áƒ›áƒ˜áƒ–áƒœáƒ”áƒ‘áƒ˜"-áƒ–áƒ” áƒáƒ˜áƒ áƒ•áƒ”áƒšáƒ˜ áƒ›áƒ˜áƒ–áƒœáƒ˜áƒ¡ áƒ“áƒáƒ¡áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒšáƒáƒ“!
                    </p>
                `;
                return;
            }
            
            // Filter only custom goals (not space activities)
            const customGoals = u.goals.filter(g => g.type !== 'space');
            
            if (customGoals.length === 0) {
                container.innerHTML = `
                    <p style="color: #999; text-align: center; padding: 40px 20px;">
                        áƒ¯áƒ”áƒ  áƒáƒ  áƒ’áƒáƒ¥áƒ•áƒ¡ áƒ“áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒáƒ˜áƒ áƒáƒ“áƒ˜ áƒ›áƒ˜áƒ–áƒœáƒ”áƒ‘áƒ˜<br><br>
                        áƒ’áƒáƒ“áƒáƒ“áƒ˜ "áƒ©áƒ”áƒ›áƒ˜ áƒ›áƒ˜áƒ–áƒœáƒ”áƒ‘áƒ˜"-áƒ–áƒ” áƒ›áƒ˜áƒ–áƒœáƒ˜áƒ¡ áƒ“áƒáƒ¡áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒšáƒáƒ“!
                    </p>
                `;
                return;
            }
            
            // Initialize today's progress if not exists
            if (!u.goalsContactProgress) u.goalsContactProgress = {};
            if (!u.goalsContactProgress[today]) u.goalsContactProgress[today] = {};
            
            // Separate completed and incomplete goals
            const incompleteGoals = customGoals.filter(goal => !u.goalsContactProgress[today][goal.id]);
            const completedGoals = customGoals.filter(goal => u.goalsContactProgress[today][goal.id]);
            
            let html = `
                <div style="background: linear-gradient(135deg, #EDE9FE 0%, #DDD6FE 100%); border-radius: 12px; padding: 15px; margin-bottom: 20px; text-align: center;">
                    <p style="color: #5B21B6; font-size: 15px; font-weight: 500; margin: 0;">áƒ›áƒáƒœáƒ˜áƒ¨áƒœáƒ” áƒ˜áƒ¡ áƒ›áƒ˜áƒ–áƒœáƒ”áƒ‘áƒ˜, áƒ áƒáƒ›áƒšáƒ”áƒ‘áƒ–áƒ”áƒª áƒ“áƒ¦áƒ”áƒ¡ áƒ˜áƒ›áƒ£áƒ¨áƒáƒ•áƒ”</p>
                </div>
            `;
            
            // Incomplete goals
            incompleteGoals.forEach((goal) => {
                const goalIndex = u.goals.indexOf(goal);
                
                html += `
                    <div style="background: white; border: 2px solid #e5e7eb; border-radius: 12px; padding: 15px; margin-bottom: 15px;">
                        <label style="display: flex; align-items: start; gap: 15px; cursor: pointer;">
                            <input 
                                type="checkbox"
                                onchange="toggleGoalContact(${goalIndex})"
                                style="width: 24px; height: 24px; margin-top: 2px; cursor: pointer;"
                            >
                            <div style="flex: 1;">
                                <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
                                    <span style="font-size: 24px;">${goal.emoji}</span>
                                    <h3 style="color: #374151; margin: 0; font-size: 18px;">${goal.name}</h3>
                                </div>
                                <p style="color: #6b7280; font-size: 14px; margin: 0;">${goal.dailyAction || 'áƒ¨áƒ”áƒ•áƒ¡áƒ”áƒ‘áƒ'}</p>
                            </div>
                        </label>
                    </div>
                `;
            });
            
            // Completed goals section
            if (completedGoals.length > 0) {
                html += `
                    <div style="border-top: 2px dashed #e5e7eb; margin: 30px 0 20px 0; padding-top: 20px;">
                        <h3 style="color: #10b981; font-size: 16px; font-weight: 600; margin-bottom: 15px;">âœ… áƒ¨áƒ”áƒ¡áƒ áƒ£áƒšáƒ”áƒ‘áƒ£áƒšáƒ˜:</h3>
                `;
                
                completedGoals.forEach((goal) => {
                    html += `
                        <div style="background: linear-gradient(135deg, #D1FAE5 0%, #A7F3D0 100%); border: 2px solid #10b981; border-radius: 12px; padding: 15px; margin-bottom: 10px; opacity: 0.8;">
                            <div style="display: flex; align-items: start; gap: 15px;">
                                <span style="font-size: 24px; margin-top: 2px;">âœ…</span>
                                <div style="flex: 1;">
                                    <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
                                        <span style="font-size: 24px;">${goal.emoji}</span>
                                        <h3 style="color: #065F46; margin: 0; font-size: 18px;">${goal.name}</h3>
                                    </div>
                                    <p style="color: #047857; font-size: 14px; margin: 0;">${goal.dailyAction || 'áƒ¨áƒ”áƒ•áƒ¡áƒ”áƒ‘áƒ'}</p>
                                </div>
                            </div>
                        </div>
                    `;
                });
                
                html += `</div>`;
            }
            
            container.innerHTML = html;
        }
        
        function toggleGoalContact(index) {
            const u = app.users[user.email];
            const today = new Date().toISOString().split('T')[0];
            const goal = u.goals[index];
            
            if (!u.goalsContactProgress) u.goalsContactProgress = {};
            if (!u.goalsContactProgress[today]) u.goalsContactProgress[today] = {};
            
            // Mark as completed in contact
            u.goalsContactProgress[today][goal.id] = true;
            
            // SYNC: Update weeklyProgress for "My Goals" page
            const currentWeekKey = getWeekKey(new Date());
            if (!goal.weeklyProgress) goal.weeklyProgress = {};
            if (!goal.weeklyProgress[currentWeekKey]) {
                goal.weeklyProgress[currentWeekKey] = [false, false, false, false, false, false, false];
            }
            
            // Get day of week (0=Monday, 6=Sunday)
            const dayOfWeek = (new Date().getDay() + 6) % 7; // Convert to Monday=0
            goal.weeklyProgress[currentWeekKey][dayOfWeek] = true;
            
            save();
            
            // Reload to show in completed section
            loadGoalsContact();
        }
        
        function saveGoalsContact() {
            save();
            showSection('contact');
        }
        
        function finalizeGoalsContact() {
            const u = app.users[user.email];
            const today = new Date().toISOString().split('T')[0];
            
            if (!u.goalsContactFinalized) u.goalsContactFinalized = {};
            u.goalsContactFinalized[today] = true;
            
            save();
            updateContactCards(); // Update to hide the goals card
            showSection('contact');
        }
        
        function showFieldError(fieldId, message) {
            const field = document.getElementById(fieldId);
            field.style.borderColor = '#ef4444';
            field.style.borderWidth = '2px';
            field.classList.add('error-border');
            
            // Add error message below field
            const errorMsg = document.createElement('div');
            errorMsg.className = 'error-message';
            errorMsg.style.color = '#ef4444';
            errorMsg.style.fontSize = '14px';
            errorMsg.style.marginTop = '5px';
            errorMsg.textContent = 'âš ï¸ ' + message;
            
            field.parentElement.appendChild(errorMsg);
            
            // Scroll to first error
            if (document.querySelectorAll('.error-border').length === 1) {
                field.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
        }
        
        function openAddGoalModal() {
            document.getElementById('addGoalModal').style.display = 'block';
            // Reset form
            document.getElementById('goalName').value = '';
            document.getElementById('goalDescription').value = '';
            document.getElementById('goalDailyAction').value = '';
            document.getElementById('goalFrequency').value = '3';
            
            // Reset day buttons
            document.querySelectorAll('.day-button').forEach(btn => {
                btn.classList.remove('active');
                btn.style.background = 'white';
                btn.style.color = '#374151';
                btn.style.borderColor = '#e5e7eb';
            });
            
            document.querySelector('input[name="duration"][value="3"]').checked = true;
            document.getElementById('customDuration').value = '';
            document.getElementById('goalConnection').value = '';
        }
        
        function closeAddGoalModal() {
            document.getElementById('addGoalModal').style.display = 'none';
        }
        
        // ============ MY SPACE ACTIVITIES FUNCTIONS ============
        
        function openMySpaceActivitiesModal() {
            document.getElementById('mySpaceActivitiesModal').style.display = 'block';
            
            // Reset all checkboxes and days
            document.getElementById('activityGratitude').checked = false;
            document.getElementById('activityPositive').checked = false;
            document.getElementById('activitySatisfaction').checked = false;
            
            document.getElementById('gratitudeSpecificDays').checked = false;
            document.getElementById('positiveSpecificDays').checked = false;
            document.getElementById('satisfactionSpecificDays').checked = false;
            
            document.getElementById('gratitudeDaysContainer').style.display = 'none';
            document.getElementById('positiveDaysContainer').style.display = 'none';
            document.getElementById('satisfactionDaysContainer').style.display = 'none';
            
            // Reset day buttons
            document.querySelectorAll('.activity-day-btn').forEach(btn => {
                btn.classList.remove('active');
                btn.style.background = 'white';
                btn.style.color = '#374151';
                btn.style.borderColor = '#e5e7eb';
            });
            
            // Reset frequencies to defaults
            document.getElementById('gratitudeFrequency').value = '5';
            document.getElementById('positiveFrequency').value = '7';
            document.getElementById('satisfactionFrequency').value = '3';
        }
        
        function closeMySpaceActivitiesModal() {
            document.getElementById('mySpaceActivitiesModal').style.display = 'none';
        }
        
        function toggleActivityDays(activity) {
            const checked = document.getElementById(`${activity}SpecificDays`).checked;
            document.getElementById(`${activity}DaysContainer`).style.display = checked ? 'block' : 'none';
        }
        
        function toggleActivityDayButton(activity, day, button) {
            const isActive = button.classList.contains('active');
            
            if (isActive) {
                button.classList.remove('active');
                button.style.background = 'white';
                button.style.color = '#374151';
                button.style.borderColor = '#e5e7eb';
            } else {
                button.classList.add('active');
                button.style.background = 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)';
                button.style.color = 'white';
                button.style.borderColor = '#f093fb';
            }
        }
        
        function saveMySpaceActivities() {
            try {
                const u = app.users[user.email];
                if (!u.goals) u.goals = [];
                
                const activities = [
                    {
                        id: 'gratitude',
                        checkbox: 'activityGratitude',
                        name: 'áƒ›áƒáƒ“áƒšáƒ˜áƒ”áƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ“áƒ¦áƒ˜áƒ£áƒ áƒ˜',
                        emoji: 'ğŸ™',
                        frequency: 'gratitudeFrequency',
                        specificDays: 'gratitudeSpecificDays',
                        dayClass: 'gratitude-day',
                        connection: 'áƒ›áƒáƒ“áƒšáƒ˜áƒ”áƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ“áƒ¦áƒ˜áƒ£áƒ áƒ˜ áƒ›áƒ”áƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ áƒáƒáƒ–áƒ˜áƒ¢áƒ˜áƒ£áƒ  áƒ”áƒ›áƒáƒªáƒ˜áƒ”áƒ‘áƒ–áƒ” áƒ¤áƒáƒ™áƒ£áƒ¡áƒ˜áƒ áƒ”áƒ‘áƒáƒ¨áƒ˜ áƒ“áƒ áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜ áƒ—áƒáƒ•áƒ˜áƒ¡ áƒ“áƒáƒ¤áƒáƒ¡áƒ”áƒ‘áƒáƒ¨áƒ˜, áƒ áƒáƒª áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒáƒ•áƒáƒœáƒ˜ áƒœáƒáƒ¬áƒ˜áƒšáƒ˜áƒ.'
                    },
                    {
                        id: 'positive',
                        checkbox: 'activityPositive',
                        name: 'áƒáƒáƒ–áƒ˜áƒ¢áƒ˜áƒ£áƒ áƒ˜ áƒ›áƒáƒ›áƒ”áƒœáƒ¢áƒ”áƒ‘áƒ˜',
                        emoji: 'âœ¨',
                        frequency: 'positiveFrequency',
                        specificDays: 'positiveSpecificDays',
                        dayClass: 'positive-day',
                        connection: 'áƒáƒáƒ–áƒ˜áƒ¢áƒ˜áƒ£áƒ áƒ˜ áƒ›áƒáƒ›áƒ”áƒœáƒ¢áƒ”áƒ‘áƒ˜áƒ¡ áƒáƒ›áƒáƒªáƒœáƒáƒ‘áƒ áƒ›áƒ”áƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ áƒ“áƒáƒ•áƒ˜áƒœáƒáƒ®áƒ áƒ™áƒáƒ áƒ’áƒ˜ áƒ áƒáƒª áƒªáƒ®áƒáƒ•áƒ áƒ”áƒ‘áƒáƒ¨áƒ˜ áƒ›áƒáƒ¥áƒ•áƒ¡ áƒ“áƒ áƒ’áƒáƒ•áƒ–áƒáƒ áƒ“áƒ áƒáƒáƒ¢áƒ˜áƒ›áƒ˜áƒ–áƒ›áƒ˜, áƒ áƒáƒª áƒ¡áƒ˜áƒ¤áƒ®áƒ˜áƒ–áƒšáƒ˜áƒ¡ áƒ¨áƒ”áƒœáƒáƒ áƒ©áƒ£áƒœáƒ”áƒ‘áƒáƒ¨áƒ˜ áƒ›áƒ”áƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ.'
                    },
                    {
                        id: 'satisfaction',
                        checkbox: 'activitySatisfaction',
                        name: 'áƒ—áƒ•áƒ˜áƒ—áƒ™áƒ›áƒáƒ§áƒáƒ¤áƒ˜áƒšáƒ”áƒ‘áƒ',
                        emoji: 'ğŸ’',
                        frequency: 'satisfactionFrequency',
                        specificDays: 'satisfactionSpecificDays',
                        dayClass: 'satisfaction-day',
                        connection: 'áƒ—áƒ•áƒ˜áƒ—áƒ™áƒ›áƒáƒ§áƒáƒ¤áƒ˜áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ áƒ”áƒ¤áƒšáƒ”áƒ¥áƒ¡áƒ˜áƒ áƒ›áƒ”áƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ áƒ¨áƒ”áƒ•áƒáƒ¤áƒáƒ¡áƒ áƒ©áƒ”áƒ›áƒ˜ áƒ›áƒ˜áƒ¦áƒ¬áƒ”áƒ•áƒ”áƒ‘áƒ˜ áƒ“áƒ áƒ’áƒáƒ•áƒ–áƒáƒ áƒ“áƒ áƒ—áƒ•áƒ˜áƒ—áƒ¨áƒ”áƒ¤áƒáƒ¡áƒ”áƒ‘áƒ, áƒ áƒáƒª áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ¡áƒáƒ¤áƒ£áƒ«áƒ•áƒ”áƒšáƒ˜áƒ.'
                    }
                ];
                
                let addedCount = 0;
                
                activities.forEach(activity => {
                    const isChecked = document.getElementById(activity.checkbox).checked;
                    
                    if (isChecked) {
                        // Check if this space activity already exists
                        const alreadyExists = u.goals.some(g => g.type === 'space' && g.spaceType === activity.id);
                        
                        if (alreadyExists) {
                            return; // Skip this activity
                        }
                        
                        // Get frequency
                        const frequency = parseInt(document.getElementById(activity.frequency).value);
                        
                        // Get specific days if selected
                        let specificDays = null;
                        const hasSpecificDays = document.getElementById(activity.specificDays).checked;
                        
                        if (hasSpecificDays) {
                            specificDays = [];
                            document.querySelectorAll(`.${activity.dayClass}.active`).forEach(btn => {
                                specificDays.push(btn.getAttribute('data-day'));
                            });
                        }
                        
                        // Create goal object
                        const goal = {
                            id: `space_${activity.id}_${Date.now()}`,
                            type: 'space',
                            spaceType: activity.id,
                            name: activity.name,
                            emoji: activity.emoji,
                            dailyAction: 'áƒ¨áƒ”áƒ•áƒ¡áƒ”áƒ‘áƒ',
                            perWeek: frequency,
                            specificDays: specificDays,
                            duration: { type: 'unlimited' },
                            startDate: new Date().toISOString().split('T')[0],
                            endDate: null,
                            connection: activity.connection,
                            weeklyProgress: {},
                            // Calculate first week max days
                            firstWeekMaxDays: (() => {
                                const startDate = new Date();
                                const startDayOfWeek = (startDate.getDay() + 6) % 7;
                                const daysRemainingInWeek = 7 - startDayOfWeek;
                                const proportionalTarget = (frequency / 7) * daysRemainingInWeek;
                                let maxDays = Math.floor(proportionalTarget);
                                if (maxDays === 0) maxDays = 1;
                                return maxDays;
                            })()
                        };
                        
                        u.goals.push(goal);
                        addedCount++;
                    }
                });
                
                if (addedCount === 0) {
                    alert('áƒ’áƒ—áƒ®áƒáƒ•áƒ— áƒáƒ˜áƒ áƒ©áƒ˜áƒáƒ— áƒ›áƒ˜áƒœáƒ˜áƒ›áƒ£áƒ› 1 áƒáƒ¥áƒ¢áƒ˜áƒ•áƒáƒ‘áƒ');
                    return;
                }
                
                save();
                closeMySpaceActivitiesModal();
                loadGoalsList();
                
            } catch (error) {
                console.error('Error in saveMySpaceActivities:', error);
                alert('áƒ¨áƒ”áƒªáƒ“áƒáƒ›áƒ áƒáƒ¥áƒ¢áƒ˜áƒ•áƒáƒ‘áƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒœáƒáƒ®áƒ•áƒ˜áƒ¡áƒáƒ¡: ' + error.message);
            }
        }
        
        function toggleDayButton(day, button) {
            const isActive = button.classList.contains('active');
            
            if (isActive) {
                // Deactivate
                button.classList.remove('active');
                button.style.background = 'white';
                button.style.color = '#374151';
                button.style.borderColor = '#e5e7eb';
            } else {
                // Activate
                button.classList.add('active');
                button.style.background = 'linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%)';
                button.style.color = 'white';
                button.style.borderColor = '#14b8a6';
            }
            
            // Update frequency count
            const activeCount = document.querySelectorAll('.day-button.active').length;
            document.getElementById('goalFrequency').value = activeCount;
        }
        
        function saveGoal() {
            try {
                // Clear previous errors
                document.querySelectorAll('.error-border').forEach(el => {
                    el.style.borderColor = '#e5e7eb';
                    el.classList.remove('error-border');
                });
                document.querySelectorAll('.error-message').forEach(el => el.remove());
                
                const name = document.getElementById('goalName').value.trim();
                const description = document.getElementById('goalDescription').value.trim();
                const dailyAction = document.getElementById('goalDailyAction').value.trim();
                const connection = document.getElementById('goalConnection').value.trim();
            
            // Validation with visual feedback
            let hasError = false;
            
            if (!name) {
                showFieldError('goalName', 'áƒ’áƒ—áƒ®áƒáƒ•áƒ— áƒ¨áƒ”áƒ˜áƒ§áƒ•áƒáƒœáƒáƒ— áƒ›áƒ˜áƒ–áƒœáƒ˜áƒ¡ áƒ¡áƒáƒ®áƒ”áƒšáƒ˜');
                hasError = true;
            }
            if (!dailyAction) {
                showFieldError('goalDailyAction', 'áƒ’áƒ—áƒ®áƒáƒ•áƒ— áƒ›áƒ˜áƒ£áƒ—áƒ˜áƒ—áƒáƒ— áƒ§áƒáƒ•áƒ”áƒšáƒ“áƒ¦áƒ˜áƒ£áƒ áƒ˜ áƒ›áƒáƒ¥áƒ›áƒ”áƒ“áƒ”áƒ‘áƒ');
                hasError = true;
            }
            if (!connection) {
                showFieldError('goalConnection', 'áƒ’áƒ—áƒ®áƒáƒ•áƒ— áƒáƒ¦áƒ¬áƒ”áƒ áƒáƒ— áƒ›áƒ˜áƒ–áƒœáƒ˜áƒ¡ áƒ™áƒáƒ•áƒ¨áƒ˜áƒ áƒ˜ áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒáƒ¡áƒ—áƒáƒœ');
                hasError = true;
            }
            
            if (hasError) {
                return;
            }
            
            // Get selected days from buttons or use dropdown frequency
            let specificDays = null;
            let frequency;
            
            const activeDayButtons = document.querySelectorAll('.day-button.active');
            
            if (activeDayButtons.length > 0) {
                // User selected specific days
                specificDays = [];
                activeDayButtons.forEach(btn => {
                    specificDays.push(btn.getAttribute('data-day'));
                });
                frequency = specificDays.length;
            } else {
                // Use dropdown frequency
                frequency = parseInt(document.getElementById('goalFrequency').value);
                if (!frequency || frequency < 1) {
                    alert('áƒ’áƒ—áƒ®áƒáƒ•áƒ— áƒáƒ˜áƒ áƒ©áƒ˜áƒáƒ— áƒ¡áƒ˜áƒ®áƒ¨áƒ˜áƒ áƒ”');
                    return;
                }
            }
            
            // Get duration
            const durationRadio = document.querySelector('input[name="duration"]:checked');
            
            if (!durationRadio) {
                alert('áƒ’áƒ—áƒ®áƒáƒ•áƒ— áƒáƒ˜áƒ áƒ©áƒ˜áƒáƒ— áƒ›áƒ˜áƒ–áƒœáƒ˜áƒ¡ áƒ•áƒáƒ“áƒ');
                return;
            }
            
            let duration = {};
            
            if (durationRadio.value === 'unlimited') {
                duration = { type: 'unlimited' };
            } else if (durationRadio.value === 'custom') {
                const customValue = parseInt(document.getElementById('customDuration').value);
                const customUnit = document.getElementById('customDurationUnit').value;
                if (!customValue || customValue < 1) {
                    alert('áƒ’áƒ—áƒ®áƒáƒ•áƒ— áƒ›áƒ˜áƒ£áƒ—áƒ˜áƒ—áƒáƒ— áƒ•áƒáƒ“áƒ˜áƒ¡ áƒ áƒáƒáƒ“áƒ”áƒœáƒáƒ‘áƒ');
                    return;
                }
                duration = { 
                    type: 'custom',
                    value: customValue,
                    unit: customUnit
                };
            } else {
                duration = {
                    type: 'months',
                    value: parseInt(durationRadio.value)
                };
            }
            
            // Calculate end date
            const startDate = new Date();
            let endDate = null;
            
            if (duration.type !== 'unlimited') {
                endDate = new Date(startDate);
                if (duration.type === 'custom') {
                    if (duration.unit === 'days') {
                        endDate.setDate(endDate.getDate() + duration.value);
                    } else {
                        endDate.setMonth(endDate.getMonth() + duration.value);
                    }
                } else {
                    endDate.setMonth(endDate.getMonth() + duration.value);
                }
            }
            
            // Create goal object
            const goal = {
                id: 'goal_' + Date.now(),
                type: 'custom',
                name: name,
                emoji: 'ğŸ¯',
                description: description,
                dailyAction: dailyAction,
                perWeek: frequency,
                specificDays: specificDays,
                duration: duration,
                startDate: startDate.toISOString().split('T')[0],
                endDate: endDate ? endDate.toISOString().split('T')[0] : null,
                connection: connection,
                weeklyProgress: {},
                // Calculate first week max days
                firstWeekMaxDays: (() => {
                    const startDayOfWeek = (startDate.getDay() + 6) % 7; // Monday=0
                    const daysRemainingInWeek = 7 - startDayOfWeek;
                    const proportionalTarget = (frequency / 7) * daysRemainingInWeek;
                    let maxDays = Math.floor(proportionalTarget);
                    if (maxDays === 0) maxDays = 1;
                    return maxDays;
                })()
            };
            
            // Save to user data
            const u = app.users[user.email];
            if (!u.goals) u.goals = [];
            u.goals.push(goal);
            save();
            
            // Close modal and reload list
            closeAddGoalModal();
            loadGoalsList();
            
            } catch (error) {
                console.error('Error in saveGoal:', error);
                alert('áƒ¨áƒ”áƒªáƒ“áƒáƒ›áƒ áƒ›áƒ˜áƒ–áƒœáƒ˜áƒ¡ áƒ¨áƒ”áƒœáƒáƒ®áƒ•áƒ˜áƒ¡áƒáƒ¡: ' + error.message);
            }
        }
        
        function loadGoalsList() {
            const u = app.users[user.email];
            const container = document.getElementById('goalsListContainer');
            
            if (!u.goals || u.goals.length === 0) {
                container.innerHTML = `
                    <p style="color: #999; text-align: center; padding: 40px 20px;">
                        áƒ¯áƒ”áƒ  áƒáƒ  áƒ’áƒáƒ¥áƒ•áƒ¡ áƒ“áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ›áƒ˜áƒ–áƒœáƒ”áƒ‘áƒ˜<br><br>
                        áƒ“áƒáƒáƒ­áƒ˜áƒ áƒ” áƒ–áƒ”áƒ›áƒáƒ— áƒ¦áƒ˜áƒšáƒáƒ™áƒ¡ áƒáƒ˜áƒ áƒ•áƒ”áƒšáƒ˜ áƒ›áƒ˜áƒ–áƒœáƒ˜áƒ¡ áƒ“áƒáƒ¡áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒšáƒáƒ“!
                    </p>
                `;
                return;
            }
            
            // Get current week info
            const today = new Date();
            const currentWeekKey = getWeekKey(today);
            
            let html = '';
            
            u.goals.forEach((goal, index) => {
                // Calculate progress for current week
                const weekProgress = goal.weeklyProgress[currentWeekKey] || [];
                const completed = weekProgress.filter(x => x === true).length;
                
                // Check if this is the first week of the goal
                const goalStartDate = new Date(goal.startDate);
                const goalStartWeek = getWeekKey(goalStartDate);
                const isFirstWeek = goalStartWeek === currentWeekKey;
                
                let target = goal.perWeek;
                let percentage;
                
                // Calculate target for first week or use full week target
                if (isFirstWeek) {
                    if (goal.firstWeekMaxDays !== undefined) {
                        target = goal.firstWeekMaxDays;
                    } else {
                        const startDayOfWeek = (goalStartDate.getDay() + 6) % 7;
                        const daysRemainingInWeek = 7 - startDayOfWeek;
                        const proportionalTarget = (goal.perWeek / 7) * daysRemainingInWeek;
                        target = Math.floor(proportionalTarget);
                        if (target === 0) target = 1;
                    }
                }
                
                if (target === 0) {
                    percentage = 100; // Auto 100% if target is 0
                } else {
                    percentage = Math.round((completed / target) * 100);
                    if (percentage > 100) percentage = 100;
                }
                
                // Days of week
                const daysGeorgian = ['áƒáƒ ', 'áƒ¡áƒ', 'áƒáƒ—áƒ®', 'áƒ®áƒ£', 'áƒáƒáƒ ', 'áƒ¨áƒáƒ‘', 'áƒ™áƒ•'];
                
                html += `
                    <div style="background: white; border-radius: 15px; padding: 20px; margin-bottom: 15px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 15px;">
                            <div>
                                <h3 style="color: #374151; margin: 0 0 5px 0; font-size: 18px;">${goal.emoji} ${goal.name}</h3>
                                <p style="color: #6b7280; font-size: 14px; margin: 0;">áƒ™áƒ•áƒ˜áƒ áƒáƒ¨áƒ˜ ${goal.perWeek}-áƒ¯áƒ”áƒ </p>
                            </div>
                            <button onclick="deleteGoal(${index})" style="background: #ef4444; color: white; border: none; border-radius: 8px; padding: 8px 12px; cursor: pointer; font-size: 14px;">áƒ¬áƒáƒ¨áƒšáƒ</button>
                        </div>
                        
                        ${goal.description ? `<p style="color: #6b7280; font-size: 14px; margin-bottom: 10px;">${goal.description}</p>` : ''}
                        
                        <div style="background: #f9fafb; padding: 10px; border-radius: 8px; margin-bottom: 15px;">
                            <p style="color: #374151; font-size: 14px; margin: 0;"><strong>áƒ§áƒáƒ•áƒ”áƒšáƒ“áƒ¦áƒ˜áƒ£áƒ áƒ˜:</strong> ${goal.type === 'space' ? 'áƒ¨áƒ”áƒ•áƒ¡áƒ”áƒ‘áƒ' : goal.dailyAction}</p>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; justify-content: space-between; gap: 5px; margin-bottom: 8px;">
                                ${daysGeorgian.map((day, i) => `
                                    <button style="flex: 1; padding: 8px 4px; border: none; border-radius: 8px; font-size: 12px; ${weekProgress[i] ? 'background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white;' : 'background: #e5e7eb; color: #6b7280;'}">
                                        ${day}
                                    </button>
                                `).join('')}
                            </div>
                        </div>
                        
                        <div style="background: #f3f4f6; border-radius: 10px; padding: 12px;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                                <span style="color: #6b7280; font-size: 14px;">áƒáƒ áƒáƒ’áƒ áƒ”áƒ¡áƒ˜:</span>
                                <span style="color: #374151; font-weight: 600; font-size: 16px;">${completed}/${target} (${percentage}%)</span>
                            </div>
                            <div style="background: #e5e7eb; border-radius: 8px; height: 8px; overflow: hidden;">
                                <div style="background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); height: 100%; width: ${percentage}%; transition: width 0.3s;"></div>
                            </div>
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }
        
        function deleteGoal(index) {
            if (!confirm('áƒ“áƒáƒ áƒ¬áƒ›áƒ£áƒœáƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ®áƒáƒ áƒ—, áƒ áƒáƒ› áƒ’áƒ¡áƒ£áƒ áƒ— áƒáƒ› áƒ›áƒ˜áƒ–áƒœáƒ˜áƒ¡ áƒ¬áƒáƒ¨áƒšáƒ?')) {
                return;
            }
            
            const u = app.users[user.email];
            u.goals.splice(index, 1);
            save();
            loadGoalsList();
        }
        window.deleteGoal = deleteGoal;
        
        function getWeekKey(date) {
            const d = new Date(date);
            const year = d.getFullYear();
            const onejan = new Date(year, 0, 1);
            const week = Math.ceil((((d - onejan) / 86400000) + onejan.getDay() + 1) / 7);
            return `${year}-W${week.toString().padStart(2, '0')}`;
        }
        
        // Get today's date in LOCAL timezone (not UTC) - for "My Space" activities only
        function getTodayLocal() {
            const now = new Date();
            return `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}-${String(now.getDate()).padStart(2, '0')}`;
        }
        
        // ============ SELF-SATISFACTION FUNCTIONS ============
        
        let tempSatisfactionEntries = []; // Temporary array for current session
        
        function openSatisfactionModal() {
            const today = new Date().toISOString().split('T')[0];
            const u = app.users[user.email];
            
            // Initialize array
            if (!u.satisfactionEntries) u.satisfactionEntries = [];
            
            // Check if already added today
            const todayEntries = u.satisfactionEntries.filter(e => e.date === today);
            const isFirstToday = todayEntries.length === 0;
            
            // Reset temp array
            tempSatisfactionEntries = [];
            
            // Open modal
            document.getElementById('satisfactionModal').style.display = 'block';
            
            // Clear container
            document.getElementById('satisfactionEntriesContainer').innerHTML = '';
            
            // Show motivational text only first time today
            if (isFirstToday) {
                document.getElementById('satisfactionMotivationalText').style.display = 'block';
                document.getElementById('satisfactionInputForm').style.display = 'none';
            } else {
                document.getElementById('satisfactionMotivationalText').style.display = 'none';
                document.getElementById('satisfactionInputForm').style.display = 'block';
                addSatisfactionEntry(); // Add first entry automatically
            }
        }
        
        function continueToSatisfactionInput() {
            document.getElementById('satisfactionMotivationalText').style.display = 'none';
            document.getElementById('satisfactionInputForm').style.display = 'block';
            addSatisfactionEntry(); // Add first entry
        }
        
        function addSatisfactionEntry() {
            const container = document.getElementById('satisfactionEntriesContainer');
            const entryIndex = tempSatisfactionEntries.length;
            
            const entryDiv = document.createElement('div');
            entryDiv.className = 'satisfaction-entry';
            entryDiv.style.cssText = 'background: white; border-radius: 15px; padding: 20px; margin-bottom: 15px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);';
            entryDiv.setAttribute('data-index', entryIndex);
            
            entryDiv.innerHTML = `
                <div style="color: #374151; font-weight: 600; margin-bottom: 15px; font-size: 16px;">áƒ©áƒáƒœáƒáƒ¬áƒ”áƒ áƒ˜ ${entryIndex + 1}</div>
                
                <textarea 
                    class="satisfaction-text" 
                    placeholder="áƒ áƒ˜áƒ—áƒ˜ áƒ®áƒáƒ  áƒ“áƒ¦áƒ”áƒ¡ áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜ áƒ—áƒáƒ•áƒ˜áƒ— áƒ™áƒ›áƒáƒ§áƒáƒ¤áƒ˜áƒšáƒ˜?" 
                    style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 10px; font-size: 15px; font-family: inherit; resize: vertical; min-height: 80px; box-sizing: border-box; margin-bottom: 15px;"
                ></textarea>
                
                <div style="margin-bottom: 10px;">
                    <div style="color: #666; margin-bottom: 10px; font-size: 14px;">áƒ áƒáƒ›áƒ“áƒ”áƒœáƒáƒ“ áƒ™áƒ›áƒáƒ§áƒáƒ¤áƒ˜áƒšáƒ˜ áƒ®áƒáƒ ? (1-10)</div>
                    <div style="display: flex; gap: 4px; justify-content: space-between;">
                        ${[1,2,3,4,5,6,7,8,9].map(num => 
                            `<button type="button" class="satisfaction-rating-btn" data-rating="${num}" onclick="selectSatisfactionRating(${entryIndex}, ${num}, this)" style="padding: 8px 10px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 14px; font-weight: 600; color: #666; transition: all 0.2s; flex: 1; min-width: 0;">${num}</button>`
                        ).join('')}
                        <button type="button" class="satisfaction-rating-btn" data-rating="10" onclick="selectSatisfactionRating(${entryIndex}, 10, this)" style="padding: 8px 10px; border: 2px solid #e5e7eb; background: white; border-radius: 8px; cursor: pointer; font-size: 14px; font-weight: 600; color: #666; transition: all 0.2s; flex: 1; min-width: 0; display: flex; justify-content: center; align-items: center;">10</button>
                    </div>
                    <input type="hidden" class="satisfaction-rating-value" value="">
                </div>
            `;
            
            container.appendChild(entryDiv);
            
            // Add to temp array with empty values
            tempSatisfactionEntries.push({ text: '', rating: null });
            
            // Scroll to bottom
            container.scrollTop = container.scrollHeight;
        }
        
        function selectSatisfactionRating(entryIndex, rating, button) {
            // Update temp array
            if (tempSatisfactionEntries[entryIndex]) {
                tempSatisfactionEntries[entryIndex].rating = rating;
            }
            
            // Visual feedback - deselect all buttons in this entry
            const entry = button.closest('.satisfaction-entry');
            entry.querySelectorAll('.satisfaction-rating-btn').forEach(btn => {
                btn.style.background = 'white';
                btn.style.borderColor = '#e5e7eb';
                btn.style.color = '#666';
            });
            
            // Select this button - neutral gray
            button.style.background = '#f3f4f6';
            button.style.borderColor = '#9ca3af';
            button.style.color = '#374151';
            button.style.fontWeight = '700';
        }
        
        function closeSatisfactionModal() {
            document.getElementById('satisfactionModal').style.display = 'none';
            tempSatisfactionEntries = [];
        }
        
        function saveAllSatisfactionEntries() {
            // Collect all text inputs
            const entries = document.querySelectorAll('.satisfaction-entry');
            entries.forEach((entry, index) => {
                const text = entry.querySelector('.satisfaction-text').value.trim();
                if (tempSatisfactionEntries[index]) {
                    tempSatisfactionEntries[index].text = text;
                }
            });
            
            // Check for entries with text but no rating
            let firstIncompleteIndex = -1;
            for (let i = 0; i < tempSatisfactionEntries.length; i++) {
                if (tempSatisfactionEntries[i].text && !tempSatisfactionEntries[i].rating) {
                    firstIncompleteIndex = i;
                    break;
                }
            }
            
            if (firstIncompleteIndex >= 0) {
                // Scroll to first incomplete entry
                const allEntries = document.querySelectorAll('.satisfaction-entry');
                const targetEntry = allEntries[firstIncompleteIndex];
                
                if (targetEntry) {
                    targetEntry.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    
                    // Highlight rating buttons with red border + shake
                    const ratingButtons = targetEntry.querySelectorAll('.satisfaction-rating-btn');
                    ratingButtons.forEach(btn => {
                        btn.style.border = '2px solid #ef4444';
                        btn.style.animation = 'shake 0.5s';
                    });
                    
                    // Add shake animation if not exists
                    if (!document.getElementById('shakeAnimation')) {
                        const style = document.createElement('style');
                        style.id = 'shakeAnimation';
                        style.textContent = `
                            @keyframes shake {
                                0%, 100% { transform: translateX(0); }
                                25% { transform: translateX(-5px); }
                                75% { transform: translateX(5px); }
                            }
                        `;
                        document.head.appendChild(style);
                    }
                    
                    // Remove highlight after 2 seconds
                    setTimeout(() => {
                        ratingButtons.forEach(btn => {
                            btn.style.border = '2px solid #e5e7eb';
                            btn.style.animation = '';
                        });
                    }, 2000);
                }
                
                return; // Don't save
            }
            
            // Validate - at least one complete entry (text + rating)
            const validEntries = tempSatisfactionEntries.filter(e => e.text && e.rating);
            
            if (validEntries.length === 0) {
                alert('áƒ’áƒ—áƒ®áƒáƒ•áƒ— áƒ“áƒáƒáƒ›áƒáƒ¢áƒáƒ— áƒ›áƒ˜áƒœáƒ˜áƒ›áƒ£áƒ› áƒ”áƒ áƒ—áƒ˜ áƒ©áƒáƒœáƒáƒ¬áƒ”áƒ áƒ˜ áƒ¢áƒ”áƒ¥áƒ¡áƒ¢áƒ˜áƒ—áƒ áƒ“áƒ áƒ¨áƒ”áƒ¤áƒáƒ¡áƒ”áƒ‘áƒ˜áƒ—!');
                return;
            }
            
            const today = getTodayLocal(); // Use local timezone for My Space
            const u = app.users[user.email];
            
            // Initialize array
            if (!u.satisfactionEntries) u.satisfactionEntries = [];
            
            // Save all valid entries
            validEntries.forEach(entry => {
                u.satisfactionEntries.push({
                    date: today,
                    text: entry.text,
                    rating: entry.rating,
                    timestamp: new Date().toISOString()
                });
            });
            
            // SYNC: Update weeklyProgress for satisfaction goal (counted as one day activity)
            syncSpaceActivityToGoal(u, 'satisfaction');
            
            save();
            closeSatisfactionModal();
            loadSatisfactionEntries();
            
            alert(`âœ“ ${validEntries.length} áƒ©áƒáƒœáƒáƒ¬áƒ”áƒ áƒ˜ áƒ¬áƒáƒ áƒ›áƒáƒ¢áƒ”áƒ‘áƒ˜áƒ— áƒ¨áƒ”áƒ˜áƒœáƒáƒ®áƒ!`);
        }
        
        function loadSatisfactionEntries() {
            const u = app.users[user.email];
            if (!u.satisfactionEntries) u.satisfactionEntries = [];
            
            const list = document.getElementById('satisfactionList');
            if (!list) return;
            
            if (u.satisfactionEntries.length === 0) {
                list.innerHTML = '<p style="color: #999; text-align: center; padding: 20px;">áƒ¯áƒ”áƒ  áƒáƒ  áƒ’áƒáƒ¥áƒ•áƒ¡ áƒ©áƒáƒœáƒáƒ¬áƒ”áƒ áƒ”áƒ‘áƒ˜</p>';
                return;
            }
            
            // Group by date
            const byDate = {};
            u.satisfactionEntries.forEach(e => {
                if (!byDate[e.date]) byDate[e.date] = [];
                byDate[e.date].push(e);
            });
            
            // Sort dates descending
            const dates = Object.keys(byDate).sort().reverse();
            
            let html = '';
            dates.forEach(date => {
                const entries = byDate[date];
                html += `
                    <div style="background: white; border-radius: 15px; padding: 20px; margin-bottom: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                        <div style="color: #9ca3af; font-size: 15px; font-weight: 600; margin-bottom: 15px; border-bottom: 2px solid #f3f4f6; padding-bottom: 10px;">ğŸ“… ${date}</div>
                `;
                
                entries.forEach((e, index) => {
                    const rating = e.rating || 'â€”';
                    
                    html += `
                        <div style="margin-bottom: ${index < entries.length - 1 ? '12px' : '0'}; padding-bottom: ${index < entries.length - 1 ? '12px' : '0'}; border-bottom: ${index < entries.length - 1 ? '1px solid #f3f4f6' : 'none'};">
                            <div style="display: flex; justify-content: space-between; align-items: start; gap: 10px;">
                                <div style="flex: 1;">
                                    <span style="color: #9ca3af; font-size: 14px; font-weight: 600;">${index + 1}.</span>
                                    <span style="color: #333; font-size: 15px; line-height: 1.6;"> ${e.text}</span>
                                </div>
                                <div style="background: #f3f4f6; color: #6b7280; padding: 6px 12px; border-radius: 20px; font-size: 14px; font-weight: 600; white-space: nowrap;">
                                    ${rating}/10
                                </div>
                            </div>
                        </div>
                    `;
                });
                
                html += '</div>';
            });
            
            list.innerHTML = html;
        }
        
        function deleteSatisfactionEntry(index) {
            if (!confirm('áƒ“áƒáƒ áƒ¬áƒ›áƒ£áƒœáƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ®áƒáƒ , áƒ áƒáƒ› áƒ’áƒ˜áƒœáƒ“áƒ áƒ©áƒáƒœáƒáƒ¬áƒ”áƒ áƒ˜áƒ¡ áƒ¬áƒáƒ¨áƒšáƒ?')) return;
            
            const u = app.users[user.email];
            u.satisfactionEntries.splice(index, 1);
            save();
            loadSatisfactionEntries();
        }
        
        // ============ CONTACT FUNCTIONS ============
        
        let contactData = {
            morning: { ready: null, motivation: null },
            evening: { success: null, gratitude: null, proud: null }
        };
        
        function showContact() {
            showSection('contact');
            updateContactCards();
        }
        
        function updateContactCards() {
            // Check if contact section elements exist
            const morningCard = document.getElementById('morningContactCard');
            const eveningCard = document.getElementById('eveningContactCard');
            const yesterdayCard = document.getElementById('yesterdayEveningCard');
            const allComplete = document.getElementById('contactAllComplete');
            const goalsCard = document.getElementById('myGoalsContactCard');
            
            if (!morningCard || !eveningCard || !yesterdayCard || !allComplete) {
                return; // Elements don't exist yet
            }
            
            // Demo mode - if app not defined, return early
            if (typeof app === 'undefined' || !app || !app.users || !user || !user.email || !app.users[user.email]) {
                return;
            }
            
            const now = new Date();
            const today = now.toISOString().split('T')[0];
            const u = app.users[user.email];
            
            // Initialize dailyCheckins if not exists
            if (!u.dailyCheckins) u.dailyCheckins = [];
            
            // Get today's checkin
            const todayCheckin = u.dailyCheckins.find(c => c.date === today);
            
            // Get yesterday's date
            const yesterday = new Date(now);
            yesterday.setDate(yesterday.getDate() - 1);
            const yesterdayDate = yesterday.toISOString().split('T')[0];
            const yesterdayCheckin = u.dailyCheckins.find(c => c.date === yesterdayDate);
            
            // Get user's readiness assessment times (with defaults)
            const r = u.readinessAssessment || {};
            const morningTime = r.motivationCheckTime || "00:00";  // Changed to 00:00 for now
            const eveningTime = r.resultsCheckTime || "21:00";     // Default 21:00
            
            let hasAny = false;
            
            // Parse times
            const [morningHour, morningMin] = morningTime.split(':').map(Number);
            const [eveningHour, eveningMin] = eveningTime.split(':').map(Number);
            const currentMinutes = now.getHours() * 60 + now.getMinutes();
            const morningMinutes = morningHour * 60 + morningMin;
            const eveningMinutes = eveningHour * 60 + eveningMin;
            
            const isMorningTime = currentMinutes >= morningMinutes;
            const isEveningTime = currentMinutes >= eveningMinutes;
            
            // MORNING CARD - show only after morning time and if not filled
            if (isMorningTime && (!todayCheckin || !todayCheckin.morning)) {
                morningCard.style.display = 'block';
                hasAny = true;
            } else {
                morningCard.style.display = 'none';
            }
            
            // EVENING CARD - show only after evening time (21:00) and if not filled
            if (isEveningTime && (!todayCheckin || !todayCheckin.evening)) {
                eveningCard.style.display = 'block';
                hasAny = true;
            } else {
                eveningCard.style.display = 'none';
            }
            
            // YESTERDAY EVENING CARD - show ONLY if:
            // 1. It's NOT evening time yet (before 21:00)
            // 2. AND yesterday evening was missed
            // Don't show yesterday if it's already evening time (today's evening card shows instead)
            
            if (!isEveningTime) {
                // Before evening time - can show yesterday if missed
                if (yesterdayCheckin && !yesterdayCheckin.evening) {
                    // Calculate hours since yesterday evening (21:00)
                    const yesterdayEveningTime = new Date(yesterday);
                    yesterdayEveningTime.setHours(eveningHour, eveningMin, 0, 0);
                    const hoursSinceYesterday = (now - yesterdayEveningTime) / (1000 * 60 * 60);
                    
                    // Update card text based on time elapsed
                    const cardTitle = yesterdayCard.querySelector('h3');
                    const cardButton = yesterdayCard.querySelector('button');
                    
                    if (hoursSinceYesterday > 24) {
                        // More than 24 hours - show "recent days"
                        cardTitle.textContent = 'áƒ‘áƒáƒšáƒ áƒ“áƒ¦áƒ”áƒ”áƒ‘áƒ˜áƒ¡ áƒ™áƒáƒœáƒ¢áƒáƒ¥áƒ¢áƒ˜';
                        if (cardButton) cardButton.setAttribute('data-mode', 'recent');
                    } else {
                        // Within 24 hours - show "yesterday evening"
                        cardTitle.textContent = 'áƒ’áƒ£áƒ¨áƒ˜áƒœáƒ“áƒ”áƒšáƒ˜ áƒ¡áƒáƒ¦áƒáƒ›áƒáƒ¡ áƒ™áƒáƒœáƒ¢áƒáƒ¥áƒ¢áƒ˜';
                        if (cardButton) cardButton.setAttribute('data-mode', 'yesterday');
                    }
                    
                    yesterdayCard.style.display = 'block';
                    hasAny = true;
                } else if (u.dailyCheckins.length === 0) {
                    // Brand new user before evening time - show yesterday for baseline
                    const cardTitle = yesterdayCard.querySelector('h3');
                    cardTitle.textContent = 'áƒ’áƒ£áƒ¨áƒ˜áƒœáƒ“áƒ”áƒšáƒ˜ áƒ¡áƒáƒ¦áƒáƒ›áƒáƒ¡ áƒ™áƒáƒœáƒ¢áƒáƒ¥áƒ¢áƒ˜';
                    yesterdayCard.style.display = 'block';
                    hasAny = true;
                } else {
                    yesterdayCard.style.display = 'none';
                }
            } else {
                // It's evening time - today's evening card shows instead
                yesterdayCard.style.display = 'none';
            }
            
            // GOALS CONTACT CARD - show if:
            // 1. User has custom goals
            // 2. NOT finalized for today
            // 3. After morning time (09:00)
            if (goalsCard) {
                const customGoals = u.goals ? u.goals.filter(g => g.type !== 'space') : [];
                const goalsFinalized = u.goalsContactFinalized && u.goalsContactFinalized[today];
                
                if (customGoals.length > 0 && !goalsFinalized && isMorningTime) {
                    goalsCard.style.display = 'block';
                    hasAny = true;
                } else {
                    goalsCard.style.display = 'none';
                }
            }
            
            // Check achievement card for "all complete" message
            const achievementCard = document.getElementById('myAchievementsCard');
            const isAchievementHidden = achievementCard && achievementCard.style.display === 'none';
            
            // If no cards to show, check achievement card too
            if (!hasAny && isAchievementHidden) {
                allComplete.style.display = 'block';
            } else {
                allComplete.style.display = 'none';
            }
            
            // Update badge and achievements summary
            updateContactBadge();
            updateAchievementCardTitle();
        }
        
        function updateContactBadge() {
            const badge = document.getElementById('contactBadge');
            if (!badge) return; // Element doesn't exist yet (e.g., on login page)
            
            const now = new Date();
            const today = now.toISOString().split('T')[0];
            const u = app.users[user.email];
            
            if (!u.dailyCheckins) u.dailyCheckins = [];
            
            const todayCheckin = u.dailyCheckins.find(c => c.date === today);
            
            // Get user's times (with defaults)
            const r = u.readinessAssessment || {};
            const morningTime = r.motivationCheckTime || "09:00";
            const eveningTime = r.resultsCheckTime || "21:00";
            
            const [morningHour, morningMin] = morningTime.split(':').map(Number);
            const [eveningHour, eveningMin] = eveningTime.split(':').map(Number);
            
            const currentMinutes = now.getHours() * 60 + now.getMinutes();
            const morningMinutes = morningHour * 60 + morningMin;
            const eveningMinutes = eveningHour * 60 + eveningMin;
            
            const isMorningTime = currentMinutes >= morningMinutes;
            const isEveningTime = currentMinutes >= eveningMinutes;
            
            let hasPending = false;
            
            // Check morning (if time has passed)
            if (isMorningTime && (!todayCheckin || !todayCheckin.morning)) hasPending = true;
            
            // Check evening (if time has passed)
            if (isEveningTime && (!todayCheckin || !todayCheckin.evening)) hasPending = true;
            
            // Check yesterday evening
            const yesterday = new Date(now);
            yesterday.setDate(yesterday.getDate() - 1);
            const yesterdayDate = yesterday.toISOString().split('T')[0];
            const yesterdayCheckin = u.dailyCheckins.find(c => c.date === yesterdayDate);
            if (yesterdayCheckin && !yesterdayCheckin.evening) hasPending = true;
            
            // For brand new users
            if (u.dailyCheckins.length === 0) hasPending = true;
            
            badge.style.display = hasPending ? 'flex' : 'none';
        }
        
        // Morning Contact
        function showMorningContact() {
            contactData.morning = { ready: null, motivation: 5 };
            document.getElementById('morningQ1').style.display = 'block';
            document.getElementById('morningQ2').style.display = 'none';
            document.getElementById('morningContactModal').style.display = 'block';
        }
        
        function morningAnswerReady(answer) {
            contactData.morning.ready = answer;
            
            if (answer === false) {
                // User said NO - not ready
                // Skip motivation slider, set to 1, show warning feedback
                contactData.morning.motivation = 1;
                
                const now = new Date();
                const today = now.toISOString().split('T')[0];
                const u = app.users[user.email];
                
                if (!u.dailyCheckins) u.dailyCheckins = [];
                
                let todayCheckin = u.dailyCheckins.find(c => c.date === today);
                if (!todayCheckin) {
                    todayCheckin = { date: today };
                    u.dailyCheckins.push(todayCheckin);
                }
                
                todayCheckin.morning = {
                    ready: false,
                    motivation: 1
                };
                
                save();
                
                // Hide Q1, show warning feedback
                document.getElementById('morningQ1').style.display = 'none';
                showMorningMotivationFeedback(1);
            } else {
                // User said YES - proceed to motivation slider
                document.getElementById('morningQ1').style.display = 'none';
                document.getElementById('morningQ2').style.display = 'block';
            }
        }
        
        function updateMotivationValue(value) {
            document.getElementById('motivationValue').textContent = value;
            
            // Safety check - initialize if needed
            if (!contactData.morning) {
                contactData.morning = { ready: null, motivation: 5 };
            }
            contactData.morning.motivation = parseInt(value);
            
            const label = document.getElementById('motivationLabel');
            if (value <= 3) label.textContent = 'áƒ“áƒáƒ‘áƒáƒšáƒ˜ áƒ›áƒáƒ¢áƒ˜áƒ•áƒáƒªáƒ˜áƒ';
            else if (value <= 6) label.textContent = 'áƒ¡áƒáƒ¨áƒ£áƒáƒšáƒ áƒ›áƒáƒ¢áƒ˜áƒ•áƒáƒªáƒ˜áƒ';
            else label.textContent = 'áƒ›áƒáƒ¦áƒáƒšáƒ˜ áƒ›áƒáƒ¢áƒ˜áƒ•áƒáƒªáƒ˜áƒ';
        }
        
        function saveMorningContact() {
            const now = new Date();
            const today = now.toISOString().split('T')[0];
            const u = app.users[user.email];
            
            if (!u.dailyCheckins) u.dailyCheckins = [];
            
            let todayCheckin = u.dailyCheckins.find(c => c.date === today);
            if (!todayCheckin) {
                todayCheckin = { date: today };
                u.dailyCheckins.push(todayCheckin);
            }
            
            todayCheckin.morning = {
                ready: contactData.morning.ready,
                motivation: contactData.morning.motivation
            };
            
            save();
            
            // Show motivation feedback
            showMorningMotivationFeedback(contactData.morning.motivation);
        }
        
        function showMorningMotivationFeedback(motivation) {
            // Hide Q2
            document.getElementById('morningQ2').style.display = 'none';
            
            // Show feedback
            const feedbackDiv = document.getElementById('morningFeedback');
            const feedbackText = feedbackDiv.querySelector('p');
            
            let message = '';
            let bgColor = '';
            let borderColor = '';
            
            if (motivation >= 7) {
                message = 'áƒ›áƒ¨áƒ•áƒ”áƒœáƒ˜áƒ”áƒ áƒ˜áƒ! áƒ›áƒ˜áƒ®áƒáƒ áƒ˜áƒ, áƒ áƒáƒ› áƒ›áƒ¢áƒ™áƒ˜áƒªáƒ”áƒ“ áƒ®áƒáƒ  áƒ’áƒáƒœáƒ¬áƒ§áƒáƒ‘áƒ˜áƒšáƒ˜! áƒ¡áƒáƒ¡áƒ˜áƒáƒ›áƒáƒ•áƒœáƒ áƒ“áƒ¦áƒ”áƒ¡ áƒ’áƒ˜áƒ¡áƒ£áƒ áƒ•áƒ”áƒ‘! âœ¨ğŸ’«â˜€ï¸ ğŸ’ª';
                bgColor = '#FFFFFF';
                borderColor = '#667eea';
            } else if (motivation >= 5) {
                message = 'áƒ™áƒáƒ áƒ’áƒ˜áƒ, áƒ áƒáƒ› áƒ›áƒáƒ›áƒáƒ áƒ—áƒ£áƒšáƒ˜ áƒ®áƒáƒ  áƒ“áƒ¦áƒ”áƒ¡áƒáƒª áƒ¨áƒ”áƒ˜áƒœáƒáƒ áƒ©áƒ£áƒœáƒ áƒ¡áƒ˜áƒ¤áƒ®áƒ˜áƒ–áƒšáƒ”! áƒ—áƒ£áƒ›áƒªáƒ, áƒ›áƒáƒ˜áƒœáƒª áƒ’áƒ˜áƒ áƒ©áƒ”áƒ•áƒ“áƒ˜, áƒ’áƒáƒ“áƒáƒ®áƒ”áƒ“áƒ áƒ›áƒáƒ¢áƒ˜áƒ•áƒáƒªáƒ˜áƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒœáƒ§áƒáƒ¤áƒ˜áƒšáƒ”áƒ‘áƒáƒ¡ áƒ“áƒ áƒ’áƒáƒœáƒ›áƒ¢áƒ™áƒ˜áƒªáƒ“áƒ” áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜ áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒ“áƒáƒ¬áƒ§áƒ•áƒ”áƒ¢áƒ˜áƒšáƒ”áƒ‘áƒáƒ¨áƒ˜! ğŸ’¡';
                bgColor = '#FFFFFF';
                borderColor = '#667eea';
            } else {
                message = 'áƒ¡áƒáƒ­áƒ˜áƒ áƒáƒ áƒ’áƒáƒ«áƒšáƒ˜áƒ”áƒ áƒ”áƒ‘áƒ áƒ“áƒ áƒ«áƒáƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒœáƒ›áƒ¢áƒ™áƒ˜áƒªáƒ”áƒ‘áƒ! áƒ’áƒáƒ“áƒáƒ®áƒ”áƒ“áƒ” áƒ›áƒáƒ¢áƒ˜áƒ•áƒáƒªáƒ˜áƒ”áƒ‘áƒ¡, áƒ“áƒáƒ£áƒ áƒ”áƒ™áƒ” áƒ—áƒ”áƒ áƒáƒáƒ”áƒ•áƒ¢áƒ¡ áƒáƒœ áƒ’áƒáƒ›áƒáƒ˜áƒ§áƒ”áƒœáƒ” áƒ¨áƒ”áƒœáƒ—áƒ•áƒ˜áƒ¡ áƒ¡áƒáƒ¡áƒ£áƒ áƒ•áƒ”áƒšáƒ˜ áƒœáƒ”áƒ‘áƒ˜áƒ¡áƒ›áƒ˜áƒ”áƒ áƒ˜ áƒ¤áƒáƒ áƒ›áƒ! âš ï¸';
                bgColor = '#FEE2E2';
                borderColor = '#EF4444';
            }
            
            let textColor = '#333'; // Default dark text
            if (motivation < 5) {
                textColor = '#7F1D1D'; // Dark red for warning
            }
            
            feedbackDiv.style.background = bgColor;
            feedbackDiv.style.borderLeft = `4px solid ${borderColor}`;
            feedbackDiv.style.boxShadow = '0 2px 8px rgba(0,0,0,0.1)';
            feedbackText.textContent = message;
            feedbackText.style.color = textColor;
            feedbackText.style.textAlign = 'center';
            feedbackDiv.style.display = 'block';
            
            // Show done button
            document.getElementById('morningDoneBtn').style.display = 'block';
        }
        
        function closeMorningContact() {
            document.getElementById('morningContactModal').style.display = 'none';
            document.getElementById('morningFeedback').style.display = 'none';
            document.getElementById('morningDoneBtn').style.display = 'none';
            updateContactCards();
        }
        
        // Evening Contact
        function showEveningContact() {
            contactData.evening = { success: null, gratitude: null, proud: null };
            
            // Reset modal header and day text to "today" ONLY if not yesterday
            if (!contactData.isYesterday) {
                const modalTitle = document.querySelector('#eveningContactModal .modal-header');
                const dayText = document.getElementById('eveningDayText');
                if (modalTitle) modalTitle.textContent = 'áƒ¡áƒáƒ¦áƒáƒ›áƒáƒ¡ áƒ™áƒáƒœáƒ¢áƒáƒ¥áƒ¢áƒ˜';
                if (dayText) dayText.textContent = 'áƒ“áƒ¦áƒ”áƒ¡';
            }
            
            resetEveningModal();
            document.getElementById('eveningContactModal').style.display = 'block';
        }
        
        function showYesterdayEvening() {
            // For simplicity, use same modal but save to yesterday's date
            contactData.isYesterday = true;
            
            // Check mode from button's data-mode attribute
            const yesterdayCard = document.getElementById('yesterdayEveningCard');
            const button = yesterdayCard ? yesterdayCard.querySelector('button') : null;
            const mode = button ? button.getAttribute('data-mode') : 'yesterday';
            
            // Update modal title and question text based on mode
            const modalTitle = document.querySelector('#eveningContactModal .modal-header');
            const dayText = document.getElementById('eveningDayText');
            
            if (mode === 'recent') {
                // More than 24 hours - "recent days"
                if (modalTitle) modalTitle.textContent = 'ğŸŒ™ áƒ‘áƒáƒšáƒ áƒ“áƒ¦áƒ”áƒ”áƒ‘áƒ˜áƒ¡ áƒ™áƒáƒœáƒ¢áƒáƒ¥áƒ¢áƒ˜';
                if (dayText) dayText.textContent = 'áƒ‘áƒáƒšáƒ áƒ“áƒ¦áƒ”áƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒœáƒ›áƒáƒ•áƒšáƒáƒ‘áƒáƒ¨áƒ˜';
            } else {
                // Within 24 hours - "yesterday"
                if (modalTitle) modalTitle.textContent = 'ğŸŒ™ áƒ’áƒ£áƒ¨áƒ˜áƒœáƒ“áƒ”áƒšáƒ˜ áƒ¡áƒáƒ¦áƒáƒ›áƒáƒ¡ áƒ™áƒáƒœáƒ¢áƒáƒ¥áƒ¢áƒ˜';
                if (dayText) dayText.textContent = 'áƒ’áƒ£áƒ¨áƒ˜áƒœ';
            }
            
            showEveningContact();
        }
        
        function resetEveningModal() {
            document.getElementById('eveningQ1').style.display = 'block';
            document.getElementById('eveningCongratsPage').style.display = 'none';
            document.getElementById('eveningGratitudePage').style.display = 'none';
            document.getElementById('eveningGratitudeFeedbackPage').style.display = 'none';
            document.getElementById('eveningProudPage').style.display = 'none';
            document.getElementById('eveningProudFeedbackPage').style.display = 'none';
            document.getElementById('eveningFinalPage').style.display = 'none';
            document.getElementById('eveningBadgesPage').style.display = 'none';
            document.getElementById('eveningRelapsePage').style.display = 'none';
            document.getElementById('eveningProgressMessage').style.display = 'none';
        }
        
        function eveningAnswerSuccess(answer) {
            contactData.evening.success = answer;
            document.getElementById('eveningQ1').style.display = 'none';
            
            if (answer) {
                // Success path - show congrats page
                document.getElementById('eveningCongratsPage').style.display = 'block';
                
                // Show progress message if applicable
                showProgressMessage();
            } else {
                // Relapse path - reset streak to 0
                const u = app.users[user.email];
                u.streak = 0;
                u.lastUse = new Date().toISOString().split('T')[0]; // Update lastUse to today so streak calculation shows 0
                save();
                updateDashboardStreak();
                
                // Show relapse page
                document.getElementById('eveningRelapsePage').style.display = 'block';
                saveEveningContact(); // Save immediately
            }
        }
        
        function eveningNextToGratitude() {
            // Hide congrats page, show gratitude page
            document.getElementById('eveningCongratsPage').style.display = 'none';
            document.getElementById('eveningGratitudePage').style.display = 'block';
        }
        
        function showProgressMessage() {
            const u = app.users[user.email];
            const currentStreak = u.currentStreak || 0;
            
            // Define milestones
            const milestones = [7, 14, 30, 60, 90, 120, 150, 180, 210, 240, 270, 300, 330, 365, 730, 1825, 3650];
            
            // Find next milestone
            let nextMilestone = milestones.find(m => m > currentStreak);
            if (!nextMilestone) return; // Already past all milestones
            
            const remaining = nextMilestone - currentStreak;
            const progress = currentStreak / nextMilestone;
            
            let message = '';
            
            if (progress >= 0.67) {
                // 67-99% done
                if (remaining <= 5) {
                    message = `ğŸ”¥ áƒ›áƒáƒ›áƒ“áƒ”áƒ•áƒœáƒ áƒ›áƒ˜áƒ¦áƒ¬áƒ”áƒ•áƒ˜áƒ¡ (${nextMilestone} áƒ“áƒ¦áƒ”) áƒ¨áƒ”áƒ¡áƒ áƒ£áƒšáƒ”áƒ‘áƒáƒ›áƒ“áƒ” áƒ“áƒáƒ áƒ©áƒ”áƒœáƒ˜áƒšáƒ˜áƒ ${remaining} áƒ“áƒ¦áƒ”!`;
                } else {
                    message = `ğŸ’ª áƒ«áƒšáƒ˜áƒ”áƒ  áƒ›áƒ˜áƒ¬áƒ”áƒ• áƒ¬áƒ˜áƒœ! áƒ™áƒ˜áƒ“áƒ”áƒ• áƒªáƒáƒ¢áƒ áƒ“áƒ áƒ›áƒ˜áƒáƒ¦áƒ¬áƒ”áƒ• ${nextMilestone} áƒ“áƒ¦áƒ”áƒ¡!`;
                }
            } else if (progress >= 0.5) {
                // 50-66% done
                message = `ğŸŒŸ áƒ§áƒáƒ©áƒáƒ¦! áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’áƒ˜ áƒ›áƒ˜áƒ¦áƒ¬áƒ”áƒ•áƒ˜áƒ¡ (${nextMilestone} áƒ“áƒ¦áƒ”) áƒœáƒáƒ®áƒ”áƒ•áƒáƒ áƒ˜ áƒ£áƒ™áƒ•áƒ” áƒ“áƒáƒ¤áƒáƒ áƒ£áƒšáƒ˜ áƒ’áƒáƒ¥áƒ•áƒ¡!`;
            } else if (progress >= 0.33) {
                // 33-49% done
                message = `âœ¨ áƒ›áƒ¨áƒ•áƒ”áƒœáƒ˜áƒ”áƒ áƒ˜áƒ! áƒ¨áƒ”áƒœ áƒ£áƒ™áƒ•áƒ” áƒ“áƒáƒ¤áƒáƒ áƒ” áƒ›áƒáƒ›áƒ“áƒ”áƒ•áƒœáƒ áƒ›áƒ˜áƒ¦áƒ¬áƒ”áƒ•áƒ˜áƒ¡ (${nextMilestone} áƒ“áƒ¦áƒ”) 1/3!`;
            }
            
            if (message) {
                const messageDiv = document.getElementById('eveningProgressMessage');
                messageDiv.querySelector('p').textContent = message;
                messageDiv.style.display = 'block';
            }
        }
        
        function eveningAnswerGratitude(answer) {
            contactData.evening.gratitude = answer;
            
            // Hide question page
            document.getElementById('eveningGratitudePage').style.display = 'none';
            
            // Show feedback on separate page
            const feedbackBox = document.getElementById('eveningGratitudeFeedbackBox');
            if (answer) {
                feedbackBox.innerHTML = '<div style="background: #FFFFFF; border-left: 4px solid #667eea; padding: 25px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);"><p style="color: #333; font-size: 17px; line-height: 1.7; margin: 0; text-align: center;">áƒ›áƒ¨áƒ•áƒ”áƒœáƒ˜áƒ”áƒ áƒ˜áƒ, áƒ¨áƒ”áƒœ áƒœáƒáƒ›áƒ“áƒ•áƒ˜áƒšáƒáƒ“ áƒ“áƒ˜áƒ“ áƒ¡áƒ˜áƒ™áƒ”áƒ—áƒ”áƒ¡ áƒ£áƒ™áƒ”áƒ—áƒ”áƒ‘ áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ  áƒ—áƒáƒ•áƒ¡ áƒ“áƒ áƒáƒ›áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡ áƒ˜áƒ›áƒ¡áƒáƒ®áƒ£áƒ áƒ”áƒ‘ áƒ›áƒáƒ“áƒšáƒáƒ‘áƒáƒ¡.</p></div>';
            } else {
                feedbackBox.innerHTML = '<div style="background: #FFFFFF; border-left: 4px solid #667eea; padding: 25px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);"><p style="color: #333; font-size: 17px; line-height: 1.7; margin: 0; text-align: center;">áƒ áƒáƒ“áƒ”áƒ¡áƒáƒª áƒ¡áƒ®áƒ•áƒ áƒáƒ“áƒáƒ›áƒ˜áƒáƒœáƒ˜ áƒ›áƒáƒ áƒ—áƒšáƒáƒª áƒ¦áƒ˜áƒ áƒ”áƒ‘áƒ£áƒš áƒ¡áƒáƒ¥áƒ›áƒ”áƒ¡ áƒ’áƒ˜áƒ™áƒ”áƒ—áƒ”áƒ‘áƒ¡, áƒ®áƒáƒ› áƒ’áƒ˜áƒ©áƒœáƒ“áƒ”áƒ‘áƒ áƒ¡áƒ£áƒ áƒ•áƒ˜áƒšáƒ˜ áƒáƒ› áƒ¡áƒ˜áƒ™áƒ”áƒ—áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡ áƒ›áƒáƒ“áƒšáƒáƒ‘áƒ áƒ’áƒáƒ“áƒáƒ£áƒ®áƒáƒ“áƒ? áƒ¨áƒ”áƒœ áƒ®áƒáƒ› áƒáƒ¡áƒ”áƒ—áƒ˜ áƒ¦áƒ˜áƒ áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ›áƒ˜áƒ–áƒœáƒ˜áƒ¡áƒ™áƒ”áƒœ áƒ›áƒ˜áƒ“áƒ˜áƒ®áƒáƒ , áƒ“áƒáƒ¤áƒ˜áƒ¥áƒ áƒ“áƒ˜, áƒœáƒ£áƒ—áƒ£ áƒáƒ  áƒ˜áƒ›áƒ¡áƒáƒ®áƒ£áƒ áƒ”áƒ‘ áƒáƒ› áƒ›áƒ˜áƒ–áƒáƒœáƒ“áƒáƒ¡áƒáƒ®áƒ£áƒšáƒáƒ‘áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡ áƒ›áƒáƒ“áƒšáƒáƒ‘áƒáƒ¡?</p></div>';
            }
            
            document.getElementById('eveningGratitudeFeedbackPage').style.display = 'block';
        }
        
        function eveningNextToProud() {
            document.getElementById('eveningGratitudeFeedbackPage').style.display = 'none';
            document.getElementById('eveningProudPage').style.display = 'block';
        }
        
        function eveningAnswerProud(answer) {
            contactData.evening.proud = answer;
            
            // Hide question page
            document.getElementById('eveningProudPage').style.display = 'none';
            
            // Show feedback on separate page
            const feedbackBox = document.getElementById('eveningProudFeedbackBox');
            if (answer) {
                feedbackBox.innerHTML = '<div style="background: #FFFFFF; border-left: 4px solid #667eea; padding: 25px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);"><p style="color: #333; font-size: 17px; line-height: 1.7; margin: 0; text-align: center;">áƒ›áƒ¨áƒ•áƒ”áƒœáƒ˜áƒ”áƒ áƒ˜áƒ, áƒ˜áƒ¡ áƒ«áƒáƒšáƒ˜áƒ¡áƒ®áƒ›áƒ”áƒ•áƒ áƒ“áƒ áƒ¡áƒ£áƒšáƒ˜áƒ¡ áƒ¡áƒ˜áƒ›áƒ¢áƒ™áƒ˜áƒªáƒ”, áƒ áƒáƒ›áƒ”áƒšáƒ¡áƒáƒª áƒ¨áƒ”áƒœ áƒ˜áƒ©áƒ”áƒœ áƒœáƒáƒ›áƒ“áƒ•áƒ˜áƒšáƒáƒ“ áƒ¡áƒ˜áƒáƒ›áƒáƒ§áƒ˜áƒ¡ áƒ¦áƒ˜áƒ áƒ¡áƒ˜áƒ.</p></div>';
            } else {
                feedbackBox.innerHTML = '<div style="background: #FFFFFF; border-left: 4px solid #667eea; padding: 25px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);"><p style="color: #333; font-size: 17px; line-height: 1.7; margin: 0; text-align: center;">áƒ›áƒ”áƒ áƒ”? áƒ áƒáƒ¡ áƒ”áƒšáƒáƒ“áƒ”áƒ‘áƒ˜? áƒ˜áƒ¡ áƒ«áƒáƒšáƒ˜áƒ¡áƒ®áƒ›áƒ”áƒ•áƒ áƒ“áƒ áƒ¡áƒ£áƒšáƒ˜áƒ¡ áƒ¡áƒ˜áƒ›áƒ¢áƒ™áƒ˜áƒªáƒ”, áƒ áƒáƒ›áƒ”áƒšáƒ¡áƒáƒª áƒ¨áƒ”áƒœ áƒ˜áƒ©áƒ”áƒœ, áƒœáƒ£áƒ—áƒ£ áƒáƒ  áƒ˜áƒ›áƒ¡áƒáƒ®áƒ£áƒ áƒ”áƒ‘áƒ¡ áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜ áƒ—áƒáƒ•áƒ˜áƒ— áƒ¡áƒ˜áƒáƒ›áƒáƒ§áƒ”áƒ¡? áƒ¨áƒ”áƒœ áƒ›áƒáƒ áƒ—áƒšáƒáƒª áƒ«áƒáƒšáƒ˜áƒáƒœ áƒ›áƒáƒ’áƒáƒ áƒ˜ áƒ®áƒáƒ , áƒ”áƒªáƒáƒ“áƒ” áƒ¨áƒ”áƒœáƒª áƒ“áƒáƒ˜áƒœáƒáƒ®áƒ áƒ”áƒ¡!</p></div>';
            }
            
            document.getElementById('eveningProudFeedbackPage').style.display = 'block';
        }
        
        function eveningNextToFinal() {
            // Save first
            try {
                saveEveningContact();
            } catch (e) {
                // Save failed, continuing anyway
            }
            
            // Then navigate
            document.getElementById('eveningProudFeedbackPage').style.display = 'none';
            document.getElementById('eveningFinalPage').style.display = 'block';
        }
        
        function showBadgesProgress() {
            document.getElementById('eveningFinalPage').style.display = 'none';
            
            // Safety check for localStorage
            if (!app || !app.users || !user || !user.email) {
                // Demo version without localStorage
                document.getElementById('badgesContent').innerHTML = `
                    <div style="text-align: center; padding: 40px 20px;">
                        <h2 style="color: #667eea; margin-bottom: 20px;">ğŸ† áƒ‘áƒ”áƒ¯áƒ”áƒ‘áƒ˜áƒ¡ áƒáƒ áƒáƒ’áƒ áƒ”áƒ¡áƒ˜</h2>
                        <p style="color: #666; font-size: 16px; line-height: 1.7;">
                            áƒ”áƒ¡ áƒ¤áƒ£áƒœáƒ¥áƒªáƒ˜áƒ áƒ¡áƒ áƒ£áƒšáƒáƒ“ áƒ˜áƒ›áƒ£áƒ¨áƒáƒ•áƒ”áƒ‘áƒ¡ áƒ áƒáƒªáƒ áƒáƒáƒšáƒ˜áƒ™áƒáƒªáƒ˜áƒ áƒáƒœáƒšáƒáƒ˜áƒœ áƒ•áƒ”áƒ áƒ¡áƒ˜áƒáƒ–áƒ” áƒ’áƒáƒ“áƒáƒ•áƒ! 
                            <br><br>
                            áƒáƒ¥ áƒœáƒáƒ®áƒáƒ• áƒ¨áƒ”áƒœáƒ¡ áƒáƒ áƒáƒ’áƒ áƒ”áƒ¡áƒ¡, áƒ›áƒ˜áƒ¦áƒ”áƒ‘áƒ£áƒš áƒ‘áƒ”áƒ¯áƒ”áƒ‘áƒ¡ áƒ“áƒ áƒ›áƒ˜áƒ›áƒ“áƒ˜áƒœáƒáƒ áƒ” áƒ›áƒ˜áƒ–áƒáƒœáƒ¡! ğŸ¯
                        </p>
                    </div>
                `;
                document.getElementById('eveningBadgesPage').style.display = 'block';
                return;
            }
            
            const u = app.users[user.email];
            const currentStreak = u.currentStreak || 0;
            
            // Define all milestones
            const milestones = [7, 14, 30, 60, 90, 120, 150, 180, 210, 240, 270, 300, 330, 365, 730, 1825, 3650];
            
            // Find current and next milestone
            let currentMilestone = 0;
            let nextMilestone = milestones[0];
            
            for (let m of milestones) {
                if (currentStreak >= m) {
                    currentMilestone = m;
                } else {
                    nextMilestone = m;
                    break;
                }
            }
            
            // Calculate progress
            const progressDays = currentStreak - currentMilestone;
            const totalDays = nextMilestone - currentMilestone;
            const percentage = (progressDays / totalDays) * 100;
            const daysRemaining = nextMilestone - currentStreak;
            
            // Milestone names
            const getMilestoneName = (days) => {
                if (days === 7) return '1 áƒ™áƒ•áƒ˜áƒ áƒ˜áƒ¡ áƒ‘áƒ”áƒ¯áƒ˜';
                if (days === 14) return '2 áƒ™áƒ•áƒ˜áƒ áƒ˜áƒ¡ áƒ‘áƒ”áƒ¯áƒ˜';
                if (days === 30) return '1 áƒ—áƒ•áƒ˜áƒ¡ áƒ‘áƒ”áƒ¯áƒ˜';
                if (days === 60) return '2 áƒ—áƒ•áƒ˜áƒ¡ áƒ‘áƒ”áƒ¯áƒ˜';
                if (days === 90) return '3 áƒ—áƒ•áƒ˜áƒ¡ áƒ‘áƒ”áƒ¯áƒ˜';
                if (days === 120) return '4 áƒ—áƒ•áƒ˜áƒ¡ áƒ‘áƒ”áƒ¯áƒ˜';
                if (days === 150) return '5 áƒ—áƒ•áƒ˜áƒ¡ áƒ‘áƒ”áƒ¯áƒ˜';
                if (days === 180) return '6 áƒ—áƒ•áƒ˜áƒ¡ áƒ‘áƒ”áƒ¯áƒ˜';
                if (days === 365) return '1 áƒ¬áƒšáƒ˜áƒ¡ áƒ‘áƒ”áƒ¯áƒ˜';
                return `${days} áƒ“áƒ¦áƒ˜áƒ¡ áƒ‘áƒ”áƒ¯áƒ˜`;
            };
            
            // Progress message based on percentage
            let message = '';
            if (percentage < 33) {
                message = 'âœ¨ áƒ›áƒ¨áƒ•áƒ”áƒœáƒ˜áƒ”áƒ áƒ˜áƒ! áƒ—áƒ˜áƒ—áƒáƒ”áƒ£áƒšáƒ˜ áƒ“áƒ¦áƒ” áƒ’áƒáƒáƒ®áƒšáƒáƒ”áƒ‘áƒ¡ áƒ¨áƒ”áƒœáƒ¡ áƒ›áƒ˜áƒ–áƒáƒœáƒ—áƒáƒœ!';
            } else if (percentage === 33 || (percentage > 32 && percentage < 34)) {
                message = `âœ¨ áƒ›áƒ¨áƒ•áƒ”áƒœáƒ˜áƒ”áƒ áƒ˜áƒ! áƒ¨áƒ”áƒœ áƒ£áƒ™áƒ•áƒ” áƒ“áƒáƒ¤áƒáƒ áƒ” áƒ›áƒ˜áƒ›áƒ“áƒ˜áƒœáƒáƒ áƒ” áƒ›áƒ˜áƒ–áƒœáƒ˜áƒ¡ 1/3!`;
            } else if (percentage > 33 && percentage < 50) {
                message = 'áƒ§áƒáƒ©áƒáƒ¦! 1/3 áƒ“áƒáƒ¤áƒáƒ áƒ£áƒšáƒ˜ áƒ’áƒáƒ¥áƒ•áƒ¡, áƒ’áƒáƒœáƒáƒ’áƒ áƒ«áƒ” áƒ¡áƒ•áƒšáƒ áƒ¨áƒ”áƒœáƒ˜ áƒ›áƒ˜áƒ–áƒœáƒ˜áƒ¡áƒ™áƒ”áƒœ!';
            } else if (percentage === 50 || (percentage > 49 && percentage < 51)) {
                message = `ğŸŒŸ áƒ§áƒáƒ©áƒáƒ¦! áƒ¨áƒ”áƒœ áƒ£áƒ™áƒ•áƒ” áƒ“áƒáƒ¤áƒáƒ áƒ” áƒ›áƒ˜áƒ›áƒ“áƒ˜áƒœáƒáƒ áƒ” áƒ›áƒ˜áƒ–áƒœáƒ˜áƒ¡ áƒœáƒáƒ®áƒ”áƒ•áƒáƒ áƒ˜! áƒ›áƒáƒ›áƒ“áƒ”áƒ•áƒœáƒ áƒ‘áƒ”áƒ¯áƒ˜áƒ¡ áƒ›áƒáƒáƒáƒ•áƒ”áƒ‘áƒáƒ›áƒ“áƒ” áƒ“áƒáƒ áƒ©áƒ ${daysRemaining} áƒ“áƒ¦áƒ”!`;
            } else if (percentage > 50 && percentage < 70) {
                message = 'áƒ›áƒ¨áƒ•áƒ”áƒœáƒ˜áƒ”áƒ áƒ˜áƒ! áƒ¨áƒ”áƒœ áƒ£áƒ™áƒ•áƒ” áƒ“áƒáƒ¤áƒáƒ áƒ£áƒšáƒ˜ áƒ’áƒáƒ¥áƒ•áƒ¡ áƒ›áƒ˜áƒ›áƒ“áƒ˜áƒœáƒáƒ áƒ” áƒ›áƒ˜áƒ–áƒœáƒ˜áƒ¡ áƒœáƒáƒ®áƒ”áƒ•áƒáƒ áƒ˜, áƒáƒ¡áƒ” áƒ’áƒáƒáƒ’áƒ áƒ«áƒ”áƒšáƒ”!';
            } else if (percentage === 70 || (percentage > 69 && percentage < 71)) {
                message = 'ğŸ’ª áƒ’áƒ˜áƒšáƒáƒªáƒáƒ•, áƒ«áƒšáƒ˜áƒ”áƒ áƒáƒ“ áƒ›áƒ˜áƒ˜áƒ¬áƒ”áƒ• áƒ¬áƒ˜áƒœ! áƒ’áƒ–áƒ˜áƒ¡ áƒ£áƒ“áƒ˜áƒ“áƒ”áƒ¡áƒ˜ áƒœáƒáƒ¬áƒ˜áƒšáƒ˜ áƒ¨áƒ”áƒœ áƒ£áƒ™áƒ•áƒ” áƒ“áƒáƒ¤áƒáƒ áƒ”! áƒ’áƒáƒœáƒáƒ’áƒ áƒ«áƒ” áƒ¨áƒ”áƒœáƒ˜ áƒ¡áƒ•áƒšáƒ!';
            } else if (percentage > 70) {
                message = `ğŸ’ª áƒ«áƒšáƒ˜áƒ”áƒ áƒáƒ“ áƒ›áƒ˜áƒ˜áƒ¬áƒ”áƒ• áƒ¬áƒ˜áƒœ! áƒ’áƒ–áƒ˜áƒ¡ áƒ£áƒ“áƒ˜áƒ“áƒ”áƒ¡áƒ˜ áƒœáƒáƒ¬áƒ˜áƒšáƒ˜ áƒ£áƒ™áƒ•áƒ” áƒ“áƒáƒ¤áƒáƒ áƒ£áƒšáƒ˜ áƒ’áƒáƒ¥áƒ•áƒ¡! áƒ™áƒ˜áƒ“áƒ”áƒ• ${daysRemaining} áƒ“áƒ¦áƒ” áƒ“áƒ áƒ›áƒáƒ˜áƒáƒáƒ•áƒ”áƒ‘ áƒáƒ®áƒáƒš áƒ‘áƒ”áƒ¯áƒ¡ - ${getMilestoneName(nextMilestone)}!`;
            }
            
            // Earned badges
            const earnedBadges = milestones.filter(m => currentStreak >= m);
            
            // Build HTML
            let badgesHTML = `
                <div style="text-align: center; margin-bottom: 25px;">
                    <div style="margin-bottom: 20px;">
                        <div style="font-size: 16px; color: #666; margin-bottom: 5px;">ğŸ† áƒáƒ áƒ¡áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ›áƒ˜áƒ¦áƒ¬áƒ”áƒ•áƒ</div>
                        <div style="font-size: 24px; font-weight: bold; color: #667eea;">${currentMilestone > 0 ? getMilestoneName(currentMilestone) : 'áƒ¯áƒ”áƒ  áƒáƒ  áƒáƒ áƒ˜áƒ¡'}</div>
                    </div>
                    
                    <div style="margin-bottom: 20px;">
                        <div style="font-size: 16px; color: #666; margin-bottom: 5px;">ğŸ¯ áƒ›áƒáƒ›áƒ“áƒ”áƒ•áƒœáƒ áƒ›áƒ˜áƒ¦áƒ¬áƒ”áƒ•áƒ</div>
                        <div style="font-size: 24px; font-weight: bold; color: #764ba2;">${getMilestoneName(nextMilestone)}</div>
                    </div>
                    
                    <div style="margin-bottom: 25px;">
                        <div style="font-size: 16px; color: #666; margin-bottom: 5px;">ğŸ“Š áƒ›áƒ˜áƒ›áƒ“áƒ˜áƒœáƒáƒ áƒ” áƒ›áƒ˜áƒ–áƒáƒœáƒ˜</div>
                        <div style="font-size: 20px; font-weight: bold; color: #333;">${progressDays}/${totalDays} áƒ“áƒ¦áƒ”</div>
                    </div>
                </div>
                
                <!-- Progress grid -->
                <div style="display: grid; grid-template-columns: repeat(${Math.min(totalDays, 30)}, 1fr); gap: 4px; margin-bottom: 20px; max-width: 600px; margin-left: auto; margin-right: auto;">
            `;
            
            for (let i = 0; i < totalDays; i++) {
                const filled = i < progressDays;
                badgesHTML += `<div style="height: 20px; background: ${filled ? '#10b981' : '#e5e7eb'}; border-radius: 4px;"></div>`;
            }
            
            badgesHTML += `
                </div>
                
                <!-- Progress message -->
                <div style="background: #f3f4f6; padding: 20px; border-radius: 12px; margin-bottom: 25px; text-align: center;">
                    <p style="font-size: 17px; line-height: 1.7; margin: 0; color: #333; font-weight: 600;">${message}</p>
                </div>
                
                <!-- Earned badges -->
                <div style="text-align: center;">
                    <div style="font-size: 16px; color: #666; margin-bottom: 15px; font-weight: 600;">ğŸ… áƒ›áƒ˜áƒ¦áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ‘áƒ”áƒ¯áƒ”áƒ‘áƒ˜</div>
                    <div style="display: flex; flex-wrap: wrap; gap: 10px; justify-content: center;">
            `;
            
            if (earnedBadges.length > 0) {
                earnedBadges.forEach(badge => {
                    badgesHTML += `<div style="background: linear-gradient(135deg, #10b981 0%, #059669 100%); color: white; padding: 8px 16px; border-radius: 20px; font-size: 14px; font-weight: 600;">âœ… ${getMilestoneName(badge)}</div>`;
                });
            } else {
                badgesHTML += `<div style="color: #999; font-size: 14px;">áƒ¯áƒ”áƒ  áƒáƒ  áƒ’áƒáƒ¥áƒ•áƒ¡ áƒ›áƒ˜áƒ¦áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ‘áƒ”áƒ¯áƒ˜</div>`;
            }
            
            badgesHTML += `
                    </div>
                </div>
            `;
            
            document.getElementById('badgesContent').innerHTML = badgesHTML;
            document.getElementById('eveningBadgesPage').style.display = 'block';
        }
        
        function eveningGoToBadges() {
            document.getElementById('eveningFinalPage').style.display = 'none';
            showBadgesProgress();
            document.getElementById('eveningBadgesPage').style.display = 'block';
        }
        
        function showBadgesProgress() {
            const u = app.users[user.email];
            const currentStreak = u.currentStreak || 0;
            
            // Define milestones
            const milestones = [7, 14, 30, 60, 90, 120, 150, 180, 210, 240, 270, 300, 330, 365, 730, 1825, 3650];
            
            // Find current and next milestone
            let currentMilestone = 0;
            let nextMilestone = milestones[0];
            
            for (let i = 0; i < milestones.length; i++) {
                if (currentStreak >= milestones[i]) {
                    currentMilestone = milestones[i];
                    nextMilestone = milestones[i + 1] || milestones[i];
                } else {
                    nextMilestone = milestones[i];
                    break;
                }
            }
            
            // Calculate progress
            const progressDays = currentStreak - currentMilestone; // Days since last badge
            const targetDays = nextMilestone - currentMilestone; // Days needed for next badge
            const progressPercent = (progressDays / targetDays) * 100;
            
            // Get milestone names
            const getMilestoneName = (days) => {
                if (days === 7) return '1 áƒ™áƒ•áƒ˜áƒ áƒ˜áƒ¡ áƒ‘áƒ”áƒ¯áƒ˜';
                if (days === 14) return '2 áƒ™áƒ•áƒ˜áƒ áƒ˜áƒ¡ áƒ‘áƒ”áƒ¯áƒ˜';
                if (days === 30) return '1 áƒ—áƒ•áƒ˜áƒ¡ áƒ‘áƒ”áƒ¯áƒ˜';
                if (days === 60) return '2 áƒ—áƒ•áƒ˜áƒ¡ áƒ‘áƒ”áƒ¯áƒ˜';
                if (days === 90) return '3 áƒ—áƒ•áƒ˜áƒ¡ áƒ‘áƒ”áƒ¯áƒ˜';
                if (days === 120) return '4 áƒ—áƒ•áƒ˜áƒ¡ áƒ‘áƒ”áƒ¯áƒ˜';
                if (days === 150) return '5 áƒ—áƒ•áƒ˜áƒ¡ áƒ‘áƒ”áƒ¯áƒ˜';
                if (days === 180) return '6 áƒ—áƒ•áƒ˜áƒ¡ áƒ‘áƒ”áƒ¯áƒ˜';
                if (days === 210) return '7 áƒ—áƒ•áƒ˜áƒ¡ áƒ‘áƒ”áƒ¯áƒ˜';
                if (days === 240) return '8 áƒ—áƒ•áƒ˜áƒ¡ áƒ‘áƒ”áƒ¯áƒ˜';
                if (days === 270) return '9 áƒ—áƒ•áƒ˜áƒ¡ áƒ‘áƒ”áƒ¯áƒ˜';
                if (days === 300) return '10 áƒ—áƒ•áƒ˜áƒ¡ áƒ‘áƒ”áƒ¯áƒ˜';
                if (days === 330) return '11 áƒ—áƒ•áƒ˜áƒ¡ áƒ‘áƒ”áƒ¯áƒ˜';
                if (days === 365) return '1 áƒ¬áƒšáƒ˜áƒ¡ áƒ‘áƒ”áƒ¯áƒ˜';
                return `${days} áƒ“áƒ¦áƒ˜áƒ¡ áƒ‘áƒ”áƒ¯áƒ˜`;
            };
            
            // Get emoji for badge
            const getBadgeEmoji = (days) => {
                if (days === 7) return 'ğŸ…';
                if (days === 14) return 'ğŸ†';
                if (days === 30) return 'â­';
                if (days === 60) return 'ğŸ’';
                if (days === 90) return 'ğŸ‘‘';
                if (days >= 120) return 'ğŸŒŸ';
                return 'âœ¨';
            };
            
            // Generate progress message
            let message = '';
            if (progressPercent < 33) {
                message = 'áƒ›áƒ¨áƒ•áƒ”áƒœáƒ˜áƒ”áƒ áƒ˜áƒ! áƒ—áƒ˜áƒ—áƒáƒ”áƒ£áƒšáƒ˜ áƒ“áƒ¦áƒ” áƒ’áƒáƒáƒ®áƒšáƒáƒ”áƒ‘áƒ¡ áƒ¨áƒ”áƒœáƒ¡ áƒ›áƒ˜áƒ–áƒáƒœáƒ—áƒáƒœ!';
            } else if (progressPercent === 33 || (progressPercent >= 32 && progressPercent < 34)) {
                message = `âœ¨ áƒ›áƒ¨áƒ•áƒ”áƒœáƒ˜áƒ”áƒ áƒ˜áƒ! áƒ¨áƒ”áƒœ áƒ£áƒ™áƒ•áƒ” áƒ“áƒáƒ¤áƒáƒ áƒ” áƒ›áƒ˜áƒ›áƒ“áƒ˜áƒœáƒáƒ áƒ” áƒ›áƒ˜áƒ–áƒœáƒ˜áƒ¡ 1/3!`;
            } else if (progressPercent > 33 && progressPercent < 50) {
                message = 'áƒ§áƒáƒ©áƒáƒ¦! áƒ¨áƒ”áƒœ áƒ£áƒ™áƒ•áƒ” áƒ“áƒáƒ¤áƒáƒ áƒ£áƒšáƒ˜ áƒ’áƒáƒ¥áƒ•áƒ¡ áƒ›áƒ˜áƒ›áƒ“áƒ˜áƒœáƒáƒ áƒ” áƒ›áƒ˜áƒ–áƒœáƒ˜áƒ¡ 1/3, áƒ’áƒáƒœáƒáƒ’áƒ áƒ«áƒ” áƒ¡áƒ•áƒšáƒ áƒ¨áƒ”áƒœáƒ˜ áƒ›áƒ˜áƒ–áƒœáƒ˜áƒ¡áƒ™áƒ”áƒœ!';
            } else if (progressPercent === 50 || (progressPercent >= 49 && progressPercent < 51)) {
                const daysLeft = targetDays - progressDays;
                message = `ğŸŒŸ áƒ§áƒáƒ©áƒáƒ¦! áƒ¨áƒ”áƒœ áƒ£áƒ™áƒ•áƒ” áƒ“áƒáƒ¤áƒáƒ áƒ” áƒ›áƒ˜áƒ›áƒ“áƒ˜áƒœáƒáƒ áƒ” áƒ›áƒ˜áƒ–áƒœáƒ˜áƒ¡ áƒœáƒáƒ®áƒ”áƒ•áƒáƒ áƒ˜! áƒ›áƒáƒ›áƒ“áƒ”áƒ•áƒœáƒ áƒ‘áƒ”áƒ¯áƒ˜áƒ¡ áƒ›áƒáƒáƒáƒ•áƒ”áƒ‘áƒáƒ›áƒ“áƒ” áƒ“áƒáƒ áƒ©áƒ ${daysLeft} áƒ“áƒ¦áƒ”!`;
            } else if (progressPercent > 50 && progressPercent < 70) {
                message = 'áƒ›áƒ¨áƒ•áƒ”áƒœáƒ˜áƒ”áƒ áƒ˜áƒ! áƒ¨áƒ”áƒœ áƒ£áƒ™áƒ•áƒ” áƒ“áƒáƒ¤áƒáƒ áƒ£áƒšáƒ˜ áƒ’áƒáƒ¥áƒ•áƒ¡ áƒ›áƒ˜áƒ›áƒ“áƒ˜áƒœáƒáƒ áƒ” áƒ›áƒ˜áƒ–áƒœáƒ˜áƒ¡ áƒœáƒáƒ®áƒ”áƒ•áƒáƒ áƒ˜, áƒáƒ¡áƒ” áƒ’áƒáƒáƒ’áƒ áƒ«áƒ”áƒšáƒ”!';
            } else if (progressPercent === 70 || (progressPercent >= 69 && progressPercent < 71)) {
                message = 'ğŸ’ª áƒ’áƒ˜áƒšáƒáƒªáƒáƒ•, áƒ«áƒšáƒ˜áƒ”áƒ áƒáƒ“ áƒ›áƒ˜áƒ˜áƒ¬áƒ”áƒ• áƒ¬áƒ˜áƒœ! áƒ’áƒ–áƒ˜áƒ¡ áƒ£áƒ“áƒ˜áƒ“áƒ”áƒ¡áƒ˜ áƒœáƒáƒ¬áƒ˜áƒšáƒ˜ áƒ¨áƒ”áƒœ áƒ£áƒ™áƒ•áƒ” áƒ“áƒáƒ¤áƒáƒ áƒ”! áƒ’áƒáƒœáƒáƒ’áƒ áƒ«áƒ” áƒ¨áƒ”áƒœáƒ˜ áƒ¡áƒ•áƒšáƒ!';
            } else {
                const daysLeft = targetDays - progressDays;
                if (daysLeft <= 5) {
                    message = `ğŸ’ª áƒ«áƒšáƒ˜áƒ”áƒ áƒáƒ“ áƒ›áƒ˜áƒ˜áƒ¬áƒ”áƒ• áƒ¬áƒ˜áƒœ! áƒ’áƒ–áƒ˜áƒ¡ áƒ£áƒ“áƒ˜áƒ“áƒ”áƒ¡áƒ˜ áƒœáƒáƒ¬áƒ˜áƒšáƒ˜ áƒ£áƒ™áƒ•áƒ” áƒ“áƒáƒ¤áƒáƒ áƒ£áƒšáƒ˜ áƒ’áƒáƒ¥áƒ•áƒ¡! áƒ™áƒ˜áƒ“áƒ”áƒ• ${daysLeft} áƒ“áƒ¦áƒ”áƒª áƒ“áƒ áƒ›áƒáƒ˜áƒáƒáƒ•áƒ”áƒ‘ áƒáƒ®áƒáƒš áƒ‘áƒ”áƒ¯áƒ¡ - ${getMilestoneName(nextMilestone)}!`;
                } else {
                    message = 'ğŸ’ª áƒ«áƒšáƒ˜áƒ”áƒ áƒáƒ“ áƒ›áƒ˜áƒ˜áƒ¬áƒ”áƒ• áƒ¬áƒ˜áƒœ! áƒ’áƒ–áƒ˜áƒ¡ áƒ£áƒ“áƒ˜áƒ“áƒ”áƒ¡áƒ˜ áƒœáƒáƒ¬áƒ˜áƒšáƒ˜ áƒ£áƒ™áƒ•áƒ” áƒ“áƒáƒ¤áƒáƒ áƒ£áƒšáƒ˜ áƒ’áƒáƒ¥áƒ•áƒ¡!';
                }
            }
            
            // Generate progress bar (grid of boxes)
            const boxCount = targetDays;
            const filledBoxes = progressDays;
            let progressHTML = '<div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(20px, 1fr)); gap: 5px; margin: 20px 0;">';
            for (let i = 0; i < boxCount; i++) {
                const filled = i < filledBoxes;
                progressHTML += `<div style="width: 20px; height: 20px; background: ${filled ? '#10b981' : '#e5e7eb'}; border-radius: 4px;"></div>`;
            }
            progressHTML += '</div>';
            
            // Get earned badges
            let earnedBadgesHTML = '<div style="display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; margin: 20px 0;">';
            for (let milestone of milestones) {
                if (currentStreak >= milestone) {
                    earnedBadgesHTML += `<div style="background: #D1FAE5; border: 2px solid #10b981; padding: 10px 15px; border-radius: 8px; font-weight: 600; color: #065F46;">${getBadgeEmoji(milestone)} ${getMilestoneName(milestone)}</div>`;
                }
            }
            earnedBadgesHTML += '</div>';
            
            // Build full HTML
            const html = `
                <div style="text-align: center; margin-bottom: 25px;">
                    <div style="margin-bottom: 15px;">
                        <div style="color: #666; font-size: 14px; margin-bottom: 5px;">ğŸ† áƒáƒ áƒ¡áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ›áƒ˜áƒ¦áƒ¬áƒ”áƒ•áƒ</div>
                        <div style="font-size: 20px; font-weight: 700; color: #10b981;">${currentMilestone > 0 ? getBadgeEmoji(currentMilestone) + ' ' + getMilestoneName(currentMilestone) : 'áƒ“áƒáƒ˜áƒ¬áƒ§áƒ” áƒ¨áƒ”áƒœáƒ˜ áƒ’áƒ–áƒ!'}</div>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <div style="color: #666; font-size: 14px; margin-bottom: 5px;">ğŸ¯ áƒ›áƒáƒ›áƒ“áƒ”áƒ•áƒœáƒ áƒ›áƒ˜áƒ¦áƒ¬áƒ”áƒ•áƒ</div>
                        <div style="font-size: 20px; font-weight: 700; color: #667eea;">${getBadgeEmoji(nextMilestone)} ${getMilestoneName(nextMilestone)}</div>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <div style="color: #666; font-size: 14px; margin-bottom: 5px;">ğŸ“Š áƒ›áƒ˜áƒ›áƒ“áƒ˜áƒœáƒáƒ áƒ” áƒ›áƒ˜áƒ–áƒáƒœáƒ˜</div>
                        <div style="font-size: 18px; font-weight: 600; color: #333;">${progressDays}/${targetDays} áƒ“áƒ¦áƒ”</div>
                    </div>
                </div>
                
                ${progressHTML}
                
                <div style="background: #F3F4F6; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                    <p style="color: #333; font-size: 16px; line-height: 1.6; margin: 0;">${message}</p>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <div style="color: #666; font-size: 14px; margin-bottom: 10px; text-align: center; font-weight: 600;">ğŸ… áƒ›áƒ˜áƒ¦áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ‘áƒ”áƒ¯áƒ”áƒ‘áƒ˜</div>
                    ${earnedBadgesHTML}
                </div>
            `;
            
            document.getElementById('badgesContent').innerHTML = html;
        }
        
        function saveEveningContact() {
            const now = new Date();
            let targetDate;
            
            if (contactData.isYesterday) {
                const yesterday = new Date(now);
                yesterday.setDate(yesterday.getDate() - 1);
                targetDate = yesterday.toISOString().split('T')[0];
                contactData.isYesterday = false;
            } else {
                targetDate = now.toISOString().split('T')[0];
            }
            
            const u = app.users[user.email];
            
            if (!u.dailyCheckins) u.dailyCheckins = [];
            
            let checkin = u.dailyCheckins.find(c => c.date === targetDate);
            if (!checkin) {
                checkin = { date: targetDate };
                u.dailyCheckins.push(checkin);
            }
            
            checkin.evening = {
                success: contactData.evening.success,
                gratitude: contactData.evening.gratitude,
                proud: contactData.evening.proud
            };
            
            save();
        }
        
        function closeEveningContact() {
            document.getElementById('eveningContactModal').style.display = 'none';
            contactData.isYesterday = false; // Reset flag
            updateContactCards();
        }
        
        function goToMotivations() {
            // Close evening modal
            document.getElementById('eveningContactModal').style.display = 'none';
            // Show motivations section
            showSection('motivations');
        }
        
        // ============ ACHIEVEMENTS FUNCTIONS ============
        
        function showMyAchievements() {
            // Safely try to get real data
            let currentStreak = 0;
            
            try {
                if (typeof app !== 'undefined' && app && app.users && user && user.email && app.users[user.email]) {
                    const u = app.users[user.email];
                    // Use streak if available (calculated from lastUse date)
                    currentStreak = u.streak || u.currentStreak || 0;
                }
            } catch (e) {
                // Silent fail
            }
            
            // If no real data, use demo streak for testing (file:// mode)
            if (currentStreak === 0 && typeof app === 'undefined') {
                currentStreak = 18; // Demo: 18 days for testing UI
            }
            
            // Define milestones
            const milestones = [7, 14, 30, 60, 90, 120, 150, 180, 210, 240, 270, 300, 330, 365, 730, 1825, 3650];
            
            // Get earned badges
            const earnedBadges = milestones.filter(m => currentStreak >= m);
            
            // Find next badge
            let nextBadge = milestones[0];
            for (let m of milestones) {
                if (currentStreak < m) {
                    nextBadge = m;
                    break;
                }
            }
            
            // Calculate current progress
            const lastBadge = earnedBadges.length > 0 ? earnedBadges[earnedBadges.length - 1] : 0;
            const progressDays = currentStreak - lastBadge;
            const totalDays = nextBadge - lastBadge; // This is the GOAL (days between badges)
            const daysLeft = nextBadge - currentStreak;
            const percentage = (progressDays / totalDays) * 100;
            
            // Build HTML - SAME AS RESULTS
            let html = `
                <div style="padding: 0 10px; height: 100%; display: flex; flex-direction: column; overflow-y: auto;">
                    
                    <!-- Next Badge -->
                    <div style="margin-bottom: 25px;">
                        <h3 style="color: #1E40AF; margin-bottom: 15px; font-size: 18px; font-weight: 600;">ğŸ¯ áƒ›áƒáƒ›áƒ“áƒ”áƒ•áƒœáƒ áƒ‘áƒ”áƒ¯áƒ˜:</h3>
                        <div style="background: linear-gradient(135deg, #DBEAFE 0%, #BFDBFE 100%); padding: 12px 28px; border-radius: 12px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); display: flex; align-items: center; gap: 8px; width: 145px;">
                            <span style="font-size: 24px; flex-shrink: 0;">ğŸ…</span>
                            <span style="color: #1E40AF; font-weight: 600; font-size: 16px; white-space: nowrap;">${nextBadge} áƒ“áƒ¦áƒ”</span>
                        </div>
                    </div>
                    
                    <!-- Progress -->
                    <div style="margin-bottom: 25px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                            <h3 style="color: #1E40AF; margin: 0; font-size: 18px; font-weight: 600;">ğŸ“ˆ áƒáƒ áƒáƒ’áƒ áƒ”áƒ¡áƒ˜:</h3>
                            <span style="color: #1E40AF; font-size: 16px; font-weight: 600;">${progressDays}/${totalDays} áƒ“áƒ¦áƒ”</span>
                        </div>
                        
                        <div style="display: grid; grid-template-columns: repeat(${Math.min(totalDays, 30)}, 1fr); gap: 3px; margin-bottom: 12px;">
            `;
            
            for (let i = 0; i < Math.min(totalDays, 30); i++) {
                const filled = i < progressDays;
                html += `<div style="height: 20px; background: ${filled ? '#10b981' : '#e5e7eb'}; border-radius: 4px;"></div>`;
            }
            
            html += `
                        </div>
                        
                        <div style="background: #f0f9ff; padding: 12px; border-radius: 8px; border-left: 4px solid #0ea5e9;">
                            <p style="color: #0c4a6e; font-size: 15px; margin: 0; font-weight: 500;">
                                ${Math.round(percentage)}% áƒ’áƒáƒ•áƒšáƒ˜áƒšáƒ˜ Â· áƒ“áƒáƒ áƒ©áƒ ${totalDays - progressDays} áƒ“áƒ¦áƒ”
                            </p>
                        </div>
                    </div>
                    
                    <!-- Earned Badges -->
                    <div style="flex: 1; overflow-y: auto;">
                        <h3 style="color: #059669; margin-bottom: 15px; font-size: 18px; font-weight: 600;">âœ… áƒ›áƒ˜áƒ¦áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ‘áƒ”áƒ¯áƒ”áƒ‘áƒ˜:</h3>
            `;
            
            if (earnedBadges.length > 0) {
                html += `<div style="max-height: 300px; overflow-y: auto; display: flex; flex-direction: column; gap: 10px; padding-bottom: 20px;">`;
                earnedBadges.reverse().forEach(badge => {
                    html += `
                        <div style="background: linear-gradient(135deg, #DBEAFE 0%, #BFDBFE 100%); padding: 8px 20px; border-radius: 12px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); display: flex; align-items: center; gap: 8px; width: 145px;">
                            <span style="font-size: 24px; flex-shrink: 0;">ğŸ…</span>
                            <span style="color: #1E40AF; font-weight: 600; font-size: 16px;">${badge} áƒ“áƒ¦áƒ”</span>
                        </div>
                    `;
                });
                html += `</div>`;
            } else {
                html += `<p style="color: #999; text-align: center; padding: 40px 20px; font-size: 16px;">áƒ¯áƒ”áƒ  áƒáƒ  áƒ’áƒáƒ¥áƒ•áƒ¡ áƒ›áƒ˜áƒ¦áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ‘áƒ”áƒ¯áƒ˜ ğŸ¯</p>`;
            }
            
            html += `</div></div>`;
            
            // Update modal header
            document.getElementById('achievementsModalHeader').textContent = `ğŸ… áƒ›áƒ˜áƒ›áƒ“áƒ˜áƒœáƒáƒ áƒ” áƒ›áƒ˜áƒ–áƒáƒœáƒ˜ ${totalDays} áƒ“áƒ¦áƒ”`;
            
            document.getElementById('achievementsContent').innerHTML = html;
            document.getElementById('achievementsModal').style.display = 'block';
        }
        
        function closeAchievements() {
            document.getElementById('achievementsModal').style.display = 'none';
            
            // Hide the achievement card from contact page
            document.getElementById('myAchievementsCard').style.display = 'none';
            
            // Check if all contacts complete
            checkAllContactsComplete();
        }
        
        function updateAchievementCardTitle() {
            // Get current streak
            let currentStreak = 0;
            
            try {
                if (typeof app !== 'undefined' && app && app.users && user && user.email && app.users[user.email]) {
                    const u = app.users[user.email];
                    currentStreak = u.streak || u.currentStreak || 0;
                }
            } catch (e) {
                // Silent fail
            }
            
            // Demo mode
            if (currentStreak === 0 && typeof app === 'undefined') {
                currentStreak = 18;
            }
            
            // Find next badge
            const milestones = [7, 14, 30, 60, 90, 120, 150, 180, 210, 240, 270, 300, 330, 365, 730, 1825, 3650];
            const earnedBadges = milestones.filter(m => currentStreak >= m);
            
            let nextBadge = milestones[0];
            for (let m of milestones) {
                if (currentStreak < m) {
                    nextBadge = m;
                    break;
                }
            }
            
            // Calculate totalDays (nextBadge - lastBadge)
            const lastBadge = earnedBadges.length > 0 ? earnedBadges[earnedBadges.length - 1] : 0;
            const totalDays = nextBadge - lastBadge;
            
            const titleEl = document.getElementById('achievementCardTitle');
            if (titleEl) {
                titleEl.textContent = `áƒ›áƒ˜áƒ›áƒ“áƒ˜áƒœáƒáƒ áƒ” áƒ›áƒ˜áƒ–áƒáƒœáƒ˜`;
            }
            
            // Update badge count
            const badgeCountEl = document.getElementById('achievementBadgeCount');
            if (badgeCountEl) {
                const badgeCount = earnedBadges.length;
                badgeCountEl.textContent = `${badgeCount} áƒ‘áƒ”áƒ¯áƒ˜ áƒ›áƒ˜áƒ¦áƒ”áƒ‘áƒ£áƒšáƒ˜`;
            }
        }
        
        function getMotivationalMessage(currentStreak, nextBadge) {
            const milestones = [7, 14, 30, 60, 90, 120, 150, 180, 210, 240, 270, 300, 330, 365, 730, 1825, 3650];
            const lastBadge = milestones.filter(m => currentStreak >= m).pop() || 0;
            const progressDays = currentStreak - lastBadge;
            const totalDays = nextBadge - lastBadge;
            const percentage = (progressDays / totalDays) * 100;
            const daysLeft = nextBadge - currentStreak;
            
            let emoji = '';
            let text = '';
            
            if (percentage < 33) {
                emoji = 'ğŸ’«';
                text = 'áƒ™áƒ˜áƒ“áƒ”áƒ• áƒ”áƒ áƒ—áƒ˜ áƒ¬áƒáƒ áƒ›áƒáƒ¢áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ“áƒ¦áƒ”! áƒ—áƒ˜áƒ—áƒáƒ”áƒ£áƒšáƒ˜ áƒ’áƒáƒ›áƒáƒ áƒ¯áƒ•áƒ”áƒ‘áƒ áƒ’áƒáƒáƒ®áƒšáƒáƒ•áƒ”áƒ‘áƒ¡ áƒ¨áƒ”áƒœáƒ¡ áƒ›áƒ˜áƒ–áƒáƒœáƒ—áƒáƒœ!';
            } else if (percentage === 33) {
                emoji = 'âœ¨ğŸ¯';
                text = 'áƒ›áƒ¨áƒ•áƒ”áƒœáƒ˜áƒ”áƒ áƒ˜áƒ! áƒ¨áƒ”áƒœ áƒ£áƒ™áƒ•áƒ” áƒ“áƒáƒ¤áƒáƒ áƒ” áƒ›áƒ˜áƒ›áƒ“áƒ˜áƒœáƒáƒ áƒ” áƒ›áƒ˜áƒ–áƒœáƒ˜áƒ¡ 1/3! áƒáƒ¡áƒ” áƒ’áƒáƒáƒ’áƒ áƒ«áƒ”áƒšáƒ”!';
            } else if (percentage > 33 && percentage < 50) {
                emoji = 'ğŸŒŸğŸ’«';
                text = 'áƒ§áƒáƒ©áƒáƒ¦! áƒ¨áƒ”áƒœ áƒ£áƒ™áƒ•áƒ” áƒ“áƒáƒ¤áƒáƒ áƒ£áƒšáƒ˜ áƒ’áƒáƒ¥áƒ•áƒ¡ áƒ›áƒ˜áƒ›áƒ“áƒ˜áƒœáƒáƒ áƒ” áƒ›áƒ˜áƒ–áƒœáƒ˜áƒ¡ 1/3, áƒ’áƒáƒœáƒáƒ’áƒ áƒ«áƒ” áƒ¨áƒ”áƒ£áƒáƒáƒ•áƒ áƒáƒ‘áƒ˜áƒ¡ áƒ’áƒáƒ›áƒáƒ•áƒšáƒ”áƒœáƒ áƒ“áƒ áƒ¨áƒ”áƒœáƒ˜ áƒ›áƒ˜áƒ–áƒœáƒ˜áƒ¡áƒ™áƒ”áƒœ áƒ¡áƒ•áƒšáƒ!';
            } else if (percentage >= 50 && percentage < 55) {
                emoji = 'ğŸŒŸğŸ¯';
                if (totalDays === 7) {
                    text = `áƒ§áƒáƒ©áƒáƒ¦! áƒ¨áƒ”áƒœ áƒ£áƒ™áƒ•áƒ” áƒ“áƒáƒ¤áƒáƒ áƒ” áƒ›áƒ˜áƒ›áƒ“áƒ˜áƒœáƒáƒ áƒ” áƒ›áƒ˜áƒ–áƒœáƒ˜áƒ¡ áƒœáƒáƒ®áƒ”áƒ•áƒáƒ áƒ˜! áƒ›áƒáƒ›áƒ“áƒ”áƒ•áƒœáƒ áƒ‘áƒ”áƒ¯áƒ˜áƒ¡ áƒ›áƒáƒáƒáƒ•áƒ”áƒ‘áƒáƒ›áƒ“áƒ” áƒ“áƒáƒ áƒ©áƒ ${daysLeft} áƒ“áƒ¦áƒ”!`;
                } else {
                    text = `áƒ§áƒáƒ©áƒáƒ¦! áƒ¨áƒ”áƒœ áƒ£áƒ™áƒ•áƒ” áƒ“áƒáƒ¤áƒáƒ áƒ” áƒ›áƒ˜áƒ›áƒ“áƒ˜áƒœáƒáƒ áƒ” áƒ›áƒ˜áƒ–áƒœáƒ˜áƒ¡ áƒœáƒáƒ®áƒ”áƒ•áƒáƒ áƒ˜! áƒ›áƒáƒ›áƒ“áƒ”áƒ•áƒœáƒ áƒ‘áƒ”áƒ¯áƒ˜áƒ¡ áƒ›áƒáƒáƒáƒ•áƒ”áƒ‘áƒáƒ›áƒ“áƒ” áƒ“áƒáƒ áƒ©áƒ ${daysLeft} áƒ“áƒ¦áƒ”!`;
                }
            } else if (percentage >= 55 && percentage < 70) {
                emoji = 'ğŸ”¥â­';
                text = 'áƒ›áƒ¨áƒ•áƒ”áƒœáƒ˜áƒ”áƒ áƒ˜áƒ! áƒ¨áƒ”áƒœ áƒ£áƒ™áƒ•áƒ” áƒ“áƒáƒ¤áƒáƒ áƒ£áƒšáƒ˜ áƒ’áƒáƒ¥áƒ•áƒ¡ áƒ›áƒ˜áƒ›áƒ“áƒ˜áƒœáƒáƒ áƒ” áƒ›áƒ˜áƒ–áƒœáƒ˜áƒ¡ áƒœáƒáƒ®áƒ”áƒ•áƒáƒ áƒ–áƒ” áƒ›áƒ”áƒ¢áƒ˜! áƒáƒ¡áƒ” áƒ’áƒáƒáƒ’áƒ áƒ«áƒ”áƒšáƒ” áƒ›áƒ˜áƒ–áƒáƒœáƒ“áƒáƒ¡áƒáƒ®áƒ£áƒšáƒáƒ‘áƒ˜áƒ¡áƒ áƒ“áƒ áƒ—áƒáƒœáƒáƒ›áƒ˜áƒ›áƒ“áƒ”áƒ•áƒ áƒ£áƒšáƒáƒ‘áƒ˜áƒ¡ áƒ’áƒáƒ›áƒáƒ•áƒšáƒ”áƒœáƒ!';
            } else if (percentage >= 70 && percentage < 75) {
                emoji = 'ğŸ’ªâœ¨';
                text = 'áƒ’áƒ˜áƒšáƒáƒªáƒáƒ•, áƒ«áƒšáƒ˜áƒ”áƒ áƒáƒ“ áƒ›áƒ˜áƒ˜áƒ¬áƒ”áƒ• áƒ¬áƒ˜áƒœ! áƒ’áƒ–áƒ˜áƒ¡ áƒ£áƒ“áƒ˜áƒ“áƒ”áƒ¡áƒ˜ áƒœáƒáƒ¬áƒ˜áƒšáƒ˜ áƒ¨áƒ”áƒœ áƒ£áƒ™áƒ•áƒ” áƒ“áƒáƒ¤áƒáƒ áƒ”! áƒáƒ¡áƒ” áƒ’áƒáƒáƒ’áƒ áƒ«áƒ”áƒšáƒ”!';
            } else {
                emoji = 'ğŸ’ªğŸŒŸğŸ’«';
                text = `áƒ«áƒšáƒ˜áƒ”áƒ áƒáƒ“ áƒ“áƒ áƒ—áƒáƒ•áƒ“áƒáƒ¯áƒ”áƒ áƒ”áƒ‘áƒ£áƒšáƒáƒ“ áƒ›áƒ˜áƒ˜áƒ¬áƒ”áƒ• áƒ¬áƒ˜áƒœ! áƒ’áƒ–áƒ˜áƒ¡ áƒ£áƒ“áƒ˜áƒ“áƒ”áƒ¡áƒ˜ áƒœáƒáƒ¬áƒ˜áƒšáƒ˜ áƒ£áƒ™áƒ•áƒ” áƒ“áƒáƒ¤áƒáƒ áƒ£áƒšáƒ˜ áƒ’áƒáƒ¥áƒ•áƒ¡! áƒ™áƒ˜áƒ“áƒ”áƒ• ${daysLeft} áƒ“áƒ¦áƒ”áƒª áƒ“áƒ áƒ›áƒáƒ˜áƒáƒáƒ•áƒ”áƒ‘ áƒáƒ®áƒáƒš áƒ‘áƒ”áƒ¯áƒ¡!`;
            }
            
            return { emoji, text };
        }
        
        
        function calculateSoberDays(user) {
            if (!user.dailyCheckins) return 0;
            
            const today = new Date();
            let count = 0;
            
            for (let i = 0; i < 7; i++) {
                const date = new Date(today);
                date.setDate(date.getDate() - i);
                const dateStr = date.toISOString().split('T')[0];
                
                const checkin = user.dailyCheckins.find(c => c.date === dateStr);
                if (checkin && !checkin.relapse) {
                    count++;
                }
            }
            
            return count;
        }
        
        function generateLast7DaysDisplay(user, type, goal = null, weekKey = null) {
            const today = new Date();
            const todayStr = today.toISOString().split('T')[0];
            const currentDayOfWeek = (today.getDay() + 6) % 7; // Monday=0
            let html = '';
            
            // For sobriety: show based on lastUse date
            if (type === 'sobriety') {
                // Get start date (day after lastUse)
                const lastUseDate = user.lastUse ? new Date(user.lastUse) : new Date();
                const startDate = new Date(lastUseDate);
                startDate.setDate(startDate.getDate() + 1); // Next day after lastUse
                const startStr = startDate.toISOString().split('T')[0];
                const startDayOfWeek = (startDate.getDay() + 6) % 7;
                
                for (let i = 0; i < 7; i++) {
                    const dayOfWeek = i;
                    
                    // Calculate the actual date for this day of week
                    const date = new Date(today);
                    const daysBack = currentDayOfWeek - dayOfWeek;
                    date.setDate(date.getDate() - daysBack);
                    const dateStr = date.toISOString().split('T')[0];
                    
                    // Check if this day should be lit
                    let isCompleted = false;
                    
                    if (dateStr >= startStr && dateStr <= todayStr) {
                        // Between start and today â†’ check for relapse
                        const checkin = user.dailyCheckins?.find(c => c.date === dateStr);
                        const hasRelapse = checkin && checkin.relapse;
                        isCompleted = !hasRelapse;
                    }
                    
                    const bgColor = isCompleted ? 
                        'background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%);' : 
                        'background: #e5e7eb;';
                    
                    html += `
                        <div style="flex: 1; height: 8px; border-radius: 4px; ${bgColor}"></div>
                    `;
                }
            } else {
                // For goals: only show days from Monday to today
                for (let i = 0; i < 7; i++) {
                    const dayOfWeek = i;
                    
                    // Skip days after today
                    if (dayOfWeek > currentDayOfWeek) {
                        html += `<div style="flex: 1; height: 8px; border-radius: 4px; background: #e5e7eb;"></div>`;
                        continue;
                    }
                    
                    // Calculate the actual date for this day of week
                    const date = new Date(today);
                    const daysBack = currentDayOfWeek - dayOfWeek;
                    date.setDate(date.getDate() - daysBack);
                    
                    let isCompleted = false;
                    
                    if (goal && weekKey) {
                        const weekProgress = goal.weeklyProgress[weekKey] || [];
                        isCompleted = weekProgress[dayOfWeek] === true;
                    }
                    
                    const bgColor = isCompleted ? 
                        'background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%);' : 
                        'background: #e5e7eb;';
                    
                    html += `
                        <div style="flex: 1; height: 8px; border-radius: 4px; ${bgColor}"></div>
                    `;
                }
            }
            
            return html;
        }
        
        function openAchievementMessage() {
            // Get current streak
            let currentStreak = 0;
            
            try {
                if (typeof app !== 'undefined' && app && app.users && user && user.email && app.users[user.email]) {
                    const u = app.users[user.email];
                    currentStreak = u.streak || u.currentStreak || 0;
                }
            } catch (e) {
                // Silent fail
            }
            
            // Demo mode
            if (currentStreak === 0 && typeof app === 'undefined') {
                currentStreak = 18;
            }
            
            // Check if streak is 0 (relapse)
            if (currentStreak === 0) {
                // Show relapse encouragement message
                document.getElementById('achievementMsgEmoji').textContent = 'ğŸ’ª';
                document.getElementById('achievementMsgText').textContent = 'áƒ’áƒáƒ®áƒ¡áƒáƒ•áƒ“áƒ”áƒ¡! áƒ©áƒáƒ•áƒáƒ áƒ“áƒœáƒ áƒáƒ  áƒœáƒ˜áƒ¨áƒœáƒáƒ•áƒ¡ áƒ áƒ”áƒªáƒ˜áƒ“áƒ˜áƒ•áƒ¡! áƒ—áƒ˜áƒ—áƒáƒ”áƒ£áƒšáƒ˜ áƒ“áƒ¦áƒ” áƒáƒ áƒ˜áƒ¡ áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒáƒ®áƒáƒšáƒ˜ áƒ¨áƒáƒœáƒ¡áƒ˜. áƒ¨áƒ”áƒœ áƒáƒ®áƒáƒšáƒ˜ áƒ›áƒ˜áƒ–áƒáƒœáƒ˜ áƒ’áƒáƒ¥áƒ•áƒ¡. áƒ’áƒáƒ«áƒšáƒ˜áƒ”áƒ áƒ“áƒ˜, áƒ¨áƒ”áƒœ áƒ¨áƒ”áƒ’áƒ˜áƒ«áƒšáƒ˜áƒ áƒ“áƒ¦áƒ”áƒ˜áƒ“áƒáƒœ áƒ’áƒáƒœáƒáƒ’áƒ áƒ«áƒ áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ˜áƒ¡áƒ™áƒ”áƒœ áƒ¡áƒ•áƒšáƒ!';
            } else {
                // Check if currently on a badge milestone
                const milestones = [7, 14, 30, 60, 90, 120, 150, 180, 210, 240, 270, 300, 330, 365, 730, 1825, 3650];
                const isOnBadgeMilestone = milestones.includes(currentStreak);
                
                if (isOnBadgeMilestone) {
                    // Show badge congratulations message
                    document.getElementById('achievementMsgEmoji').textContent = 'ğŸ…';
                    document.getElementById('achievementMsgText').textContent = `âœ¨ğŸŒŸğŸ’«â­ áƒ’áƒ˜áƒšáƒáƒªáƒáƒ•! áƒ¨áƒ”áƒœ áƒ›áƒáƒ˜áƒáƒáƒ•áƒ” áƒáƒ®áƒáƒšáƒ˜ áƒ‘áƒ”áƒ¯áƒ˜ - ${currentStreak} áƒ“áƒ¦áƒ”! áƒ™áƒ˜áƒ“áƒ”áƒ• áƒ”áƒ áƒ—áƒ˜ áƒ›áƒ˜áƒ¦áƒ¬áƒ”áƒ£áƒšáƒ˜ áƒ›áƒ˜áƒ–áƒáƒœáƒ˜, áƒ áƒáƒ›áƒ”áƒšáƒ˜áƒª áƒ¨áƒ”áƒœáƒ˜ áƒ—áƒáƒ•áƒ˜áƒ¡ áƒ¡áƒáƒ£áƒ™áƒ”áƒ—áƒ”áƒ¡áƒ áƒ•áƒ”áƒ áƒ¡áƒ˜áƒáƒ¡áƒ—áƒáƒœ áƒ’áƒáƒáƒ®áƒšáƒáƒ”áƒ‘áƒ¡! áƒáƒ  áƒ¨áƒ”áƒ¬áƒ§áƒ•áƒ˜áƒ¢áƒ áƒ’áƒáƒœáƒ•áƒ˜áƒ—áƒáƒ áƒ”áƒ‘áƒ! áƒ¬áƒ˜áƒœ áƒáƒ®áƒáƒšáƒ˜ áƒ›áƒ˜áƒ–áƒáƒœáƒ˜áƒ! ğŸ’•âœ¨`;
                } else {
                    // Find next badge
                    let nextBadge = milestones[0];
                    for (let m of milestones) {
                        if (currentStreak < m) {
                            nextBadge = m;
                            break;
                        }
                    }
                    
                    // Get motivational message
                    const msg = getMotivationalMessage(currentStreak, nextBadge);
                    
                    // Update UI
                    document.getElementById('achievementMsgEmoji').textContent = msg.emoji;
                    document.getElementById('achievementMsgText').textContent = msg.text;
                }
            }
            
            // Show message, hide collapsed view
            document.getElementById('achievementCardCollapsed').style.display = 'none';
            document.getElementById('achievementMotivationalMsg').style.display = 'block';
        }
        
        function closeAchievementMessage() {
            // Hide message, show collapsed view
            document.getElementById('achievementMotivationalMsg').style.display = 'none';
            document.getElementById('achievementCardCollapsed').style.display = 'block';
            
            // Now open the full achievements modal
            showMyAchievements();
        }
        
        function checkAllContactsComplete() {
            // Re-run the contact cards update to check if all complete
            if (typeof updateContactCards === 'function') {
                updateContactCards();
            }
        }

        // ============ COGNITIVE DISTORTIONS FUNCTIONS ============
        
        let sosCurrentDistortionId = null;
        let sosCurrentDistortionStep = 0;
        let sosDistortionTempData = { whyBad: '', whyDistorted: '', truthVersion: '' };
        let sosPendingDistortionId = null;
        let sosShowingAllDistortions = false;
        
        function sosShowDistortions() {
            // RESET state
            sosCurrentDistortionId = null;
            sosCurrentDistortionStep = 0;
            sosPendingDistortionId = null;
            sosShowingAllDistortions = false;
            
            // Reset button text
            const btnText = document.getElementById('sosShowOtherDistortionsBtnText');
            if (btnText) btnText.textContent = 'ğŸ‘ï¸ áƒ’áƒáƒ›áƒáƒáƒ©áƒ˜áƒœáƒ” áƒ“áƒáƒœáƒáƒ áƒ©áƒ”áƒœáƒ˜ áƒáƒ–áƒ áƒ”áƒ‘áƒ˜áƒª';
            
            // Show dropdown, hide confirmation
            document.getElementById('sosDistortionsConfirmBox').style.display = 'none';
            document.getElementById('sosDistortionsDropdownContainer').style.display = 'block';
            document.getElementById('sosDistortionSelect').value = '';
            
            document.getElementById('sosDistortionsModal').style.display = 'block';
            sosLoadDistortionOptions();
        }
        
        function sosLoadDistortionOptions(showAll = false) {
            const select = document.getElementById('sosDistortionSelect');
            const showOtherBtn = document.getElementById('sosShowOtherDistortionsBtn');
            
            if (!select) return;
            
            const u = app.users[user.email];
            
            // Get user's cognitive distortions
            const userDistortions = (u && u.cognitiveDistortions) ? u.cognitiveDistortions : [];
            
            // Get IDs of selected DEFAULT distortions
            const selectedDefaultIds = userDistortions
                .filter(d => !d.custom && d.id)
                .map(d => d.id);
            
            // Get unselected DEFAULT distortions
            const unselectedDefaults = DEFAULT_COGNITIVE_DISTORTIONS.filter(d => !selectedDefaultIds.includes(d.id));
            
            let html = '<option value="">áƒáƒ˜áƒ áƒ©áƒ˜áƒ” áƒáƒ–áƒ áƒ˜...</option>';
            
            if (showAll) {
                // Show ALL: user's distortions + unselected defaults
                userDistortions.forEach((dist) => {
                    html += `<option value="${dist.id}">âœ“ ${dist.text}</option>`;
                });
                
                if (unselectedDefaults.length > 0) {
                    html += '<option disabled>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</option>';
                    unselectedDefaults.forEach((dist) => {
                        html += `<option value="${dist.id}">${dist.text}</option>`;
                    });
                }
            } else {
                // Show ONLY user's distortions
                if (userDistortions.length === 0) {
                    html = '<option value="">áƒáƒ˜áƒ áƒ©áƒ˜áƒ”áƒ— áƒáƒ–áƒ áƒ˜...</option>';
                } else {
                    userDistortions.forEach((dist) => {
                        html += `<option value="${dist.id}">âœ“ ${dist.text}</option>`;
                    });
                }
                
                // Show button if there are unselected defaults
                if (showOtherBtn) {
                    showOtherBtn.style.display = unselectedDefaults.length > 0 ? 'block' : 'none';
                }
            }
            
            select.innerHTML = html;
            
            // Handle selection
            select.onchange = function() {
                if (this.value !== '') {
                    sosShowDistortionConfirmation(this.value);
                }
            };
        }
        
        function sosToggleAllDistortions() {
            sosShowingAllDistortions = !sosShowingAllDistortions;
            
            // Toggle button text
            const btnText = document.getElementById('sosShowOtherDistortionsBtnText');
            if (sosShowingAllDistortions) {
                btnText.textContent = 'ğŸ‘ï¸ áƒ“áƒáƒ›áƒáƒšáƒ” áƒ“áƒáƒœáƒáƒ áƒ©áƒ”áƒœáƒ˜ áƒáƒ–áƒ áƒ”áƒ‘áƒ˜';
            } else {
                btnText.textContent = 'ğŸ‘ï¸ áƒ’áƒáƒ›áƒáƒáƒ©áƒ˜áƒœáƒ” áƒ“áƒáƒœáƒáƒ áƒ©áƒ”áƒœáƒ˜ áƒáƒ–áƒ áƒ”áƒ‘áƒ˜áƒª';
            }
            
            // Reload dropdown
            sosLoadDistortionOptions(sosShowingAllDistortions);
        }
        
        function sosShowDistortionConfirmation(distortionId) {
            sosPendingDistortionId = distortionId;
            
            const u = app.users[user.email];
            let distortion = (u.cognitiveDistortions) ? u.cognitiveDistortions.find(d => d.id === distortionId) : null;
            
            if (!distortion) {
                distortion = DEFAULT_COGNITIVE_DISTORTIONS.find(d => d.id === distortionId);
            }
            
            if (!distortion) return;
            
            // Show confirmation box
            document.getElementById('sosDistortionsConfirmText').textContent = distortion.text;
            document.getElementById('sosDistortionsConfirmBox').style.display = 'block';
            
            // Hide dropdown
            document.getElementById('sosDistortionsDropdownContainer').style.display = 'none';
        }
        
        function sosConfirmDistortion() {
            sosSelectDistortion(sosPendingDistortionId);
        }
        
        function sosCancelDistortion() {
            sosPendingDistortionId = null;
            
            // Hide confirmation, show dropdown
            document.getElementById('sosDistortionsConfirmBox').style.display = 'none';
            document.getElementById('sosDistortionsDropdownContainer').style.display = 'block';
            document.getElementById('sosDistortionSelect').value = '';
        }
        
        function sosSelectDistortion(distortionId) {
            sosCurrentDistortionId = distortionId;
            sosCurrentDistortionStep = 0;
            
            const u = app.users[user.email];
            
            // Try to find in user's distortions
            let distortion = (u.cognitiveDistortions) ? u.cognitiveDistortions.find(d => d.id === distortionId) : null;
            
            // If not found, it's a new DEFAULT distortion
            if (!distortion) {
                const defaultDist = DEFAULT_COGNITIVE_DISTORTIONS.find(d => d.id === distortionId);
                if (defaultDist) {
                    // Initialize cognitiveDistortions if needed
                    if (!u.cognitiveDistortions) u.cognitiveDistortions = [];
                    
                    // Add to user's distortions with default content
                    distortion = {
                        id: defaultDist.id,
                        text: defaultDist.text,
                        whyBad: defaultDist.whyBad || '',
                        whyDistorted: defaultDist.whyDistorted || '',
                        truthVersion: defaultDist.truthVersion || '',
                        selected: true
                    };
                    u.cognitiveDistortions.push(distortion);
                }
            }
            
            if (!distortion) return;
            
            // Load existing data
            sosDistortionTempData = {
                whyBad: distortion.whyBad || '',
                whyDistorted: distortion.whyDistorted || '',
                truthVersion: distortion.truthVersion || ''
            };
            
            document.getElementById('sosDistortionsModal').style.display = 'none';
            sosShowDistortionStep();
        }
        
        function sosShowDistortionStep() {
            const u = app.users[user.email];
            let distortion = u.cognitiveDistortions.find(d => d.id === sosCurrentDistortionId);
            
            if (!distortion) return;
            
            const modal = document.getElementById('sosDistortionsStepModal');
            const title = document.getElementById('sosDistortionsStepTitle');
            const label = document.getElementById('sosDistortionsStepLabel');
            const textarea = document.getElementById('sosDistortionsStepTextarea');
            const backBtn = document.getElementById('sosDistortionsBackBtn');
            const nextBtn = document.getElementById('sosDistortionsNextBtn');
            
            title.textContent = `ğŸ§  ${distortion.text}`;
            
            if (sosCurrentDistortionStep === 0) {
                label.textContent = 'áƒ áƒáƒ¢áƒáƒ› áƒ•áƒáƒ  áƒªáƒ£áƒ“áƒáƒ“ áƒáƒ› áƒáƒ–áƒ áƒ˜áƒ—?';
                textarea.value = sosDistortionTempData.whyBad;
                backBtn.style.display = 'none';
                nextBtn.textContent = 'áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’áƒ˜ â†’';
            } else if (sosCurrentDistortionStep === 1) {
                label.textContent = 'áƒ áƒáƒ¢áƒáƒ› áƒáƒ áƒ˜áƒ¡ áƒ”áƒ¡ áƒáƒ–áƒ áƒ˜ áƒ“áƒáƒ›áƒáƒ®áƒ˜áƒœáƒ¯áƒ”áƒ‘áƒ£áƒšáƒ˜?';
                textarea.value = sosDistortionTempData.whyDistorted;
                backBtn.style.display = 'block';
                nextBtn.textContent = 'áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’áƒ˜ â†’';
            } else if (sosCurrentDistortionStep === 2) {
                label.textContent = 'áƒ áƒ”áƒáƒšáƒ£áƒ áƒ˜, áƒáƒ‘áƒ˜áƒ”áƒ¥áƒ¢áƒ£áƒ áƒ˜ áƒáƒ–áƒ áƒ˜ áƒ áƒ áƒ˜áƒ¥áƒœáƒ”áƒ‘áƒ?';
                textarea.value = sosDistortionTempData.truthVersion;
                backBtn.style.display = 'block';
                nextBtn.textContent = 'áƒ“áƒáƒ¡áƒ áƒ£áƒšáƒ”áƒ‘áƒ âœ“';
            }
            
            modal.style.display = 'block';
        }
        
        function sosDistortionsStepBack() {
            const textarea = document.getElementById('sosDistortionsStepTextarea');
            
            // Save current step data BEFORE decrementing
            if (sosCurrentDistortionStep === 0) {
                // Can't go back from step 0
                return;
            } else if (sosCurrentDistortionStep === 1) {
                // Save step 1 data
                sosDistortionTempData.whyDistorted = textarea.value;
            } else if (sosCurrentDistortionStep === 2) {
                // Save step 2 data
                sosDistortionTempData.truthVersion = textarea.value;
            }
            
            sosCurrentDistortionStep--;
            sosShowDistortionStep();
        }
        
        function sosDistortionsStepNext() {
            const textarea = document.getElementById('sosDistortionsStepTextarea');
            const u = app.users[user.email];
            const distortion = u.cognitiveDistortions.find(d => d.id === sosCurrentDistortionId);
            
            if (!distortion) return;
            
            if (sosCurrentDistortionStep === 0) {
                // Save and go to next step
                sosDistortionTempData.whyBad = textarea.value;
                sosCurrentDistortionStep++;
                sosShowDistortionStep();
            } else if (sosCurrentDistortionStep === 1) {
                // Save and go to next step
                sosDistortionTempData.whyDistorted = textarea.value;
                sosCurrentDistortionStep++;
                sosShowDistortionStep();
            } else if (sosCurrentDistortionStep === 2) {
                // Last step - save and show completion
                sosDistortionTempData.truthVersion = textarea.value;
                
                // Save back to distortion
                distortion.whyBad = sosDistortionTempData.whyBad;
                distortion.whyDistorted = sosDistortionTempData.whyDistorted;
                distortion.truthVersion = sosDistortionTempData.truthVersion;
                distortion.selected = true;
                
                // Save to localStorage
                save();
                
                // Show completion
                document.getElementById('sosDistortionsStepModal').style.display = 'none';
                document.getElementById('sosDistortionsCompletionModal').style.display = 'block';
            }
        }
        
        function sosProcessAnotherDistortion() {
            // Close completion modal
            document.getElementById('sosDistortionsCompletionModal').style.display = 'none';
            
            // Reset state
            sosCurrentDistortionId = null;
            sosCurrentDistortionStep = 0;
            sosPendingDistortionId = null;
            sosShowingAllDistortions = false;
            
            // Reset button text
            const btnText = document.getElementById('sosShowOtherDistortionsBtnText');
            if (btnText) btnText.textContent = 'ğŸ‘ï¸ áƒ’áƒáƒ›áƒáƒáƒ©áƒ˜áƒœáƒ” áƒ“áƒáƒœáƒáƒ áƒ©áƒ”áƒœáƒ˜ áƒáƒ–áƒ áƒ”áƒ‘áƒ˜áƒª';
            
            // Show dropdown, hide confirmation
            document.getElementById('sosDistortionsConfirmBox').style.display = 'none';
            document.getElementById('sosDistortionsDropdownContainer').style.display = 'block';
            document.getElementById('sosDistortionSelect').value = '';
            
            document.getElementById('sosDistortionsModal').style.display = 'block';
            sosLoadDistortionOptions();
        }
        
        function sosSkipDistortions() {
            document.getElementById('sosDistortionsModal').style.display = 'none';
            sosFinishDistortions();
        }
        
        function sosFinishDistortions() {
            document.getElementById('sosDistortionsCompletionModal').style.display = 'none';
            alert('SOS áƒ“áƒáƒ¡áƒ áƒ£áƒšáƒ”áƒ‘áƒ£áƒšáƒ˜áƒ! áƒ¨áƒ”áƒœ áƒ¨áƒ”áƒ«áƒ”áƒšáƒ˜! ğŸ‰');
            backToDashboard();
        }


        // Remember Modal Functions
        function showRememberModal() {
            document.getElementById('rememberModal').style.display = 'block';
            document.getElementById('rememberPage1').style.display = 'block';
            document.getElementById('rememberPage2').style.display = 'none';
            document.getElementById('rememberPage3').style.display = 'none';
        }
        
        function closeRememberModal() {
            document.getElementById('rememberModal').style.display = 'none';
        }
        
        function showRememberPage(page) {
            document.getElementById('rememberPage1').style.display = page === 1 ? 'block' : 'none';
            document.getElementById('rememberPage2').style.display = page === 2 ? 'block' : 'none';
            document.getElementById('rememberPage3').style.display = page === 3 ? 'block' : 'none';
        }
        
        // ============ SOS TECHNIQUES ============
        
        // ============ SOS TECHNIQUES ============
        
        let currentSOSTechnique = 0;
        
        function sosShowTechniques() {
            document.getElementById('sosOtherMechanismsModal').style.display = 'none';
            currentSOSTechnique = 0;
            sosLoadTechnique();
            document.getElementById('sosTechniquesModal').style.display = 'block';
        }
        
        function sosLoadTechnique() {
            const contentDiv = document.getElementById('sosTechniqueContent');
            const counterDiv = document.getElementById('sosTechniqueCounter');
            
            // Counter
            counterDiv.textContent = `${currentSOSTechnique + 1}/9`;
            
            let sourceSelector = '';
            
            // Map technique index to modal ID
            const modalIds = [
                'technique9Modal',  // 0: 5 áƒœáƒáƒ‘áƒ˜áƒ¯áƒ˜
                'technique1Modal',  // 1: áƒ“áƒáƒ›áƒáƒ›áƒ¨áƒ•áƒ˜áƒ“áƒ”áƒ‘áƒ”áƒšáƒ˜ áƒ¡áƒ£áƒœáƒ—áƒ¥áƒ•áƒ
                'technique2Modal',  // 2: 5-4-3-2-1
                'technique3Modal',  // 3: áƒ’áƒáƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ­áƒáƒ›áƒ
                'technique4Modal',  // 4: áƒ’áƒáƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ¡áƒ˜áƒáƒ áƒ£áƒšáƒ˜
                'technique5Modal',  // 5: áƒ’áƒáƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ¡áƒ£áƒœáƒ—áƒ¥áƒ•áƒ
                'technique6Modal',  // 6: áƒ¡áƒ®áƒ”áƒ£áƒšáƒ–áƒ” áƒ“áƒáƒ™áƒ•áƒ˜áƒ áƒ•áƒ”áƒ‘áƒ
                'technique7Modal',  // 7: áƒ’áƒáƒªáƒœáƒáƒ‘áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ¨áƒ®áƒáƒáƒ˜
                'technique8Modal'   // 8: áƒ®áƒ”áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ“áƒáƒ‘áƒáƒœáƒ
            ];
            
            const modalId = modalIds[currentSOSTechnique];
            const modal = document.getElementById(modalId);
            
            if (modal) {
                // Clone the modal content
                const modalContent = modal.cloneNode(true);
                
                // Remove all buttons from cloned content
                const buttons = modalContent.querySelectorAll('button');
                buttons.forEach(btn => btn.remove());
                
                // Get the inner HTML
                const innerDiv = modalContent.querySelector('div > div') || modalContent.querySelector('div');
                if (innerDiv) {
                    contentDiv.innerHTML = innerDiv.innerHTML;
                } else {
                    contentDiv.innerHTML = modalContent.innerHTML;
                }
            }
            
            // Scroll to top
            contentDiv.scrollTop = 0;
        }
        
        function sosTechniqueHelped() {
            // Visual feedback that technique helped
            const btn = document.getElementById('sosTechniqueHelpedBtn');
            const originalText = btn.innerHTML;
            btn.innerHTML = 'âœ“ áƒ“áƒáƒ¤áƒ˜áƒ¥áƒ¡áƒ˜áƒ áƒ“áƒ';
            btn.style.opacity = '0.7';
            
            // Track in localStorage
            const helpedTechniques = JSON.parse(localStorage.getItem('sosHelpedTechniques') || '[]');
            if (!helpedTechniques.includes(currentSOSTechnique)) {
                helpedTechniques.push(currentSOSTechnique);
                localStorage.setItem('sosHelpedTechniques', JSON.stringify(helpedTechniques));
            }
            
            // After 800ms, close techniques modal and show final reminder
            setTimeout(() => {
                document.getElementById('sosTechniquesModal').style.display = 'none';
                document.getElementById('sosFinalReminderModal').style.display = 'block';
            }, 800);
        }
        
        function sosTechniqueNext() {
            if (currentSOSTechnique < 8) {
                currentSOSTechnique++;
                sosLoadTechnique();
            } else {
                // Last technique - go to final reminder
                document.getElementById('sosTechniquesModal').style.display = 'none';
                document.getElementById('sosFinalReminderModal').style.display = 'block';
            }
        }
        
        // ============ PRIVACY FUNCTIONS ============
        
        // Privacy modal will show after registration, not on page load
        
        function acceptPrivacy() {
            // Save privacy acceptance for THIS user
            const userPrivacyKey = 'privacyAccepted_' + user.email;
            localStorage.setItem(userPrivacyKey, 'true');
            localStorage.setItem('age18Plus_' + user.email, 'true');
            localStorage.setItem('privacyAcceptedDate_' + user.email, new Date().toISOString());
            document.getElementById('privacyModal').style.display = 'none';
            
            // After accepting privacy, go to dashboard
            loadDashboard();
        }
        
        function showPrivacyPolicy() {
            document.getElementById('privacyModal').style.display = 'none';
            document.getElementById('privacyPolicyModal').style.display = 'block';
        }
        
        function closePrivacyPolicy() {
            document.getElementById('privacyPolicyModal').style.display = 'none';
            document.getElementById('privacyModal').style.display = 'block';
        }
        
        function declinePrivacy() {
            document.getElementById('privacyModal').style.display = 'none';
            document.getElementById('privacyDeclinedModal').style.display = 'block';
        }
        
        function retryPrivacy() {
            document.getElementById('privacyDeclinedModal').style.display = 'none';
            document.getElementById('privacyModal').style.display = 'block';
        }

    </script>
            
            <!-- Morning Contact Modal -->
            <div id="morningContactModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 1000; overflow-y: auto;">
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 20px;">
                    <div style="background: white; max-width: 800px; margin: 0 auto; border-radius: 16px; padding: 30px; box-shadow: 0 10px 40px rgba(0,0,0,0.3);">
                        
                        <div style="text-align: center; font-size: 48px; margin-bottom: 20px;">ğŸŒ…</div>
                        <h2 style="color: #667eea; text-align: center; margin-bottom: 30px; font-size: 24px;">áƒ“áƒ˜áƒšáƒ˜áƒ¡ áƒ™áƒáƒœáƒ¢áƒáƒ¥áƒ¢áƒ˜</h2>
                        
                        <!-- Question 1 -->
                        <div id="morningQ1" style="margin-bottom: 30px;">
                            <p style="font-size: 18px; font-weight: 600; color: #333; margin-bottom: 20px; text-align: center; line-height: 1.6;">
                                áƒ›áƒ–áƒáƒ“ áƒ®áƒáƒ , áƒ áƒáƒ› áƒ“áƒ¦áƒ”áƒ¡ áƒ¡áƒ˜áƒ¤áƒ®áƒ˜áƒ–áƒšáƒ” áƒ¨áƒ”áƒ˜áƒœáƒáƒ áƒ©áƒ£áƒœáƒ?
                            </p>
                            <div style="display: flex; gap: 15px; justify-content: center;">
                                <button onclick="morningAnswerReady(true)" class="btn btn-yes" style="flex: 1; max-width: 200px; padding: 15px;">áƒ“áƒ˜áƒáƒ®</button>
                                <button onclick="morningAnswerReady(false)" class="btn btn-no" style="flex: 1; max-width: 200px; padding: 15px;">áƒáƒ áƒ</button>
                            </div>
                        </div>
                        
                        <!-- Question 2 (slider) -->
                        <div id="morningQ2" style="display: none;">
                            <p style="font-size: 17px; font-weight: 600; color: #333; margin-bottom: 25px; text-align: center; line-height: 1.6;">
                                áƒ¨áƒ”áƒáƒ¤áƒáƒ¡áƒ” áƒ¨áƒ”áƒœáƒ˜ áƒ“áƒ¦áƒ”áƒ•áƒáƒœáƒ“áƒ”áƒšáƒ˜ áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒáƒ¢áƒ˜áƒ•áƒáƒªáƒ˜áƒ˜áƒ¡ áƒ¡áƒ˜áƒ«áƒšáƒ˜áƒ”áƒ áƒ”:
                            </p>
                            
                            <div style="background: #f8f9fa; padding: 25px; border-radius: 12px; margin-bottom: 25px;">
                                <input type="range" id="morningMotivationSlider" min="1" max="10" value="5" 
                                       style="width: 100%; height: 8px; border-radius: 5px; outline: none; -webkit-appearance: none; background: linear-gradient(to right, #ef4444 0%, #f59e0b 50%, #10b981 100%);"
                                       oninput="updateMotivationValue(this.value)">
                                
                                <div style="display: flex; justify-content: space-between; margin-top: 15px; color: #666; font-size: 14px;">
                                    <span>1</span>
                                    <span id="motivationValue" style="font-size: 32px; font-weight: bold; color: #667eea;">5</span>
                                    <span>10</span>
                                </div>
                                
                                <div style="text-align: center; margin-top: 10px; color: #666; font-size: 14px;">
                                    <span id="motivationLabel">áƒ¡áƒáƒ¨áƒ£áƒáƒšáƒ áƒ›áƒáƒ¢áƒ˜áƒ•áƒáƒªáƒ˜áƒ</span>
                                </div>
                            </div>
                            
                            <button onclick="saveMorningContact()" class="btn btn-primary" style="width: 100%; padding: 15px; font-size: 16px;">áƒ¨áƒ”áƒœáƒáƒ®áƒ•áƒ</button>
                        </div>
                        
                        <!-- Feedback (hidden by default) -->
                        <div id="morningFeedback" style="display: none; padding: 25px; border-radius: 8px; margin-bottom: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                            <p style="font-size: 17px; line-height: 1.7; margin: 0; font-weight: 600; text-align: center; color: #333;"></p>
                        </div>
                        
                        <!-- Done button -->
                        <button id="morningDoneBtn" onclick="closeMorningContact()" class="btn btn-primary" style="width: 100%; padding: 15px; font-size: 16px; display: none;">áƒ“áƒáƒ®áƒ£áƒ áƒ•áƒ</button>
                        
                    </div>
                </div>
            </div>
            
            <!-- Evening Contact Modal -->
            <div id="eveningContactModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 1000; overflow-y: auto;">
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 20px;">
                    <div style="background: white; max-width: 800px; margin: 0 auto; border-radius: 16px; padding: 30px; box-shadow: 0 10px 40px rgba(0,0,0,0.3);">
                        
                        <div style="text-align: center; font-size: 48px; margin-bottom: 20px;">ğŸŒ™</div>
                        <h2 class="modal-header" style="color: #667eea; text-align: center; margin-bottom: 30px; font-size: 24px;">áƒ¡áƒáƒ¦áƒáƒ›áƒáƒ¡ áƒ™áƒáƒœáƒ¢áƒáƒ¥áƒ¢áƒ˜</h2>
                        
                        <!-- Question 1: Success today? -->
                        <div id="eveningQ1">
                            <p style="font-size: 18px; font-weight: 600; color: #333; margin-bottom: 20px; text-align: center; line-height: 1.6;">
                                áƒ¨áƒ”áƒ«áƒ”áƒšáƒ˜ áƒ¡áƒ˜áƒ¤áƒ®áƒ˜áƒ–áƒšáƒ˜áƒ¡ áƒ¨áƒ”áƒœáƒáƒ áƒ©áƒ£áƒœáƒ”áƒ‘áƒ <span id="eveningDayText">áƒ“áƒ¦áƒ”áƒ¡</span>?
                            </p>
                            <div style="display: flex; gap: 15px; justify-content: center; margin-bottom: 30px;">
                                <button onclick="eveningAnswerSuccess(true)" class="btn btn-yes" style="flex: 1; max-width: 200px; padding: 15px;">áƒ“áƒ˜áƒáƒ®</button>
                                <button onclick="eveningAnswerSuccess(false)" class="btn btn-no" style="flex: 1; max-width: 200px; padding: 15px;">áƒáƒ áƒ</button>
                            </div>
                        </div>
                        
                        <!-- Page 2: Congrats message (if YES) -->
                        <div id="eveningCongratsPage" style="display: none;">
                            <div style="background: #FFFFFF; border-left: 4px solid #667eea; padding: 25px; border-radius: 8px; margin-bottom: 25px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                                <p style="color: #333; font-size: 17px; line-height: 1.7; margin: 0; text-align: center;">
                                    áƒ’áƒ˜áƒšáƒáƒªáƒáƒ•! áƒ¨áƒ”áƒœ áƒ’áƒáƒ“áƒáƒ“áƒ’áƒ˜ áƒ™áƒ˜áƒ“áƒ”áƒ• áƒ”áƒ áƒ—áƒ˜ áƒœáƒáƒ‘áƒ˜áƒ¯áƒ˜ áƒáƒ› áƒ¦áƒ˜áƒ áƒ¡áƒ”áƒ£áƒš áƒ’áƒ–áƒáƒ–áƒ”. áƒ”áƒªáƒáƒ“áƒ” áƒ¨áƒ”áƒ˜áƒ’áƒ áƒ«áƒœáƒ, áƒ§áƒáƒ•áƒ”áƒšáƒ“áƒ¦áƒ˜áƒ£áƒ áƒáƒ“ áƒ áƒáƒ’áƒáƒ  áƒ˜áƒ–áƒ áƒ“áƒ”áƒ‘áƒ áƒ¨áƒ”áƒœáƒ˜ áƒªáƒ®áƒáƒ•áƒ áƒ”áƒ‘áƒáƒ–áƒ” áƒ™áƒáƒœáƒ¢áƒ áƒáƒšáƒ˜ áƒ“áƒ áƒ—áƒáƒ•áƒ˜áƒ¡áƒ£áƒ¤áƒšáƒ”áƒ‘áƒ!
                                </p>
                            </div>
                            
                            <!-- Progress message (will be inserted here) -->
                            <div id="eveningProgressMessage" style="display: none; background: #FFFFFF; border-left: 4px solid #667eea; padding: 25px; border-radius: 8px; margin-bottom: 25px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                                <p style="color: #333; font-size: 16px; line-height: 1.7; margin: 0; font-weight: 600; text-align: center;"></p>
                            </div>
                            
                            <button onclick="eveningNextToGratitude()" class="btn btn-primary" style="width: 100%; padding: 15px; font-size: 16px;">áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’áƒ˜ â†’</button>
                        </div>
                        
                        <!-- Page 3: Gratitude question -->
                        <div id="eveningGratitudePage" style="display: none;">
                            <p style="font-size: 17px; font-weight: 600; color: #333; margin-bottom: 20px; text-align: center; line-height: 1.6;">
                                áƒ’áƒáƒ“áƒáƒ£áƒ®áƒáƒ“áƒ” áƒ“áƒ¦áƒ”áƒ¡ áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ  áƒ—áƒáƒ•áƒ¡ áƒ›áƒáƒ“áƒšáƒáƒ‘áƒ áƒ˜áƒ›áƒ˜áƒ¡ áƒ’áƒáƒ›áƒ, áƒ áƒáƒ› áƒáƒ› áƒ¦áƒ˜áƒ áƒ¡áƒ”áƒ£áƒš áƒ’áƒ–áƒáƒ–áƒ” áƒ™áƒ˜áƒ“áƒ”áƒ• áƒ”áƒ áƒ—áƒ˜ áƒœáƒáƒ‘áƒ˜áƒ¯áƒ˜ áƒ’áƒáƒ“áƒáƒ“áƒ’áƒ˜?
                            </p>
                            <div style="display: flex; gap: 15px; justify-content: center; margin-bottom: 25px;">
                                <button onclick="eveningAnswerGratitude(true)" class="btn btn-yes" style="flex: 1; max-width: 200px; padding: 15px;">áƒ“áƒ˜áƒáƒ®</button>
                                <button onclick="eveningAnswerGratitude(false)" class="btn btn-no" style="flex: 1; max-width: 200px; padding: 15px;">áƒáƒ áƒ</button>
                            </div>
                        </div>
                        
                        <!-- Page 4: Gratitude feedback -->
                        <div id="eveningGratitudeFeedbackPage" style="display: none;">
                            <div id="eveningGratitudeFeedbackBox" style="margin-bottom: 25px;"></div>
                            <button onclick="eveningNextToProud()" class="btn btn-primary" style="width: 100%; padding: 15px; font-size: 16px;">áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’áƒ˜ â†’</button>
                        </div>
                        
                        <!-- Page 5: Proud question -->
                        <div id="eveningProudPage" style="display: none;">
                            <p style="font-size: 17px; font-weight: 600; color: #333; margin-bottom: 20px; text-align: center; line-height: 1.6;">
                                áƒ˜áƒáƒ›áƒáƒ§áƒ” áƒ—áƒ£ áƒáƒ áƒ áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜ áƒ—áƒáƒ•áƒ˜áƒ— áƒ“áƒ¦áƒ”áƒ¡ áƒ˜áƒ›áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡, áƒ áƒáƒ› áƒ”áƒ¡áƒ”áƒ— áƒ áƒ—áƒ£áƒš áƒ“áƒáƒáƒ•áƒáƒ“áƒ”áƒ‘áƒáƒ¡ áƒ¬áƒáƒ áƒ›áƒáƒ¢áƒ”áƒ‘áƒ˜áƒ— áƒ£áƒ›áƒ™áƒšáƒáƒ•áƒ“áƒ”áƒ‘áƒ˜?
                            </p>
                            <div style="display: flex; gap: 15px; justify-content: center; margin-bottom: 25px;">
                                <button onclick="eveningAnswerProud(true)" class="btn btn-yes" style="flex: 1; max-width: 200px; padding: 15px;">áƒ“áƒ˜áƒáƒ®</button>
                                <button onclick="eveningAnswerProud(false)" class="btn btn-no" style="flex: 1; max-width: 200px; padding: 15px;">áƒáƒ áƒ</button>
                            </div>
                        </div>
                        
                        <!-- Page 6: Proud feedback -->
                        <div id="eveningProudFeedbackPage" style="display: none;">
                            <div id="eveningProudFeedbackBox" style="margin-bottom: 25px;"></div>
                            <button onclick="eveningNextToFinal()" class="btn btn-primary" style="width: 100%; padding: 15px; font-size: 16px;">áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’áƒ˜ â†’</button>
                        </div>
                        
                        <!-- Page 7: Final message -->
                        <div id="eveningFinalPage" style="display: none;">
                            <div style="background: #FFFFFF; border-left: 4px solid #667eea; padding: 25px; border-radius: 8px; margin-bottom: 25px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                                <p style="color: #333; font-size: 17px; line-height: 1.7; margin: 0; font-weight: 600; text-align: center;">
                                    áƒ’áƒáƒ®áƒ¡áƒáƒ•áƒ“áƒ”áƒ¡, áƒáƒ› áƒ áƒ—áƒ£áƒš áƒ“áƒ áƒ¦áƒ˜áƒ áƒ¡áƒ”áƒ£áƒš áƒ’áƒ–áƒáƒ–áƒ” áƒ¡áƒ•áƒšáƒ˜áƒ¡áƒáƒ¡, áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜ áƒ—áƒáƒ•áƒ˜áƒ¡ áƒ›áƒ®áƒáƒ áƒ“áƒáƒ­áƒ”áƒ áƒ, áƒ«áƒáƒšáƒ˜áƒáƒœ áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒáƒ•áƒáƒœáƒ˜áƒ!
                                </p>
                            </div>
                            
                            <button onclick="closeEveningContact()" class="btn btn-primary" style="width: 100%; padding: 15px; font-size: 16px;">áƒ“áƒáƒ®áƒ£áƒ áƒ•áƒ</button>
                        </div>
                        
                        <!-- Page 8: Badges Progress -->
                        <div id="eveningBadgesPage" style="display: none;">
                            <div id="badgesContent" style="margin-bottom: 25px;">
                                <!-- Will be filled by JavaScript -->
                            </div>
                            
                            <button onclick="closeEveningContact()" class="btn btn-primary" style="width: 100%; padding: 15px; font-size: 16px;">áƒ“áƒáƒ®áƒ£áƒ áƒ•áƒ</button>
                        </div>
                        
                            <!-- Final message -->
                            <div id="eveningFinalMessage" style="display: none; background: #E0E7FF; border-left: 4px solid #667eea; padding: 20px; border-radius: 8px; margin-bottom: 25px;">
                                <p style="color: #3730A3; font-size: 17px; line-height: 1.7; margin: 0; font-weight: 600;">
                                    áƒ›áƒ˜áƒ®áƒáƒ áƒ˜áƒ! áƒ’áƒáƒ®áƒ¡áƒáƒ•áƒ“áƒ”áƒ¡, áƒáƒ› áƒ áƒ—áƒ£áƒš áƒ’áƒ–áƒáƒ–áƒ” áƒ¡áƒ˜áƒáƒ áƒ£áƒšáƒ˜áƒ¡áƒáƒ¡ áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜ áƒ—áƒáƒ•áƒ˜áƒ¡ áƒ›áƒ®áƒáƒ áƒ“áƒáƒ­áƒ”áƒ áƒ áƒ«áƒáƒšáƒ˜áƒáƒœ áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒáƒ•áƒáƒœáƒ˜áƒ! ğŸ’š
                                </p>
                            </div>
                            
                            <!-- Done button -->
                            <button id="eveningDoneBtn" onclick="closeEveningContact()" class="btn btn-primary" style="width: 100%; padding: 15px; font-size: 16px; display: none;">áƒ“áƒáƒ®áƒ£áƒ áƒ•áƒ</button>
                        </div>
                        
                        <!-- If NO path (relapse) -->
                        <!-- If NO - Relapse page -->
                        <div id="eveningRelapsePage" style="display: none;">
                            <div style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 25px;">
                                <p style="color: #333; font-size: 17px; line-height: 1.7; margin: 0; margin-bottom: 15px;">
                                    áƒ©áƒáƒ•áƒáƒ áƒ“áƒœáƒ áƒáƒ  áƒœáƒ˜áƒ¨áƒœáƒáƒ•áƒ¡ áƒ áƒ”áƒªáƒ˜áƒ“áƒ˜áƒ•áƒ¡! áƒ›áƒ—áƒáƒ•áƒáƒ áƒ˜áƒ, áƒ áƒáƒ› áƒáƒ¦áƒ˜áƒ“áƒ’áƒ˜áƒœáƒ áƒ—áƒ•áƒ˜áƒ—áƒ™áƒáƒœáƒ¢áƒ áƒáƒšáƒ˜ áƒ“áƒ áƒ’áƒáƒœáƒáƒ’áƒ áƒ«áƒ áƒ¬áƒ˜áƒœáƒ¡áƒ•áƒšáƒ.
                                </p>
                                <p style="color: #333; font-size: 17px; line-height: 1.7; margin: 0; margin-bottom: 15px; font-weight: 600;">
                                    áƒ’áƒáƒ›áƒáƒ’áƒ áƒ“áƒ˜! áƒ’áƒ­áƒ˜áƒ áƒ“áƒ”áƒ‘áƒ áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜ áƒ—áƒáƒ•áƒ˜áƒ¡ áƒ’áƒáƒ«áƒšáƒ˜áƒ”áƒ áƒ”áƒ‘áƒ!
                                </p>
                                <p style="color: #333; font-size: 17px; line-height: 1.7; margin: 0; margin-bottom: 15px;">
                                    áƒ’áƒáƒ“áƒáƒ®áƒ”áƒ“áƒ” áƒ›áƒáƒ¢áƒ˜áƒ•áƒáƒªáƒ˜áƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒœáƒ§áƒáƒ¤áƒ˜áƒšáƒ”áƒ‘áƒáƒ¡, áƒ“áƒáƒ£áƒ™áƒáƒ•áƒ¨áƒ˜áƒ áƒ“áƒ˜ áƒ¤áƒ¡áƒ˜áƒ¥áƒáƒ—áƒ”áƒ áƒáƒáƒ”áƒ•áƒ¢áƒ¡ áƒáƒœ áƒ’áƒáƒ›áƒáƒ˜áƒ§áƒ”áƒœáƒ” áƒ¨áƒ”áƒœáƒ—áƒ•áƒ˜áƒ¡ áƒ¡áƒáƒ¡áƒ£áƒ áƒ•áƒ”áƒšáƒ˜ áƒœáƒ”áƒ‘áƒ˜áƒ¡áƒ›áƒ˜áƒ”áƒ áƒ˜ áƒ¤áƒáƒ áƒ›áƒ!
                                </p>
                                <p style="color: #333; font-size: 17px; line-height: 1.7; margin: 0; margin-bottom: 25px; font-weight: 600;">
                                    áƒ›áƒ—áƒáƒ•áƒáƒ áƒ˜áƒ áƒ’áƒáƒ®áƒ¡áƒáƒ•áƒ“áƒ”áƒ¡, áƒ“áƒ¦áƒ”áƒ•áƒáƒœáƒ“áƒ”áƒšáƒ˜ áƒ“áƒ¦áƒ” áƒáƒ áƒ˜áƒ¡ áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒáƒ®áƒáƒšáƒ˜ áƒ¨áƒáƒœáƒ¡áƒ˜! áƒ’áƒáƒ›áƒáƒ˜áƒ§áƒ”áƒœáƒ” áƒ˜áƒ¡!
                                </p>
                            </div>
                            
                            <button onclick="goToMotivations()" class="btn btn-primary" style="width: 100%; padding: 15px; font-size: 16px; margin-bottom: 15px;">áƒ’áƒáƒ“áƒáƒ®áƒ”áƒ“áƒ” áƒ›áƒáƒ¢áƒ˜áƒ•áƒáƒªáƒ˜áƒ”áƒ‘áƒ¡</button>
                            <button onclick="closeEveningContact()" class="btn btn-primary" style="width: 100%; padding: 15px; font-size: 16px;">áƒ“áƒáƒ®áƒ£áƒ áƒ•áƒ</button>
                        </div>
                        
                    </div>
                </div>
            </div>
            
            <!-- My Achievements Modal -->
            <div id="achievementsModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 1000; overflow-y: auto;">
                <div style="background: #f9fafb; min-height: 100vh; padding: 20px;">
                    <div style="max-width: 600px; margin: 0 auto;">
                        <!-- Header -->
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
                            <h2 id="achievementsModalHeader" style="color: #374151; font-size: 24px; margin: 0;">ğŸ… áƒ›áƒ˜áƒ›áƒ“áƒ˜áƒœáƒáƒ áƒ” áƒ›áƒ˜áƒ–áƒáƒœáƒ˜</h2>
                            <button onclick="closeAchievements()" style="background: rgba(0, 0, 0, 0.1); border: none; color: #374151; width: 40px; height: 40px; border-radius: 50%; font-size: 24px; cursor: pointer; display: flex; align-items: center; justify-content: center;">Ã—</button>
                        </div>
                        
                        <!-- Content -->
                        <div style="background: white; border-radius: 20px; padding: 25px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                            <div id="achievementsContent">
                                <!-- Will be filled by JavaScript -->
                            </div>
                        </div>
                        
                        <button onclick="closeAchievements()" class="btn btn-secondary" style="width: 100%; padding: 15px; margin-top: 20px; font-size: 16px;">áƒ“áƒáƒ®áƒ£áƒ áƒ•áƒ</button>
                    </div>
                </div>
            </div>
            
            <!-- Gratitude Entry Modal -->
            <div id="gratitudeModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 1000; overflow-y: auto;">
                <div style="background: #f9fafb; min-height: 100vh; padding: 20px;">
                    <div style="max-width: 600px; margin: 0 auto;">
                        <!-- Header -->
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
                            <h2 style="color: #374151; font-size: 24px; margin: 0;">ğŸ™ áƒ›áƒáƒ“áƒšáƒ˜áƒ”áƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ©áƒáƒœáƒáƒ¬áƒ”áƒ áƒ˜</h2>
                            <button onclick="closeGratitudeModal()" style="background: rgba(0, 0, 0, 0.1); border: none; color: #374151; width: 40px; height: 40px; border-radius: 50%; font-size: 24px; cursor: pointer; display: flex; align-items: center; justify-content: center;">Ã—</button>
                        </div>
                        
                        <!-- Motivational text (shown first time today) -->
                        <div id="gratitudeMotivationalText" style="display: block; background: white; border-radius: 20px; padding: 25px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); margin-bottom: 20px;">
                            <div style="background: linear-gradient(135deg, #F3F4F6 0%, #E5E7EB 100%); border-radius: 15px; padding: 20px; margin-bottom: 20px;">
                                <h3 style="color: #374151; margin-bottom: 0; font-size: 18px;">ğŸ’« áƒ áƒáƒ¢áƒáƒ› áƒáƒ áƒ˜áƒ¡ áƒ”áƒ¡ áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒáƒ•áƒáƒœáƒ˜?</h3>
                            </div>
                            
                            <p style="color: #374151; font-size: 16px; line-height: 1.8; margin-bottom: 15px;">
                                áƒ“áƒáƒ›áƒáƒ™áƒ˜áƒ“áƒ”áƒ‘áƒ£áƒšáƒ”áƒ‘áƒ, áƒáƒ“áƒáƒ›áƒ˜áƒáƒœáƒ¡ áƒœáƒ”áƒš-áƒœáƒ”áƒšáƒ áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜ áƒªáƒ®áƒáƒ•áƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ“áƒáƒ¤áƒáƒ¡áƒ”áƒ‘áƒ˜áƒ¡ áƒ£áƒœáƒáƒ áƒ¡, áƒ›áƒáƒ¡áƒ¨áƒ˜ áƒ›áƒ˜áƒ›áƒ“áƒ˜áƒœáƒáƒ áƒ” áƒáƒ áƒáƒªáƒ”áƒ¡áƒ”áƒ‘áƒ˜áƒ¡áƒ’áƒáƒœ áƒ¡áƒ˜áƒ®áƒáƒ áƒ£áƒšáƒ˜áƒ¡ áƒ’áƒáƒœáƒªáƒ“áƒ˜áƒ¡ áƒ£áƒœáƒáƒ áƒ¡ áƒáƒ™áƒáƒ áƒ’áƒ•áƒ˜áƒœáƒ”áƒ‘áƒ¡.
                            </p>
                            
                            <p style="color: #374151; font-size: 16px; line-height: 1.8; margin-bottom: 15px; font-weight: 600;">
                                áƒ—áƒ£ áƒ“áƒáƒ•áƒ¤áƒ˜áƒ¥áƒ áƒ“áƒ”áƒ‘áƒ˜áƒ—, áƒ›áƒáƒ˜áƒœáƒª áƒ áƒ áƒáƒ áƒ˜áƒ¡ áƒ›áƒáƒ“áƒšáƒ˜áƒ”áƒ áƒ”áƒ‘áƒ?
                            </p>
                            
                            <p style="color: #374151; font-size: 16px; line-height: 1.8; margin-bottom: 15px;">
                                áƒ˜áƒ¥áƒœáƒ”áƒ‘ áƒ”áƒ¡ áƒáƒ áƒ˜áƒ¡ áƒ áƒáƒ¦áƒáƒªáƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡ áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒáƒ‘áƒ˜áƒ¡, áƒ¦áƒ˜áƒ áƒ”áƒ‘áƒ£áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒ˜áƒœáƒ˜áƒ­áƒ”áƒ‘áƒ.. áƒ áƒáƒ¦áƒáƒªáƒ˜áƒ¡ áƒ“áƒáƒ¤áƒáƒ¡áƒ”áƒ‘áƒ áƒáƒœ áƒ¨áƒ”áƒ›áƒ©áƒœáƒ”áƒ•áƒ..
                            </p>
                            
                            <p style="color: #374151; font-size: 16px; line-height: 1.8; margin-bottom: 15px;">
                                áƒáƒ“áƒáƒ›áƒ˜áƒáƒœáƒ”áƒ‘áƒ˜ áƒ˜áƒ¡áƒ” áƒ•áƒáƒ áƒ— áƒ›áƒáƒ¬áƒ§áƒáƒ‘áƒ˜áƒšáƒœáƒ˜, áƒ áƒáƒ› áƒªáƒ®áƒáƒ•áƒ áƒ”áƒ‘áƒáƒ¨áƒ˜ áƒ‘áƒ”áƒ•áƒ  áƒ áƒáƒ›áƒ”áƒ¡ áƒ•áƒáƒ¤áƒáƒ¡áƒ”áƒ‘áƒ— áƒ›áƒ®áƒáƒšáƒáƒ“ áƒ›áƒáƒ¡ áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’, áƒ áƒáƒª áƒ›áƒáƒ¡ áƒ•áƒ™áƒáƒ áƒ’áƒáƒ•áƒ—, áƒáƒœ áƒ áƒáƒ“áƒ”áƒ¡áƒáƒª áƒ“áƒ”áƒ¤áƒ˜áƒªáƒ˜áƒ¢áƒ¡ áƒ’áƒáƒœáƒ•áƒ˜áƒªáƒ“áƒ˜áƒ—.
                            </p>
                            
                            <p style="color: #374151; font-size: 16px; line-height: 1.8; margin-bottom: 15px;">
                                áƒ›áƒáƒ’áƒ áƒáƒ› áƒ©áƒ•áƒ”áƒœáƒ¨áƒ˜ áƒáƒ áƒ˜áƒ¡ áƒ«áƒáƒšáƒ áƒ”áƒ¡ áƒáƒ áƒáƒªáƒ”áƒ¡áƒ˜ áƒ›áƒáƒ•áƒáƒ¢áƒ áƒ˜áƒáƒšáƒáƒ— áƒ“áƒ áƒ¦áƒ˜áƒ áƒ”áƒ‘áƒ£áƒšáƒ”áƒ‘áƒ áƒ©áƒáƒ•áƒ“áƒáƒ— áƒ˜áƒ›áƒáƒ¨áƒ˜, áƒ áƒáƒª áƒ“áƒ¦áƒ”áƒ¡ áƒáƒ áƒ˜áƒ¡, áƒ áƒáƒª áƒ“áƒ¦áƒ”áƒ¡ áƒ®áƒ“áƒ”áƒ‘áƒ, áƒ áƒáƒª áƒ“áƒ¦áƒ”áƒ¡ áƒ’áƒ•áƒáƒ¥áƒ•áƒ¡, áƒ•áƒ˜áƒœáƒª áƒ“áƒ¦áƒ”áƒ¡ áƒ•áƒáƒ áƒ— áƒ“áƒ áƒ•áƒ˜áƒœáƒª áƒ“áƒ¦áƒ”áƒ¡ áƒáƒ áƒ˜áƒ¡ áƒ©áƒ•áƒ”áƒœáƒ¡ áƒ’áƒ•áƒ”áƒ áƒ“áƒ˜áƒ—.
                            </p>
                            
                            <p style="color: #374151; font-size: 16px; line-height: 1.8; margin-bottom: 20px;">
                                áƒ—áƒ£áƒ™áƒ˜ áƒ™áƒáƒ áƒ’áƒáƒ“ áƒ©áƒáƒ•áƒ£áƒ¦áƒ áƒ›áƒáƒ•áƒ“áƒ”áƒ‘áƒ˜áƒ—, áƒ”áƒ¡ áƒ¡áƒ¬áƒáƒ áƒ”áƒ“ áƒ˜áƒ¡ áƒáƒ¡áƒáƒ”áƒ¥áƒ¢áƒ”áƒ‘áƒ˜áƒ, áƒ áƒáƒª áƒœáƒáƒ›áƒ“áƒ•áƒ˜áƒšáƒáƒ“ áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒáƒ•áƒáƒœáƒ˜áƒ áƒªáƒ®áƒáƒ•áƒ áƒ”áƒ‘áƒáƒ¨áƒ˜.
                            </p>
                            
                            <div style="background: #F3F4F6; border-left: 4px solid #9CA3AF; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                                <p style="color: #374151; font-size: 15px; line-height: 1.7; font-style: italic; margin: 0;">
                                    "áƒ áƒáƒ“áƒ”áƒ¡áƒáƒª áƒ“áƒ˜áƒšáƒ˜áƒ— áƒ˜áƒ¦áƒ•áƒ˜áƒ«áƒ”áƒ‘ áƒ“áƒáƒ¤áƒ˜áƒ¥áƒ áƒ“áƒ˜ áƒ˜áƒ›áƒáƒ–áƒ”, áƒ—áƒ£ áƒ áƒáƒ›áƒ®áƒ”áƒšáƒ áƒáƒ áƒ˜áƒ•áƒ˜áƒšáƒ”áƒ’áƒ˜áƒáƒ áƒ˜áƒ¡, áƒ áƒáƒ› áƒªáƒáƒªáƒ®áƒáƒšáƒ˜ áƒ®áƒáƒ  - áƒ¡áƒ£áƒœáƒ—áƒ¥áƒáƒ•, áƒ¤áƒ˜áƒ¥áƒ áƒáƒ‘, áƒªáƒ®áƒáƒ•áƒ áƒ”áƒ‘áƒáƒ¡ áƒ¨áƒ”áƒ˜áƒ’áƒ áƒ«áƒœáƒáƒ‘, áƒ’áƒ˜áƒ§áƒ•áƒáƒ áƒ¡."
                                </p>
                                <p style="color: #6B7280; font-size: 14px; margin-top: 8px; margin-bottom: 0; text-align: right;">
                                    â€” áƒ›áƒáƒ áƒ™áƒ£áƒ¡ áƒáƒ£áƒ áƒ”áƒšáƒ˜áƒ£áƒ¡áƒ˜
                                </p>
                            </div>
                            
                            <button onclick="continueToGratitudeInput()" class="btn btn-primary" style="width: 100%; padding: 14px; margin-top: 20px; font-size: 16px;">áƒ’áƒáƒ’áƒ áƒ«áƒ”áƒšáƒ”áƒ‘áƒ â€º</button>
                        </div>
                        
                        <!-- Input form (hidden initially) -->
                        <div id="gratitudeInputForm" style="display: none; background: white; border-radius: 20px; padding: 25px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                            <p style="color: #666; margin-bottom: 20px; font-size: 16px;">áƒ©áƒáƒ¬áƒ”áƒ áƒ” áƒ¡áƒáƒ›áƒ˜ áƒ áƒáƒ›, áƒ áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡áƒáƒª áƒ“áƒ¦áƒ”áƒ¡ áƒ›áƒáƒ“áƒšáƒáƒ‘áƒ”áƒšáƒ˜ áƒ®áƒáƒ :</p>
                            
                            <div style="margin-bottom: 20px;">
                                <label style="display: block; color: #666; font-size: 14px; margin-bottom: 8px;">1. áƒ áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡ áƒ®áƒáƒ  áƒ›áƒáƒ“áƒšáƒáƒ‘áƒ”áƒšáƒ˜?</label>
                                <textarea id="gratitudeItem1" style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 10px; font-size: 16px; font-family: inherit; resize: vertical; min-height: 60px;" placeholder="áƒ›áƒáƒ’: áƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒáƒ‘áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡"></textarea>
                            </div>
                            
                            <div style="margin-bottom: 20px;">
                                <label style="display: block; color: #666; font-size: 14px; margin-bottom: 8px;">2. áƒ áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡ áƒ®áƒáƒ  áƒ›áƒáƒ“áƒšáƒáƒ‘áƒ”áƒšáƒ˜?</label>
                                <textarea id="gratitudeItem2" style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 10px; font-size: 16px; font-family: inherit; resize: vertical; min-height: 60px;" placeholder="áƒ›áƒáƒ’: áƒáƒ¯áƒáƒ®áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡"></textarea>
                            </div>
                            
                            <div style="margin-bottom: 20px;">
                                <label style="display: block; color: #666; font-size: 14px; margin-bottom: 8px;">3. áƒ áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡ áƒ®áƒáƒ  áƒ›áƒáƒ“áƒšáƒáƒ‘áƒ”áƒšáƒ˜?</label>
                                <textarea id="gratitudeItem3" style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 10px; font-size: 16px; font-family: inherit; resize: vertical; min-height: 60px;" placeholder="áƒ›áƒáƒ’: áƒ›áƒ¨áƒ•áƒ˜áƒ“áƒ˜ áƒ“áƒ¦áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡"></textarea>
                            </div>
                            
                            <button onclick="saveGratitudeEntry()" class="btn btn-primary" style="width: 100%; padding: 15px; font-size: 16px;">áƒ¨áƒ”áƒœáƒáƒ®áƒ•áƒ</button>
                        </div>
                        
                        <button onclick="closeGratitudeModal()" class="btn btn-secondary" style="width: 100%; padding: 15px; margin-top: 20px; font-size: 16px;">áƒ“áƒáƒ®áƒ£áƒ áƒ•áƒ</button>
                    </div>
                </div>
            </div>
            
            <!-- Positive Moment Modal -->
            <div id="positiveModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 1000; overflow-y: auto;">
                <div style="background: #f9fafb; min-height: 100vh; padding: 20px;">
                    <div style="max-width: 600px; margin: 0 auto;">
                        <!-- Header -->
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
                            <h2 style="color: #374151; font-size: 24px; margin: 0;">âœ¨ áƒáƒáƒ–áƒ˜áƒ¢áƒ˜áƒ£áƒ áƒ˜ áƒ›áƒáƒ›áƒ”áƒœáƒ¢áƒ˜</h2>
                            <button onclick="closePositiveModal()" style="background: rgba(0, 0, 0, 0.1); border: none; color: #374151; width: 40px; height: 40px; border-radius: 50%; font-size: 24px; cursor: pointer; display: flex; align-items: center; justify-content: center;">Ã—</button>
                        </div>
                        
                        <!-- Motivational text (shown first time today) -->
                        <div id="positiveMotivationalText" style="display: block; background: white; border-radius: 20px; padding: 25px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); margin-bottom: 20px;">
                            <div style="background: linear-gradient(135deg, #DBEAFE 0%, #93C5FD 100%); border-radius: 15px; padding: 20px; margin-bottom: 20px;">
                                <h3 style="color: #1E40AF; margin-bottom: 15px; font-size: 18px;">ğŸ’« áƒ áƒáƒ¢áƒáƒ› áƒáƒ áƒ˜áƒ¡ áƒ”áƒ¡ áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒáƒ•áƒáƒœáƒ˜?</h3>
                            </div>
                            
                            <p style="color: #374151; font-size: 16px; line-height: 1.8; margin-bottom: 15px;">
                                áƒ¨áƒ”áƒáƒ›áƒ©áƒœáƒ˜áƒ” áƒáƒáƒ¢áƒáƒ -áƒáƒáƒ¢áƒáƒ áƒ áƒªáƒ•áƒšáƒ˜áƒšáƒ”áƒ‘áƒ”áƒ‘áƒ˜! áƒ’áƒáƒ›áƒáƒ¯áƒáƒœáƒ›áƒ áƒ—áƒ”áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒáƒ áƒáƒªáƒ”áƒ¡áƒ˜ áƒœáƒ”áƒšáƒ áƒ“áƒ áƒ—áƒáƒœáƒ“áƒáƒ—áƒáƒœáƒáƒ‘áƒ˜áƒ— áƒ®áƒ“áƒ”áƒ‘áƒ. áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒáƒ•áƒáƒœáƒ˜áƒ, áƒ—áƒáƒ•áƒáƒ“áƒáƒª áƒ®áƒ”áƒšáƒ˜ áƒ¨áƒ”áƒ£áƒ¬áƒ§áƒ áƒáƒ› áƒáƒ áƒáƒªáƒ”áƒ¡áƒ¡!
                            </p>
                            
                            <p style="color: #374151; font-size: 16px; line-height: 1.8; margin-bottom: 15px;">
                                áƒ¨áƒ”áƒœáƒ˜áƒ¨áƒœáƒ” áƒ˜áƒ¡ áƒ›áƒªáƒ˜áƒ áƒ” áƒªáƒ•áƒšáƒ˜áƒšáƒ”áƒ‘áƒ”áƒ‘áƒ˜, áƒ áƒáƒ›áƒšáƒ”áƒ‘áƒ˜áƒª áƒáƒ“áƒ áƒ” áƒ£áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒ áƒ˜áƒ§áƒ, áƒ›áƒáƒ’áƒ áƒáƒ› áƒ“áƒ¦áƒ”áƒ¡ áƒ’áƒáƒ áƒ™áƒ•áƒ”áƒ£áƒšáƒ˜ áƒ¡áƒ˜áƒáƒ›áƒáƒ•áƒœáƒ”áƒ‘áƒ áƒ›áƒ˜áƒ˜áƒ¦áƒ”, áƒ£áƒ¤áƒ áƒ áƒ›áƒ”áƒ¢áƒáƒ“ áƒ’áƒáƒ›áƒáƒ®áƒ•áƒ˜áƒšáƒ“áƒ˜, áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒáƒ•áƒœáƒáƒ“ áƒ›áƒ˜áƒ˜áƒ©áƒœáƒ˜áƒ”, áƒ“áƒáƒ˜áƒœáƒ¢áƒ”áƒ áƒ”áƒ¡áƒ“áƒ˜ áƒáƒœ áƒ™áƒ›áƒáƒ§áƒáƒ¤áƒ˜áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒ›áƒáƒ›áƒ¬áƒ•áƒ”áƒ•áƒ˜ áƒ’áƒáƒ®áƒ“áƒ áƒ¨áƒ”áƒœáƒ¨áƒ˜.
                            </p>
                            
                            <p style="color: #374151; font-size: 16px; line-height: 1.8; margin-bottom: 15px;">
                                áƒ”áƒ¡ áƒ¨áƒ”áƒ˜áƒ«áƒšáƒ”áƒ‘áƒ áƒ˜áƒ§áƒáƒ¡ áƒ«áƒáƒšáƒ˜áƒáƒœ áƒ›áƒªáƒ˜áƒ áƒ” áƒ›áƒáƒ•áƒšáƒ”áƒœáƒ”áƒ‘áƒ˜, áƒ—áƒ£áƒœáƒ“áƒáƒª áƒ¡áƒáƒ§áƒ•áƒáƒ áƒ”áƒš áƒáƒ“áƒáƒ›áƒ˜áƒáƒœáƒ—áƒáƒœ áƒ©áƒáƒ®áƒ£áƒ¢áƒ”áƒ‘áƒ áƒáƒœ áƒ›áƒªáƒ˜áƒ áƒ” áƒ®áƒœáƒ˜áƒ— áƒ’áƒáƒ¡áƒáƒ£áƒ‘áƒ áƒ”áƒ‘áƒ, áƒ’áƒ”áƒ›áƒ áƒ˜áƒ”áƒšáƒ˜ áƒ©áƒáƒ˜, áƒ¡áƒáƒ¡áƒ˜áƒáƒ›áƒáƒ•áƒœáƒ áƒ¤áƒ˜áƒšáƒ›áƒ˜ áƒáƒœ áƒ’áƒáƒ“áƒáƒªáƒ”áƒ›áƒ, áƒ’áƒáƒ¡áƒ”áƒ˜áƒ áƒœáƒ”áƒ‘áƒ áƒáƒœ áƒ›áƒ£áƒ¡áƒ˜áƒ™áƒ˜áƒ¡ áƒ›áƒáƒ¡áƒ›áƒ”áƒœáƒ, áƒ°áƒáƒ‘áƒ˜ áƒáƒœ áƒ¡áƒáƒ¥áƒ›áƒ˜áƒáƒœáƒáƒ‘áƒ, áƒ áƒáƒ›áƒšáƒ˜áƒ¡ áƒ¨áƒ”áƒ¡áƒ áƒ£áƒšáƒ”áƒ‘áƒáƒ›áƒáƒª áƒ’áƒáƒ áƒ™áƒ•áƒ”áƒ£áƒšáƒ˜ áƒ¡áƒ˜áƒáƒ›áƒáƒ•áƒœáƒ”áƒ‘áƒ áƒ›áƒáƒ’áƒ˜áƒ¢áƒáƒœáƒ.
                            </p>
                            
                            <p style="color: #374151; font-size: 16px; line-height: 1.8; margin-bottom: 15px;">
                                áƒ›áƒáƒ’áƒáƒšáƒ˜áƒ—áƒáƒ“, áƒ¨áƒ”áƒ˜áƒ«áƒšáƒ”áƒ‘áƒ áƒáƒáƒ¢áƒáƒ áƒ áƒ‘áƒáƒ•áƒ¨áƒ•áƒ›áƒ áƒ—áƒáƒ•áƒ˜áƒ¡áƒ˜ áƒ¨áƒ”áƒ¡áƒ áƒ£áƒšáƒ”áƒ‘áƒ£áƒšáƒ˜ áƒœáƒáƒ®áƒáƒ¢áƒ˜ áƒ’áƒáƒ’áƒ˜áƒ–áƒ˜áƒáƒ áƒ? áƒáƒœ áƒ£áƒ‘áƒ áƒáƒšáƒáƒ“ áƒ›áƒ”áƒ’áƒáƒ‘áƒáƒ áƒ—áƒáƒœ áƒ¡áƒáƒ¡áƒ˜áƒáƒ›áƒáƒ•áƒœáƒáƒ“ áƒ’áƒáƒ˜áƒ¡áƒáƒ£áƒ‘áƒ áƒ”? áƒ“áƒ áƒ£áƒªáƒ”áƒ‘ áƒ˜áƒ’áƒ áƒ«áƒ”áƒœáƒ˜, áƒ áƒáƒ› áƒ”áƒ¡ áƒ›áƒáƒ›áƒ”áƒœáƒ¢áƒ˜ áƒ¨áƒ”áƒœáƒ—áƒ•áƒ˜áƒ¡ áƒ«áƒ•áƒ˜áƒ áƒ¤áƒáƒ¡áƒ˜áƒ?
                            </p>
                            
                            <p style="color: #374151; font-size: 16px; line-height: 1.8; margin-bottom: 15px;">
                                áƒ—áƒ•áƒáƒšáƒ˜áƒ¡ áƒ©áƒ˜áƒœáƒ˜áƒ•áƒ˜áƒ— áƒ¨áƒ”áƒáƒ’áƒ áƒáƒ•áƒ” áƒ”áƒ¡ áƒáƒáƒ¢áƒáƒ -áƒáƒáƒ¢áƒáƒ áƒ áƒ›áƒáƒ›áƒ”áƒœáƒ¢áƒ”áƒ‘áƒ˜. áƒœáƒáƒ›áƒ“áƒ•áƒ˜áƒšáƒ˜ áƒ¡áƒ˜áƒ›áƒ“áƒ˜áƒ“áƒ áƒ” áƒ¡áƒ¬áƒáƒ áƒ”áƒ“ áƒáƒ› "áƒ©áƒ•áƒ”áƒ£áƒšáƒ”áƒ‘áƒ áƒ˜áƒ•" áƒ›áƒáƒ›áƒ”áƒœáƒ¢áƒ”áƒ‘áƒ¨áƒ˜áƒ. áƒœáƒ£ áƒ’áƒáƒ›áƒáƒ’áƒ”áƒáƒáƒ áƒ”áƒ‘áƒ áƒ˜áƒ¡áƒ˜áƒœáƒ˜!
                            </p>
                            
                            <p style="color: #374151; font-size: 16px; line-height: 1.8; margin-bottom: 20px;">
                                áƒªáƒ®áƒáƒ•áƒ áƒ”áƒ‘áƒ˜áƒ— áƒ¢áƒ™áƒ‘áƒáƒ‘áƒ˜áƒ¡ áƒ£áƒœáƒáƒ áƒ˜ áƒ¨áƒ”áƒœáƒ¡ áƒ¢áƒ•áƒ˜áƒœáƒ¡ áƒ—áƒáƒ•áƒ˜áƒ“áƒáƒœ áƒ£áƒœáƒ“áƒ áƒ“áƒáƒáƒ¡áƒ¬áƒáƒ•áƒšáƒ. áƒ›áƒªáƒ˜áƒ áƒ” áƒ¡áƒ˜áƒ®áƒáƒ áƒ£áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒ©áƒœáƒ”áƒ•áƒ áƒ“áƒ áƒ“áƒáƒ¤áƒáƒ¡áƒ”áƒ‘áƒ áƒ«áƒáƒšáƒ˜áƒáƒœ áƒ“áƒáƒ”áƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ áƒáƒ› áƒáƒ áƒáƒªáƒ”áƒ¡áƒ¡. áƒªáƒ®áƒáƒ•áƒ áƒ”áƒ‘áƒ áƒ—áƒáƒ•áƒ˜áƒ¡áƒ˜áƒ— áƒáƒ  áƒ’áƒáƒ¤áƒ”áƒ áƒáƒ“áƒ“áƒ”áƒ‘áƒ, áƒœáƒ”áƒš-áƒœáƒ”áƒšáƒ áƒ—áƒáƒ•áƒáƒ“ áƒ£áƒœáƒ“áƒ áƒ¨áƒ”áƒ˜áƒ¢áƒáƒœáƒ áƒ›áƒáƒ¡áƒ¨áƒ˜ áƒœáƒáƒ—áƒ”áƒšáƒ˜ áƒ“áƒ áƒ™áƒáƒ¨áƒ™áƒáƒ¨áƒ áƒ¤áƒ”áƒ áƒ”áƒ‘áƒ˜!
                            </p>
                            
                            <div style="background: #F3F4F6; border-left: 4px solid #9CA3AF; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                                <p style="color: #374151; font-size: 15px; line-height: 1.7; font-style: italic; margin: 0;">
                                    "áƒ‘áƒ”áƒ“áƒœáƒ˜áƒ”áƒ áƒ”áƒ‘áƒ áƒáƒ áƒ˜áƒ¡ áƒáƒ áƒ áƒ¡áƒáƒ’áƒáƒœáƒ˜, áƒáƒ áƒáƒ›áƒ”áƒ“ áƒ£áƒœáƒáƒ áƒ˜ - áƒ£áƒœáƒáƒ áƒ˜ áƒ¨áƒ”áƒ˜áƒ’áƒ áƒ«áƒœáƒ áƒ›áƒáƒ›áƒ”áƒœáƒ¢áƒ˜áƒ¡ áƒ¡áƒ˜áƒšáƒáƒ›áƒáƒ–áƒ”"
                                </p>
                                <p style="color: #6B7280; font-size: 14px; margin-top: 8px; margin-bottom: 0; text-align: right;">
                                    â€” áƒ°áƒ”áƒ áƒ›áƒáƒœ áƒ°áƒ”áƒ¡áƒ”
                                </p>
                            </div>
                            
                            <button onclick="continueToPositiveInput()" class="btn btn-primary" style="width: 100%; padding: 14px; margin-top: 20px; font-size: 16px;">áƒ’áƒáƒ’áƒ áƒ«áƒ”áƒšáƒ”áƒ‘áƒ â€º</button>
                        </div>
                        
                        <!-- Input form (hidden initially) -->
                        <div id="positiveInputForm" style="display: none;">
                            <div id="positiveMomentsContainer" style="max-height: 60vh; overflow-y: auto; margin-bottom: 20px;">
                                <!-- Entries will be added here dynamically -->
                            </div>
                            
                            <button onclick="addPositiveEntry()" class="btn" style="width: 100%; padding: 12px; font-size: 15px; background: linear-gradient(135deg, #DBEAFE 0%, #93C5FD 100%); color: #1E40AF; border: none; margin-bottom: 15px;">+ áƒ“áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒ</button>
                            
                            <div style="display: flex; gap: 10px;">
                                <button onclick="saveAllPositiveMoments()" class="btn btn-primary" style="flex: 1; padding: 15px; font-size: 16px;">áƒ¨áƒ”áƒœáƒáƒ®áƒ•áƒ</button>
                                <button onclick="closePositiveModal()" class="btn btn-secondary" style="flex: 1; padding: 15px; font-size: 16px;">áƒ’áƒáƒ£áƒ¥áƒ›áƒ”áƒ‘áƒ</button>
                            </div>
                        </div>
                        
                        <button onclick="closePositiveModal()" class="btn btn-secondary" style="width: 100%; padding: 15px; margin-top: 20px; font-size: 16px; display: none;" id="positiveCloseBtn">áƒ“áƒáƒ®áƒ£áƒ áƒ•áƒ</button>
                    </div>
                </div>
            </div>
            
            <!-- Self-Satisfaction Modal -->
            <div id="satisfactionModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 1000; overflow-y: auto;">
                <div style="background: #f9fafb; min-height: 100vh; padding: 20px;">
                    <div style="max-width: 600px; margin: 0 auto;">
                        <!-- Header -->
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
                            <h2 style="color: #374151; font-size: 24px; margin: 0;">ğŸ’ áƒ—áƒ•áƒ˜áƒ—áƒ™áƒ›áƒáƒ§áƒáƒ¤áƒ˜áƒšáƒ”áƒ‘áƒ</h2>
                            <button onclick="closeSatisfactionModal()" style="background: rgba(0, 0, 0, 0.1); border: none; color: #374151; width: 40px; height: 40px; border-radius: 50%; font-size: 24px; cursor: pointer; display: flex; align-items: center; justify-content: center;">Ã—</button>
                        </div>
                        
                        <!-- Motivational text (shown first time today) -->
                        <div id="satisfactionMotivationalText" style="display: block; background: white; border-radius: 20px; padding: 25px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); margin-bottom: 20px;">
                            <div style="background: linear-gradient(135deg, #F3F4F6 0%, #E5E7EB 100%); border-radius: 15px; padding: 20px; margin-bottom: 20px;">
                                <h3 style="color: #374151; margin-bottom: 15px; font-size: 18px;">ğŸ’ áƒ áƒáƒ¢áƒáƒ› áƒáƒ áƒ˜áƒ¡ áƒ”áƒ¡ áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒáƒ•áƒáƒœáƒ˜?</h3>
                            </div>
                            
                            <p style="color: #374151; font-size: 16px; line-height: 1.8; margin-bottom: 15px;">
                                áƒ“áƒáƒ›áƒáƒ™áƒ˜áƒ“áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ’áƒáƒœáƒ”áƒ‘áƒ áƒ®áƒ¨áƒ˜áƒ áƒáƒ“ áƒ’áƒ•áƒáƒ¯áƒ”áƒ áƒ”áƒ‘áƒ¡, áƒ áƒáƒ› áƒœáƒ˜áƒ•áƒ—áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒ áƒ”áƒ¨áƒ” áƒ£áƒ™áƒ•áƒ” áƒáƒ¦áƒáƒ áƒáƒ¤áƒ”áƒ áƒ˜ áƒ¨áƒ”áƒ’áƒ•áƒ˜áƒ«áƒšáƒ˜áƒ, áƒáƒ áƒáƒ¤áƒ”áƒ áƒ˜ áƒ’áƒáƒ›áƒáƒ’áƒ•áƒ˜áƒ•áƒ, áƒ”áƒœáƒ”áƒ áƒ’áƒ˜áƒ áƒáƒ  áƒ’áƒ•áƒ”áƒ¥áƒœáƒ”áƒ‘áƒ áƒáƒœ áƒ£áƒ‘áƒ áƒáƒšáƒáƒ“ áƒ£áƒ˜áƒœáƒ¢áƒ”áƒ áƒ”áƒ¡áƒ áƒ“áƒ áƒ£áƒ¡áƒ˜áƒáƒ›áƒáƒ•áƒœáƒ áƒ’áƒ•áƒ”áƒ©áƒ•áƒ”áƒœáƒ”áƒ‘áƒ áƒ¡áƒ®áƒ•áƒáƒ“áƒáƒ¡áƒ®áƒ•áƒ áƒ¥áƒ›áƒ”áƒ“áƒ”áƒ‘áƒ”áƒ‘áƒ˜.
                            </p>
                            
                            <p style="color: #374151; font-size: 16px; line-height: 1.8; margin-bottom: 15px;">
                                áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒáƒ•áƒáƒœáƒ˜áƒ áƒ©áƒ•áƒ”áƒœáƒ¡ áƒ¢áƒ•áƒ˜áƒœáƒ¡ áƒ©áƒ•áƒ”áƒœáƒ˜ áƒ¨áƒ”áƒ¡áƒáƒ«áƒšáƒ”áƒ‘áƒšáƒáƒ‘áƒ”áƒ‘áƒ˜áƒ¡ áƒ“áƒáƒ¯áƒ”áƒ áƒ”áƒ‘áƒ, áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜ áƒ—áƒáƒ•áƒ˜áƒ¡ áƒ“áƒáƒ¤áƒáƒ¡áƒ”áƒ‘áƒ áƒáƒ®áƒšáƒ”áƒ‘áƒ£áƒ áƒáƒ“ áƒ“áƒáƒ•áƒáƒ¡áƒ¬áƒáƒ•áƒšáƒáƒ—.
                            </p>
                            
                            <p style="color: #374151; font-size: 16px; line-height: 1.8; margin-bottom: 15px;">
                                áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ  áƒ¬áƒáƒ áƒ¡áƒ£áƒš áƒ¨áƒ”áƒªáƒ“áƒáƒ›áƒ”áƒ‘áƒ–áƒ”, áƒáƒœ áƒ›áƒ˜áƒ£áƒ¦áƒ¬áƒ”áƒ•áƒ”áƒš áƒ©áƒáƒœáƒáƒ¤áƒ˜áƒ¥áƒ áƒ”áƒ‘áƒ–áƒ” áƒ“áƒáƒ áƒ“áƒ˜áƒ—, áƒ¨áƒ”áƒœ áƒ©áƒáƒ•áƒáƒ áƒ“áƒœáƒ˜áƒ¡ áƒ áƒ˜áƒ¡áƒ™áƒ¡ áƒ–áƒ áƒ“áƒ˜. áƒáƒ  áƒ áƒáƒ›áƒ”áƒ–áƒ” áƒáƒ  áƒ¦áƒ˜áƒ áƒ¡ áƒœáƒ”áƒ áƒ•áƒ˜áƒ£áƒšáƒáƒ‘áƒ: áƒ˜áƒ›áƒáƒ–áƒ”, áƒ áƒáƒ¡áƒáƒª áƒ•áƒ”áƒ  áƒ¨áƒ”áƒªáƒ•áƒšáƒ˜ áƒ“áƒ áƒ˜áƒ›áƒáƒ–áƒ”, áƒ áƒ˜áƒ¡áƒ˜ áƒ¨áƒ”áƒªáƒ•áƒšáƒáƒª áƒ“áƒ¦áƒ”áƒ˜áƒ“áƒáƒœ áƒ¨áƒ”áƒ’áƒ˜áƒ«áƒšáƒ˜áƒ. áƒáƒ›áƒ˜áƒ¢áƒáƒ› áƒ“áƒáƒ‘áƒ áƒ£áƒœáƒ“áƒ˜ áƒáƒ¬áƒ›áƒ§áƒáƒ¨áƒ˜ áƒ“áƒ áƒ“áƒáƒ¤áƒ˜áƒ¥áƒ áƒ“áƒ˜ áƒ˜áƒ›áƒáƒ–áƒ”, áƒ—áƒ£ áƒ áƒáƒ¡ áƒáƒ™áƒ”áƒ—áƒ”áƒ‘ áƒ“áƒ¦áƒ”áƒ¡. áƒ¡áƒ®áƒ•áƒ, áƒ áƒáƒ› áƒ¡áƒáƒ”áƒ áƒ—áƒáƒ“ áƒáƒ áƒáƒ¤áƒ”áƒ áƒ˜ áƒ’áƒáƒáƒ™áƒ”áƒ—áƒ, áƒ¨áƒ”áƒœ áƒ®áƒáƒ› áƒ¡áƒ˜áƒ¤áƒ®áƒ˜áƒ–áƒšáƒ˜áƒ¡ áƒ¨áƒ”áƒœáƒáƒ áƒ©áƒ£áƒœáƒ”áƒ‘áƒ˜áƒ— áƒ£áƒ™áƒ•áƒ” áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜ áƒ—áƒáƒ•áƒ˜áƒ¡ áƒ£áƒ™áƒ”áƒ—áƒ”áƒ¡áƒ˜ áƒ•áƒ”áƒ áƒ¡áƒ˜áƒ˜áƒ¡ áƒ¨áƒ”áƒ¥áƒ›áƒœáƒáƒ–áƒ” áƒ›áƒ£áƒ¨áƒáƒáƒ‘!
                            </p>
                            
                            <p style="color: #374151; font-size: 16px; line-height: 1.8; margin-bottom: 15px;">
                                áƒ›áƒáƒ“áƒ˜ áƒáƒ®áƒšáƒ áƒ“áƒáƒ¤áƒ˜áƒ¥áƒ áƒ“áƒ˜ áƒ“áƒ áƒ’áƒáƒ˜áƒ®áƒ¡áƒ”áƒœáƒ” áƒ˜áƒ¡ áƒ›áƒªáƒ˜áƒ áƒ”, áƒ—áƒ£ áƒ“áƒ˜áƒ“áƒ˜ áƒ¡áƒáƒ¥áƒ›áƒ”áƒ”áƒ‘áƒ˜, áƒ áƒáƒ›áƒšáƒ”áƒ‘áƒ˜áƒª áƒ“áƒ¦áƒ”áƒ¡ áƒ’áƒáƒáƒ™áƒ”áƒ—áƒ” áƒ“áƒ áƒ’áƒáƒ›áƒáƒ®áƒ•áƒ˜áƒšáƒ“áƒ˜ áƒ›áƒáƒ—áƒ–áƒ”. áƒ˜áƒ’áƒ áƒ«áƒ”áƒœáƒ˜ áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜ áƒ—áƒáƒ•áƒ˜áƒ— áƒ™áƒ›áƒáƒ§áƒáƒ¤áƒ˜áƒšáƒ”áƒ‘áƒ, áƒ¨áƒ”áƒœ áƒáƒ›áƒáƒ¡ áƒ˜áƒ›áƒ¡áƒáƒ®áƒ£áƒ áƒ”áƒ‘!
                            </p>
                            
                            <p style="color: #374151; font-size: 16px; line-height: 1.8; margin-bottom: 15px;">
                                áƒ”áƒ¡ áƒ’áƒ›áƒ˜áƒ áƒ£áƒšáƒ˜ áƒ¡áƒáƒ¥áƒ›áƒ”áƒ”áƒ‘áƒ˜ áƒ¨áƒ”áƒ˜áƒ«áƒšáƒ”áƒ‘áƒ áƒ˜áƒ§áƒáƒ¡ áƒ£áƒ‘áƒ áƒáƒšáƒáƒ“ áƒ˜áƒ¡, áƒ áƒáƒ› áƒ¡áƒáƒ¬áƒáƒšáƒ˜áƒ“áƒáƒœ áƒáƒ“áƒ”áƒ¥áƒ˜, áƒ™áƒ‘áƒ˜áƒšáƒ˜ áƒ’áƒáƒ˜áƒ®áƒ”áƒ®áƒ” áƒáƒœ áƒ¡áƒáƒ¬áƒáƒšáƒ˜ áƒ›áƒ˜áƒáƒšáƒáƒ’áƒ”.
                            </p>
                            
                            <p style="color: #374151; font-size: 16px; line-height: 1.8; margin-bottom: 15px;">
                                áƒ§áƒ•áƒ”áƒšáƒ áƒœáƒáƒ‘áƒ˜áƒ¯áƒ˜, áƒ áƒáƒ›áƒ”áƒšáƒ˜áƒª áƒ’áƒáƒ“áƒáƒ“áƒ’áƒ˜, áƒáƒ¦áƒ˜áƒáƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ¦áƒ˜áƒ áƒ¡áƒ˜áƒ. áƒ§áƒ•áƒ”áƒšáƒáƒ¡ áƒ—áƒáƒ•áƒ˜áƒ¡áƒ˜ áƒ¢áƒ”áƒ›áƒáƒ˜ áƒáƒ¥áƒ•áƒ¡ áƒ”áƒœáƒ”áƒ áƒ’áƒ˜áƒ˜áƒ¡áƒ áƒ“áƒ áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ áƒ˜ áƒ—áƒáƒ•áƒ˜áƒ¡ áƒ áƒ¬áƒ›áƒ”áƒœáƒ˜áƒ¡ áƒáƒ¦áƒ“áƒ’áƒ”áƒœáƒ˜áƒ¡.
                            </p>
                            
                            <p style="color: #374151; font-size: 16px; line-height: 1.8; margin-bottom: 20px;">
                                áƒ”áƒœáƒ“áƒ” áƒ›áƒáƒ¡ áƒ“áƒ áƒ›áƒ˜áƒ”áƒ®áƒ›áƒáƒ áƒ” áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ  áƒ—áƒáƒ•áƒ¡ áƒáƒ áƒ áƒ¨áƒ”áƒ“áƒ”áƒ’áƒ”áƒ‘áƒ˜áƒ¡, áƒáƒ áƒáƒ›áƒ”áƒ“ áƒ›áƒªáƒ“áƒ”áƒšáƒáƒ‘áƒ”áƒ‘áƒ˜áƒ¡ áƒ“áƒáƒ¤áƒáƒ¡áƒ”áƒ‘áƒ˜áƒ—.
                            </p>
                            
                            <div style="background: #F3F4F6; border-left: 4px solid #9CA3AF; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                                <p style="color: #374151; font-size: 15px; line-height: 1.7; font-style: italic; margin: 0;">
                                    "áƒ§áƒáƒ•áƒ”áƒšáƒ“áƒ¦áƒ” áƒ©áƒ•áƒ”áƒœ áƒáƒ®áƒšáƒ˜áƒ“áƒáƒœ áƒ•áƒ˜áƒ‘áƒáƒ“áƒ”áƒ‘áƒ˜áƒ—. áƒ§áƒ•áƒ”áƒšáƒáƒ–áƒ” áƒ›áƒ”áƒ¢áƒáƒ“ áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒáƒ•áƒáƒœáƒ˜áƒ, áƒ—áƒ£ áƒ áƒáƒ¡ áƒ•áƒáƒ™áƒ”áƒ—áƒ”áƒ‘áƒ— áƒ“áƒ¦áƒ”áƒ¡."
                                </p>
                                <p style="color: #6B7280; font-size: 14px; margin-top: 8px; margin-bottom: 0; text-align: right;">
                                    â€” áƒ’áƒáƒ£áƒ¢áƒáƒ›áƒ áƒ‘áƒ£áƒ“áƒ
                                </p>
                            </div>
                            
                            <button onclick="continueToSatisfactionInput()" class="btn btn-primary" style="width: 100%; padding: 14px; margin-top: 20px; font-size: 16px;">áƒ’áƒáƒ’áƒ áƒ«áƒ”áƒšáƒ”áƒ‘áƒ â€º</button>
                        </div>
                        
                        <!-- Input form (hidden initially) -->
                        <div id="satisfactionInputForm" style="display: none;">
                            <div id="satisfactionEntriesContainer" style="max-height: 60vh; overflow-y: auto; margin-bottom: 20px;">
                                <!-- Entries will be added here dynamically -->
                            </div>
                            
                            <button onclick="addSatisfactionEntry()" class="btn" style="width: 100%; padding: 12px; font-size: 15px; background: linear-gradient(135deg, #F3F4F6 0%, #E5E7EB 100%); color: #374151; border: none; margin-bottom: 15px;">+ áƒ“áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒ</button>
                            
                            <div style="display: flex; gap: 10px;">
                                <button onclick="saveAllSatisfactionEntries()" class="btn btn-primary" style="flex: 1; padding: 15px; font-size: 16px;">áƒ¨áƒ”áƒœáƒáƒ®áƒ•áƒ</button>
                                <button onclick="closeSatisfactionModal()" class="btn btn-secondary" style="flex: 1; padding: 15px; font-size: 16px;">áƒ’áƒáƒ£áƒ¥áƒ›áƒ”áƒ‘áƒ</button>
                            </div>
                        </div>
                        
                        <button onclick="closeSatisfactionModal()" class="btn btn-secondary" style="width: 100%; padding: 15px; margin-top: 20px; font-size: 16px; display: none;" id="satisfactionCloseBtn">áƒ“áƒáƒ®áƒ£áƒ áƒ•áƒ</button>
                    </div>
                </div>
            </div>
            
            <!-- Remember Modal -->
            <div id="rememberModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 1000; overflow-y: auto;">
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 20px;">
                    
                    <!-- Page 1 -->
                    <div id="rememberPage1" style="display: block; max-width: 800px; margin: 0 auto; padding: 20px 15px;">
                        <div style="background: white; border-radius: 16px; padding: 20px; box-shadow: 0 10px 40px rgba(0,0,0,0.3);">
                            <div style="text-align: center; font-size: 36px; margin-bottom: 15px;">ğŸ’¡</div>
                            <h2 style="color: #14b8a6; text-align: center; margin-bottom: 25px; font-size: 24px;">áƒ’áƒáƒ®áƒ¡áƒáƒ•áƒ“áƒ”áƒ¡!</h2>
                            
                            <div style="background: #f0fdfa; border-left: 4px solid #14b8a6; padding: 20px; border-radius: 8px;">
                                <p style="color: #333; line-height: 1.8; font-size: 16px; margin: 0;">
                                    áƒ“áƒáƒ›áƒáƒ™áƒ˜áƒ“áƒ”áƒ‘áƒ£áƒšáƒ”áƒ‘áƒ áƒáƒ áƒ˜áƒ¡ áƒ›áƒ£áƒ“áƒ›áƒ˜áƒ•áƒ˜ áƒ¨áƒ˜áƒœáƒáƒ’áƒáƒœáƒ˜ áƒ‘áƒ áƒ«áƒáƒšáƒ áƒ“áƒáƒ›áƒáƒ™áƒ˜áƒ“áƒ”áƒ‘áƒ£áƒš áƒ“áƒ áƒ áƒáƒªáƒ˜áƒáƒœáƒáƒšáƒ£áƒ  áƒœáƒáƒ¬áƒ˜áƒšáƒ”áƒ‘áƒ¡ áƒ¨áƒáƒ áƒ˜áƒ¡. áƒ“áƒáƒ›áƒáƒ™áƒ˜áƒ“áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒœáƒáƒ¬áƒ˜áƒšáƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡ áƒ›áƒ—áƒáƒ•áƒáƒ áƒ˜áƒ áƒ›áƒáƒ™áƒšáƒ”áƒ•áƒáƒ“áƒ˜áƒáƒœáƒ˜ áƒ˜áƒ›áƒáƒ£áƒšáƒ¡áƒ£áƒ áƒ˜ áƒ¡áƒ˜áƒáƒ›áƒáƒ•áƒœáƒ”áƒ‘áƒ, áƒ®áƒáƒšáƒ áƒ áƒáƒªáƒ˜áƒáƒœáƒáƒšáƒ£áƒ áƒ˜ áƒœáƒáƒ¬áƒ˜áƒšáƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡ áƒ˜áƒ¡ áƒ’áƒ áƒ«áƒ”áƒšáƒ•áƒáƒ“áƒ˜áƒáƒœáƒ˜ áƒ¦áƒ˜áƒ áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒªáƒ•áƒšáƒ˜áƒšáƒ”áƒ‘áƒ”áƒ‘áƒ˜, áƒ áƒáƒ›áƒšáƒ”áƒ‘áƒ¡áƒáƒª áƒ›áƒ—áƒšáƒ˜áƒáƒœáƒ˜ áƒáƒ˜áƒ áƒáƒ•áƒœáƒ”áƒ‘áƒ áƒ˜áƒ¦áƒ”áƒ‘áƒ¡ áƒ—áƒ•áƒ˜áƒ—áƒ™áƒáƒœáƒ¢áƒ áƒáƒšáƒ˜áƒ¡ áƒ’áƒáƒ›áƒáƒ›áƒ®áƒáƒ¢áƒ•áƒ”áƒšáƒ˜ áƒ¥áƒªáƒ”áƒ•áƒ˜áƒ—.
                                </p>
                            </div>
                            
                            <button onclick="showRememberPage(2)" class="btn btn-primary" style="width: 100%; margin-top: 20px;">áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’áƒ˜ â†’</button>
                        </div>
                    </div>
                    
                    <!-- Page 2 -->
                    <div id="rememberPage2" style="display: none; max-width: 800px; margin: 0 auto; padding: 20px 15px;">
                        <div style="background: white; border-radius: 16px; padding: 20px; box-shadow: 0 10px 40px rgba(0,0,0,0.3);">
                            <div style="text-align: center; font-size: 36px; margin-bottom: 15px;">ğŸ§ </div>
                            <h2 style="color: #14b8a6; text-align: center; margin-bottom: 25px; font-size: 24px;">áƒ¨áƒ”áƒœáƒ˜ áƒ“áƒáƒ›áƒáƒ™áƒ˜áƒ“áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ’áƒáƒœáƒ”áƒ‘áƒ</h2>
                            
                            <div style="background: #f0fdfa; border-left: 4px solid #14b8a6; padding: 20px; border-radius: 8px;">
                                <p style="color: #333; line-height: 1.8; font-size: 16px; margin-bottom: 15px;">
                                    áƒ¨áƒ”áƒœáƒ˜ áƒ“áƒáƒ›áƒáƒ™áƒ˜áƒ“áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ’áƒáƒœáƒ”áƒ‘áƒ áƒ”áƒªáƒ“áƒ”áƒ‘áƒ áƒ“áƒáƒ’áƒáƒ áƒ¬áƒ›áƒ£áƒœáƒáƒ¡, áƒ áƒáƒ› áƒ›áƒ˜áƒ˜áƒ¦áƒ áƒœáƒ˜áƒ•áƒ—áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ áƒ“áƒ áƒ”áƒªáƒ“áƒ”áƒ‘áƒ áƒ¨áƒ”áƒœáƒ¡ áƒ›áƒáƒ®áƒ˜áƒ‘áƒšáƒ•áƒáƒ¡ áƒ›áƒáƒ’áƒáƒœáƒ”áƒ‘áƒ”áƒ‘áƒ˜áƒ— áƒœáƒ˜áƒ•áƒ—áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ–áƒ”áƒ›áƒáƒ¥áƒ›áƒ”áƒ“áƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒáƒ™áƒšáƒ”áƒ•áƒáƒ“áƒ˜áƒáƒœ áƒ¡áƒáƒ¡áƒ˜áƒáƒ›áƒáƒ•áƒœáƒ áƒ”áƒ¤áƒ”áƒ¥áƒ¢áƒ–áƒ”. áƒ£áƒáƒ áƒ§áƒáƒ¤áƒ˜áƒ—áƒ˜ áƒ¨áƒ”áƒ“áƒ”áƒ’áƒ”áƒ‘áƒ˜ áƒ“áƒ áƒœáƒáƒ™áƒšáƒáƒ•áƒáƒœáƒ”áƒ‘áƒ”áƒ‘áƒ˜, áƒ áƒáƒ’áƒáƒ áƒª áƒ¬áƒ”áƒ¡áƒ˜ áƒ•áƒšáƒ˜áƒœáƒ“áƒ”áƒ‘áƒ áƒ¨áƒ”áƒ›áƒ“áƒ’áƒáƒ›áƒ¨áƒ˜, áƒ’áƒ áƒ«áƒ”áƒšáƒ•áƒáƒ“áƒ˜áƒáƒœ áƒáƒ”áƒ áƒ¡áƒáƒ”áƒ¥áƒ¢áƒ˜áƒ•áƒáƒ¨áƒ˜.
                                </p>
                                <p style="color: #333; line-height: 1.8; font-size: 16px; margin: 0;">
                                    áƒ›áƒáƒ’áƒ áƒáƒ› áƒ—áƒ£ áƒ¨áƒ”áƒœ áƒ“áƒáƒ˜áƒ¬áƒ§áƒ”áƒ‘ áƒ›áƒáƒ—áƒ–áƒ” áƒ¤áƒ˜áƒ¥áƒ áƒ¡ áƒ›áƒáƒœáƒáƒ›, áƒ¡áƒáƒœáƒáƒ› áƒ›áƒ˜áƒ˜áƒ¦áƒ”áƒ‘ áƒ›áƒáƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒ“áƒáƒ¬áƒ§áƒ•áƒ”áƒ¢áƒ˜áƒšáƒ”áƒ‘áƒáƒ¡, áƒ¨áƒ”áƒœ áƒ’áƒáƒáƒ›áƒ§áƒáƒ áƒ”áƒ‘ áƒ¡áƒáƒ™áƒ£áƒ—áƒáƒ  áƒ áƒáƒªáƒ˜áƒáƒœáƒáƒšáƒ£áƒ  áƒ’áƒáƒœáƒ”áƒ‘áƒáƒ¡ áƒ“áƒ áƒáƒáƒ›áƒáƒ¦áƒšáƒ”áƒ‘ áƒšáƒ¢áƒáƒšáƒ•áƒ˜áƒ¡ áƒ¬áƒáƒ áƒ›áƒáƒ¢áƒ”áƒ‘áƒ£áƒšáƒáƒ“ áƒ’áƒáƒ“áƒáƒšáƒáƒ®áƒ•áƒ˜áƒ¡ áƒ¨áƒáƒœáƒ¡áƒ¡.
                                </p>
                            </div>
                            
                            <div style="display: flex; gap: 10px; margin-top: 20px;">
                                <button onclick="showRememberPage(1)" class="btn btn-secondary" style="flex: 1;">â† áƒ£áƒ™áƒáƒœ</button>
                                <button onclick="showRememberPage(3)" class="btn btn-primary" style="flex: 1;">áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’áƒ˜ â†’</button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Page 3 -->
                    <div id="rememberPage3" style="display: none; max-width: 800px; margin: 0 auto; padding: 20px 15px;">
                        <div style="background: white; border-radius: 16px; padding: 20px; box-shadow: 0 10px 40px rgba(0,0,0,0.3);">
                            <div style="text-align: center; font-size: 36px; margin-bottom: 15px;">âš–ï¸</div>
                            <h2 style="color: #14b8a6; text-align: center; margin-bottom: 25px; font-size: 24px;">áƒ’áƒ áƒ«áƒ”áƒšáƒ•áƒáƒ“áƒ˜áƒáƒœáƒ˜ áƒáƒ”áƒ áƒ¡áƒáƒ”áƒ¥áƒ¢áƒ˜áƒ•áƒ</h2>
                            
                            <div style="background: #f0fdfa; border-left: 4px solid #14b8a6; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                                <p style="color: #333; line-height: 1.8; font-size: 16px; font-weight: 600; margin: 0;">
                                    áƒœáƒ˜áƒ•áƒ—áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ áƒ áƒ˜áƒ¡ áƒ›áƒáƒªáƒ”áƒ›áƒáƒ¡áƒáƒª áƒ›áƒáƒ™áƒšáƒ”áƒ•áƒáƒ“áƒ˜áƒáƒœ áƒáƒ”áƒ áƒ¡áƒáƒ”áƒ¥áƒ¢áƒ˜áƒ•áƒáƒ¨áƒ˜ áƒ’áƒáƒ˜áƒ áƒ“áƒ”áƒ‘áƒ, áƒ¡áƒ¬áƒáƒ áƒ”áƒ“ áƒ˜áƒ›áƒáƒ¡ áƒ’áƒáƒ áƒ—áƒ›áƒ”áƒ•áƒ¡ áƒ’áƒ áƒ«áƒ”áƒšáƒ•áƒáƒ“áƒ˜áƒáƒœ áƒáƒ”áƒ áƒ¡áƒáƒ”áƒ¥áƒ¢áƒ˜áƒ•áƒáƒ¨áƒ˜.
                                </p>
                            </div>
                            
                            <p style="color: #333; line-height: 1.8; font-size: 16px; text-align: center; margin-bottom: 30px;">
                                áƒ’áƒáƒ˜áƒ áƒ“áƒ”áƒ‘áƒ áƒ“áƒáƒ›áƒ¨áƒ•áƒ˜áƒ“áƒ”áƒ‘áƒáƒ¡ áƒáƒ®áƒšáƒ? áƒ¡áƒáƒ›áƒ£áƒ“áƒáƒ›áƒáƒ“ áƒáƒ¥áƒ áƒáƒ‘áƒ¡ áƒœáƒáƒ›áƒ“áƒ•áƒ˜áƒšáƒ˜ áƒ¡áƒ˜áƒ›áƒ¨áƒ•áƒ˜áƒ“áƒ˜áƒ¡ áƒ¨áƒ”áƒ’áƒ áƒ«áƒœáƒ”áƒ‘áƒáƒ¡ áƒ¨áƒ”áƒœáƒ˜ áƒªáƒ®áƒáƒ•áƒ áƒ”áƒ‘áƒ˜áƒ“áƒáƒœ.
                            </p>
                            
                            <div style="display: flex; gap: 10px;">
                                <button onclick="showRememberPage(2)" class="btn btn-secondary" style="flex: 1;">â† áƒ£áƒ™áƒáƒœ</button>
                                <button onclick="closeRememberModal()" class="btn btn-primary" style="flex: 1;">âœ“ áƒ“áƒáƒ®áƒ£áƒ áƒ•áƒ</button>
                            </div>
                        </div>
                    </div>
                    
                </div>
            </div>
            
            <!-- ============ PRIVACY MODALS ============ -->
            
            <!-- Privacy Initial Modal -->
            <div id="privacyModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); z-index: 10000; padding: 20px;">
                <div style="background: white; max-width: 600px; margin: 30px auto; border-radius: 16px; padding: 35px 25px; text-align: center;">
                    
                    <div style="font-size: 60px; margin-bottom: 15px;">ğŸ›¡ï¸</div>
                    
                    <h2 style="color: #333; margin-bottom: 20px; font-size: 24px; font-weight: 700;">áƒ¨áƒ”áƒœáƒ˜ áƒ›áƒáƒœáƒáƒªáƒ”áƒ›áƒ”áƒ‘áƒ˜ áƒ“áƒáƒªáƒ£áƒšáƒ˜áƒ</h2>
                    
                    <p style="color: #555; line-height: 1.8; font-size: 16px; margin-bottom: 15px;">
                        áƒ¨áƒ”áƒœáƒ˜ áƒ˜áƒœáƒ¤áƒáƒ áƒ›áƒáƒªáƒ˜áƒ áƒ˜áƒœáƒáƒ®áƒ”áƒ‘áƒ áƒ›áƒ®áƒáƒšáƒáƒ“ áƒ¨áƒ”áƒœáƒ¡ áƒ›áƒáƒ¬áƒ§áƒáƒ‘áƒ˜áƒšáƒáƒ‘áƒáƒ–áƒ”. 
                        áƒ©áƒ•áƒ”áƒœ áƒáƒ  áƒ’áƒ•áƒáƒ¥áƒ•áƒ¡ áƒ¬áƒ•áƒ“áƒáƒ›áƒ áƒ¨áƒ”áƒœáƒ¡ áƒáƒ˜áƒ áƒáƒ“ áƒ›áƒáƒœáƒáƒªáƒ”áƒ›áƒ”áƒ‘áƒ–áƒ”.
                    </p>
                    
                    <p style="color: #555; line-height: 1.8; font-size: 16px; margin-bottom: 15px;">
                        áƒ¨áƒ”áƒ˜áƒ«áƒšáƒ”áƒ‘áƒ áƒ’áƒáƒ›áƒáƒ§áƒ”áƒœáƒ”áƒ‘áƒ£áƒš áƒ˜áƒ¥áƒœáƒ”áƒ¡ áƒ›áƒ®áƒáƒšáƒáƒ“ áƒáƒœáƒáƒœáƒ˜áƒ›áƒ£áƒ áƒ˜ 
                        áƒ¡áƒ¢áƒáƒ¢áƒ˜áƒ¡áƒ¢áƒ˜áƒ™áƒ£áƒ áƒ˜ áƒ›áƒáƒœáƒáƒªáƒ”áƒ›áƒ”áƒ‘áƒ˜ áƒáƒáƒ˜áƒ¡ áƒ’áƒáƒ¡áƒáƒ£áƒ›áƒ¯áƒáƒ‘áƒ”áƒ¡áƒ”áƒ‘áƒšáƒáƒ“.
                    </p>
                    
                    <p style="color: #555; line-height: 1.8; font-size: 16px; margin-bottom: 25px;">
                        áƒ“áƒáƒ—áƒáƒœáƒ®áƒ›áƒ”áƒ‘áƒ˜áƒ—, áƒáƒ¡áƒ”áƒ•áƒ” áƒáƒ“áƒáƒ¡áƒ¢áƒ£áƒ áƒ”áƒ‘ áƒ áƒáƒ› áƒ¨áƒ”áƒœáƒ˜ áƒáƒ¡áƒáƒ™áƒ˜ 
                        áƒáƒ áƒ˜áƒ¡ áƒ›áƒ˜áƒœáƒ˜áƒ›áƒ£áƒ› <strong>18 áƒ¬áƒ”áƒšáƒ˜</strong>.
                    </p>
                    
                    <!-- Accept Button -->
                    <button onclick="acceptPrivacy()" 
                            style="width: 100%; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; padding: 18px; border-radius: 12px; cursor: pointer; font-weight: 600; font-size: 17px; box-shadow: 0 4px 12px rgba(20,184,166,0.4); margin-bottom: 15px;">
                        âœ“ áƒ™áƒáƒ áƒ’áƒ˜, áƒ•áƒ”áƒ—áƒáƒœáƒ®áƒ›áƒ”áƒ‘áƒ˜
                    </button>
                    
                    <!-- Show Policy Button -->
                    <button onclick="showPrivacyPolicy()" 
                            style="width: 100%; background: white; color: #667eea; border: 2px solid #667eea; padding: 18px; border-radius: 12px; cursor: pointer; font-weight: 600; font-size: 17px; margin-bottom: 15px;">
                        áƒ áƒáƒ’áƒáƒ  áƒ•áƒ˜áƒ§áƒ”áƒœáƒ”áƒ‘áƒ— áƒ›áƒáƒœáƒáƒªáƒ”áƒ›áƒ”áƒ‘áƒ¡
                    </button>
                    
                    <!-- Decline Button -->
                    <button onclick="declinePrivacy()" 
                            style="width: 100%; background: transparent; color: #999; border: none; padding: 12px; cursor: pointer; font-size: 15px;">
                        áƒáƒ áƒ, áƒáƒ  áƒ›áƒ˜áƒœáƒ“áƒ
                    </button>
                    
                </div>
            </div>
            
            <!-- Privacy Policy Detail Modal -->
            <div id="privacyPolicyModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); z-index: 10001; overflow-y: auto; padding: 20px;">
                <div style="background: white; max-width: 700px; margin: 30px auto; border-radius: 16px; padding: 40px 30px;">
                    
                    <h2 style="color: #333; margin-bottom: 25px; font-size: 24px; font-weight: 700; text-align: center;">ğŸ“– áƒ áƒáƒ’áƒáƒ  áƒ•áƒ˜áƒ§áƒ”áƒœáƒ”áƒ‘áƒ— áƒ¨áƒ”áƒœáƒ¡ áƒ›áƒáƒœáƒáƒªáƒ”áƒ›áƒ”áƒ‘áƒ¡</h2>
                    
                    <div style="color: #555; line-height: 1.8; font-size: 16px; text-align: left;">
                        
                        <h3 style="color: #667eea; margin-top: 25px; margin-bottom: 15px; font-size: 18px; font-weight: 600;">áƒ áƒáƒ¡ áƒ•áƒ˜áƒœáƒáƒ®áƒáƒ•áƒ—?</h3>
                        <ul style="padding-left: 25px; margin-bottom: 20px;">
                            <li style="margin-bottom: 8px;">áƒ¨áƒ”áƒ›áƒáƒ¬áƒ›áƒ”áƒ‘áƒ˜áƒ¡ áƒ˜áƒ¡áƒ¢áƒáƒ áƒ˜áƒ</li>
                            <li style="margin-bottom: 8px;">áƒ¢áƒ áƒ˜áƒ’áƒ”áƒ áƒ”áƒ‘áƒ˜ áƒ“áƒ áƒ›áƒáƒ¢áƒ˜áƒ•áƒáƒªáƒ˜áƒ”áƒ‘áƒ˜</li>
                            <li style="margin-bottom: 8px;">áƒ”áƒ›áƒáƒªáƒ˜áƒ£áƒ áƒ˜ áƒ›áƒ“áƒ’áƒáƒ›áƒáƒ áƒ”áƒáƒ‘áƒ</li>
                            <li style="margin-bottom: 8px;">SOS áƒáƒ–áƒ áƒ”áƒ‘áƒ˜ áƒ“áƒ áƒ’áƒáƒ›áƒáƒ¡áƒáƒ•áƒáƒšáƒ˜ áƒ’áƒ–áƒ”áƒ‘áƒ˜</li>
                        </ul>
                        
                        <h3 style="color: #667eea; margin-top: 25px; margin-bottom: 15px; font-size: 18px; font-weight: 600;">áƒ¡áƒáƒ“ áƒ˜áƒœáƒáƒ®áƒ”áƒ‘áƒ?</h3>
                        <p style="margin-bottom: 20px;">
                            áƒ›áƒ®áƒáƒšáƒáƒ“ áƒ¨áƒ”áƒœáƒ¡ áƒ›áƒáƒ¬áƒ§áƒáƒ‘áƒ˜áƒšáƒáƒ‘áƒáƒ–áƒ” (áƒšáƒáƒ™áƒáƒšáƒ£áƒ áƒáƒ“).<br>
                            áƒáƒ áƒáƒ¤áƒ”áƒ áƒ˜ áƒáƒ  áƒ˜áƒ’áƒ–áƒáƒ•áƒœáƒ”áƒ‘áƒ áƒ¡áƒ”áƒ áƒ•áƒ”áƒ áƒ–áƒ”.
                        </p>
                        
                        <h3 style="color: #667eea; margin-top: 25px; margin-bottom: 15px; font-size: 18px; font-weight: 600;">áƒ áƒáƒ¡ áƒáƒ  áƒ•áƒáƒ’áƒ áƒáƒ•áƒ”áƒ‘áƒ—?</h3>
                        <ul style="padding-left: 25px; margin-bottom: 20px;">
                            <li style="margin-bottom: 8px;">áƒ¡áƒáƒ®áƒ”áƒšáƒ˜, áƒ’áƒ•áƒáƒ áƒ˜, áƒ”áƒšáƒ¤áƒáƒ¡áƒ¢áƒ</li>
                            <li style="margin-bottom: 8px;">áƒ¢áƒ”áƒšáƒ”áƒ¤áƒáƒœáƒ˜, áƒ›áƒ˜áƒ¡áƒáƒ›áƒáƒ áƒ—áƒ˜</li>
                            <li style="margin-bottom: 8px;">áƒšáƒáƒ™áƒáƒªáƒ˜áƒ, IP áƒ›áƒ˜áƒ¡áƒáƒ›áƒáƒ áƒ—áƒ˜</li>
                            <li style="margin-bottom: 8px;">áƒ¤áƒáƒ¢áƒáƒ”áƒ‘áƒ˜, áƒ™áƒáƒœáƒ¢áƒáƒ¥áƒ¢áƒ”áƒ‘áƒ˜</li>
                        </ul>
                        
                        <h3 style="color: #667eea; margin-top: 25px; margin-bottom: 15px; font-size: 18px; font-weight: 600;">áƒáƒœáƒáƒœáƒ˜áƒ›áƒ£áƒ áƒ˜ áƒ¡áƒ¢áƒáƒ¢áƒ˜áƒ¡áƒ¢áƒ˜áƒ™áƒ</h3>
                        <p style="margin-bottom: 15px;">
                            áƒ›áƒ®áƒáƒšáƒáƒ“ áƒ—áƒ£ áƒ“áƒáƒ”áƒ—áƒáƒœáƒ®áƒ›áƒ”áƒ‘áƒ˜, áƒ¨áƒ”áƒ˜áƒ«áƒšáƒ”áƒ‘áƒ:
                        </p>
                        <ul style="padding-left: 25px; margin-bottom: 20px;">
                            <li style="margin-bottom: 8px;">áƒ áƒáƒ›áƒ“áƒ”áƒœáƒ¯áƒ”áƒ  áƒ’áƒáƒ›áƒáƒ˜áƒ§áƒ”áƒœáƒ”áƒ‘áƒ áƒáƒáƒ˜ (áƒ áƒáƒáƒ“áƒ”áƒœáƒáƒ‘áƒ)</li>
                            <li style="margin-bottom: 8px;">áƒ áƒáƒ›áƒ”áƒšáƒ˜ áƒ¤áƒ£áƒœáƒ¥áƒªáƒ˜áƒ”áƒ‘áƒ˜áƒ áƒáƒáƒáƒ£áƒšáƒáƒ áƒ£áƒšáƒ˜</li>
                            <li style="margin-bottom: 8px;">áƒáƒ áƒáƒ¡áƒáƒ“áƒ”áƒ¡ áƒáƒ˜áƒ áƒáƒ“áƒ˜ áƒ˜áƒœáƒ¤áƒáƒ áƒ›áƒáƒªáƒ˜áƒ</li>
                        </ul>
                        <p style="margin-bottom: 20px;">
                            áƒáƒ› áƒ›áƒáƒœáƒáƒªáƒ”áƒ›áƒ”áƒ‘áƒ¡ áƒ•áƒ˜áƒ§áƒ”áƒœáƒ”áƒ‘áƒ— áƒáƒáƒ˜áƒ¡ áƒ’áƒáƒ¡áƒáƒ£áƒ›áƒ¯áƒáƒ‘áƒ”áƒ¡áƒ”áƒ‘áƒšáƒáƒ“ 
                            áƒ“áƒ áƒ£áƒ™áƒ”áƒ—áƒ”áƒ¡áƒ˜ áƒ¤áƒ£áƒœáƒ¥áƒªáƒ˜áƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒ¡áƒáƒ¥áƒ›áƒœáƒ”áƒšáƒáƒ“.
                        </p>
                        
                        <h3 style="color: #667eea; margin-top: 25px; margin-bottom: 15px; font-size: 18px; font-weight: 600;">18+ áƒáƒ¡áƒáƒ™áƒ˜áƒ¡ áƒ›áƒáƒ—áƒ®áƒáƒ•áƒœáƒ</h3>
                        <p style="margin-bottom: 30px;">
                            áƒ”áƒ¡ áƒáƒáƒ˜ áƒ’áƒáƒœáƒ™áƒ£áƒ—áƒ•áƒœáƒ˜áƒšáƒ˜áƒ áƒ›áƒ®áƒáƒšáƒáƒ“ áƒ¡áƒ áƒ£áƒšáƒ¬áƒšáƒáƒ•áƒáƒœáƒ˜ 
                            áƒáƒ“áƒáƒ›áƒ˜áƒáƒœáƒ”áƒ‘áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡ (18 áƒ¬áƒ”áƒšáƒ˜ áƒ“áƒ áƒ–áƒ”áƒ›áƒáƒ—).
                        </p>
                        
                    </div>
                    
                    <!-- Back Button -->
                    <button onclick="closePrivacyPolicy()" 
                            style="width: 100%; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; padding: 18px; border-radius: 12px; cursor: pointer; font-weight: 600; font-size: 17px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">
                        â† áƒ£áƒ™áƒáƒœ
                    </button>
                    
                </div>
            </div>
            
            <!-- Privacy Declined Modal -->
            <div id="privacyDeclinedModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); z-index: 10002;">
                <div style="background: white; max-width: 500px; margin: 100px auto; border-radius: 16px; padding: 40px 30px; text-align: center;">
                    
                    <div style="font-size: 60px; margin-bottom: 20px;">âš ï¸</div>
                    
                    <h2 style="color: #333; margin-bottom: 25px; font-size: 22px; font-weight: 700;">áƒ’áƒáƒ›áƒáƒ§áƒ”áƒœáƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒ’áƒ áƒ«áƒ”áƒšáƒ”áƒ‘áƒ áƒ¨áƒ”áƒ£áƒ«áƒšáƒ”áƒ‘áƒ”áƒšáƒ˜áƒ</h2>
                    
                    <p style="color: #555; line-height: 1.8; font-size: 16px; margin-bottom: 30px;">
                        áƒ”áƒ¡ áƒáƒáƒ˜ áƒ¡áƒáƒ­áƒ˜áƒ áƒáƒ”áƒ‘áƒ¡ áƒ¨áƒ”áƒœáƒ¡ áƒ—áƒáƒœáƒ®áƒ›áƒáƒ‘áƒáƒ¡ 
                        áƒ™áƒáƒœáƒ¤áƒ˜áƒ“áƒ”áƒœáƒªáƒ˜áƒáƒšáƒ£áƒ áƒáƒ‘áƒ˜áƒ¡ áƒáƒáƒšáƒ˜áƒ¢áƒ˜áƒ™áƒáƒ¡áƒ—áƒáƒœ.
                    </p>
                    
                    <button onclick="retryPrivacy()" 
                            style="width: 100%; background: linear-gradient(135deg, #14b8a6 0%, #8b5cf6 100%); color: white; border: none; padding: 18px; border-radius: 12px; cursor: pointer; font-weight: 600; font-size: 17px; box-shadow: 0 4px 12px rgba(20,184,166,0.4);">
                        áƒ™áƒ˜áƒ“áƒ”áƒ• áƒ”áƒ áƒ—áƒ®áƒ”áƒš áƒ•áƒªáƒáƒ“áƒ
                    </button>
                    
                </div>
            </div>
            
</body>
</html>
